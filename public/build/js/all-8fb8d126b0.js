!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=oe.type(e);return"function"===i||oe.isWindow(e)?!1:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,i){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==i});if(t.nodeType)return oe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,i);t=oe.filter(t,e)}return oe.grep(e,function(e){return Q.call(t,e)>-1!==i})}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(ye)||[],function(e,i){t[i]=!0}),t}function n(){K.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),oe.ready()}function a(){this.expando=oe.expando+a.uid++}function l(e,t,i){var r;if(void 0===i&&1===e.nodeType)if(r="data-"+t.replace(Se,"-$&").toLowerCase(),i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ke.test(i)?oe.parseJSON(i):i}catch(s){}Ce.set(e,t,i)}else i=void 0;return i}function d(e,t,i,r){var s,o=1,n=20,a=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},l=a(),d=i&&i[3]||(oe.cssNumber[t]?"":"px"),h=(oe.cssNumber[t]||"px"!==d&&+l)&&Ie.exec(oe.css(e,t));if(h&&h[3]!==d){d=d||h[3],i=i||[],h=+l||1;do o=o||".5",h/=o,oe.style(e,t,h+d);while(o!==(o=a()/l)&&1!==o&&--n)}return i&&(h=+h||+l||0,s=i[1]?h+(i[1]+1)*i[2]:+i[2],r&&(r.unit=d,r.start=h,r.end=s)),s}function h(e,t){var i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],i):i}function c(e,t){for(var i=0,r=e.length;r>i;i++)Te.set(e[i],"globalEval",!t||Te.get(t[i],"globalEval"))}function u(e,t,i,r,s){for(var o,n,a,l,d,u,p=t.createDocumentFragment(),f=[],m=0,g=e.length;g>m;m++)if(o=e[m],o||0===o)if("object"===oe.type(o))oe.merge(f,o.nodeType?[o]:o);else if(Ee.test(o)){for(n=n||p.appendChild(t.createElement("div")),a=(Me.exec(o)||["",""])[1].toLowerCase(),l=ze[a]||ze._default,n.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],u=l[0];u--;)n=n.lastChild;oe.merge(f,n.childNodes),n=p.firstChild,n.textContent=""}else f.push(t.createTextNode(o));for(p.textContent="",m=0;o=f[m++];)if(r&&oe.inArray(o,r)>-1)s&&s.push(o);else if(d=oe.contains(o.ownerDocument,o),n=h(p.appendChild(o),"script"),d&&c(n),i)for(u=0;o=n[u++];)He.test(o.type||"")&&i.push(o);return p}function p(){return!0}function f(){return!1}function m(){try{return K.activeElement}catch(e){}}function g(e,t,i,r,s,o){var n,a;if("object"==typeof t){"string"!=typeof i&&(r=r||i,i=void 0);for(a in t)g(e,a,i,r,t[a],o);return e}if(null==r&&null==s?(s=i,r=i=void 0):null==s&&("string"==typeof i?(s=r,r=void 0):(s=r,r=i,i=void 0)),s===!1)s=f;else if(!s)return e;return 1===o&&(n=s,s=function(e){return oe().off(e),n.apply(this,arguments)},s.guid=n.guid||(n.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,s,r,i)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function w(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var i,r,s,o,n,a,l,d;if(1===t.nodeType){if(Te.hasData(e)&&(o=Te.access(e),n=Te.set(t,o),d=o.events)){delete n.handle,n.events={};for(s in d)for(i=0,r=d[s].length;r>i;i++)oe.event.add(t,s,d[s][i])}Ce.hasData(e)&&(a=Ce.access(e),l=oe.extend({},a),Ce.set(t,l))}}function y(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Be.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function _(e,t,i,r){t=Z.apply([],t);var s,o,n,a,l,d,c=0,p=e.length,f=p-1,m=t[0],g=oe.isFunction(m);if(g||p>1&&"string"==typeof m&&!re.checkClone&&We.test(m))return e.each(function(s){var o=e.eq(s);g&&(t[0]=m.call(this,s,o.html())),_(o,t,i,r)});if(p&&(s=u(t,e[0].ownerDocument,!1,e,r),o=s.firstChild,1===s.childNodes.length&&(s=o),o||r)){for(n=oe.map(h(s,"script"),x),a=n.length;p>c;c++)l=s,c!==f&&(l=oe.clone(l,!0,!0),a&&oe.merge(n,h(l,"script"))),i.call(e[c],l,c);if(a)for(d=n[n.length-1].ownerDocument,oe.map(n,w),c=0;a>c;c++)l=n[c],He.test(l.type||"")&&!Te.access(l,"globalEval")&&oe.contains(d,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(Ge,"")))}return e}function j(e,t,i){for(var r,s=t?oe.filter(t,e):e,o=0;null!=(r=s[o]);o++)i||1!==r.nodeType||oe.cleanData(h(r)),r.parentNode&&(i&&oe.contains(r.ownerDocument,r)&&c(h(r,"script")),r.parentNode.removeChild(r));return e}function q(e,t){var i=oe(t.createElement(e)).appendTo(t.body),r=oe.css(i[0],"display");return i.detach(),r}function T(e){var t=K,i=$e[e];return i||(i=q(e,t),"none"!==i&&i||(Ue=(Ue||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),i=q(e,t),Ue.detach()),$e[e]=i),i}function C(e,t,i){var r,s,o,n,a=e.style;return i=i||Xe(e),n=i?i.getPropertyValue(t)||i[t]:void 0,""!==n&&void 0!==n||oe.contains(e.ownerDocument,e)||(n=oe.style(e,t)),i&&!re.pixelMarginRight()&&Ke.test(n)&&Ye.test(t)&&(r=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=n,n=i.width,a.width=r,a.minWidth=s,a.maxWidth=o),void 0!==n?n+"":n}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=it.length;i--;)if(e=it[i]+t,e in rt)return e}function D(e,t,i){var r=Ie.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function I(e,t,i,r,s){for(var o=i===(r?"border":"content")?4:"width"===t?1:0,n=0;4>o;o+=2)"margin"===i&&(n+=oe.css(e,i+Pe[o],!0,s)),r?("content"===i&&(n-=oe.css(e,"padding"+Pe[o],!0,s)),"margin"!==i&&(n-=oe.css(e,"border"+Pe[o]+"Width",!0,s))):(n+=oe.css(e,"padding"+Pe[o],!0,s),"padding"!==i&&(n+=oe.css(e,"border"+Pe[o]+"Width",!0,s)));return n}function P(e,t,i){var r=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=Xe(e),n="border-box"===oe.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=C(e,t,o),(0>s||null==s)&&(s=e.style[t]),Ke.test(s))return s;r=n&&(re.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+I(e,t,i||(n?"border":"content"),r,o)+"px"}function A(e,t){for(var i,r,s,o=[],n=0,a=e.length;a>n;n++)r=e[n],r.style&&(o[n]=Te.get(r,"olddisplay"),i=r.style.display,t?(o[n]||"none"!==i||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[n]=Te.access(r,"olddisplay",T(r.nodeName)))):(s=Ae(r),"none"===i&&s||Te.set(r,"olddisplay",s?i:oe.css(r,"display"))));for(n=0;a>n;n++)r=e[n],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[n]||"":"none"));return e}function B(e,t,i,r,s){return new B.prototype.init(e,t,i,r,s)}function M(){return e.setTimeout(function(){st=void 0}),st=oe.now()}function H(e,t){var i,r=0,s={height:e};for(t=t?1:0;4>r;r+=2-t)i=Pe[r],s["margin"+i]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function z(e,t,i){for(var r,s=(L.tweeners[t]||[]).concat(L.tweeners["*"]),o=0,n=s.length;n>o;o++)if(r=s[o].call(i,t,e))return r}function E(e,t,i){var r,s,o,n,a,l,d,h,c=this,u={},p=e.style,f=e.nodeType&&Ae(e),m=Te.get(e,"fxshow");i.queue||(a=oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,oe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],d=oe.css(e,"display"),h="none"===d?Te.get(e,"olddisplay")||T(e.nodeName):d,"inline"===h&&"none"===oe.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(r in t)if(s=t[r],nt.exec(s)){if(delete t[r],o=o||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[r])continue;f=!0}u[r]=m&&m[r]||oe.style(e,r)}else d=void 0;if(oe.isEmptyObject(u))"inline"===("none"===d?T(e.nodeName):d)&&(p.display=d);else{m?"hidden"in m&&(f=m.hidden):m=Te.access(e,"fxshow",{}),o&&(m.hidden=!f),f?oe(e).show():c.done(function(){oe(e).hide()}),c.done(function(){var t;Te.remove(e,"fxshow");for(t in u)oe.style(e,t,u[t])});for(r in u)n=z(f?m[r]:0,r,c),r in m||(m[r]=n.start,f&&(n.end=n.start,n.start="width"===r||"height"===r?1:0))}}function O(e,t){var i,r,s,o,n;for(i in e)if(r=oe.camelCase(i),s=t[r],o=e[i],oe.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==r&&(e[r]=o,delete e[i]),n=oe.cssHooks[r],n&&"expand"in n){o=n.expand(o),delete e[r];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[r]=s}function L(e,t,i){var r,s,o=0,n=L.prefilters.length,a=oe.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=st||M(),i=Math.max(0,d.startTime+d.duration-t),r=i/d.duration||0,o=1-r,n=0,l=d.tweens.length;l>n;n++)d.tweens[n].run(o);return a.notifyWith(e,[d,o,i]),1>o&&l?i:(a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},i),originalProperties:t,originalOptions:i,startTime:st||M(),duration:i.duration,tweens:[],createTween:function(t,i){var r=oe.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(r),r},stop:function(t){var i=0,r=t?d.tweens.length:0;if(s)return this;for(s=!0;r>i;i++)d.tweens[i].run(1);return t?(a.notifyWith(e,[d,1,0]),a.resolveWith(e,[d,t])):a.rejectWith(e,[d,t]),this}}),h=d.props;for(O(h,d.opts.specialEasing);n>o;o++)if(r=L.prefilters[o].call(d,e,h,d.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(d.elem,d.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(h,z,d),oe.isFunction(d.opts.start)&&d.opts.start.call(e,d),oe.fx.timer(oe.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function N(e){return e.getAttribute&&e.getAttribute("class")||""}function F(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,s=0,o=t.toLowerCase().match(ye)||[];if(oe.isFunction(i))for(;r=o[s++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function R(e,t,i,r){function s(a){var l;return o[a]=!0,oe.each(e[a]||[],function(e,a){var d=a(t,i,r);return"string"!=typeof d||n||o[d]?n?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}var o={},n=e===Ct;return s(t.dataTypes[0])||!o["*"]&&s("*")}function W(e,t){var i,r,s=oe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:r||(r={}))[i]=t[i]);return r&&oe.extend(!0,e,r),e}function V(e,t,i){for(var r,s,o,n,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}n||(n=s)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function G(e,t,i,r){var s,o,n,a,l,d={},h=e.dataTypes.slice();if(h[1])for(n in e.converters)d[n.toLowerCase()]=e.converters[n];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(n=d[l+" "+o]||d["* "+o],!n)for(s in d)if(a=s.split(" "),a[1]===o&&(n=d[l+" "+a[0]]||d["* "+a[0]])){n===!0?n=d[s]:d[s]!==!0&&(o=a[0],h.unshift(a[1]));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function U(e,t,i,r){var s;if(oe.isArray(t))oe.each(t,function(t,s){i||It.test(e)?r(e,s):U(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,i,r)});else if(i||"object"!==oe.type(t))r(e,t);else for(s in t)U(e+"["+s+"]",t[s],i,r)}function $(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],K=e.document,X=Y.slice,Z=Y.concat,J=Y.push,Q=Y.indexOf,ee={},te=ee.toString,ie=ee.hasOwnProperty,re={},se="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,le=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:se,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:Y.sort,splice:Y.splice},oe.extend=oe.fn.extend=function(){var e,t,i,r,s,o,n=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof n&&(d=n,n=arguments[a]||{},a++),"object"==typeof n||oe.isFunction(n)||(n={}),a===l&&(n=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=n[t],r=e[t],n!==r&&(d&&r&&(oe.isPlainObject(r)||(s=oe.isArray(r)))?(s?(s=!1,o=i&&oe.isArray(i)?i:[]):o=i&&oe.isPlainObject(i)?i:{},n[t]=oe.extend(d,o,r)):void 0!==r&&(n[t]=r));return n},oe.extend({expando:"jQuery"+(se+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ie.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(le,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,s=0;if(i(e))for(r=e.length;r>s&&t.call(e[s],s,e[s])!==!1;s++);else for(s in e)if(t.call(e[s],s,e[s])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(i(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,i){return null==t?-1:Q.call(t,e,i)},merge:function(e,t){for(var i=+t.length,r=0,s=e.length;i>r;r++)e[s++]=t[r];return e.length=s,e},grep:function(e,t,i){for(var r,s=[],o=0,n=e.length,a=!i;n>o;o++)r=!t(e[o],o),r!==a&&s.push(e[o]);return s},map:function(e,t,r){var s,o,n=0,a=[];if(i(e))for(s=e.length;s>n;n++)o=t(e[n],n,r),null!=o&&a.push(o);else for(n in e)o=t(e[n],n,r),null!=o&&a.push(o);return Z.apply([],a)},guid:1,proxy:function(e,t){var i,r,s;return"string"==typeof t&&(i=e[t],t=e,e=i),oe.isFunction(e)?(r=X.call(arguments,2),s=function(){return e.apply(t||this,r.concat(X.call(arguments)))},s.guid=e.guid=e.guid||oe.guid++,s):void 0},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=Y[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var he=function(e){function t(e,t,i,r){var s,o,n,a,l,d,c,p,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i;if(!r&&((t?t.ownerDocument||t:N)!==A&&P(t),t=t||A,M)){if(11!==m&&(d=ve.exec(e)))if(s=d[1]){if(9===m){if(!(n=t.getElementById(s)))return i;if(n.id===s)return i.push(n),i}else if(f&&(n=f.getElementById(s))&&O(t,n)&&n.id===s)return i.push(n),i}else{if(d[2])return J.apply(i,t.getElementsByTagName(e)),i;if((s=d[3])&&y.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(s)),i}if(y.qsa&&!G[e+" "]&&(!H||!H.test(e))){if(1!==m)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(we,"\\$&"):t.setAttribute("id",a=L),c=T(e),o=c.length,l=ue.test(a)?"#"+a:"[id='"+a+"']";o--;)c[o]=l+" "+u(c[o]);p=c.join(","),f=xe.test(e)&&h(t.parentNode)||t}if(p)try{return J.apply(i,f.querySelectorAll(p)),i}catch(g){}finally{a===L&&t.removeAttribute("id")}}}return k(e.replace(ae,"$1"),t,i,r)}function i(){function e(i,r){return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=r}var t=[];return e}function r(e){return e[L]=!0,e}function s(e){var t=A.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),r=i.length;r--;)_.attrHandle[i[r]]=t}function n(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return r(function(t){return t=+t,r(function(i,r){for(var s,o=e([],i.length,t),n=o.length;n--;)i[s=o[n]]&&(i[s]=!(r[s]=i[s]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function u(e){for(var t=0,i=e.length,r="";i>t;t++)r+=e[t].value;return r}function p(e,t,i){var r=t.dir,s=i&&"parentNode"===r,o=R++;return t.first?function(t,i,o){for(;t=t[r];)if(1===t.nodeType||s)return e(t,i,o)}:function(t,i,n){var a,l,d,h=[F,o];if(n){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,i,n))return!0}else for(;t=t[r];)if(1===t.nodeType||s){if(d=t[L]||(t[L]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),(a=l[r])&&a[0]===F&&a[1]===o)return h[2]=a[2];if(l[r]=h,h[2]=e(t,i,n))return!0}}}function f(e){return e.length>1?function(t,i,r){for(var s=e.length;s--;)if(!e[s](t,i,r))return!1;return!0}:e[0]}function m(e,i,r){for(var s=0,o=i.length;o>s;s++)t(e,i[s],r);return r}function g(e,t,i,r,s){for(var o,n=[],a=0,l=e.length,d=null!=t;l>a;a++)(o=e[a])&&(i&&!i(o,r,s)||(n.push(o),d&&t.push(a)));return n}function v(e,t,i,s,o,n){return s&&!s[L]&&(s=v(s)),o&&!o[L]&&(o=v(o,n)),r(function(r,n,a,l){var d,h,c,u=[],p=[],f=n.length,v=r||m(t||"*",a.nodeType?[a]:a,[]),x=!e||!r&&t?v:g(v,u,e,a,l),w=i?o||(r?e:f||s)?[]:n:x;if(i&&i(x,w,a,l),s)for(d=g(w,p),s(d,[],a,l),h=d.length;h--;)(c=d[h])&&(w[p[h]]=!(x[p[h]]=c));if(r){if(o||e){if(o){for(d=[],h=w.length;h--;)(c=w[h])&&d.push(x[h]=c);o(null,w=[],d,l)}for(h=w.length;h--;)(c=w[h])&&(d=o?ee(r,c):u[h])>-1&&(r[d]=!(n[d]=c))}}else w=g(w===n?w.splice(f,w.length):w),o?o(null,n,w,l):J.apply(n,w)})}function x(e){for(var t,i,r,s=e.length,o=_.relative[e[0].type],n=o||_.relative[" "],a=o?1:0,l=p(function(e){return e===t},n,!0),d=p(function(e){return ee(t,e)>-1},n,!0),h=[function(e,i,r){var s=!o&&(r||i!==S)||((t=i).nodeType?l(e,i,r):d(e,i,r));return t=null,s}];s>a;a++)if(i=_.relative[e[a].type])h=[p(f(h),i)];else{if(i=_.filter[e[a].type].apply(null,e[a].matches),i[L]){for(r=++a;s>r&&!_.relative[e[r].type];r++);return v(a>1&&f(h),a>1&&u(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),i,r>a&&x(e.slice(a,r)),s>r&&x(e=e.slice(r)),s>r&&u(e))}h.push(i)}return f(h)}function w(e,i){var s=i.length>0,o=e.length>0,n=function(r,n,a,l,d){var h,c,u,p=0,f="0",m=r&&[],v=[],x=S,w=r||o&&_.find.TAG("*",d),b=F+=null==x?1:Math.random()||.1,y=w.length;for(d&&(S=n===A||n||d);f!==y&&null!=(h=w[f]);f++){if(o&&h){for(c=0,n||h.ownerDocument===A||(P(h),a=!M);u=e[c++];)if(u(h,n||A,a)){l.push(h);break}d&&(F=b)}s&&((h=!u&&h)&&p--,r&&m.push(h))}if(p+=f,s&&f!==p){for(c=0;u=i[c++];)u(m,v,n,a);if(r){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}J.apply(l,v),d&&!r&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return d&&(F=b,S=x),m};return s?r(n):n}var b,y,_,j,q,T,C,k,S,D,I,P,A,B,M,H,z,E,O,L="sizzle"+1*new Date,N=e.document,F=0,R=0,W=i(),V=i(),G=i(),U=function(e,t){return e===t&&(I=!0),0},$=1<<31,Y={}.hasOwnProperty,K=[],X=K.pop,Z=K.push,J=K.push,Q=K.slice,ee=function(e,t){for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se="\\["+ie+"*("+re+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",ne=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),he=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ce=new RegExp(oe),ue=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,we=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ye=function(e,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_e=function(){P()};try{J.apply(K=Q.call(N.childNodes),N.childNodes),K[N.childNodes.length].nodeType}catch(je){J={apply:K.length?function(e,t){Z.apply(e,Q.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}y=t.support={},q=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,i,r=e?e.ownerDocument||e:N;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,B=A.documentElement,M=!q(A),(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),y.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=s(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=ge.test(A.getElementsByClassName),y.getById=s(function(e){return B.appendChild(e).id=L,!A.getElementsByName||!A.getElementsByName(L).length}),y.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var i=t.getElementById(e);return i?[i]:[]}},_.filter.ID=function(e){var t=e.replace(be,ye);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(be,ye);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),_.find.TAG=y.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,r=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&r.push(i);return r}return o},_.find.CLASS=y.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&M?t.getElementsByClassName(e):void 0},z=[],H=[],(y.qsa=ge.test(A.querySelectorAll))&&(s(function(e){B.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+L+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||H.push(".#.+[+~]")}),s(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(y.matchesSelector=ge.test(E=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&s(function(e){y.disconnectedMatch=E.call(e,"div"),E.call(e,"[s!='']:x"),z.push("!=",oe)}),H=H.length&&new RegExp(H.join("|")),z=z.length&&new RegExp(z.join("|")),t=ge.test(B.compareDocumentPosition),O=t||ge.test(B.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return I=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===A||e.ownerDocument===N&&O(N,e)?-1:t===A||t.ownerDocument===N&&O(N,t)?1:D?ee(D,e)-ee(D,t):0:4&i?-1:1)}:function(e,t){if(e===t)return I=!0,0;var i,r=0,s=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!s||!o)return e===A?-1:t===A?1:s?-1:o?1:D?ee(D,e)-ee(D,t):0;if(s===o)return n(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[r]===l[r];)r++;return r?n(a[r],l[r]):a[r]===N?-1:l[r]===N?1:0},A):A},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==A&&P(e),i=i.replace(he,"='$1']"),y.matchesSelector&&M&&!G[i+" "]&&(!z||!z.test(i))&&(!H||!H.test(i)))try{var r=E.call(e,i);if(r||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(s){}return t(i,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&P(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&P(e);var i=_.attrHandle[t.toLowerCase()],r=i&&Y.call(_.attrHandle,t.toLowerCase())?i(e,t,!M):void 0;return void 0!==r?r:y.attributes||!M?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],r=0,s=0;if(I=!y.detectDuplicates,D=!y.sortStable&&e.slice(0),e.sort(U),I){for(;t=e[s++];)t===e[s]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return D=null,e},j=t.getText=function(e){var t,i="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=j(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r++];)i+=j(t);return i},_=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(be,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(s){var o=t.attr(s,e);return null==o?"!="===i:i?(o+="","="===i?o===r:"!="===i?o!==r:"^="===i?r&&0===o.indexOf(r):"*="===i?r&&o.indexOf(r)>-1:"$="===i?r&&o.slice(-r.length)===r:"~="===i?(" "+o.replace(ne," ")+" ").indexOf(r)>-1:"|="===i?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,i,r,s){var o="nth"!==e.slice(0,3),n="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var d,h,c,u,p,f,m=o!==n?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),x=!l&&!a,w=!1;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[n?g.firstChild:g.lastChild],n&&x){for(u=g,c=u[L]||(u[L]={}),h=c[u.uniqueID]||(c[u.uniqueID]={}),d=h[e]||[],p=d[0]===F&&d[1],w=p&&d[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(w=p=0)||f.pop();)if(1===u.nodeType&&++w&&u===t){h[e]=[F,p,w];break}}else if(x&&(u=t,c=u[L]||(u[L]={}),h=c[u.uniqueID]||(c[u.uniqueID]={}),d=h[e]||[],p=d[0]===F&&d[1],w=p),w===!1)for(;(u=++p&&u&&u[m]||(w=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++w||(x&&(c=u[L]||(u[L]={}),h=c[u.uniqueID]||(c[u.uniqueID]={}),h[e]=[F,w]),u!==t)););return w-=s,w===r||w%r===0&&w/r>=0}}},PSEUDO:function(e,i){var s,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[L]?o(i):o.length>1?(s=[e,e,"",i],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,s=o(e,i),n=s.length;n--;)r=ee(e,s[n]),e[r]=!(t[r]=s[n])}):function(e){return o(e,0,s)}):o}},pseudos:{not:r(function(e){var t=[],i=[],s=C(e.replace(ae,"$1"));return s[L]?r(function(e,t,i,r){for(var o,n=s(e,null,r,[]),a=e.length;a--;)(o=n[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,s(t,null,o,i),t[0]=null,!i.pop()}}),has:r(function(e){return function(i){return t(e,i).length>0}}),contains:r(function(e){return e=e.replace(be,ye),function(t){return(t.textContent||t.innerText||j(t)).indexOf(e)>-1}}),lang:r(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,ye).toLowerCase(),function(t){var i;do if(i=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===B},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){
for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var r=0>i?i+t:i;--r>=0;)e.push(r);return e}),gt:d(function(e,t,i){for(var r=0>i?i+t:i;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=l(b);return c.prototype=_.filters=_.pseudos,_.setFilters=new c,T=t.tokenize=function(e,i){var r,s,o,n,a,l,d,h=V[e+" "];if(h)return i?0:h.slice(0);for(a=e,l=[],d=_.preFilter;a;){r&&!(s=le.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),r=!1,(s=de.exec(a))&&(r=s.shift(),o.push({value:r,type:s[0].replace(ae," ")}),a=a.slice(r.length));for(n in _.filter)!(s=pe[n].exec(a))||d[n]&&!(s=d[n](s))||(r=s.shift(),o.push({value:r,type:n,matches:s}),a=a.slice(r.length));if(!r)break}return i?a.length:a?t.error(e):V(e,l).slice(0)},C=t.compile=function(e,t){var i,r=[],s=[],o=G[e+" "];if(!o){for(t||(t=T(e)),i=t.length;i--;)o=x(t[i]),o[L]?r.push(o):s.push(o);o=G(e,w(s,r)),o.selector=e}return o},k=t.select=function(e,t,i,r){var s,o,n,a,l,d="function"==typeof e&&e,c=!r&&T(e=d.selector||e);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(n=o[0]).type&&y.getById&&9===t.nodeType&&M&&_.relative[o[1].type]){if(t=(_.find.ID(n.matches[0].replace(be,ye),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(s=pe.needsContext.test(e)?0:o.length;s--&&(n=o[s],!_.relative[a=n.type]);)if((l=_.find[a])&&(r=l(n.matches[0].replace(be,ye),xe.test(o[0].type)&&h(t.parentNode)||t))){if(o.splice(s,1),e=r.length&&u(o),!e)return J.apply(i,r),i;break}}return(d||C(e,c))(r,t,!M,i,!t||xe.test(e)&&h(t.parentNode)||t),i},y.sortStable=L.split("").sort(U).join("")===L,y.detectDuplicates=!!I,P(),y.sortDetached=s(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,i){var r;return i?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=he,oe.expr=he.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=he.uniqueSort,oe.text=he.getText,oe.isXMLDoc=he.isXML,oe.contains=he.contains;var ce=function(e,t,i){for(var r=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&oe(e).is(i))break;r.push(e)}return r},ue=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},pe=oe.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=this.length,r=[],s=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;i>t;t++)if(oe.contains(s[t],this))return!0}));for(t=0;i>t;t++)oe.find(e,s[t],r);return r=this.pushStack(i>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&pe.test(e)?oe(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,xe=oe.fn.init=function(e,t,i){var r,s;if(!e)return this;if(i=i||ge,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),fe.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return s=K.getElementById(r[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==i.ready?i.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};xe.prototype=oe.fn,ge=oe(K);var we=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,r=0,s=this.length,o=[],n=pe.test(e)||"string"!=typeof e?oe(e,t||this.context):0;s>r;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(n?n.index(i)>-1:1===i.nodeType&&oe.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Q.call(oe(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ce(e,"parentNode")},parentsUntil:function(e,t,i){return ce(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ce(e,"nextSibling")},prevAll:function(e){return ce(e,"previousSibling")},nextUntil:function(e,t,i){return ce(e,"nextSibling",i)},prevUntil:function(e,t,i){return ce(e,"previousSibling",i)},siblings:function(e){return ue((e.parentNode||{}).firstChild,e)},children:function(e){return ue(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(i,r){var s=oe.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(s=oe.filter(r,s)),this.length>1&&(be[e]||oe.uniqueSort(s),we.test(e)&&s.reverse()),this.pushStack(s)}});var ye=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,i,r,s,n=[],a=[],l=-1,d=function(){for(s=e.once,r=t=!0;a.length;l=-1)for(i=a.shift();++l<n.length;)n[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=n.length,i=!1);e.memory||(i=!1),t=!1,s&&(n=i?[]:"")},h={add:function(){return n&&(i&&!t&&(l=n.length-1,a.push(i)),function r(t){oe.each(t,function(t,i){oe.isFunction(i)?e.unique&&h.has(i)||n.push(i):i&&i.length&&"string"!==oe.type(i)&&r(i)})}(arguments),i&&!t&&d()),this},remove:function(){return oe.each(arguments,function(e,t){for(var i;(i=oe.inArray(t,n,i))>-1;)n.splice(i,1),l>=i&&l--}),this},has:function(e){return e?oe.inArray(e,n)>-1:n.length>0},empty:function(){return n&&(n=[]),this},disable:function(){return s=a=[],n=i="",this},disabled:function(){return!n},lock:function(){return s=a=[],i||(n=i=""),this},locked:function(){return!!s},fireWith:function(e,i){return s||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||d()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(i){oe.each(t,function(t,o){var n=oe.isFunction(e[t])&&e[t];s[o[1]](function(){var e=n&&n.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===r?i.promise():this,n?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},s={};return r.pipe=r.then,oe.each(t,function(e,o){var n=o[2],a=o[3];r[o[1]]=n.add,a&&n.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?r:this,arguments),this},s[o[0]+"With"]=n.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,r,s=0,o=X.call(arguments),n=o.length,a=1!==n||e&&oe.isFunction(e.promise)?n:0,l=1===a?e:oe.Deferred(),d=function(e,i,r){return function(s){i[e]=this,r[e]=arguments.length>1?X.call(arguments):s,r===t?l.notifyWith(i,r):--a||l.resolveWith(i,r)}};if(n>1)for(t=new Array(n),i=new Array(n),r=new Array(n);n>s;s++)o[s]&&oe.isFunction(o[s].promise)?o[s].promise().progress(d(s,i,t)).done(d(s,r,o)).fail(l.reject):--a;return a||l.resolveWith(r,o),l.promise()}});var _e;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(_e.resolveWith(K,[oe]),oe.fn.triggerHandler&&(oe(K).triggerHandler("ready"),oe(K).off("ready"))))}}),oe.ready.promise=function(t){return _e||(_e=oe.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?e.setTimeout(oe.ready):(K.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))),_e.promise(t)},oe.ready.promise();var je=function(e,t,i,r,s,o,n){var a=0,l=e.length,d=null==i;if("object"===oe.type(i)){s=!0;for(a in i)je(e,t,a,i[a],!0,o,n)}else if(void 0!==r&&(s=!0,oe.isFunction(r)||(n=!0),d&&(n?(t.call(e,r),t=null):(d=t,t=function(e,t,i){return d.call(oe(e),i)})),t))for(;l>a;a++)t(e[a],i,n?r:r.call(e[a],a,t(e[a],i)));return s?e:d?t.call(e):l?t(e[0],i):o},qe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var i=t||{};return e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!qe(e))return{};var t=e[this.expando];return t||(t={},qe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var r,s=this.cache(e);if("string"==typeof t)s[t]=i;else for(r in t)s[r]=t[r];return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,i){var r;return void 0===t||t&&"string"==typeof t&&void 0===i?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,r,s,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(s=oe.camelCase(t),t in o?r=[t,s]:(r=s,r=r in o?[r]:r.match(ye)||[])),i=r.length;for(;i--;)delete o[r[i]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var Te=new a,Ce=new a,ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/[A-Z]/g;oe.extend({hasData:function(e){return Ce.hasData(e)||Te.hasData(e)},data:function(e,t,i){return Ce.access(e,t,i)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,i){return Te.access(e,t,i)},_removeData:function(e,t){Te.remove(e,t)}}),oe.fn.extend({data:function(e,t){var i,r,s,o=this[0],n=o&&o.attributes;if(void 0===e){if(this.length&&(s=Ce.get(o),1===o.nodeType&&!Te.get(o,"hasDataAttrs"))){for(i=n.length;i--;)n[i]&&(r=n[i].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),l(o,r,s[r])));Te.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):je(this,function(t){var i,r;if(o&&void 0===t){if(i=Ce.get(o,e)||Ce.get(o,e.replace(Se,"-$&").toLowerCase()),void 0!==i)return i;if(r=oe.camelCase(e),i=Ce.get(o,r),void 0!==i)return i;if(i=l(o,r,void 0),void 0!==i)return i}else r=oe.camelCase(e),this.each(function(){var i=Ce.get(this,r);Ce.set(this,r,t),e.indexOf("-")>-1&&void 0!==i&&Ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}}),oe.extend({queue:function(e,t,i){var r;return e?(t=(t||"fx")+"queue",r=Te.get(e,t),i&&(!r||oe.isArray(i)?r=Te.access(e,t,oe.makeArray(i)):r.push(i)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),r=i.length,s=i.shift(),o=oe._queueHooks(e,t),n=function(){oe.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),r--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,n,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Te.get(e,i)||Te.access(e,i,{empty:oe.Callbacks("once memory").add(function(){Te.remove(e,[t+"queue",i])})})}}),oe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?oe.queue(this[0],e):void 0===t?this:this.each(function(){var i=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,s=oe.Deferred(),o=this,n=this.length,a=function(){--r||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";n--;)i=Te.get(o[n],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(a));return a(),s.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),Pe=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Be=/^(?:checkbox|radio)$/i,Me=/<([\w:-]+)/,He=/^$|\/(?:java|ecma)script/i,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td;var Ee=/<|&#?\w+;/;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),i=K.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Oe=/^key/,Le=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ne=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,i,r,s){var o,n,a,l,d,h,c,u,p,f,m,g=Te.get(e);if(g)for(i.handler&&(o=i,i=o.handler,s=o.selector),i.guid||(i.guid=oe.guid++),(l=g.events)||(l=g.events={}),(n=g.handle)||(n=g.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ye)||[""],d=t.length;d--;)a=Ne.exec(t[d])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(c=oe.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=oe.event.special[p]||{},h=oe.extend({type:p,origType:m,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&oe.expr.match.needsContext.test(s),namespace:f.join(".")},o),(u=l[p])||(u=l[p]=[],u.delegateCount=0,c.setup&&c.setup.call(e,r,f,n)!==!1||e.addEventListener&&e.addEventListener(p,n)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,h):u.push(h),oe.event.global[p]=!0)},remove:function(e,t,i,r,s){var o,n,a,l,d,h,c,u,p,f,m,g=Te.hasData(e)&&Te.get(e);if(g&&(l=g.events)){for(t=(t||"").match(ye)||[""],d=t.length;d--;)if(a=Ne.exec(t[d])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(c=oe.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,u=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),n=o=u.length;o--;)h=u[o],!s&&m!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(u.splice(o,1),h.selector&&u.delegateCount--,c.remove&&c.remove.call(e,h));n&&!u.length&&(c.teardown&&c.teardown.call(e,f,g.handle)!==!1||oe.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)oe.event.remove(e,p+t[d],i,r,!0);oe.isEmptyObject(l)&&Te.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,i,r,s,o,n=[],a=X.call(arguments),l=(Te.get(this,"events")||{})[e.type]||[],d=oe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(n=oe.event.handlers.call(this,e,l),t=0;(s=n[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,r,s,o,n=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],i=0;a>i;i++)o=t[i],s=o.selector+" ",void 0===r[s]&&(r[s]=o.needsContext?oe(s,this).index(l)>-1:oe.find(s,this,null,[l]).length),r[s]&&r.push(o);r.length&&n.push({elem:l,handlers:r})}return a<t.length&&n.push({elem:this,handlers:t.slice(a)}),n},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,r,s,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||K,r=i.documentElement,s=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,i,r,s=e.type,o=e,n=this.fixHooks[s];for(n||(this.fixHooks[s]=n=Le.test(s)?this.mouseHooks:Oe.test(s)?this.keyHooks:{}),r=n.props?this.props.concat(n.props):this.props,e=new oe.Event(o),t=r.length;t--;)i=r[t],e[i]=o[i];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),n.filter?n.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:f):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,s=e.relatedTarget,o=e.handleObj;return s&&(s===r||oe.contains(r,s))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),oe.fn.extend({on:function(e,t,i,r){return g(this,e,t,i,r)},one:function(e,t,i,r){return g(this,e,t,i,r,1)},off:function(e,t,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=f),this.each(function(){oe.event.remove(this,e,i,t)})}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Re=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(Fe,"<$1></$2>")},clone:function(e,t,i){var r,s,o,n,a=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(n=h(a),o=h(e),r=0,s=o.length;s>r;r++)y(o[r],n[r]);if(t)if(i)for(o=o||h(e),n=n||h(a),r=0,s=o.length;s>r;r++)b(o[r],n[r]);else b(e,a);return n=h(a,"script"),n.length>0&&c(n,!l&&h(e,"script")),a},cleanData:function(e){for(var t,i,r,s=oe.event.special,o=0;void 0!==(i=e[o]);o++)if(qe(i)){if(t=i[Te.expando]){if(t.events)for(r in t.events)s[r]?oe.event.remove(i,r):oe.removeEvent(i,r,t.handle);i[Te.expando]=void 0}i[Ce.expando]&&(i[Ce.expando]=void 0)}}}),oe.fn.extend({domManip:_,detach:function(e){return j(this,e,!0)},remove:function(e){return j(this,e)},text:function(e){return je(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return je(this,function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!ze[(Me.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;r>i;i++)t=this[i]||{},1===t.nodeType&&(oe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var i=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(h(this)),i&&i.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var i,r=[],s=oe(e),o=s.length-1,n=0;o>=n;n++)i=n===o?this:this.clone(!0),oe(s[n])[t](i),J.apply(r,i.get());return this.pushStack(r)}});var Ue,$e={HTML:"block",BODY:"block"},Ye=/^margin/,Ke=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),Xe=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ze=function(e,t,i,r){var s,o,n={};for(o in t)n[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,r||[]);for(o in t)e.style[o]=n[o];return s},Je=K.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Je.appendChild(n);var t=e.getComputedStyle(a);i="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",s="4px"===t.marginRight,Je.removeChild(n)}var i,r,s,o,n=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===a.style.backgroundClip,n.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",n.appendChild(a),oe.extend(re,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),s},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,i=a.appendChild(K.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Je.appendChild(n),t=!parseFloat(e.getComputedStyle(i).marginRight),Je.removeChild(n),a.removeChild(i),t}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],rt=K.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=C(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,n,a=oe.camelCase(t),l=e.style;return t=oe.cssProps[a]||(oe.cssProps[a]=S(a)||a),n=oe.cssHooks[t]||oe.cssHooks[a],void 0===i?n&&"get"in n&&void 0!==(s=n.get(e,!1,r))?s:l[t]:(o=typeof i,"string"===o&&(s=Ie.exec(i))&&s[1]&&(i=d(e,t,s),o="number"),null!=i&&i===i&&("number"===o&&(i+=s&&s[3]||(oe.cssNumber[a]?"":"px")),re.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),n&&"set"in n&&void 0===(i=n.set(e,i,r))||(l[t]=i)),void 0)}},css:function(e,t,i,r){var s,o,n,a=oe.camelCase(t);return t=oe.cssProps[a]||(oe.cssProps[a]=S(a)||a),n=oe.cssHooks[t]||oe.cssHooks[a],n&&"get"in n&&(s=n.get(e,!0,i)),void 0===s&&(s=C(e,t,r)),"normal"===s&&t in tt&&(s=tt[t]),""===i||i?(o=parseFloat(s),i===!0||isFinite(o)?o||0:s):s}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,i,r){return i?Qe.test(oe.css(e,"display"))&&0===e.offsetWidth?Ze(e,et,function(){return P(e,t,r)}):P(e,t,r):void 0},set:function(e,i,r){var s,o=r&&Xe(e),n=r&&I(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return n&&(s=Ie.exec(i))&&"px"!==(s[3]||"px")&&(e.style[t]=i,i=oe.css(e,t)),D(e,i,n)}}}),oe.cssHooks.marginLeft=k(re.reliableMarginLeft,function(e,t){return t?(parseFloat(C(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=k(re.reliableMarginRight,function(e,t){return t?Ze(e,{display:"inline-block"},C,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(i){for(var r=0,s={},o="string"==typeof i?i.split(" "):[i];4>r;r++)s[e+Pe[r]+t]=o[r]||o[r-2]||o[0];return s}},Ye.test(e)||(oe.cssHooks[e+t].set=D)}),oe.fn.extend({css:function(e,t){return je(this,function(e,t,i){var r,s,o={},n=0;if(oe.isArray(t)){for(r=Xe(e),s=t.length;s>n;n++)o[t[n]]=oe.css(e,t[n],!1,r);return o}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=B,B.prototype={constructor:B,init:function(e,t,i,r,s,o){this.elem=e,this.prop=i,this.easing=s||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[i]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,i=B.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=B.prototype.init,oe.fx.step={};var st,ot,nt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;oe.Animation=oe.extend(L,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return d(i.elem,e,Ie.exec(t),i),i}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(ye);for(var i,r=0,s=e.length;s>r;r++)i=e[r],L.tweeners[i]=L.tweeners[i]||[],L.tweeners[i].unshift(t)},prefilters:[E],prefilter:function(e,t){t?L.prefilters.unshift(e):L.prefilters.push(e)}}),oe.speed=function(e,t,i){var r=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,i,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var s=oe.isEmptyObject(e),o=oe.speed(t,i,r),n=function(){var t=L(this,oe.extend({},e),o);(s||Te.get(this,"finish"))&&t.stop(!0)};return n.finish=n,s||o.queue===!1?this.each(n):this.queue(o.queue,n)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=oe.timers,n=Te.get(this);if(s)n[s]&&n[s].stop&&r(n[s]);else for(s in n)n[s]&&n[s].stop&&at.test(s)&&r(n[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(i),t=!1,o.splice(s,1));!t&&i||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=Te.get(this),r=i[e+"queue"],s=i[e+"queueHooks"],o=oe.timers,n=r?r.length:0;for(i.finish=!0,oe.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;n>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var i=oe.fn[t];oe.fn[t]=function(e,r,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(H(t,!0),e,r,s)}}),oe.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,i=oe.timers;for(st=oe.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);
i.length||oe.fx.stop(),st=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,i){return t=oe.fx?oe.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,r){var s=e.setTimeout(i,t);r.stop=function(){e.clearTimeout(s)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),i=t.appendChild(K.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=i.selected,t.disabled=!0,re.optDisabled=!i.disabled,e=K.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var lt,dt=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return je(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var r,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,i):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),s=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void oe.removeAttr(e,t):s&&"set"in s&&void 0!==(r=s.set(e,i,t))?r:(e.setAttribute(t,i+""),i):s&&"get"in s&&null!==(r=s.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,r,s=0,o=t&&t.match(ye);if(o&&1===e.nodeType)for(;i=o[s++];)r=oe.propFix[i]||i,oe.expr.match.bool.test(i)&&(e[r]=!1),e.removeAttribute(i)}}),lt={set:function(e,t,i){return t===!1?oe.removeAttr(e,i):e.setAttribute(i,i),i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=dt[t]||oe.find.attr;dt[t]=function(e,t,r){var s,o;return r||(o=dt[t],dt[t]=s,s=null!=i(e,t,r)?t.toLowerCase():null,dt[t]=o),s}});var ht=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return je(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,i){var r,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,s=oe.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(r=s.set(e,i,t))?r:e[t]=i:s&&"get"in s&&null!==(r=s.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var ut=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,i,r,s,o,n,a,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,N(this)))});if("string"==typeof e&&e)for(t=e.match(ye)||[];i=this[l++];)if(s=N(i),r=1===i.nodeType&&(" "+s+" ").replace(ut," ")){for(n=0;o=t[n++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=oe.trim(r),s!==a&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,r,s,o,n,a,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,N(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ye)||[];i=this[l++];)if(s=N(i),r=1===i.nodeType&&(" "+s+" ").replace(ut," ")){for(n=0;o=t[n++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=oe.trim(r),s!==a&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(i){oe(this).toggleClass(e.call(this,i,N(this),t),t)}):this.each(function(){var t,r,s,o;if("string"===i)for(r=0,s=oe(this),o=e.match(ye)||[];t=o[r++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==i||(t=N(this),t&&Te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Te.get(this,"__className__")||""))})},hasClass:function(e){var t,i,r=0;for(t=" "+e+" ";i=this[r++];)if(1===i.nodeType&&(" "+N(i)+" ").replace(ut," ").indexOf(t)>-1)return!0;return!1}});var pt=/\r/g,ft=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,i,r,s=this[0];{if(arguments.length)return r=oe.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=r?e.call(this,i,oe(this).val()):e,null==s?s="":"number"==typeof s?s+="":oe.isArray(s)&&(s=oe.map(s,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=oe.valHooks[s.type]||oe.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(pt,""):null==i?"":i)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,i,r=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,n=o?null:[],a=o?s+1:r.length,l=0>s?a:o?s:0;a>l;l++)if(i=r[l],(i.selected||l===s)&&(re.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),o)return t;n.push(t)}return n},set:function(e,t){for(var i,r,s=e.options,o=oe.makeArray(t),n=s.length;n--;)r=s[n],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,i,r,s){var o,n,a,l,d,h,c,u=[r||K],p=ie.call(t,"type")?t.type:t,f=ie.call(t,"namespace")?t.namespace.split("."):[];if(n=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!mt.test(p+oe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),d=p.indexOf(":")<0&&"on"+p,t=t[oe.expando]?t:new oe.Event(p,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:oe.makeArray(i,[t]),c=oe.event.special[p]||{},s||!c.trigger||c.trigger.apply(r,i)!==!1)){if(!s&&!c.noBubble&&!oe.isWindow(r)){for(l=c.delegateType||p,mt.test(l+p)||(n=n.parentNode);n;n=n.parentNode)u.push(n),a=n;a===(r.ownerDocument||K)&&u.push(a.defaultView||a.parentWindow||e)}for(o=0;(n=u[o++])&&!t.isPropagationStopped();)t.type=o>1?l:c.bindType||p,h=(Te.get(n,"events")||{})[t.type]&&Te.get(n,"handle"),h&&h.apply(n,i),h=d&&n[d],h&&h.apply&&qe(n)&&(t.result=h.apply(n,i),t.result===!1&&t.preventDefault());return t.type=p,s||t.isDefaultPrevented()||c._default&&c._default.apply(u.pop(),i)!==!1||!qe(r)||d&&oe.isFunction(r[p])&&!oe.isWindow(r)&&(a=r[d],a&&(r[d]=null),oe.event.triggered=p,r[p](),oe.event.triggered=void 0,a&&(r[d]=a)),t.result}},simulate:function(e,t,i){var r=oe.extend(new oe.Event,i,{type:e,isSimulated:!0});oe.event.trigger(r,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?oe.event.trigger(e,t,i,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,s=Te.access(r,t);s||r.addEventListener(e,i,!0),Te.access(r,t,(s||0)+1)},teardown:function(){var r=this.ownerDocument||this,s=Te.access(r,t)-1;s?Te.access(r,t,s):(r.removeEventListener(e,i,!0),Te.remove(r,t))}}});var gt=e.location,vt=oe.now(),xt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),i};var wt=/#.*$/,bt=/([?&])_=[^&]*/,yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,qt=/^\/\//,Tt={},Ct={},kt="*/".concat("*"),St=K.createElement("a");St.href=gt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:_t.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,oe.ajaxSettings),t):W(oe.ajaxSettings,e)},ajaxPrefilter:F(Tt),ajaxTransport:F(Ct),ajax:function(t,i){function r(t,i,r,a){var d,c,x,w,y,j=i;2!==b&&(b=2,l&&e.clearTimeout(l),s=void 0,n=a||"",_.readyState=t>0?4:0,d=t>=200&&300>t||304===t,r&&(w=V(u,_,r)),w=G(u,w,_,d),d?(u.ifModified&&(y=_.getResponseHeader("Last-Modified"),y&&(oe.lastModified[o]=y),y=_.getResponseHeader("etag"),y&&(oe.etag[o]=y)),204===t||"HEAD"===u.type?j="nocontent":304===t?j="notmodified":(j=w.state,c=w.data,x=w.error,d=!x)):(x=j,!t&&j||(j="error",0>t&&(t=0))),_.status=t,_.statusText=(i||j)+"",d?m.resolveWith(p,[c,j,_]):m.rejectWith(p,[_,j,x]),_.statusCode(v),v=void 0,h&&f.trigger(d?"ajaxSuccess":"ajaxError",[_,u,d?c:x]),g.fireWith(p,[_,j]),h&&(f.trigger("ajaxComplete",[_,u]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var s,o,n,a,l,d,h,c,u=oe.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?oe(p):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=u.statusCode||{},x={},w={},b=0,y="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=yt.exec(n);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?n:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=w[i]=w[i]||e,x[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||y;return s&&s.abort(t),r(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,u.url=((t||u.url||gt.href)+"").replace(wt,"").replace(qt,gt.protocol+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=oe.trim(u.dataType||"*").toLowerCase().match(ye)||[""],null==u.crossDomain){d=K.createElement("a");try{d.href=u.url,d.href=d.href,u.crossDomain=St.protocol+"//"+St.host!=d.protocol+"//"+d.host}catch(j){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=oe.param(u.data,u.traditional)),R(Tt,u,i,_),2===b)return _;h=oe.event&&u.global,h&&0===oe.active++&&oe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!jt.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(xt.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=bt.test(o)?o.replace(bt,"$1_="+vt++):o+(xt.test(o)?"&":"?")+"_="+vt++)),u.ifModified&&(oe.lastModified[o]&&_.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&_.setRequestHeader("If-None-Match",oe.etag[o])),(u.data&&u.hasContent&&u.contentType!==!1||i.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+kt+"; q=0.01":""):u.accepts["*"]);for(c in u.headers)_.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(u.beforeSend.call(p,_,u)===!1||2===b))return _.abort();y="abort";for(c in{success:1,error:1,complete:1})_[c](u[c]);if(s=R(Ct,u,i,_)){if(_.readyState=1,h&&f.trigger("ajaxSend",[_,u]),2===b)return _;u.async&&u.timeout>0&&(l=e.setTimeout(function(){_.abort("timeout")},u.timeout));try{b=1,s.send(x,r)}catch(j){if(!(2>b))throw j;r(-1,j)}}else r(-1,"No Transport");return _},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,i,r,s){return oe.isFunction(i)&&(s=s||r,r=i,i=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:s,data:i,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(i){oe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Dt=/%20/g,It=/\[\]$/,Pt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Bt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,r=[],s=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){s(this.name,this.value)});else for(i in e)U(i,e[i],t,s);return r.join("&").replace(Dt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Bt.test(this.nodeName)&&!At.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:i.replace(Pt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Mt={0:200,1223:204},Ht=oe.ajaxSettings.xhr();re.cors=!!Ht&&"withCredentials"in Ht,re.ajax=Ht=!!Ht,oe.ajaxTransport(function(t){var i,r;return re.cors||Ht&&!t.crossDomain?{send:function(s,o){var n,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(n in t.xhrFields)a[n]=t.xhrFields[n];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(n in s)a.setRequestHeader(n,s[n]);i=function(e){return function(){i&&(i=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Mt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),r=a.onerror=i("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&r()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(i)throw l}},abort:function(){i&&i()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,s){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){i&&i()}}}});var zt=[],Et=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||oe.expando+"_"+vt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,i,r){var s,o,n,a=t.jsonp!==!1&&(Et.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Et.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Et,"$1"+s):t.jsonp!==!1&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return n||oe.error(s+" was not called"),n[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){n=arguments},r.always(function(){void 0===o?oe(e).removeProp(s):e[s]=o,t[s]&&(t.jsonpCallback=i.jsonpCallback,zt.push(s)),n&&oe.isFunction(o)&&o(n[0]),n=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||K;var r=fe.exec(e),s=!i&&[];return r?[t.createElement(r[1])]:(r=u([e],t,s),s&&s.length&&oe(s).remove(),oe.merge([],r.childNodes))};var Ot=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,s,o,n=this,a=e.indexOf(" ");return a>-1&&(r=oe.trim(e.slice(a)),e=e.slice(0,a)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),n.length>0&&oe.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){o=arguments,n.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(i&&function(e,t){n.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,i){var r,s,o,n,a,l,d,h=oe.css(e,"position"),c=oe(e),u={};"static"===h&&(e.style.position="relative"),a=c.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),d=("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1,d?(r=c.position(),n=r.top,s=r.left):(n=parseFloat(o)||0,s=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,i,oe.extend({},a))),null!=t.top&&(u.top=t.top-a.top+n),null!=t.left&&(u.left=t.left-a.left+s),"using"in t?t.using.call(e,u):c.css(u)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,i,r=this[0],s={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,oe.contains(t,r)?(s=r.getBoundingClientRect(),i=$(o),{top:s.top+i.pageYOffset-t.clientTop,left:s.left+i.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,i=this[0],r={top:0,left:0};return"fixed"===oe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(i,"marginTop",!0),left:t.left-r.left-oe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Je})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;oe.fn[e]=function(r){return je(this,function(e,r,s){var o=$(e);return void 0===s?o?o[t]:e[r]:void(o?o.scrollTo(i?o.pageXOffset:s,i?s:o.pageYOffset):e[r]=s)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=k(re.pixelPosition,function(e,i){return i?(i=C(e,t),Ke.test(i)?oe(e).position()[t]+"px":i):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,r){oe.fn[r]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),n=i||(r===!0||s===!0?"margin":"border");return je(this,function(t,i,r){var s;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?oe.css(t,i,n):oe.style(t,i,r,n)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Lt=e.jQuery,Nt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Nt),t&&e.jQuery===oe&&(e.jQuery=Lt),oe},t||(e.jQuery=e.$=oe),oe}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Vue=t()}(this,function(){"use strict";function e(t,r,s){if(i(t,r))return void(t[r]=s);if(t._isVue)return void e(t._data,r,s);var o=t.__ob__;if(!o)return void(t[r]=s);if(o.convert(r,s),o.dep.notify(),o.vms)for(var n=o.vms.length;n--;){var a=o.vms[n];a._proxy(r),a._digest()}return s}function t(e,t){if(i(e,t)){delete e[t];var r=e.__ob__;if(!r)return void(e._isVue&&(delete e._data[t],e._digest()));if(r.dep.notify(),r.vms)for(var s=r.vms.length;s--;){var o=r.vms[s];o._unproxy(t),o._digest()}}}function i(e,t){return Si.call(e,t)}function r(e){return Di.test(e)}function s(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function o(e){return null==e?"":e.toString()}function n(e){if("string"!=typeof e)return e;var t=Number(e);return isNaN(t)?e:t}function a(e){return"true"===e?!0:"false"===e?!1:e}function l(e){var t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t!==i||34!==t&&39!==t?e:e.slice(1,-1)}function d(e){return e.replace(Ii,h)}function h(e,t){return t?t.toUpperCase():""}function c(e){return e.replace(Pi,"$1-$2").toLowerCase()}function u(e){return e.replace(Ai,h)}function p(e,t){return function(i){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,i):e.call(t)}}function f(e,t){t=t||0;for(var i=e.length-t,r=new Array(i);i--;)r[i]=e[i+t];return r}function m(e,t){for(var i=Object.keys(t),r=i.length;r--;)e[i[r]]=t[i[r]];return e}function g(e){return null!==e&&"object"==typeof e}function v(e){return Bi.call(e)===Mi}function x(e,t,i,r){Object.defineProperty(e,t,{value:i,enumerable:!!r,writable:!0,configurable:!0})}function w(e,t){var i,r,s,o,n,a=function l(){var a=Date.now()-o;t>a&&a>=0?i=setTimeout(l,t-a):(i=null,n=e.apply(s,r),i||(s=r=null))};return function(){return s=this,r=arguments,o=Date.now(),i||(i=setTimeout(a,t)),n}}function b(e,t){for(var i=e.length;i--;)if(e[i]===t)return i;return-1}function y(e){var t=function i(){return i.cancelled?void 0:e.apply(this,arguments)};return t.cancel=function(){t.cancelled=!0},t}function _(e,t){return e==t||(g(e)&&g(t)?JSON.stringify(e)===JSON.stringify(t):!1)}function j(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap=Object.create(null)}function q(){var e,t=Qi.slice(or,rr).trim();if(t){e={};var i=t.match(ur);e.name=i[0],i.length>1&&(e.args=i.slice(1).map(T))}e&&(er.filters=er.filters||[]).push(e),or=rr+1}function T(e){if(pr.test(e))return{value:n(e),dynamic:!1};var t=l(e),i=t===e;return{value:i?e:t,dynamic:i}}function C(e){var t=cr.get(e);if(t)return t;for(Qi=e,nr=ar=!1,lr=dr=hr=0,or=0,er={},rr=0,sr=Qi.length;sr>rr;rr++)if(ir=tr,tr=Qi.charCodeAt(rr),nr)39===tr&&92!==ir&&(nr=!nr);else if(ar)34===tr&&92!==ir&&(ar=!ar);else if(124===tr&&124!==Qi.charCodeAt(rr+1)&&124!==Qi.charCodeAt(rr-1))null==er.expression?(or=rr+1,er.expression=Qi.slice(0,rr).trim()):q();else switch(tr){case 34:ar=!0;break;case 39:nr=!0;break;case 40:hr++;break;case 41:hr--;break;case 91:dr++;break;case 93:dr--;break;case 123:lr++;break;case 125:lr--}return null==er.expression?er.expression=Qi.slice(0,rr).trim():0!==or&&q(),cr.put(e,er),er}function k(e){return e.replace(mr,"\\$&")}function S(){var e=k(jr.delimiters[0]),t=k(jr.delimiters[1]),i=k(jr.unsafeDelimiters[0]),r=k(jr.unsafeDelimiters[1]);vr=new RegExp(i+"((?:.|\\n)+?)"+r+"|"+e+"((?:.|\\n)+?)"+t,"g"),xr=new RegExp("^"+i+".*"+r+"$"),gr=new j(1e3)}function D(e){gr||S();var t=gr.get(e);if(t)return t;if(!vr.test(e))return null;for(var i,r,s,o,n,a,l=[],d=vr.lastIndex=0;i=vr.exec(e);)r=i.index,r>d&&l.push({value:e.slice(d,r)}),s=xr.test(i[0]),o=s?i[1]:i[2],n=o.charCodeAt(0),a=42===n,o=a?o.slice(1):o,l.push({tag:!0,value:o.trim(),html:s,oneTime:a}),d=r+i[0].length;return d<e.length&&l.push({value:e.slice(d)}),gr.put(e,l),l}function I(e,t){return e.length>1?e.map(function(e){return P(e,t)}).join("+"):P(e[0],t,!0)}function P(e,t,i){return e.tag?e.oneTime&&t?'"'+t.$eval(e.value)+'"':A(e.value,i):'"'+e.value+'"'}function A(e,t){if(wr.test(e)){var i=C(e);return i.filters?"this._applyFilters("+i.expression+",null,"+JSON.stringify(i.filters)+",false)":"("+e+")"}return t?e:"("+e+")"}function B(e,t,i,r){z(e,1,function(){t.appendChild(e)},i,r)}function M(e,t,i,r){z(e,1,function(){R(e,t)},i,r)}function H(e,t,i){z(e,-1,function(){V(e)},t,i)}function z(e,t,i,r,s){var o=e.__v_trans;if(!o||!o.hooks&&!Gi||!r._isCompiled||r.$parent&&!r.$parent._isCompiled)return i(),void(s&&s());var n=t>0?"enter":"leave";o[n](i,s)}function E(e){if("string"==typeof e){var t=e;e=document.querySelector(e),e||qr("Cannot find element: "+t)}return e}function O(e){if(!e)return!1;var t=e.ownerDocument.documentElement,i=e.parentNode;return t===e||t===i||!(!i||1!==i.nodeType||!t.contains(i))}function L(e,t){var i=e.getAttribute(t);return null!==i&&e.removeAttribute(t),i}function N(e,t){var i=L(e,":"+t);return null===i&&(i=L(e,"v-bind:"+t)),i}function F(e,t){return e.hasAttribute(t)||e.hasAttribute(":"+t)||e.hasAttribute("v-bind:"+t)}function R(e,t){t.parentNode.insertBefore(e,t)}function W(e,t){t.nextSibling?R(e,t.nextSibling):t.parentNode.appendChild(e)}function V(e){e.parentNode.removeChild(e)}function G(e,t){t.firstChild?R(e,t.firstChild):t.appendChild(e)}function U(e,t){var i=e.parentNode;i&&i.replaceChild(t,e)}function $(e,t,i,r){e.addEventListener(t,i,r)}function Y(e,t,i){e.removeEventListener(t,i)}function K(e){var t=e.className;return"object"==typeof t&&(t=t.baseVal||""),t}function X(e,t){Ni&&!/svg$/.test(e.namespaceURI)?e.className=t:e.setAttribute("class",t)}function Z(e,t){if(e.classList)e.classList.add(t);else{var i=" "+K(e)+" ";i.indexOf(" "+t+" ")<0&&X(e,(i+t).trim())}}function J(e,t){if(e.classList)e.classList.remove(t);else{for(var i=" "+K(e)+" ",r=" "+t+" ";i.indexOf(r)>=0;)i=i.replace(r," ");X(e,i.trim())}e.className||e.removeAttribute("class")}function Q(e,t){var i,r;if(ie(e)&&ae(e.content)&&(e=e.content),e.hasChildNodes())for(ee(e),r=t?document.createDocumentFragment():document.createElement("div");i=e.firstChild;)r.appendChild(i);return r}function ee(e){for(var t;t=e.firstChild,te(t);)e.removeChild(t);for(;t=e.lastChild,te(t);)e.removeChild(t)}function te(e){return e&&(3===e.nodeType&&!e.data.trim()||8===e.nodeType)}function ie(e){return e.tagName&&"template"===e.tagName.toLowerCase()}function re(e,t){var i=jr.debug?document.createComment(e):document.createTextNode(t?" ":"");return i.__v_anchor=!0,i}function se(e){if(e.hasAttributes())for(var t=e.attributes,i=0,r=t.length;r>i;i++){var s=t[i].name;if(kr.test(s))return d(s.replace(kr,""))}}function oe(e,t,i){for(var r;e!==t;)r=e.nextSibling,i(e),e=r;i(t)}function ne(e,t,i,r,s){function o(){if(a++,n&&a>=l.length){for(var e=0;e<l.length;e++)r.appendChild(l[e]);s&&s()}}var n=!1,a=0,l=[];oe(e,t,function(e){e===t&&(n=!0),l.push(e),H(e,i,o)})}function ae(e){return e&&11===e.nodeType}function le(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function de(e,t){var i=e.tagName.toLowerCase(),r=e.hasAttributes();if(Sr.test(i)||Dr.test(i)){if(r)return he(e,t)}else{if(ve(t,"components",i))return{id:i};var s=r&&he(e,t);if(s)return s;var o=t._componentNameMap&&t._componentNameMap[i];o?qr("Unknown custom element: <"+i+"> - did you mean <"+o+">? HTML is case-insensitive, remember to use kebab-case in templates."):Ir(e,i)&&qr("Unknown custom element: <"+i+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.')}}function he(e,t){var i=e.getAttribute("is");if(null!=i){if(ve(t,"components",i))return e.removeAttribute("is"),{id:i}}else if(i=N(e,"is"),null!=i)return{id:i,dynamic:!0}}function ce(t,r){var s,o,n;for(s in r)o=t[s],n=r[s],i(t,s)?g(o)&&g(n)&&ce(o,n):e(t,s,n);return t}function ue(e,t){var i=Object.create(e||null);return t?m(i,me(t)):i}function pe(e){if(e.components)for(var t,i=e.components=me(e.components),r=Object.keys(i),s=e._componentNameMap={},o=0,n=r.length;n>o;o++){var a=r[o];Sr.test(a)||Dr.test(a)?qr("Do not use built-in or reserved HTML elements as component id: "+a):(s[a.replace(/-/g,"").toLowerCase()]=c(a),t=i[a],v(t)&&(i[a]=_i.extend(t)))}}function fe(e){var t,i,r=e.props;if(Hi(r))for(e.props={},t=r.length;t--;)i=r[t],"string"==typeof i?e.props[i]=null:i.name&&(e.props[i.name]=i);else if(v(r)){var s=Object.keys(r);for(t=s.length;t--;)i=r[s[t]],"function"==typeof i&&(r[s[t]]={type:i})}}function me(e){if(Hi(e)){for(var t,i={},r=e.length;r--;){t=e[r];var s="function"==typeof t?t.options&&t.options.name||t.id:t.name||t.id;s?i[s]=t:qr('Array-syntax assets must provide a "name" or "id" field.')}return i}return e}function ge(e,t,r){function s(i){var s=Pr[i]||Ar;n[i]=s(e[i],t[i],r,i)}pe(t),fe(t),t.propsData&&!r&&qr("propsData can only be used as an instantiation option.");var o,n={};if(t["extends"]&&(e="function"==typeof t["extends"]?ge(e,t["extends"].options,r):ge(e,t["extends"],r)),t.mixins)for(var a=0,l=t.mixins.length;l>a;a++)e=ge(e,t.mixins[a],r);for(o in e)s(o);for(o in t)i(e,o)||s(o);return n}function ve(e,t,i,r){if("string"==typeof i){var s,o=e[t],n=o[i]||o[s=d(i)]||o[s.charAt(0).toUpperCase()+s.slice(1)];return r&&!n&&qr("Failed to resolve "+t.slice(0,-1)+": "+i,e),n}}function xe(){this.id=Br++,this.subs=[]}function we(e){Er=!1,e(),Er=!0}function be(e){if(this.value=e,this.dep=new xe,x(e,"__ob__",this),Hi(e)){var t=zi?ye:_e;t(e,Hr,zr),this.observeArray(e)}else this.walk(e)}function ye(e,t){e.__proto__=t}function _e(e,t,i){for(var r=0,s=i.length;s>r;r++){var o=i[r];x(e,o,t[o])}}function je(e,t){if(e&&"object"==typeof e){var r;return i(e,"__ob__")&&e.__ob__ instanceof be?r=e.__ob__:Er&&(Hi(e)||v(e))&&Object.isExtensible(e)&&!e._isVue&&(r=new be(e)),r&&t&&r.addVm(t),r}}function qe(e,t,i){var r=new xe,s=Object.getOwnPropertyDescriptor(e,t);if(!s||s.configurable!==!1){var o=s&&s.get,n=s&&s.set,a=je(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=o?o.call(e):i;if(xe.target&&(r.depend(),
a&&a.dep.depend(),Hi(t)))for(var s,n=0,l=t.length;l>n;n++)s=t[n],s&&s.__ob__&&s.__ob__.dep.depend();return t},set:function(t){var s=o?o.call(e):i;t!==s&&(n?n.call(e,t):i=t,a=je(t),r.notify())}})}}function Te(e){e.prototype._init=function(e){e=e||{},this.$el=null,this.$parent=e.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=Lr++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=this._vForRemoving=!1,this._unlinkFn=null,this._context=e._context||this.$parent,this._scope=e._scope,this._frag=e._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),e=this.$options=ge(this.constructor.options,e,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),e.el&&this.$mount(e.el)}}function Ce(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return t>=97&&122>=t||t>=65&&90>=t?"ident":t>=49&&57>=t?"number":"else"}function ke(e){var t=e.trim();return"0"===e.charAt(0)&&isNaN(e)?!1:r(t)?l(t):"*"+t}function Se(e){function t(){var t=e[h+1];return c===Xr&&"'"===t||c===Zr&&'"'===t?(h++,r="\\"+t,p[Fr](),!0):void 0}var i,r,s,o,n,a,l,d=[],h=-1,c=Gr,u=0,p=[];for(p[Rr]=function(){void 0!==s&&(d.push(s),s=void 0)},p[Fr]=function(){void 0===s?s=r:s+=r},p[Wr]=function(){p[Fr](),u++},p[Vr]=function(){if(u>0)u--,c=Kr,p[Fr]();else{if(u=0,s=ke(s),s===!1)return!1;p[Rr]()}};null!=c;)if(h++,i=e[h],"\\"!==i||!t()){if(o=Ce(i),l=es[c],n=l[o]||l["else"]||Qr,n===Qr)return;if(c=n[0],a=p[n[1]],a&&(r=n[2],r=void 0===r?i:r,a()===!1))return;if(c===Jr)return d.raw=e,d}}function De(e){var t=Nr.get(e);return t||(t=Se(e),t&&Nr.put(e,t)),t}function Ie(e,t){return Oe(t).get(e)}function Pe(t,i,r){var s=t;if("string"==typeof i&&(i=Se(i)),!i||!g(t))return!1;for(var o,n,a=0,l=i.length;l>a;a++)o=t,n=i[a],"*"===n.charAt(0)&&(n=Oe(n.slice(1)).get.call(s,s)),l-1>a?(t=t[n],g(t)||(t={},o._isVue&&ts(i,o),e(o,n,t))):Hi(t)?t.$set(n,r):n in t?t[n]=r:(t._isVue&&ts(i,t),e(t,n,r));return!0}function Ae(e,t){var i=ms.length;return ms[i]=t?e.replace(ds,"\\n"):e,'"'+i+'"'}function Be(e){var t=e.charAt(0),i=e.slice(1);return os.test(i)?e:(i=i.indexOf('"')>-1?i.replace(cs,Me):i,t+"scope."+i)}function Me(e,t){return ms[t]}function He(e){as.test(e)&&qr("Avoid using reserved keywords in expression: "+e),ms.length=0;var t=e.replace(hs,Ae).replace(ls,"");return t=(" "+t).replace(ps,Be).replace(cs,Me),ze(t)}function ze(e){try{return new Function("scope","return "+e+";")}catch(t){qr("Invalid expression. Generated function body: "+e)}}function Ee(e){var t=De(e);return t?function(e,i){Pe(e,t,i)}:void qr("Invalid setter expression: "+e)}function Oe(e,t){e=e.trim();var i=rs.get(e);if(i)return t&&!i.set&&(i.set=Ee(i.exp)),i;var r={exp:e};return r.get=Le(e)&&e.indexOf("[")<0?ze("scope."+e):He(e),t&&(r.set=Ee(e)),rs.put(e,r),r}function Le(e){return us.test(e)&&!fs.test(e)&&"Math."!==e.slice(0,5)}function Ne(){vs.length=0,xs.length=0,ws={},bs={},ys=!1}function Fe(){for(var e=!0;e;)e=!1,Re(vs),Re(xs),vs.length?e=!0:(Oi&&jr.devtools&&Oi.emit("flush"),Ne())}function Re(e){for(var t=0;t<e.length;t++){var i=e[t],r=i.id;if(ws[r]=null,i.run(),null!=ws[r]&&(bs[r]=(bs[r]||0)+1,bs[r]>jr._maxUpdateCount)){qr('You may have an infinite update loop for watcher with expression "'+i.expression+'"',i.vm);break}}e.length=0}function We(e){var t=e.id;if(null==ws[t]){var i=e.user?xs:vs;ws[t]=i.length,i.push(e),ys||(ys=!0,Xi(Fe))}}function Ve(e,t,i,r){r&&m(this,r);var s="function"==typeof t;if(this.vm=e,e._watchers.push(this),this.expression=t,this.cb=i,this.id=++_s,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Zi,this.newDepIds=new Zi,this.prevError=null,s)this.getter=t,this.setter=void 0;else{var o=Oe(t,this.twoWay);this.getter=o.get,this.setter=o.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function Ge(e,t){var i=void 0,r=void 0;t||(t=js,t.clear());var s=Hi(e),o=g(e);if(s||o){if(e.__ob__){var n=e.__ob__.dep.id;if(t.has(n))return;t.add(n)}if(s)for(i=e.length;i--;)Ge(e[i],t);else if(o)for(r=Object.keys(e),i=r.length;i--;)Ge(e[r[i]],t)}}function Ue(e){return ie(e)&&ae(e.content)}function $e(e,t){var i=t?e:e.trim(),r=Ts.get(i);if(r)return r;var s=document.createDocumentFragment(),o=e.match(Ss),n=Ds.test(e);if(o||n){var a=o&&o[1],l=ks[a]||ks.efault,d=l[0],h=l[1],c=l[2],u=document.createElement("div");for(u.innerHTML=h+e+c;d--;)u=u.lastChild;for(var p;p=u.firstChild;)s.appendChild(p)}else s.appendChild(document.createTextNode(e));return t||ee(s),Ts.put(i,s),s}function Ye(e){if(Ue(e))return $e(e.innerHTML);if("SCRIPT"===e.tagName)return $e(e.textContent);for(var t,i=Ke(e),r=document.createDocumentFragment();t=i.firstChild;)r.appendChild(t);return ee(r),r}function Ke(e){if(!e.querySelectorAll)return e.cloneNode();var t,i,r,s=e.cloneNode(!0);if(Is){var o=s;if(Ue(e)&&(e=e.content,o=s.content),i=e.querySelectorAll("template"),i.length)for(r=o.querySelectorAll("template"),t=r.length;t--;)r[t].parentNode.replaceChild(Ke(i[t]),r[t])}if(Ps)if("TEXTAREA"===e.tagName)s.value=e.value;else if(i=e.querySelectorAll("textarea"),i.length)for(r=s.querySelectorAll("textarea"),t=r.length;t--;)r[t].value=i[t].value;return s}function Xe(e,t,i){var r,s;return ae(e)?(ee(e),t?Ke(e):e):("string"==typeof e?i||"#"!==e.charAt(0)?s=$e(e,i):(s=Cs.get(e),s||(r=document.getElementById(e.slice(1)),r&&(s=Ye(r),Cs.put(e,s)))):e.nodeType&&(s=Ye(e)),s&&t?Ke(s):s)}function Ze(e,t,i,r,s,o){this.children=[],this.childFrags=[],this.vm=t,this.scope=s,this.inserted=!1,this.parentFrag=o,o&&o.childFrags.push(this),this.unlink=e(t,i,r,s,this);var n=this.single=1===i.childNodes.length&&!i.childNodes[0].__v_anchor;n?(this.node=i.childNodes[0],this.before=Je,this.remove=Qe):(this.node=re("fragment-start"),this.end=re("fragment-end"),this.frag=i,G(this.node,i),i.appendChild(this.end),this.before=et,this.remove=tt),this.node.__v_frag=this}function Je(e,t){this.inserted=!0;var i=t!==!1?M:R;i(this.node,e,this.vm),O(this.node)&&this.callHook(it)}function Qe(){this.inserted=!1;var e=O(this.node),t=this;this.beforeRemove(),H(this.node,this.vm,function(){e&&t.callHook(rt),t.destroy()})}function et(e,t){this.inserted=!0;var i=this.vm,r=t!==!1?M:R;oe(this.node,this.end,function(t){r(t,e,i)}),O(this.node)&&this.callHook(it)}function tt(){this.inserted=!1;var e=this,t=O(this.node);this.beforeRemove(),ne(this.node,this.end,this.vm,this.frag,function(){t&&e.callHook(rt),e.destroy()})}function it(e){!e._isAttached&&O(e.$el)&&e._callHook("attached")}function rt(e){e._isAttached&&!O(e.$el)&&e._callHook("detached")}function st(e,t){this.vm=e;var i,r="string"==typeof t;r||ie(t)&&!t.hasAttribute("v-if")?i=Xe(t,!0):(i=document.createDocumentFragment(),i.appendChild(t)),this.template=i;var s,o=e.constructor.cid;if(o>0){var n=o+(r?t:le(t));s=Ms.get(n),s||(s=Ht(i,e.$options,!0),Ms.put(n,s))}else s=Ht(i,e.$options,!0);this.linker=s}function ot(e,t,i){var r=e.node.previousSibling;if(r){for(e=r.__v_frag;!(e&&e.forId===i&&e.inserted||r===t);){if(r=r.previousSibling,!r)return;e=r.__v_frag}return e}}function nt(e){var t=e.node;if(e.end)for(;!t.__vue__&&t!==e.end&&t.nextSibling;)t=t.nextSibling;return t.__vue__}function at(e){for(var t=-1,i=new Array(Math.floor(e));++t<e;)i[t]=t;return i}function lt(e,t,i,r){return r?"$index"===r?e:r.charAt(0).match(/\w/)?Ie(i,r):i[r]:t||i}function dt(e,t,i){for(var r,s,o,n=t?[]:null,a=0,l=e.options.length;l>a;a++)if(r=e.options[a],o=i?r.hasAttribute("selected"):r.selected){if(s=r.hasOwnProperty("_value")?r._value:r.value,!t)return s;n.push(s)}return n}function ht(e,t){for(var i=e.length;i--;)if(_(e[i],t))return i;return-1}function ct(e,t){var i=t.map(function(e){var t=e.charCodeAt(0);return t>47&&58>t?parseInt(e,10):1===e.length&&(t=e.toUpperCase().charCodeAt(0),t>64&&91>t)?t:to[e]});return i=[].concat.apply([],i),function(t){return i.indexOf(t.keyCode)>-1?e.call(this,t):void 0}}function ut(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function pt(e){return function(t){return t.preventDefault(),e.call(this,t)}}function ft(e){return function(t){return t.target===t.currentTarget?e.call(this,t):void 0}}function mt(e){if(no[e])return no[e];var t=gt(e);return no[e]=no[t]=t,t}function gt(e){e=c(e);var t=d(e),i=t.charAt(0).toUpperCase()+t.slice(1);ao||(ao=document.createElement("div"));var r,s=ro.length;if("filter"!==t&&t in ao.style)return{kebab:e,camel:t};for(;s--;)if(r=so[s]+i,r in ao.style)return{kebab:ro[s]+e,camel:r}}function vt(e){var t=[];if(Hi(e))for(var i=0,r=e.length;r>i;i++){var s=e[i];if(s)if("string"==typeof s)t.push(s);else for(var o in s)s[o]&&t.push(o)}else if(g(e))for(var n in e)e[n]&&t.push(n);return t}function xt(e,t,i){if(t=t.trim(),-1===t.indexOf(" "))return void i(e,t);for(var r=t.split(/\s+/),s=0,o=r.length;o>s;s++)i(e,r[s])}function wt(e,t,i){function r(){++o>=s?i():e[o].call(t,r)}var s=e.length,o=0;e[0].call(t,r)}function bt(e,t,i){for(var s,o,n,a,l,h,u,p=[],f=Object.keys(t),m=f.length;m--;)if(o=f[m],s=t[o]||qo,"$data"!==o)if(l=d(o),To.test(l)){if(u={name:o,path:l,options:s,mode:jo.ONE_WAY,raw:null},n=c(o),null===(a=N(e,n))&&(null!==(a=N(e,n+".sync"))?u.mode=jo.TWO_WAY:null!==(a=N(e,n+".once"))&&(u.mode=jo.ONE_TIME)),null!==a)u.raw=a,h=C(a),a=h.expression,u.filters=h.filters,r(a)&&!h.filters?u.optimizedLiteral=!0:(u.dynamic=!0,u.mode!==jo.TWO_WAY||Co.test(a)||(u.mode=jo.ONE_WAY,qr("Cannot bind two-way prop with non-settable parent path: "+a,i))),u.parentPath=a,s.twoWay&&u.mode!==jo.TWO_WAY&&qr('Prop "'+o+'" expects a two-way binding type.',i);else if(null!==(a=L(e,n)))u.raw=a;else{var g=l.toLowerCase();a=/[A-Z\-]/.test(o)&&(e.getAttribute(g)||e.getAttribute(":"+g)||e.getAttribute("v-bind:"+g)||e.getAttribute(":"+g+".once")||e.getAttribute("v-bind:"+g+".once")||e.getAttribute(":"+g+".sync")||e.getAttribute("v-bind:"+g+".sync")),a?qr("Possible usage error for prop `"+g+"` - did you mean `"+n+"`? HTML is case-insensitive, remember to use kebab-case for props in templates.",i):s.required&&qr("Missing required prop: "+o,i)}p.push(u)}else qr('Invalid prop key: "'+o+'". Prop keys must be valid identifiers.',i);else qr("Do not use $data as prop.",i);return yt(p)}function yt(e){return function(t,r){t._props={};for(var s,o,d,h,u,p=t.$options.propsData,f=e.length;f--;)if(s=e[f],u=s.raw,o=s.path,d=s.options,t._props[o]=s,p&&i(p,o)&&jt(t,s,p[o]),null===u)jt(t,s,void 0);else if(s.dynamic)s.mode===jo.ONE_TIME?(h=(r||t._context||t).$get(s.parentPath),jt(t,s,h)):t._context?t._bindDir({name:"prop",def:So,prop:s},null,null,r):jt(t,s,t.$get(s.parentPath));else if(s.optimizedLiteral){var m=l(u);h=m===u?a(n(u)):m,jt(t,s,h)}else h=d.type!==Boolean||""!==u&&u!==c(s.name)?u:!0,jt(t,s,h)}}function _t(e,t,i,r){var s=t.dynamic&&Le(t.parentPath),o=i;void 0===o&&(o=Tt(e,t)),o=kt(t,o);var n=o!==i;Ct(t,o,e)||(o=void 0),s&&!n?we(function(){r(o)}):r(o)}function jt(e,t,i){_t(e,t,i,function(i){qe(e,t.path,i)})}function qt(e,t,i){_t(e,t,i,function(i){e[t.path]=i})}function Tt(e,t){var r=t.options;if(!i(r,"default"))return r.type===Boolean?!1:void 0;var s=r["default"];return g(s)&&qr('Invalid default value for prop "'+t.name+'": Props with type Object/Array must use a factory function to return the default value.',e),"function"==typeof s&&r.type!==Function?s.call(e):s}function Ct(e,t,i){if(!e.options.required&&(null===e.raw||null==t))return!0;var r=e.options,s=r.type,o=!s,n=[];if(s){Hi(s)||(s=[s]);for(var a=0;a<s.length&&!o;a++){var l=St(t,s[a]);n.push(l.expectedType),o=l.valid}}if(!o)return qr('Invalid prop: type check failed for prop "'+e.name+'". Expected '+n.map(Dt).join(", ")+", got "+It(t)+".",i),!1;var d=r.validator;return d&&!d(t)?(qr('Invalid prop: custom validator check failed for prop "'+e.name+'".',i),!1):!0}function kt(e,t){var i=e.options.coerce;return i?i(t):t}function St(e,t){var i,r;return t===String?(r="string",i=typeof e===r):t===Number?(r="number",i=typeof e===r):t===Boolean?(r="boolean",i=typeof e===r):t===Function?(r="function",i=typeof e===r):t===Object?(r="object",i=v(e)):t===Array?(r="array",i=Hi(e)):i=e instanceof t,{valid:i,expectedType:r}}function Dt(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"custom type"}function It(e){return Object.prototype.toString.call(e).slice(8,-1)}function Pt(e){Do.push(e),Io||(Io=!0,Xi(At))}function At(){for(var e=document.documentElement.offsetHeight,t=0;t<Do.length;t++)Do[t]();return Do=[],Io=!1,e}function Bt(e,t,i,r){this.id=t,this.el=e,this.enterClass=i&&i.enterClass||t+"-enter",this.leaveClass=i&&i.leaveClass||t+"-leave",this.hooks=i,this.vm=r,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={},this.type=i&&i.type,this.type&&this.type!==Po&&this.type!==Ao&&qr('invalid CSS transition type for transition="'+this.id+'": '+this.type,r);var s=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(e){s[e]=p(s[e],s)})}function Mt(e){if(/svg$/.test(e.namespaceURI)){var t=e.getBoundingClientRect();return!(t.width||t.height)}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function Ht(e,t,i){var r=i||!t._asComponent?Rt(e,t):null,s=r&&r.terminal||oi(e)||!e.hasChildNodes()?null:Yt(e.childNodes,t);return function(e,t,i,o,n){var a=f(t.childNodes),l=zt(function(){r&&r(e,t,i,o,n),s&&s(e,a,i,o,n)},e);return Ot(e,l)}}function zt(e,t){var i=t._directives.length;e();var r=t._directives.slice(i);r.sort(Et);for(var s=0,o=r.length;o>s;s++)r[s]._bind();return r}function Et(e,t){return e=e.descriptor.def.priority||Go,t=t.descriptor.def.priority||Go,e>t?-1:e===t?0:1}function Ot(e,t,i,r){function s(s){Lt(e,t,s),i&&r&&Lt(i,r)}return s.dirs=t,s}function Lt(e,t,i){for(var r=t.length;r--;)t[r]._teardown(),i||e._directives.$remove(t[r])}function Nt(e,t,i,r){var s=bt(t,i,e),o=zt(function(){s(e,r)},e);return Ot(e,o)}function Ft(e,t,i){var r,s,o=t._containerAttrs,n=t._replacerAttrs;if(11!==e.nodeType)t._asComponent?(o&&i&&(r=ti(o,i)),n&&(s=ti(n,t))):s=ti(e.attributes,t);else if(o){var a=o.filter(function(e){return e.name.indexOf("_v-")<0&&!Fo.test(e.name)&&"slot"!==e.name}).map(function(e){return'"'+e.name+'"'});if(a.length){var l=a.length>1;qr("Attribute"+(l?"s ":" ")+a.join(", ")+(l?" are":" is")+" ignored on component <"+t.el.tagName.toLowerCase()+"> because the component is a fragment instance: http://vuejs.org/guide/components.html#Fragment-Instance")}}return t._containerAttrs=t._replacerAttrs=null,function(e,t,i){var o,n=e._context;n&&r&&(o=zt(function(){r(n,t,null,i)},n));var a=zt(function(){s&&s(e,t)},e);return Ot(e,a,n,o)}}function Rt(e,t){var i=e.nodeType;return 1!==i||oi(e)?3===i&&e.data.trim()?Vt(e,t):null:Wt(e,t)}function Wt(e,t){if("TEXTAREA"===e.tagName){var i=D(e.value);i&&(e.setAttribute(":value",I(i)),e.value="")}var r,s=e.hasAttributes(),o=s&&f(e.attributes);return s&&(r=Jt(e,o,t)),r||(r=Xt(e,t)),r||(r=Zt(e,t)),!r&&s&&(r=ti(o,t)),r}function Vt(e,t){if(e._skip)return Gt;var i=D(e.wholeText);if(!i)return null;for(var r=e.nextSibling;r&&3===r.nodeType;)r._skip=!0,r=r.nextSibling;for(var s,o,n=document.createDocumentFragment(),a=0,l=i.length;l>a;a++)o=i[a],s=o.tag?Ut(o,t):document.createTextNode(o.value),n.appendChild(s);return $t(i,n,t)}function Gt(e,t){V(t)}function Ut(e,t){function i(t){if(!e.descriptor){var i=C(e.value);e.descriptor={name:t,def:bo[t],expression:i.expression,filters:i.filters}}}var r;return e.oneTime?r=document.createTextNode(e.value):e.html?(r=document.createComment("v-html"),i("html")):(r=document.createTextNode(" "),i("text")),r}function $t(e,t){return function(i,r,s,o){for(var n,a,l,d=t.cloneNode(!0),h=f(d.childNodes),c=0,u=e.length;u>c;c++)n=e[c],a=n.value,n.tag&&(l=h[c],n.oneTime?(a=(o||i).$eval(a),n.html?U(l,Xe(a,!0)):l.data=a):i._bindDir(n.descriptor,l,s,o));U(r,d)}}function Yt(e,t){for(var i,r,s,o=[],n=0,a=e.length;a>n;n++)s=e[n],i=Rt(s,t),r=i&&i.terminal||"SCRIPT"===s.tagName||!s.hasChildNodes()?null:Yt(s.childNodes,t),o.push(i,r);return o.length?Kt(o):null}function Kt(e){return function(t,i,r,s,o){for(var n,a,l,d=0,h=0,c=e.length;c>d;h++){n=i[h],a=e[d++],l=e[d++];var u=f(n.childNodes);a&&a(t,n,r,s,o),l&&l(t,u,r,s,o)}}}function Xt(e,t){var i=e.tagName.toLowerCase();if(!Sr.test(i)){var r=ve(t,"elementDirectives",i);return r?ei(e,i,"",t,r):void 0}}function Zt(e,t){var i=de(e,t);if(i){var r=se(e),s={name:"component",ref:r,expression:i.id,def:Lo.component,modifiers:{literal:!i.dynamic}},o=function(e,t,i,o,n){r&&qe((o||e).$refs,r,null),e._bindDir(s,t,i,o,n)};return o.terminal=!0,o}}function Jt(e,t,i){if(null!==L(e,"v-pre"))return Qt;if(e.hasAttribute("v-else")){var r=e.previousElementSibling;if(r&&r.hasAttribute("v-if"))return Qt}for(var s,o,n,a,l,d,h,c,u,p,f=0,m=t.length;m>f;f++)s=t[f],o=s.name.replace(Wo,""),(l=o.match(Ro))&&(u=ve(i,"directives",l[1]),u&&u.terminal&&(!p||(u.priority||Uo)>p.priority)&&(p=u,h=s.name,a=ii(s.name),n=s.value,d=l[1],c=l[2]));return p?ei(e,d,n,i,p,h,c,a):void 0}function Qt(){}function ei(e,t,i,r,s,o,n,a){var l=C(i),d={name:t,arg:n,expression:l.expression,filters:l.filters,raw:i,attr:o,modifiers:a,def:s};"for"!==t&&"router-view"!==t||(d.ref=se(e));var h=function(e,t,i,r,s){d.ref&&qe((r||e).$refs,d.ref,null),e._bindDir(d,t,i,r,s)};return h.terminal=!0,h}function ti(e,t){function i(e,t,i){var r=i&&si(i),s=!r&&C(o);m.push({name:e,attr:n,raw:a,def:t,arg:d,modifiers:h,expression:s&&s.expression,filters:s&&s.filters,interp:i,hasOneTime:r})}for(var r,s,o,n,a,l,d,h,c,u,p,f=e.length,m=[];f--;)if(r=e[f],s=n=r.name,o=a=r.value,u=D(o),d=null,h=ii(s),s=s.replace(Wo,""),u)o=I(u),d=s,i("bind",bo.bind,u),"class"===s&&Array.prototype.some.call(e,function(e){return":class"===e.name||"v-bind:class"===e.name})&&qr('class="'+a+'": Do not mix mustache interpolation and v-bind for "class" on the same element. Use one or the other.',t);else if(Vo.test(s))h.literal=!No.test(s),i("transition",Lo.transition);else if(Fo.test(s))d=s.replace(Fo,""),i("on",bo.on);else if(No.test(s))l=s.replace(No,""),"style"===l||"class"===l?i(l,Lo[l]):(d=l,i("bind",bo.bind));else if(p=s.match(Ro)){if(l=p[1],d=p[2],"else"===l)continue;c=ve(t,"directives",l,!0),c&&i(l,c)}return m.length?ri(m):void 0}function ii(e){var t=Object.create(null),i=e.match(Wo);if(i)for(var r=i.length;r--;)t[i[r].slice(1)]=!0;return t}function ri(e){return function(t,i,r,s,o){for(var n=e.length;n--;)t._bindDir(e[n],i,r,s,o)}}function si(e){for(var t=e.length;t--;)if(e[t].oneTime)return!0}function oi(e){return"SCRIPT"===e.tagName&&(!e.hasAttribute("type")||"text/javascript"===e.getAttribute("type"))}function ni(e,t){return t&&(t._containerAttrs=li(e)),ie(e)&&(e=Xe(e)),t&&(t._asComponent&&!t.template&&(t.template="<slot></slot>"),t.template&&(t._content=Q(e),e=ai(e,t))),ae(e)&&(G(re("v-start",!0),e),e.appendChild(re("v-end",!0))),e}function ai(e,t){var i=t.template,r=Xe(i,!0);if(r){var s=r.firstChild,o=s.tagName&&s.tagName.toLowerCase();return t.replace?(e===document.body&&qr("You are mounting an instance with a template to <body>. This will replace <body> entirely. You should probably use `replace: false` here."),r.childNodes.length>1||1!==s.nodeType||"component"===o||ve(t,"components",o)||F(s,"is")||ve(t,"elementDirectives",o)||s.hasAttribute("v-for")||s.hasAttribute("v-if")?r:(t._replacerAttrs=li(s),di(e,s),s)):(e.appendChild(r),e)}qr("Invalid template option: "+i)}function li(e){return 1===e.nodeType&&e.hasAttributes()?f(e.attributes):void 0}function di(e,t){for(var i,r,s=e.attributes,o=s.length;o--;)i=s[o].name,r=s[o].value,t.hasAttribute(i)||$o.test(i)?"class"===i&&!D(r)&&(r=r.trim())&&r.split(/\s+/).forEach(function(e){Z(t,e)}):t.setAttribute(i,r)}function hi(e,t){if(t){for(var i,r,s=e._slotContents=Object.create(null),o=0,n=t.children.length;n>o;o++)i=t.children[o],(r=i.getAttribute("slot"))&&(s[r]||(s[r]=[])).push(i),N(i,"slot")&&qr('The "slot" attribute must be static.',e.$parent);for(r in s)s[r]=ci(s[r],t);if(t.hasChildNodes()){var a=t.childNodes;if(1===a.length&&3===a[0].nodeType&&!a[0].data.trim())return;s["default"]=ci(t.childNodes,t)}}}function ci(e,t){var i=document.createDocumentFragment();e=f(e);for(var r=0,s=e.length;s>r;r++){var o=e[r];!ie(o)||o.hasAttribute("v-if")||o.hasAttribute("v-for")||(t.removeChild(o),o=Xe(o,!0)),i.appendChild(o)}return i}function ui(e){function t(){}function r(e,t){var i=new Ve(t,e,null,{lazy:!0});return function(){return i.dirty&&i.evaluate(),xe.target&&i.depend(),i.value}}Object.defineProperty(e.prototype,"$data",{get:function(){return this._data},set:function(e){e!==this._data&&this._setData(e)}}),e.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},e.prototype._initProps=function(){var e=this.$options,t=e.el,i=e.props;i&&!t&&qr("Props will not be compiled if no `el` option is provided at instantiation.",this),t=e.el=E(t),this._propsUnlinkFn=t&&1===t.nodeType&&i?Nt(this,t,i,this._scope):null},e.prototype._initData=function(){var e=this.$options.data,t=this._data=e?e():{};v(t)||(t={},qr("data functions should return an object.",this));var r,s,o=this._props,n=Object.keys(t);for(r=n.length;r--;)s=n[r],o&&i(o,s)?qr('Data field "'+s+'" is already defined as a prop. To provide default value for a prop, use the "default" prop option; if you want to pass prop values to an instantiation call, use the "propsData" option.',this):this._proxy(s);je(t,this)},e.prototype._setData=function(e){e=e||{};var t=this._data;this._data=e;var r,s,o;for(r=Object.keys(t),o=r.length;o--;)s=r[o],s in e||this._unproxy(s);for(r=Object.keys(e),o=r.length;o--;)s=r[o],i(this,s)||this._proxy(s);t.__ob__.removeVm(this),je(e,this),this._digest()},e.prototype._proxy=function(e){if(!s(e)){var t=this;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(i){t._data[e]=i}})}},e.prototype._unproxy=function(e){s(e)||delete this[e]},e.prototype._digest=function(){for(var e=0,t=this._watchers.length;t>e;e++)this._watchers[e].update(!0)},e.prototype._initComputed=function(){var e=this.$options.computed;if(e)for(var i in e){var s=e[i],o={enumerable:!0,configurable:!0};"function"==typeof s?(o.get=r(s,this),o.set=t):(o.get=s.get?s.cache!==!1?r(s.get,this):p(s.get,this):t,o.set=s.set?p(s.set,this):t),Object.defineProperty(this,i,o)}},e.prototype._initMethods=function(){var e=this.$options.methods;if(e)for(var t in e)this[t]=p(e[t],this)},e.prototype._initMeta=function(){var e=this.$options._meta;if(e)for(var t in e)qe(this,t,e[t])}}function pi(e){function t(e,t){for(var i,r,s,o=t.attributes,n=0,a=o.length;a>n;n++)i=o[n].name,Ko.test(i)&&(i=i.replace(Ko,""),r=o[n].value,Le(r)&&(r+=".apply(this, $arguments)"),s=(e._scope||e._context).$eval(r,!0),s._fromParent=!0,e.$on(i.replace(Ko),s))}function i(e,t,i){if(i){var s,o,n,a;for(o in i)if(s=i[o],Hi(s))for(n=0,a=s.length;a>n;n++)r(e,t,o,s[n]);else r(e,t,o,s)}}function r(e,t,i,s,o){var n=typeof s;if("function"===n)e[t](i,s,o);else if("string"===n){var a=e.$options.methods,l=a&&a[s];l?e[t](i,l,o):qr('Unknown method: "'+s+'" when registering callback for '+t+': "'+i+'".',e)}else s&&"object"===n&&r(e,t,i,s.handler,s)}function s(){this._isAttached||(this._isAttached=!0,this.$children.forEach(o))}function o(e){!e._isAttached&&O(e.$el)&&e._callHook("attached")}function n(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(a))}function a(e){e._isAttached&&!O(e.$el)&&e._callHook("detached")}e.prototype._initEvents=function(){var e=this.$options;e._asComponent&&t(this,e.el),i(this,"$on",e.events),i(this,"$watch",e.watch)},e.prototype._initDOMHooks=function(){this.$on("hook:attached",s),this.$on("hook:detached",n)},e.prototype._callHook=function(e){this.$emit("pre-hook:"+e);var t=this.$options[e];if(t)for(var i=0,r=t.length;r>i;i++)t[i].call(this);this.$emit("hook:"+e)}}function fi(){}function mi(e,t,i,r,s,o){this.vm=t,this.el=i,this.descriptor=e,this.name=e.name,this.expression=e.expression,this.arg=e.arg,this.modifiers=e.modifiers,this.filters=e.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=r,this._scope=s,this._frag=o,this.el&&(this.el._vue_directives=this.el._vue_directives||[],this.el._vue_directives.push(this))}function gi(e){e.prototype._updateRef=function(e){var t=this.$options._ref;if(t){var i=(this._scope||this._context).$refs;e?i[t]===this&&(i[t]=null):i[t]=this}},e.prototype._compile=function(e){var t=this.$options,i=e;if(e=ni(e,t),this._initElement(e),1!==e.nodeType||null===L(e,"v-pre")){var r=this._context&&this._context.$options,s=Ft(e,t,r);hi(this,t._content);var o,n=this.constructor;t._linkerCachable&&(o=n.linker,o||(o=n.linker=Ht(e,t)));var a=s(this,e,this._scope),l=o?o(this,e):Ht(e,t)(this,e);this._unlinkFn=function(){a(),l(!0)},t.replace&&U(i,e),this._isCompiled=!0,this._callHook("compiled")}},e.prototype._initElement=function(e){ae(e)?(this._isFragment=!0,this.$el=this._fragmentStart=e.firstChild,this._fragmentEnd=e.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=e):this.$el=e,this.$el.__vue__=this,this._callHook("beforeCompile")},e.prototype._bindDir=function(e,t,i,r,s){this._directives.push(new mi(e,this,t,i,r,s))},e.prototype._destroy=function(e,t){if(this._isBeingDestroyed)return void(t||this._cleanup());var i,r,s=this,o=function(){!i||r||t||s._cleanup()};e&&this.$el&&(r=!0,this.$remove(function(){r=!1,o()})),this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var n,a=this.$parent;for(a&&!a._isBeingDestroyed&&(a.$children.$remove(this),this._updateRef(!0)),n=this.$children.length;n--;)this.$children[n].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),n=this._watchers.length;n--;)this._watchers[n].teardown();this.$el&&(this.$el.__vue__=null),i=!0,o()},e.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data&&this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}function vi(e){e.prototype._applyFilters=function(e,t,i,r){var s,o,n,a,l,d,h,c,u;for(d=0,h=i.length;h>d;d++)if(s=i[r?h-d-1:d],o=ve(this.$options,"filters",s.name,!0),o&&(o=r?o.write:o.read||o,"function"==typeof o)){if(n=r?[e,t]:[e],l=r?2:1,s.args)for(c=0,u=s.args.length;u>c;c++)a=s.args[c],n[c+l]=a.dynamic?this.$get(a.value):a.value;e=o.apply(this,n)}return e},e.prototype._resolveComponent=function(t,i){var r;if(r="function"==typeof t?t:ve(this.$options,"components",t,!0))if(r.options)i(r);else if(r.resolved)i(r.resolved);else if(r.requested)r.pendingCallbacks.push(i);else{r.requested=!0;var s=r.pendingCallbacks=[i];r.call(this,function(t){v(t)&&(t=e.extend(t)),r.resolved=t;for(var i=0,o=s.length;o>i;i++)s[i](t)},function(e){qr("Failed to resolve async component"+("string"==typeof t?": "+t:"")+". "+(e?"\nReason: "+e:""))})}}}function xi(e){function i(e){return JSON.parse(JSON.stringify(e))}e.prototype.$get=function(e,t){var i=Oe(e);if(i){if(t){var r=this;return function(){r.$arguments=f(arguments);var e=i.get.call(r,r);return r.$arguments=null,e}}try{return i.get.call(this,this)}catch(s){}}},e.prototype.$set=function(e,t){var i=Oe(e,!0);i&&i.set&&i.set.call(this,this,t)},e.prototype.$delete=function(e){t(this._data,e)},e.prototype.$watch=function(e,t,i){var r,s=this;"string"==typeof e&&(r=C(e),e=r.expression);var o=new Ve(s,e,t,{deep:i&&i.deep,sync:i&&i.sync,filters:r&&r.filters,user:!i||i.user!==!1});return i&&i.immediate&&t.call(s,o.value),function(){o.teardown()}},e.prototype.$eval=function(e,t){if(Xo.test(e)){var i=C(e),r=this.$get(i.expression,t);return i.filters?this._applyFilters(r,null,i.filters):r}return this.$get(e,t)},e.prototype.$interpolate=function(e){var t=D(e),i=this;return t?1===t.length?i.$eval(t[0].value)+"":t.map(function(e){return e.tag?i.$eval(e.value):e.value}).join(""):e},e.prototype.$log=function(e){var t=e?Ie(this._data,e):this._data;if(t&&(t=i(t)),!e){var r;for(r in this.$options.computed)t[r]=i(this[r]);if(this._props)for(r in this._props)t[r]=i(this[r])}}}function wi(e){function t(e,t,r,s,o,n){t=i(t);var a=!O(t),l=s===!1||a?o:n,d=!a&&!e._isAttached&&!O(e.$el);return e._isFragment?(oe(e._fragmentStart,e._fragmentEnd,function(i){l(i,t,e)}),r&&r()):l(e.$el,t,e,r),d&&e._callHook("attached"),e}function i(e){return"string"==typeof e?document.querySelector(e):e}function r(e,t,i,r){t.appendChild(e),r&&r()}function s(e,t,i,r){R(e,t),r&&r()}function o(e,t,i){V(e),i&&i()}e.prototype.$nextTick=function(e){Xi(e,this)},e.prototype.$appendTo=function(e,i,s){return t(this,e,i,s,r,B)},e.prototype.$prependTo=function(e,t,r){return e=i(e),e.hasChildNodes()?this.$before(e.firstChild,t,r):this.$appendTo(e,t,r),this},e.prototype.$before=function(e,i,r){return t(this,e,i,r,s,M)},e.prototype.$after=function(e,t,r){return e=i(e),e.nextSibling?this.$before(e.nextSibling,t,r):this.$appendTo(e.parentNode,t,r),this},e.prototype.$remove=function(e,t){if(!this.$el.parentNode)return e&&e();var i=this._isAttached&&O(this.$el);i||(t=!1);var r=this,s=function(){i&&r._callHook("detached"),e&&e()};if(this._isFragment)ne(this._fragmentStart,this._fragmentEnd,this,this._fragment,s);else{var n=t===!1?o:H;n(this.$el,this,s)}return this}}function bi(e){function t(e,t,r){var s=e.$parent;if(s&&r&&!i.test(t))for(;s;)s._eventsCount[t]=(s._eventsCount[t]||0)+r,s=s.$parent}e.prototype.$on=function(e,i){return(this._events[e]||(this._events[e]=[])).push(i),t(this,e,1),this},e.prototype.$once=function(e,t){function i(){r.$off(e,i),t.apply(this,arguments)}var r=this;return i.fn=t,this.$on(e,i),this},e.prototype.$off=function(e,i){var r;if(!arguments.length){if(this.$parent)for(e in this._events)r=this._events[e],r&&t(this,e,-r.length);return this._events={},this}if(r=this._events[e],!r)return this;if(1===arguments.length)return t(this,e,-r.length),this._events[e]=null,this;for(var s,o=r.length;o--;)if(s=r[o],s===i||s.fn===i){t(this,e,-1),r.splice(o,1);break}return this},e.prototype.$emit=function(e){var t="string"==typeof e;e=t?e:e.name;var i=this._events[e],r=t||!i;if(i){i=i.length>1?f(i):i;var s=t&&i.some(function(e){return e._fromParent});s&&(r=!1);for(var o=f(arguments,1),n=0,a=i.length;a>n;n++){var l=i[n],d=l.apply(this,o);d!==!0||s&&!l._fromParent||(r=!0)}}return r},e.prototype.$broadcast=function(e){var t="string"==typeof e;if(e=t?e:e.name,this._eventsCount[e]){var i=this.$children,r=f(arguments);t&&(r[0]={name:e,source:this});for(var s=0,o=i.length;o>s;s++){var n=i[s],a=n.$emit.apply(n,r);a&&n.$broadcast.apply(n,r)}return this}},e.prototype.$dispatch=function(e){var t=this.$emit.apply(this,arguments);if(t){var i=this.$parent,r=f(arguments);for(r[0]={name:e,source:this};i;)t=i.$emit.apply(i,r),i=t?i.$parent:null;return this}};var i=/^hook:/}function yi(e){function t(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}e.prototype.$mount=function(e){return this._isCompiled?void qr("$mount() should be called only once.",this):(e=E(e),e||(e=document.createElement("div")),this._compile(e),this._initDOMHooks(),O(this.$el)?(this._callHook("attached"),t.call(this)):this.$once("hook:attached",t),this)},e.prototype.$destroy=function(e,t){this._destroy(e,t)},e.prototype.$compile=function(e,t,i,r){return Ht(e,this.$options,!0)(this,e,t,i,r)}}function _i(e){this._init(e)}function ji(e,t,i){return i=i?parseInt(i,10):0,t=n(t),"number"==typeof t?e.slice(i,i+t):e}function qi(e,t,i){if(e=en(e),null==t)return e;if("function"==typeof t)return e.filter(t);t=(""+t).toLowerCase();for(var r,s,o,n,a="in"===i?3:2,l=Array.prototype.concat.apply([],f(arguments,a)),d=[],h=0,c=e.length;c>h;h++)if(r=e[h],
o=r&&r.$value||r,n=l.length){for(;n--;)if(s=l[n],"$key"===s&&Ci(r.$key,t)||Ci(Ie(o,s),t)){d.push(r);break}}else Ci(r,t)&&d.push(r);return d}function Ti(e){function t(e,t,i){var s=r[i];return s&&("$key"!==s&&(g(e)&&"$value"in e&&(e=e.$value),g(t)&&"$value"in t&&(t=t.$value)),e=g(e)?Ie(e,s):e,t=g(t)?Ie(t,s):t),e===t?0:e>t?o:-o}var i=null,r=void 0;e=en(e);var s=f(arguments,1),o=s[s.length-1];"number"==typeof o?(o=0>o?-1:1,s=s.length>1?s.slice(0,-1):s):o=1;var n=s[0];return n?("function"==typeof n?i=function(e,t){return n(e,t)*o}:(r=Array.prototype.concat.apply([],s),i=function(e,s,o){return o=o||0,o>=r.length-1?t(e,s,o):t(e,s,o)||i(e,s,o+1)}),e.slice().sort(i)):e}function Ci(e,t){var i;if(v(e)){var r=Object.keys(e);for(i=r.length;i--;)if(Ci(e[r[i]],t))return!0}else if(Hi(e)){for(i=e.length;i--;)if(Ci(e[i],t))return!0}else if(null!=e)return e.toString().toLowerCase().indexOf(t)>-1}function ki(i){function r(e){return new Function("return function "+u(e)+" (options) { this._init(options) }")()}i.options={directives:bo,elementDirectives:Qo,filters:rn,transitions:{},components:{},partials:{},replace:!0},i.util=Or,i.config=jr,i.set=e,i["delete"]=t,i.nextTick=Xi,i.compiler=Yo,i.FragmentFactory=st,i.internalDirectives=Lo,i.parsers={path:is,text:br,template:As,directive:fr,expression:gs},i.cid=0;var s=1;i.extend=function(e){e=e||{};var t=this,i=0===t.cid;if(i&&e._Ctor)return e._Ctor;var o=e.name||t.options.name;/^[a-zA-Z][\w-]*$/.test(o)||(qr('Invalid component name: "'+o+'". Component names can only contain alphanumeric characaters and the hyphen.'),o=null);var n=r(o||"VueComponent");return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.cid=s++,n.options=ge(t.options,e),n["super"]=t,n.extend=t.extend,jr._assetTypes.forEach(function(e){n[e]=t[e]}),o&&(n.options.components[o]=n),i&&(e._Ctor=n),n},i.use=function(e){if(!e.installed){var t=f(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):e.apply(null,t),e.installed=!0,this}},i.mixin=function(e){i.options=ge(i.options,e)},jr._assetTypes.forEach(function(e){i[e]=function(t,r){return r?("component"===e&&(Sr.test(t)||Dr.test(t))&&qr("Do not use built-in or reserved HTML elements as component id: "+t),"component"===e&&v(r)&&(r.name=t,r=i.extend(r)),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}}),m(i.transition,Cr)}var Si=Object.prototype.hasOwnProperty,Di=/^\s?(true|false|-?[\d\.]+|'[^']*'|"[^"]*")\s?$/,Ii=/-(\w)/g,Pi=/([a-z\d])([A-Z])/g,Ai=/(?:^|[-_\/])(\w)/g,Bi=Object.prototype.toString,Mi="[object Object]",Hi=Array.isArray,zi="__proto__"in{},Ei="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),Oi=Ei&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Li=Ei&&window.navigator.userAgent.toLowerCase(),Ni=Li&&Li.indexOf("msie 9.0")>0,Fi=Li&&Li.indexOf("android")>0,Ri=Li&&/(iphone|ipad|ipod|ios)/i.test(Li),Wi=Li&&Li.indexOf("micromessenger")>0,Vi=void 0,Gi=void 0,Ui=void 0,$i=void 0;if(Ei&&!Ni){var Yi=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,Ki=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;Vi=Yi?"WebkitTransition":"transition",Gi=Yi?"webkitTransitionEnd":"transitionend",Ui=Ki?"WebkitAnimation":"animation",$i=Ki?"webkitAnimationEnd":"animationend"}var Xi=function(){function e(){r=!1;var e=i.slice(0);i=[];for(var t=0;t<e.length;t++)e[t]()}var t,i=[],r=!1;if("undefined"==typeof MutationObserver||Wi&&Ri){var s=Ei?window:"undefined"!=typeof global?global:{};t=s.setImmediate||setTimeout}else{var o=1,n=new MutationObserver(e),a=document.createTextNode(o);n.observe(a,{characterData:!0}),t=function(){o=(o+1)%2,a.data=o}}return function(s,o){var n=o?function(){s.call(o)}:s;i.push(n),r||(r=!0,t(e,0))}}(),Zi=void 0;"undefined"!=typeof Set&&Set.toString().match(/native code/)?Zi=Set:(Zi=function(){this.set=Object.create(null)},Zi.prototype.has=function(e){return void 0!==this.set[e]},Zi.prototype.add=function(e){this.set[e]=1},Zi.prototype.clear=function(){this.set=Object.create(null)});var Ji=j.prototype;Ji.put=function(e,t){var i;this.size===this.limit&&(i=this.shift());var r=this.get(e,!0);return r||(r={key:e},this._keymap[e]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size++),r.value=t,i},Ji.shift=function(){var e=this.head;return e&&(this.head=this.head.newer,this.head.older=void 0,e.newer=e.older=void 0,this._keymap[e.key]=void 0,this.size--),e},Ji.get=function(e,t){var i=this._keymap[e];if(void 0!==i)return i===this.tail?t?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i,t?i:i.value)};var Qi,er,tr,ir,rr,sr,or,nr,ar,lr,dr,hr,cr=new j(1e3),ur=/[^\s'"]+|'[^']*'|"[^"]*"/g,pr=/^in$|^-?\d+/,fr=Object.freeze({parseDirective:C}),mr=/[-.*+?^${}()|[\]\/\\]/g,gr=void 0,vr=void 0,xr=void 0,wr=/[^|]\|[^|]/,br=Object.freeze({compileRegex:S,parseText:D,tokensToExp:I}),yr=["{{","}}"],_r=["{{{","}}}"],jr=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,devtools:!0,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return yr},set:function(e){yr=e,S()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return _r},set:function(e){_r=e,S()},configurable:!0,enumerable:!0}}),qr=void 0,Tr=void 0;!function(){var e="undefined"!=typeof console;qr=function(t,i){e&&!jr.silent},Tr=function(e){var t=e._isVue?e.$options.name:e.name;return t?" (found in component: <"+c(t)+">)":""}}();var Cr=Object.freeze({appendWithTransition:B,beforeWithTransition:M,removeWithTransition:H,applyTransition:z}),kr=/^v-ref:/,Sr=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/i,Dr=/^(slot|partial|component)$/i,Ir=void 0;Ir=function(e,t){return t.indexOf("-")>-1?e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:/HTMLUnknownElement/.test(e.toString())&&!/^(data|time|rtc|rb)$/.test(t)};var Pr=jr.optionMergeStrategies=Object.create(null);Pr.data=function(e,t,i){return i?e||t?function(){var r="function"==typeof t?t.call(i):t,s="function"==typeof e?e.call(i):void 0;return r?ce(r,s):s}:void 0:t?"function"!=typeof t?(qr('The "data" option should be a function that returns a per-instance value in component definitions.',i),e):e?function(){return ce(t.call(this),e.call(this))}:t:e},Pr.el=function(e,t,i){if(!i&&t&&"function"!=typeof t)return void qr('The "el" option should be a function that returns a per-instance value in component definitions.',i);var r=t||e;return i&&"function"==typeof r?r.call(i):r},Pr.init=Pr.created=Pr.ready=Pr.attached=Pr.detached=Pr.beforeCompile=Pr.compiled=Pr.beforeDestroy=Pr.destroyed=Pr.activate=function(e,t){return t?e?e.concat(t):Hi(t)?t:[t]:e},jr._assetTypes.forEach(function(e){Pr[e+"s"]=ue}),Pr.watch=Pr.events=function(e,t){if(!t)return e;if(!e)return t;var i={};m(i,e);for(var r in t){var s=i[r],o=t[r];s&&!Hi(s)&&(s=[s]),i[r]=s?s.concat(o):[o]}return i},Pr.props=Pr.methods=Pr.computed=function(e,t){if(!t)return e;if(!e)return t;var i=Object.create(null);return m(i,e),m(i,t),i};var Ar=function(e,t){return void 0===t?e:t},Br=0;xe.target=null,xe.prototype.addSub=function(e){this.subs.push(e)},xe.prototype.removeSub=function(e){this.subs.$remove(e)},xe.prototype.depend=function(){xe.target.addDep(this)},xe.prototype.notify=function(){for(var e=f(this.subs),t=0,i=e.length;i>t;t++)e[t].update()};var Mr=Array.prototype,Hr=Object.create(Mr);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Mr[e];x(Hr,e,function(){for(var i=arguments.length,r=new Array(i);i--;)r[i]=arguments[i];var s,o=t.apply(this,r),n=this.__ob__;switch(e){case"push":s=r;break;case"unshift":s=r;break;case"splice":s=r.slice(2)}return s&&n.observeArray(s),n.dep.notify(),o})}),x(Mr,"$set",function(e,t){return e>=this.length&&(this.length=Number(e)+1),this.splice(e,1,t)[0]}),x(Mr,"$remove",function(e){if(this.length){var t=b(this,e);return t>-1?this.splice(t,1):void 0}});var zr=Object.getOwnPropertyNames(Hr),Er=!0;be.prototype.walk=function(e){for(var t=Object.keys(e),i=0,r=t.length;r>i;i++)this.convert(t[i],e[t[i]])},be.prototype.observeArray=function(e){for(var t=0,i=e.length;i>t;t++)je(e[t])},be.prototype.convert=function(e,t){qe(this.value,e,t)},be.prototype.addVm=function(e){(this.vms||(this.vms=[])).push(e)},be.prototype.removeVm=function(e){this.vms.$remove(e)};var Or=Object.freeze({defineReactive:qe,set:e,del:t,hasOwn:i,isLiteral:r,isReserved:s,_toString:o,toNumber:n,toBoolean:a,stripQuotes:l,camelize:d,hyphenate:c,classify:u,bind:p,toArray:f,extend:m,isObject:g,isPlainObject:v,def:x,debounce:w,indexOf:b,cancellable:y,looseEqual:_,isArray:Hi,hasProto:zi,inBrowser:Ei,devtools:Oi,isIE9:Ni,isAndroid:Fi,isIos:Ri,isWechat:Wi,get transitionProp(){return Vi},get transitionEndEvent(){return Gi},get animationProp(){return Ui},get animationEndEvent(){return $i},nextTick:Xi,get _Set(){return Zi},query:E,inDoc:O,getAttr:L,getBindAttr:N,hasBindAttr:F,before:R,after:W,remove:V,prepend:G,replace:U,on:$,off:Y,setClass:X,addClass:Z,removeClass:J,extractContent:Q,trimNode:ee,isTemplate:ie,createAnchor:re,findRef:se,mapNodeRange:oe,removeNodeRange:ne,isFragment:ae,getOuterHTML:le,mergeOptions:ge,resolveAsset:ve,checkComponentAttr:de,commonTagRE:Sr,reservedTagRE:Dr,get warn(){return qr}}),Lr=0,Nr=new j(1e3),Fr=0,Rr=1,Wr=2,Vr=3,Gr=0,Ur=1,$r=2,Yr=3,Kr=4,Xr=5,Zr=6,Jr=7,Qr=8,es=[];es[Gr]={ws:[Gr],ident:[Yr,Fr],"[":[Kr],eof:[Jr]},es[Ur]={ws:[Ur],".":[$r],"[":[Kr],eof:[Jr]},es[$r]={ws:[$r],ident:[Yr,Fr]},es[Yr]={ident:[Yr,Fr],0:[Yr,Fr],number:[Yr,Fr],ws:[Ur,Rr],".":[$r,Rr],"[":[Kr,Rr],eof:[Jr,Rr]},es[Kr]={"'":[Xr,Fr],'"':[Zr,Fr],"[":[Kr,Wr],"]":[Ur,Vr],eof:Qr,"else":[Kr,Fr]},es[Xr]={"'":[Kr,Fr],eof:Qr,"else":[Xr,Fr]},es[Zr]={'"':[Kr,Fr],eof:Qr,"else":[Zr,Fr]};var ts;ts=function(e,t){qr('You are setting a non-existent path "'+e.raw+'" on a vm instance. Consider pre-initializing the property with the "data" option for more reliable reactivity and better performance.',t)};var is=Object.freeze({parsePath:De,getPath:Ie,setPath:Pe}),rs=new j(1e3),ss="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",os=new RegExp("^("+ss.replace(/,/g,"\\b|")+"\\b)"),ns="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public",as=new RegExp("^("+ns.replace(/,/g,"\\b|")+"\\b)"),ls=/\s/g,ds=/\n/g,hs=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,cs=/"(\d+)"/g,us=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,ps=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,fs=/^(?:true|false)$/,ms=[],gs=Object.freeze({parseExpression:Oe,isSimplePath:Le}),vs=[],xs=[],ws={},bs={},ys=!1,_s=0;Ve.prototype.get=function(){this.beforeGet();var e,t=this.scope||this.vm;try{e=this.getter.call(t,t)}catch(i){jr.warnExpressionErrors&&qr('Error when evaluating expression "'+this.expression+'": '+i.toString(),this.vm)}return this.deep&&Ge(e),this.preProcess&&(e=this.preProcess(e)),this.filters&&(e=t._applyFilters(e,null,this.filters,!1)),this.postProcess&&(e=this.postProcess(e)),this.afterGet(),e},Ve.prototype.set=function(e){var t=this.scope||this.vm;this.filters&&(e=t._applyFilters(e,this.value,this.filters,!0));try{this.setter.call(t,t,e)}catch(i){jr.warnExpressionErrors&&qr('Error when evaluating setter "'+this.expression+'": '+i.toString(),this.vm)}var r=t.$forContext;if(r&&r.alias===this.expression){if(r.filters)return void qr("It seems you are using two-way binding on a v-for alias ("+this.expression+"), and the v-for has filters. This will not work properly. Either remove the filters or use an array of objects and bind to object properties instead.",this.vm);r._withLock(function(){t.$key?r.rawValue[t.$key]=e:r.rawValue.$set(t.$index,e)})}},Ve.prototype.beforeGet=function(){xe.target=this},Ve.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ve.prototype.afterGet=function(){xe.target=null;for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Ve.prototype.update=function(e){this.lazy?this.dirty=!0:this.sync||!jr.async?this.run():(this.shallow=this.queued?e?this.shallow:!1:!!e,this.queued=!0,jr.debug&&(this.prevError=new Error("[vue] async stack trace")),We(this))},Ve.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||(g(e)||this.deep)&&!this.shallow){var t=this.value;this.value=e;var i=this.prevError;if(jr.debug&&i){this.prevError=null;try{this.cb.call(this.vm,e,t)}catch(r){throw Xi(function(){throw i},0),r}}else this.cb.call(this.vm,e,t)}this.queued=this.shallow=!1}},Ve.prototype.evaluate=function(){var e=xe.target;this.value=this.get(),this.dirty=!1,xe.target=e},Ve.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Ve.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||this.vm._watchers.$remove(this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var js=new Zi,qs={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(e){this.el[this.attr]=o(e)}},Ts=new j(1e3),Cs=new j(1e3),ks={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};ks.td=ks.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],ks.option=ks.optgroup=[1,'<select multiple="multiple">',"</select>"],ks.thead=ks.tbody=ks.colgroup=ks.caption=ks.tfoot=[1,"<table>","</table>"],ks.g=ks.defs=ks.symbol=ks.use=ks.image=ks.text=ks.circle=ks.ellipse=ks.line=ks.path=ks.polygon=ks.polyline=ks.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var Ss=/<([\w:-]+)/,Ds=/&#?\w+?;/,Is=function(){if(Ei){var e=document.createElement("div");return e.innerHTML="<template>1</template>",!e.cloneNode(!0).firstChild.innerHTML}return!1}(),Ps=function(){if(Ei){var e=document.createElement("textarea");return e.placeholder="t","t"===e.cloneNode(!0).value}return!1}(),As=Object.freeze({cloneNode:Ke,parseTemplate:Xe}),Bs={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=re("v-html"),U(this.el,this.anchor))},update:function(e){e=o(e),this.nodes?this.swap(e):this.el.innerHTML=e},swap:function(e){for(var t=this.nodes.length;t--;)V(this.nodes[t]);var i=Xe(e,!0,!0);this.nodes=f(i.childNodes),R(i,this.anchor)}};Ze.prototype.callHook=function(e){var t,i;for(t=0,i=this.childFrags.length;i>t;t++)this.childFrags[t].callHook(e);for(t=0,i=this.children.length;i>t;t++)e(this.children[t])},Ze.prototype.beforeRemove=function(){var e,t;for(e=0,t=this.childFrags.length;t>e;e++)this.childFrags[e].beforeRemove(!1);for(e=0,t=this.children.length;t>e;e++)this.children[e].$destroy(!1,!0);var i=this.unlink.dirs;for(e=0,t=i.length;t>e;e++)i[e]._watcher&&i[e]._watcher.teardown()},Ze.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.node.__v_frag=null,this.unlink()};var Ms=new j(5e3);st.prototype.create=function(e,t,i){var r=Ke(this.template);return new Ze(this.linker,this.vm,r,e,t,i)};var Hs=700,zs=800,Es=850,Os=1100,Ls=1500,Ns=1500,Fs=1750,Rs=2100,Ws=2200,Vs=2300,Gs=0,Us={priority:Ws,terminal:!0,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){var e=this.expression.match(/(.*) (?:in|of) (.*)/);if(e){var t=e[1].match(/\((.*),(.*)\)/);t?(this.iterator=t[1].trim(),this.alias=t[2].trim()):this.alias=e[1].trim(),this.expression=e[2]}if(!this.alias)return void qr('Invalid v-for expression "'+this.descriptor.raw+'": alias is required.',this.vm);this.id="__v-for__"+ ++Gs;var i=this.el.tagName;this.isOption=("OPTION"===i||"OPTGROUP"===i)&&"SELECT"===this.el.parentNode.tagName,this.start=re("v-for-start"),this.end=re("v-for-end"),U(this.el,this.end),R(this.start,this.end),this.cache=Object.create(null),this.factory=new st(this.vm,this.el)},update:function(e){this.diff(e),this.updateRef(),this.updateModel()},diff:function(e){var t,r,s,o,n,a,l=e[0],d=this.fromObject=g(l)&&i(l,"$key")&&i(l,"$value"),h=this.params.trackBy,c=this.frags,u=this.frags=new Array(e.length),p=this.alias,f=this.iterator,m=this.start,v=this.end,x=O(m),w=!c;for(t=0,r=e.length;r>t;t++)l=e[t],o=d?l.$key:null,n=d?l.$value:l,a=!g(n),s=!w&&this.getCachedFrag(n,t,o),s?(s.reused=!0,s.scope.$index=t,o&&(s.scope.$key=o),f&&(s.scope[f]=null!==o?o:t),(h||d||a)&&we(function(){s.scope[p]=n})):(s=this.create(n,p,t,o),s.fresh=!w),u[t]=s,w&&s.before(v);if(!w){var b=0,y=c.length-u.length;for(this.vm._vForRemoving=!0,t=0,r=c.length;r>t;t++)s=c[t],s.reused||(this.deleteCachedFrag(s),this.remove(s,b++,y,x));this.vm._vForRemoving=!1,b&&(this.vm._watchers=this.vm._watchers.filter(function(e){return e.active}));var _,j,q,T=0;for(t=0,r=u.length;r>t;t++)s=u[t],_=u[t-1],j=_?_.staggerCb?_.staggerAnchor:_.end||_.node:m,s.reused&&!s.staggerCb?(q=ot(s,m,this.id),q===_||q&&ot(q,m,this.id)===_||this.move(s,j)):this.insert(s,T++,j,x),s.reused=s.fresh=!1}},create:function(e,t,i,r){var s=this._host,o=this._scope||this.vm,n=Object.create(o);n.$refs=Object.create(o.$refs),n.$els=Object.create(o.$els),n.$parent=o,n.$forContext=this,we(function(){qe(n,t,e)}),qe(n,"$index",i),r?qe(n,"$key",r):n.$key&&x(n,"$key",null),this.iterator&&qe(n,this.iterator,null!==r?r:i);var a=this.factory.create(s,n,this._frag);return a.forId=this.id,this.cacheFrag(e,a,i,r),a},updateRef:function(){var e=this.descriptor.ref;if(e){var t,i=(this._scope||this.vm).$refs;this.fromObject?(t={},this.frags.forEach(function(e){t[e.scope.$key]=nt(e)})):t=this.frags.map(nt),i[e]=t}},updateModel:function(){if(this.isOption){var e=this.start.parentNode,t=e&&e.__v_model;t&&t.forceUpdate()}},insert:function(e,t,i,r){e.staggerCb&&(e.staggerCb.cancel(),e.staggerCb=null);var s=this.getStagger(e,t,null,"enter");if(r&&s){var o=e.staggerAnchor;o||(o=e.staggerAnchor=re("stagger-anchor"),o.__v_frag=e),W(o,i);var n=e.staggerCb=y(function(){e.staggerCb=null,e.before(o),V(o)});setTimeout(n,s)}else{var a=i.nextSibling;a||(W(this.end,i),a=this.end),e.before(a)}},remove:function(e,t,i,r){if(e.staggerCb)return e.staggerCb.cancel(),void(e.staggerCb=null);var s=this.getStagger(e,t,i,"leave");if(r&&s){var o=e.staggerCb=y(function(){e.staggerCb=null,e.remove()});setTimeout(o,s)}else e.remove()},move:function(e,t){t.nextSibling||this.end.parentNode.appendChild(this.end),e.before(t.nextSibling,!1)},cacheFrag:function(e,t,r,s){var o,n=this.params.trackBy,a=this.cache,l=!g(e);s||n||l?(o=lt(r,s,e,n),a[o]?"$index"!==n&&this.warnDuplicate(e):a[o]=t):(o=this.id,i(e,o)?null===e[o]?e[o]=t:this.warnDuplicate(e):Object.isExtensible(e)?x(e,o,t):qr("Frozen v-for objects cannot be automatically tracked, make sure to provide a track-by key.")),t.raw=e},getCachedFrag:function(e,t,i){var r,s=this.params.trackBy,o=!g(e);if(i||s||o){var n=lt(t,i,e,s);r=this.cache[n]}else r=e[this.id];return r&&(r.reused||r.fresh)&&this.warnDuplicate(e),r},deleteCachedFrag:function(e){var t=e.raw,r=this.params.trackBy,s=e.scope,o=s.$index,n=i(s,"$key")&&s.$key,a=!g(t);if(r||n||a){var l=lt(o,n,t,r);this.cache[l]=null}else t[this.id]=null,e.raw=null},getStagger:function(e,t,i,r){r+="Stagger";var s=e.node.__v_trans,o=s&&s.hooks,n=o&&(o[r]||o.stagger);return n?n.call(e,t,i):t*parseInt(this.params[r]||this.params.stagger,10)},_preProcess:function(e){return this.rawValue=e,e},_postProcess:function(e){if(Hi(e))return e;if(v(e)){for(var t,i=Object.keys(e),r=i.length,s=new Array(r);r--;)t=i[r],s[r]={$key:t,$value:e[t]};return s}return"number"!=typeof e||isNaN(e)||(e=at(e)),e||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var e,t=this.frags.length;t--;)e=this.frags[t],this.deleteCachedFrag(e),e.destroy()}};Us.warnDuplicate=function(e){qr('Duplicate value found in v-for="'+this.descriptor.raw+'": '+JSON.stringify(e)+'. Use track-by="$index" if you are expecting duplicate values.',this.vm)};var $s={priority:Rs,terminal:!0,bind:function(){var e=this.el;if(e.__vue__)qr('v-if="'+this.expression+'" cannot be used on an instance root element.',this.vm),this.invalid=!0;else{var t=e.nextElementSibling;t&&null!==L(t,"v-else")&&(V(t),this.elseEl=t),this.anchor=re("v-if"),U(e,this.anchor)}},update:function(e){this.invalid||(e?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.factory||(this.factory=new st(this.vm,this.el)),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseEl&&!this.elseFrag&&(this.elseFactory||(this.elseFactory=new st(this.elseEl._context||this.vm,this.elseEl)),this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy(),this.elseFrag&&this.elseFrag.destroy()}},Ys={bind:function(){var e=this.el.nextElementSibling;e&&null!==L(e,"v-else")&&(this.elseEl=e)},update:function(e){this.apply(this.el,e),this.elseEl&&this.apply(this.elseEl,!e)},apply:function(e,t){function i(){e.style.display=t?"":"none"}O(e)?z(e,t?1:-1,i,this.vm):i()}},Ks={bind:function(){var e=this,t=this.el,i="range"===t.type,r=this.params.lazy,s=this.params.number,o=this.params.debounce,a=!1;if(Fi||i||(this.on("compositionstart",function(){a=!0}),this.on("compositionend",function(){a=!1,r||e.listener()})),this.focused=!1,i||r||(this.on("focus",function(){e.focused=!0}),this.on("blur",function(){e.focused=!1,e._frag&&!e._frag.inserted||e.rawListener()})),this.listener=this.rawListener=function(){if(!a&&e._bound){var r=s||i?n(t.value):t.value;e.set(r),Xi(function(){e._bound&&!e.focused&&e.update(e._watcher.value)})}},o&&(this.listener=w(this.listener,o)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery){var l=jQuery.fn.on?"on":"bind";jQuery(t)[l]("change",this.rawListener),r||jQuery(t)[l]("input",this.listener)}else this.on("change",this.rawListener),r||this.on("input",this.listener);!r&&Ni&&(this.on("cut",function(){Xi(e.listener)}),this.on("keyup",function(t){46!==t.keyCode&&8!==t.keyCode||e.listener()})),(t.hasAttribute("value")||"TEXTAREA"===t.tagName&&t.value.trim())&&(this.afterBind=this.listener)},update:function(e){this.el.value=o(e)},unbind:function(){var e=this.el;if(this.hasjQuery){var t=jQuery.fn.off?"off":"unbind";jQuery(e)[t]("change",this.listener),jQuery(e)[t]("input",this.listener)}}},Xs={bind:function(){var e=this,t=this.el;this.getValue=function(){if(t.hasOwnProperty("_value"))return t._value;var i=t.value;return e.params.number&&(i=n(i)),i},this.listener=function(){e.set(e.getValue())},this.on("change",this.listener),t.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(e){this.el.checked=_(e,this.getValue())}},Zs={bind:function(){var e=this,t=this.el;this.forceUpdate=function(){e._watcher&&e.update(e._watcher.get())};var i=this.multiple=t.hasAttribute("multiple");this.listener=function(){var r=dt(t,i);r=e.params.number?Hi(r)?r.map(n):n(r):r,e.set(r)},this.on("change",this.listener);var r=dt(t,i,!0);(i&&r.length||!i&&null!==r)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",this.forceUpdate)},update:function(e){var t=this.el;t.selectedIndex=-1;for(var i,r,s=this.multiple&&Hi(e),o=t.options,n=o.length;n--;)i=o[n],r=i.hasOwnProperty("_value")?i._value:i.value,i.selected=s?ht(e,r)>-1:_(e,r)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},Js={bind:function(){function e(){var e=i.checked;return e&&i.hasOwnProperty("_trueValue")?i._trueValue:!e&&i.hasOwnProperty("_falseValue")?i._falseValue:e}var t=this,i=this.el;this.getValue=function(){return i.hasOwnProperty("_value")?i._value:t.params.number?n(i.value):i.value},this.listener=function(){var r=t._watcher.value;if(Hi(r)){var s=t.getValue();i.checked?b(r,s)<0&&r.push(s):r.$remove(s)}else t.set(e())},this.on("change",this.listener),i.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(e){var t=this.el;Hi(e)?t.checked=b(e,this.getValue())>-1:t.hasOwnProperty("_trueValue")?t.checked=_(e,t._trueValue):t.checked=!!e}},Qs={text:Ks,radio:Xs,select:Zs,checkbox:Js},eo={priority:zs,twoWay:!0,handlers:Qs,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&!this.hasWrite&&qr('It seems you are using a read-only filter with v-model="'+this.descriptor.raw+'". You might want to use a two-way filter to ensure correct behavior.',this.vm);var e,t=this.el,i=t.tagName;if("INPUT"===i)e=Qs[t.type]||Qs.text;else if("SELECT"===i)e=Qs.select;else{if("TEXTAREA"!==i)return void qr("v-model does not support element type: "+i,this.vm);e=Qs.text}t.__v_model=this,e.bind.call(this),this.update=e.update,this._unbind=e.unbind},checkFilters:function(){var e=this.filters;if(e)for(var t=e.length;t--;){var i=ve(this.vm.$options,"filters",e[t].name);("function"==typeof i||i.read)&&(this.hasRead=!0),i.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},to={esc:27,tab:9,enter:13,space:32,"delete":[8,46],up:38,left:37,right:39,down:40},io={priority:Hs,acceptStatement:!0,keyCodes:to,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var e=this;this.iframeBind=function(){$(e.el.contentWindow,e.arg,e.handler,e.modifiers.capture)},this.on("load",this.iframeBind)}},update:function(e){if(this.descriptor.raw||(e=function(){}),"function"!=typeof e)return void qr("v-on:"+this.arg+'="'+this.expression+'" expects a function value, got '+e,this.vm);this.modifiers.stop&&(e=ut(e)),this.modifiers.prevent&&(e=pt(e)),this.modifiers.self&&(e=ft(e));var t=Object.keys(this.modifiers).filter(function(e){return"stop"!==e&&"prevent"!==e&&"self"!==e&&"capture"!==e});t.length&&(e=ct(e,t)),this.reset(),this.handler=e,this.iframeBind?this.iframeBind():$(this.el,this.arg,this.handler,this.modifiers.capture)},reset:function(){var e=this.iframeBind?this.el.contentWindow:this.el;this.handler&&Y(e,this.arg,this.handler)},unbind:function(){this.reset()}},ro=["-webkit-","-moz-","-ms-"],so=["Webkit","Moz","ms"],oo=/!important;?$/,no=Object.create(null),ao=null,lo={deep:!0,update:function(e){"string"==typeof e?this.el.style.cssText=e:Hi(e)?this.handleObject(e.reduce(m,{})):this.handleObject(e||{})},handleObject:function(e){var t,i,r=this.cache||(this.cache={});for(t in r)t in e||(this.handleSingle(t,null),delete r[t]);for(t in e)i=e[t],i!==r[t]&&(r[t]=i,this.handleSingle(t,i))},handleSingle:function(e,t){if(e=mt(e))if(null!=t&&(t+=""),t){var i=oo.test(t)?"important":"";i?(qr("It's probably a bad idea to use !important with inline rules. This feature will be deprecated in a future version of Vue."),t=t.replace(oo,"").trim(),this.el.style.setProperty(e.kebab,t,i)):this.el.style[e.camel]=t}else this.el.style[e.camel]=""}},ho="http://www.w3.org/1999/xlink",co=/^xlink:/,uo=/^v-|^:|^@|^(?:is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,po=/^(?:value|checked|selected|muted)$/,fo=/^(?:draggable|contenteditable|spellcheck)$/,mo={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},go={priority:Es,bind:function(){var e=this.arg,t=this.el.tagName;e||(this.deep=!0);var i=this.descriptor,r=i.interp;if(r){i.hasOneTime&&(this.expression=I(r,this._scope||this.vm)),(uo.test(e)||"name"===e&&("PARTIAL"===t||"SLOT"===t))&&(qr(e+'="'+i.raw+'": attribute interpolation is not allowed in Vue.js directives and special attributes.',this.vm),this.el.removeAttribute(e),this.invalid=!0);var s=e+'="'+i.raw+'": ';"src"===e&&qr(s+'interpolation in "src" attribute will cause a 404 request. Use v-bind:src instead.',this.vm),"style"===e&&qr(s+'interpolation in "style" attribute will cause the attribute to be discarded in Internet Explorer. Use v-bind:style instead.',this.vm)}},update:function(e){if(!this.invalid){var t=this.arg;this.arg?this.handleSingle(t,e):this.handleObject(e||{})}},handleObject:lo.handleObject,handleSingle:function(e,t){var i=this.el,r=this.descriptor.interp;if(this.modifiers.camel&&(e=d(e)),!r&&po.test(e)&&e in i){var s="value"===e&&null==t?"":t;i[e]!==s&&(i[e]=s)}var o=mo[e];if(!r&&o){i[o]=t;var n=i.__v_model;n&&n.listener()}return"value"===e&&"TEXTAREA"===i.tagName?void i.removeAttribute(e):void(fo.test(e)?i.setAttribute(e,t?"true":"false"):null!=t&&t!==!1?"class"===e?(i.__v_trans&&(t+=" "+i.__v_trans.id+"-transition"),X(i,t)):co.test(e)?i.setAttributeNS(ho,e,t===!0?"":t):i.setAttribute(e,t===!0?"":t):i.removeAttribute(e))}},vo={priority:Ls,bind:function(){if(this.arg){var e=this.id=d(this.arg),t=(this._scope||this.vm).$els;i(t,e)?t[e]=this.el:qe(t,e,this.el)}},unbind:function(){var e=(this._scope||this.vm).$els;e[this.id]===this.el&&(e[this.id]=null)}},xo={bind:function(){qr("v-ref:"+this.arg+" must be used on a child component. Found on <"+this.el.tagName.toLowerCase()+">.",this.vm)}},wo={bind:function(){var e=this.el;this.vm.$once("pre-hook:compiled",function(){e.removeAttribute("v-cloak")})}},bo={text:qs,html:Bs,"for":Us,"if":$s,show:Ys,model:eo,on:io,bind:go,el:vo,ref:xo,cloak:wo},yo={deep:!0,update:function(e){e?"string"==typeof e?this.setClass(e.trim().split(/\s+/)):this.setClass(vt(e)):this.cleanup()},setClass:function(e){this.cleanup(e);for(var t=0,i=e.length;i>t;t++){var r=e[t];r&&xt(this.el,r,Z)}this.prevKeys=e},cleanup:function(e){var t=this.prevKeys;if(t)for(var i=t.length;i--;){var r=t[i];(!e||e.indexOf(r)<0)&&xt(this.el,r,J)}}},_o={priority:Ns,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__?qr('cannot mount component "'+this.expression+'" on already mounted element: '+this.el):(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=Q(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=re("v-component"),U(this.el,this.anchor),this.el.removeAttribute("is"),this.el.removeAttribute(":is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+c(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(e){this.literal||this.setComponent(e)},setComponent:function(e,t){if(this.invalidatePending(),e){var i=this;this.resolveComponent(e,function(){i.mountComponent(t)})}else this.unbuild(!0),this.remove(this.childVM,t),this.childVM=null},resolveComponent:function(e,t){var i=this;this.pendingComponentCb=y(function(r){i.ComponentName=r.options.name||("string"==typeof e?e:null),i.Component=r,t()}),this.vm._resolveComponent(e,this.pendingComponentCb)},mountComponent:function(e){this.unbuild(!0);var t=this,i=this.Component.options.activate,r=this.getCached(),s=this.build();i&&!r?(this.waitingFor=s,wt(i,s,function(){t.waitingFor===s&&(t.waitingFor=null,t.transition(s,e))})):(r&&s._updateRef(),this.transition(s,e))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(e){var t=this.getCached();if(t)return t;if(this.Component){var i={name:this.ComponentName,el:Ke(this.el),template:this.inlineTemplate,parent:this._host||this.vm,
_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};e&&m(i,e);var r=new this.Component(i);return this.keepAlive&&(this.cache[this.Component.cid]=r),this.el.hasAttribute("transition")&&r._isFragment&&qr("Transitions will not work on a fragment instance. Template: "+r.$options.template,r),r}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(e){this.waitingFor&&(this.keepAlive||this.waitingFor.$destroy(),this.waitingFor=null);var t=this.childVM;return!t||this.keepAlive?void(t&&(t._inactive=!0,t._updateRef(!0))):void t.$destroy(!1,e)},remove:function(e,t){var i=this.keepAlive;if(e){this.pendingRemovals++,this.pendingRemovalCb=t;var r=this;e.$remove(function(){r.pendingRemovals--,i||e._cleanup(),!r.pendingRemovals&&r.pendingRemovalCb&&(r.pendingRemovalCb(),r.pendingRemovalCb=null)})}else t&&t()},transition:function(e,t){var i=this,r=this.childVM;switch(r&&(r._inactive=!0),e._inactive=!1,this.childVM=e,i.params.transitionMode){case"in-out":e.$before(i.anchor,function(){i.remove(r,t)});break;case"out-in":i.remove(r,function(){e.$before(i.anchor,t)});break;default:i.remove(r),e.$before(i.anchor,t)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var e in this.cache)this.cache[e].$destroy();this.cache=null}}},jo=jr._propBindingModes,qo={},To=/^[$_a-zA-Z]+[\w$]*$/,Co=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\[[^\[\]]+\])*$/,ko=jr._propBindingModes,So={bind:function(){var e=this.vm,t=e._context,i=this.descriptor.prop,r=i.path,s=i.parentPath,o=i.mode===ko.TWO_WAY,n=this.parentWatcher=new Ve(t,s,function(t){qt(e,i,t)},{twoWay:o,filters:i.filters,scope:this._scope});if(jt(e,i,n.value),o){var a=this;e.$once("pre-hook:created",function(){a.childWatcher=new Ve(e,r,function(e){n.set(e)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},Do=[],Io=!1,Po="transition",Ao="animation",Bo=Vi+"Duration",Mo=Ui+"Duration",Ho=Ei&&window.requestAnimationFrame,zo=Ho?function(e){Ho(function(){Ho(e)})}:function(e){setTimeout(e,50)},Eo=Bt.prototype;Eo.enter=function(e,t){this.cancelPending(),this.callHook("beforeEnter"),this.cb=t,Z(this.el,this.enterClass),e(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,Pt(this.enterNextTick))},Eo.enterNextTick=function(){var e=this;this.justEntered=!0,zo(function(){e.justEntered=!1});var t=this.enterDone,i=this.getCssTransitionType(this.enterClass);this.pendingJsCb?i===Po&&J(this.el,this.enterClass):i===Po?(J(this.el,this.enterClass),this.setupCssCb(Gi,t)):i===Ao?this.setupCssCb($i,t):t()},Eo.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,J(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},Eo.leave=function(e,t){this.cancelPending(),this.callHook("beforeLeave"),this.op=e,this.cb=t,Z(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():Pt(this.leaveNextTick)))},Eo.leaveNextTick=function(){var e=this.getCssTransitionType(this.leaveClass);if(e){var t=e===Po?Gi:$i;this.setupCssCb(t,this.leaveDone)}else this.leaveDone()},Eo.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),J(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},Eo.cancelPending=function(){this.op=this.cb=null;var e=!1;this.pendingCssCb&&(e=!0,Y(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(e=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),e&&(J(this.el,this.enterClass),J(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},Eo.callHook=function(e){this.hooks&&this.hooks[e]&&this.hooks[e].call(this.vm,this.el)},Eo.callHookWithCb=function(e){var t=this.hooks&&this.hooks[e];t&&(t.length>1&&(this.pendingJsCb=y(this[e+"Done"])),t.call(this.vm,this.el,this.pendingJsCb))},Eo.getCssTransitionType=function(e){if(!(!Gi||document.hidden||this.hooks&&this.hooks.css===!1||Mt(this.el))){var t=this.type||this.typeCache[e];if(t)return t;var i=this.el.style,r=window.getComputedStyle(this.el),s=i[Bo]||r[Bo];if(s&&"0s"!==s)t=Po;else{var o=i[Mo]||r[Mo];o&&"0s"!==o&&(t=Ao)}return t&&(this.typeCache[e]=t),t}},Eo.setupCssCb=function(e,t){this.pendingCssEvent=e;var i=this,r=this.el,s=this.pendingCssCb=function(o){o.target===r&&(Y(r,e,s),i.pendingCssEvent=i.pendingCssCb=null,!i.pendingJsCb&&t&&t())};$(r,e,s)};var Oo={priority:Os,update:function(e,t){var i=this.el,r=ve(this.vm.$options,"transitions",e);e=e||"v",i.__v_trans=new Bt(i,e,r,this.vm),t&&J(i,t+"-transition"),Z(i,e+"-transition")}},Lo={style:lo,"class":yo,component:_o,prop:So,transition:Oo},No=/^v-bind:|^:/,Fo=/^v-on:|^@/,Ro=/^v-([^:]+)(?:$|:(.*)$)/,Wo=/\.[^\.]+/g,Vo=/^(v-bind:|:)?transition$/,Go=1e3,Uo=2e3;Qt.terminal=!0;var $o=/[^\w\-:\.]/,Yo=Object.freeze({compile:Ht,compileAndLinkProps:Nt,compileRoot:Ft,transclude:ni,resolveSlots:hi}),Ko=/^v-on:|^@/;mi.prototype._bind=function(){var e=this.name,t=this.descriptor;if(("cloak"!==e||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var i=t.attr||"v-"+e;this.el.removeAttribute(i)}var r=t.def;if("function"==typeof r?this.update=r:m(this,r),this._setupParams(),this.bind&&this.bind(),this._bound=!0,this.literal)this.update&&this.update(t.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var s=this;this.update?this._update=function(e,t){s._locked||s.update(e,t)}:this._update=fi;var o=this._preProcess?p(this._preProcess,this):null,n=this._postProcess?p(this._postProcess,this):null,a=this._watcher=new Ve(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:o,postProcess:n,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(a.value)}},mi.prototype._setupParams=function(){if(this.params){var e=this.params;this.params=Object.create(null);for(var t,i,r,s=e.length;s--;)t=c(e[s]),r=d(t),i=N(this.el,t),null!=i?this._setupParamWatcher(r,i):(i=L(this.el,t),null!=i&&(this.params[r]=""===i?!0:i))}},mi.prototype._setupParamWatcher=function(e,t){var i=this,r=!1,s=(this._scope||this.vm).$watch(t,function(t,s){if(i.params[e]=t,r){var o=i.paramWatchers&&i.paramWatchers[e];o&&o.call(i,t,s)}else r=!0},{immediate:!0,user:!1});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(s)},mi.prototype._checkStatement=function(){var e=this.expression;if(e&&this.acceptStatement&&!Le(e)){var t=Oe(e).get,i=this._scope||this.vm,r=function(e){i.$event=e,t.call(i,i),i.$event=null};return this.filters&&(r=i._applyFilters(r,null,this.filters)),this.update(r),!0}},mi.prototype.set=function(e){this.twoWay?this._withLock(function(){this._watcher.set(e)}):qr("Directive.set() can only be used inside twoWaydirectives.")},mi.prototype._withLock=function(e){var t=this;t._locked=!0,e.call(t),Xi(function(){t._locked=!1})},mi.prototype.on=function(e,t,i){$(this.el,e,t,i),(this._listeners||(this._listeners=[])).push([e,t])},mi.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var e,t=this._listeners;if(t)for(e=t.length;e--;)Y(this.el,t[e][0],t[e][1]);var i=this._paramUnwatchFns;if(i)for(e=i.length;e--;)i[e]();this.el&&this.el._vue_directives.$remove(this),this.vm=this.el=this._watcher=this._listeners=null}};var Xo=/[^|]\|[^|]/;Te(_i),ui(_i),pi(_i),gi(_i),vi(_i),xi(_i),wi(_i),bi(_i),yi(_i);var Zo={priority:Vs,params:["name"],bind:function(){var e=this.params.name||"default",t=this.vm._slotContents&&this.vm._slotContents[e];t&&t.hasChildNodes()?this.compile(t.cloneNode(!0),this.vm._context,this.vm):this.fallback()},compile:function(e,t,i){if(e&&t){if(this.el.hasChildNodes()&&1===e.childNodes.length&&1===e.childNodes[0].nodeType&&e.childNodes[0].hasAttribute("v-if")){var r=document.createElement("template");r.setAttribute("v-else",""),r.innerHTML=this.el.innerHTML,r._context=this.vm,e.appendChild(r)}var s=i?i._scope:this._scope;this.unlink=t.$compile(e,i,s,this._frag)}e?U(this.el,e):V(this.el)},fallback:function(){this.compile(Q(this.el,!0),this.vm)},unbind:function(){this.unlink&&this.unlink()}},Jo={priority:Fs,params:["name"],paramWatchers:{name:function(e){$s.remove.call(this),e&&this.insert(e)}},bind:function(){this.anchor=re("v-partial"),U(this.el,this.anchor),this.insert(this.params.name)},insert:function(e){var t=ve(this.vm.$options,"partials",e,!0);t&&(this.factory=new st(this.vm,t),$s.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}},Qo={slot:Zo,partial:Jo},en=Us._postProcess,tn=/(\d{3})(?=\d)/g,rn={orderBy:Ti,filterBy:qi,limitBy:ji,json:{read:function(e,t){return"string"==typeof e?e:JSON.stringify(e,null,Number(t)||2)},write:function(e){try{return JSON.parse(e)}catch(t){return e}}},capitalize:function(e){return e||0===e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},uppercase:function(e){return e||0===e?e.toString().toUpperCase():""},lowercase:function(e){return e||0===e?e.toString().toLowerCase():""},currency:function(e,t,i){if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"$",i=null!=i?i:2;var r=Math.abs(e).toFixed(i),s=i?r.slice(0,-1-i):r,o=s.length%3,n=o>0?s.slice(0,o)+(s.length>3?",":""):"",a=i?r.slice(-1-i):"",l=0>e?"-":"";return l+t+n+s.slice(o).replace(tn,"$1,")+a},pluralize:function(e){var t=f(arguments,1);return t.length>1?t[e%10-1]||t[t.length-1]:t[0]+(1===e?"":"s")},debounce:function(e,t){return e?(t||(t=300),w(e,t)):void 0}};return ki(_i),_i.version="1.0.24",setTimeout(function(){jr.devtools&&(Oi?Oi.emit("init",_i):Ei&&/Chrome\/\d+/.test(window.navigator.userAgent))},0),_i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueRouter=t()}(this,function(){"use strict";function e(e,t,i){this.path=e,this.matcher=t,this.delegate=i}function t(e){this.routes={},this.children={},this.target=e}function i(t,r,s){return function(o,n){var a=t+o;return n?void n(i(a,r,s)):new e(t+o,r,s)}}function r(e,t,i){for(var r=0,s=0,o=e.length;o>s;s++)r+=e[s].path.length;t=t.substr(r);var n={path:t,handler:i};e.push(n)}function s(e,t,i,o){var n=t.routes;for(var a in n)if(n.hasOwnProperty(a)){var l=e.slice();r(l,a,n[a]),t.children[a]?s(l,t.children[a],i,o):i.call(o,l)}}function o(e,r){var o=new t;e(i("",o,this.delegate)),s([],o,function(e){r?r(this,e):this.add(e)},this)}function n(e){!G&&"undefined"!=typeof console}function a(e,t){try{return t?decodeURIComponent(e):decodeURI(e)}catch(i){n("malformed URI"+(t?" component: ":": ")+e)}}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){this.string=e}function h(e){this.name=e}function c(e){this.name=e}function u(){}function p(e,t,i){"/"===e.charAt(0)&&(e=e.substr(1));var r=e.split("/"),s=[];i.val="";for(var o=0,n=r.length;n>o;o++){var a,l=r[o];(a=l.match(/^:([^\/]+)$/))?(s.push(new h(a[1])),t.push(a[1]),i.val+="3"):(a=l.match(/^\*([^\/]+)$/))?(s.push(new c(a[1])),i.val+="2",t.push(a[1])):""===l?(s.push(new u),i.val+="1"):(s.push(new d(l)),i.val+="4")}return i.val=+i.val,s}function f(e){this.charSpec=e,this.nextStates=[]}function m(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function g(e,t){for(var i=[],r=0,s=e.length;s>r;r++){var o=e[r];i=i.concat(o.match(t))}return i}function v(e){this.queryParams=e||{}}function x(e,t,i){for(var r=e.handlers,s=e.regex,o=t.match(s),n=1,a=new v(i),l=0,d=r.length;d>l;l++){for(var h=r[l],c=h.names,u={},p=0,f=c.length;f>p;p++)u[c[p]]=o[n++];a.push({handler:h.handler,params:u,isDynamic:!!c.length})}return a}function w(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function b(e){return e=e.replace(/\+/gm,"%20"),a(e,!0)}function y(e){"undefined"!=typeof console}function _(e,t,i){var r=e.match(/(\?.*)$/);if(r&&(r=r[1],e=e.slice(0,-r.length)),"?"===t.charAt(0))return e+t;var s=e.split("/");i&&s[s.length-1]||s.pop();for(var o=t.replace(/^\//,"").split("/"),n=0;n<o.length;n++){var a=o[n];"."!==a&&(".."===a?s.pop():s.push(a))}return""!==s[0]&&s.unshift(""),s.join("/")}function j(e){return e&&"function"==typeof e.then}function q(e,t){var i=e&&(e.$options||e.options);return i&&i.route&&i.route[t]}function T(e,t){X?X.$options.components._=e.component:X={resolve:K.Vue.prototype._resolveComponent,$options:{components:{_:e.component}}},X.resolve("_",function(i){e.component=i,t(i)})}function C(e,t,i){return void 0===t&&(t={}),e=e.replace(/:([^\/]+)/g,function(i,r){var s=t[r];return s||y('param "'+r+'" not found when generating path for "'+e+'" with params '+JSON.stringify(t)),s||""}),i&&(e+=Y(i)),e}function k(e,t,i){var r=e.childVM;if(!r||!t)return!1;if(e.Component!==t.component)return!1;var s=q(r,"canReuse");return"boolean"==typeof s?s:s?s.call(r,{to:i.to,from:i.from}):!0}function S(e,t,i){var r=e.childVM,s=q(r,"canDeactivate");s?t.callHook(s,r,i,{expectBoolean:!0}):i()}function D(e,t,i){T(e,function(e){if(!t.aborted){var r=q(e,"canActivate");r?t.callHook(r,null,i,{expectBoolean:!0}):i()}})}function I(e,t,i){var r=e.childVM,s=q(r,"deactivate");s?t.callHooks(s,r,i):i()}function P(e,t,i,r,s){var o=t.activateQueue[i];if(!o)return M(e),e._bound&&e.setComponent(null),void(r&&r());var n=e.Component=o.component,a=q(n,"activate"),l=q(n,"data"),d=q(n,"waitForData");e.depth=i,e.activated=!1;var h=void 0,c=!(!l||d);if(s=s&&e.childVM&&e.childVM.constructor===n)h=e.childVM,h.$loadingRouteData=c;else if(M(e),e.unbuild(!0),h=e.build({_meta:{$loadingRouteData:c},created:function(){this._routerView=e}}),e.keepAlive){h.$loadingRouteData=c;var u=h._keepAliveRouterView;u&&(e.childView=u,h._keepAliveRouterView=null)}var p=function(){h.$destroy()},f=function(){if(s)return void(r&&r());var i=t.router;i._rendered||i._transitionOnLoad?e.transition(h):(e.setCurrent?e.setCurrent(h):e.childVM=h,h.$before(e.anchor,null,!1)),r&&r()},m=function(){e.childView&&P(e.childView,t,i+1,null,s||e.keepAlive),f()},g=function(){e.activated=!0,l&&d?B(h,t,l,m,p):(l&&B(h,t,l),m())};a?t.callHooks(a,h,g,{cleanup:p,postActivate:!0}):g()}function A(e,t){var i=e.childVM,r=q(i,"data");r&&B(i,t,r)}function B(e,t,i,r,s){e.$loadingRouteData=!0,t.callHooks(i,e,function(){e.$loadingRouteData=!1,e.$emit("route-data-loaded",e),r&&r()},{cleanup:s,postActivate:!0,processData:function(t){var i=[];return H(t)&&Object.keys(t).forEach(function(r){var s=t[r];j(s)?i.push(s.then(function(t){e.$set(r,t)})):e.$set(r,s)}),i.length?i[0].constructor.all(i):void 0}})}function M(e){e.keepAlive&&e.childVM&&e.childView&&(e.childVM._keepAliveRouterView=e.childView),e.childView=null}function H(e){return"[object Object]"===Object.prototype.toString.call(e)}function z(e){return"[object Object]"===Object.prototype.toString.call(e)}function E(e){return e?Array.prototype.slice.call(e):[]}function O(e){var t=e.util,i=t.extend,r=t.isArray,s=t.defineReactive,o=e.prototype._init;e.prototype._init=function(e){e=e||{};var t=e._parent||e.parent||this,i=t.$router,r=t.$route;i&&(this.$router=i,i._children.push(this),this._defineMeta?this._defineMeta("$route",r):s(this,"$route",r)),o.call(this,e)};var n=e.prototype._destroy;e.prototype._destroy=function(){!this._isBeingDestroyed&&this.$router&&this.$router._children.$remove(this),n.apply(this,arguments)};var a=e.config.optionMergeStrategies,l=/^(data|activate|deactivate)$/;a&&(a.route=function(e,t){if(!t)return e;if(!e)return t;var s={};i(s,e);for(var o in t){var n=s[o],a=t[o];n&&l.test(o)?s[o]=(r(n)?n:[n]).concat(a):s[o]=a}return s})}function L(e){var t=e.util,i=e.directive("_component")||e.internalDirectives.component,r=t.extend({},i);t.extend(r,{_isRouterView:!0,bind:function(){var e=this.vm.$route;if(!e)return void y("<router-view> can only be used inside a router-enabled app.");this._isDynamicLiteral=!0,i.bind.call(this);for(var t=void 0,r=this.vm;r;){if(r._routerView){t=r._routerView;break}r=r.$parent}if(t)this.parentView=t,t.childView=this;else{var s=e.router;s._rootView=this}var o=e.router._currentTransition;if(!t&&o.done||t&&t.activated){var n=t?t.depth+1:0;P(this,o,n)}},unbind:function(){this.parentView&&(this.parentView.childView=null),i.unbind.call(this)}}),e.elementDirective("router-view",r)}function N(e){function t(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port}function i(e,t,i){if(t=t.trim(),-1===t.indexOf(" "))return void i(e,t);for(var r=t.split(/\s+/),s=0,o=r.length;o>s;s++)i(e,r[s])}var r=e.util,s=r.bind,o=r.isObject,n=r.addClass,a=r.removeClass,l=e.directive("on").priority,d="__vue-router-link-update__",h=0;e.directive("link-active",{priority:9999,bind:function(){for(var e=this,t=String(h++),i=this.el.querySelectorAll("[v-link]"),r=0,s=i.length;s>r;r++){var o=i[r],n=o.getAttribute(d),a=n?n+","+t:t;o.setAttribute(d,a)}this.vm.$on(d,this.cb=function(i,r){i.activeIds.indexOf(t)>-1&&i.updateClasses(r,e.el)})},unbind:function(){this.vm.$off(d,this.cb)}}),e.directive("link",{priority:l-2,bind:function(){var e=this.vm;if(!e.$route)return void y("v-link can only be used inside a router-enabled app.");this.router=e.$route.router,this.unwatch=e.$watch("$route",s(this.onRouteUpdate,this));var t=this.el.getAttribute(d);t&&(this.el.removeAttribute(d),this.activeIds=t.split(",")),"A"===this.el.tagName&&"_blank"===this.el.getAttribute("target")||(this.handler=s(this.onClick,this),this.el.addEventListener("click",this.handler))},update:function(e){this.target=e,o(e)&&(this.append=e.append,this.exact=e.exact,this.prevActiveClass=this.activeClass,this.activeClass=e.activeClass),this.onRouteUpdate(this.vm.$route)},onClick:function(e){if(!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||0!==e.button)){var i=this.target;if(i)e.preventDefault(),this.router.go(i);else{for(var r=e.target;"A"!==r.tagName&&r!==this.el;)r=r.parentNode;if("A"===r.tagName&&t(r)){e.preventDefault();var s=r.pathname;this.router.history.root&&(s=s.replace(this.router.history.rootRE,"")),this.router.go({path:s,replace:i&&i.replace,append:i&&i.append})}}}},onRouteUpdate:function(e){var t=this.router.stringifyPath(this.target);this.path!==t&&(this.path=t,this.updateActiveMatch(),this.updateHref()),this.activeIds?this.vm.$emit(d,this,e.path):this.updateClasses(e.path,this.el)},updateActiveMatch:function(){this.activeRE=this.path&&!this.exact?new RegExp("^"+this.path.replace(/\/$/,"").replace(ne,"").replace(oe,"\\$&")+"(\\/|$)"):null},updateHref:function(){if("A"===this.el.tagName){var e=this.path,t=this.router,i="/"===e.charAt(0),r=e&&("hash"===t.mode||i)?t.history.formatPath(e,this.append):e;r?this.el.href=r:this.el.removeAttribute("href")}},updateClasses:function(e,t){var r=this.activeClass||this.router._linkActiveClass;this.prevActiveClass&&this.prevActiveClass!==r&&i(t,this.prevActiveClass,a);var s=this.path.replace(ne,"");e=e.replace(ne,""),this.exact?s===e||"/"!==s.charAt(s.length-1)&&s===e.replace(se,"")?i(t,r,n):i(t,r,a):this.activeRE&&this.activeRE.test(e)?i(t,r,n):i(t,r,a)},unbind:function(){this.el.removeEventListener("click",this.handler),this.unwatch&&this.unwatch()}})}function F(e,t){var i=t.component;le.util.isPlainObject(i)&&(i=t.component=le.extend(i)),"function"!=typeof i&&(t.component=null,y('invalid component for route "'+e+'".'))}var R={};R.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.prototype={to:function(e,t){var i=this.delegate;if(i&&i.willAddRoute&&(e=i.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},t.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,r,s,o){var n=new t(r);this.children[e]=n;var a=i(e,n,o);o&&o.contextEntered&&o.contextEntered(r,a),s(a)}};var W=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],V=new RegExp("(\\"+W.join("|\\")+")","g"),G=!1;d.prototype={eachChar:function(e){for(var t,i=this.string,r=0,s=i.length;s>r;r++)t=i.charAt(r),e({validChars:t})},regex:function(){return this.string.replace(V,"\\$1")},generate:function(){return this.string}},h.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){var t=e[this.name];return null==t?":"+this.name:t}},c.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){var t=e[this.name];return null==t?":"+this.name:t}},u.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},f.prototype={get:function(e){for(var t=this.nextStates,i=0,r=t.length;r>i;i++){var s=t[i],o=s.charSpec.validChars===e.validChars;if(o=o&&s.charSpec.invalidChars===e.invalidChars)return s}},put:function(e){var t;return(t=this.get(e))?t:(t=new f(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,i,r,s=this.nextStates,o=[],n=0,a=s.length;a>n;n++)t=s[n],i=t.charSpec,"undefined"!=typeof(r=i.validChars)?-1!==r.indexOf(e)&&o.push(t):"undefined"!=typeof(r=i.invalidChars)&&-1===r.indexOf(e)&&o.push(t);return o}};var U=Object.create||function(e){function t(){}return t.prototype=e,new t};v.prototype=U({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var $=function(){this.rootState=new f,this.names={}};$.prototype={add:function(e,t){for(var i,r=this.rootState,s="^",o={},n=[],a=[],l=!0,d=0,h=e.length;h>d;d++){var c=e[d],f=[],m=p(c.path,f,o);a=a.concat(m);for(var g=0,v=m.length;v>g;g++){var x=m[g];x instanceof u||(l=!1,r=r.put({validChars:"/"}),s+="/",r=w(r,x),s+=x.regex())}var b={handler:c.handler,names:f};n.push(b)}l&&(r=r.put({validChars:"/"}),s+="/"),r.handlers=n,r.regex=new RegExp(s+"$"),r.specificity=o,(i=t&&t.as)&&(this.names[i]={segments:a,handlers:n})},handlersFor:function(e){var t=this.names[e],i=[];if(!t)throw new Error("There is no route named "+e);for(var r=0,s=t.handlers.length;s>r;r++)i.push(t.handlers[r]);return i},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var i=this.names[e],r="";if(!i)throw new Error("There is no route named "+e);for(var s=i.segments,o=0,n=s.length;n>o;o++){var a=s[o];a instanceof u||(r+="/",r+=a.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams)),r},generateQueryString:function(e){var t=[],i=[];for(var r in e)e.hasOwnProperty(r)&&i.push(r);i.sort();for(var s=0,o=i.length;o>s;s++){r=i[s];var n=e[r];if(null!=n){var a=encodeURIComponent(r);if(l(n))for(var d=0,h=n.length;h>d;d++){var c=r+"[]="+encodeURIComponent(n[d]);t.push(c)}else a+="="+encodeURIComponent(n),t.push(a)}}return 0===t.length?"":"?"+t.join("&")},parseQueryString:function(e){for(var t=e.split("&"),i={},r=0;r<t.length;r++){var s,o=t[r].split("="),n=b(o[0]),a=n.length,l=!1;1===o.length?s="true":(a>2&&"[]"===n.slice(a-2)&&(l=!0,n=n.slice(0,a-2),i[n]||(i[n]=[])),s=o[1]?b(o[1]):""),l?i[n].push(s):i[n]=s}return i},recognize:function(e,t){G=t;var i,r,s,o,n=[this.rootState],l={},d=!1;if(o=e.indexOf("?"),-1!==o){var h=e.substr(o+1,e.length);e=e.substr(0,o),h&&(l=this.parseQueryString(h))}if(e=a(e)){for("/"!==e.charAt(0)&&(e="/"+e),i=e.length,i>1&&"/"===e.charAt(i-1)&&(e=e.substr(0,i-1),d=!0),r=0,s=e.length;s>r&&(n=g(n,e.charAt(r)),n.length);r++);var c=[];for(r=0,s=n.length;s>r;r++)n[r].handlers&&c.push(n[r]);n=m(c);var u=c[0];return u&&u.handlers?(d&&"(.+)$"===u.regex.source.slice(-5)&&(e+="/"),x(u,e,l)):void 0}}},$.prototype.map=o;var Y=$.prototype.generateQueryString,K={},X=void 0,Z=/#.*$/,J=function(){function e(t){var i=t.root,r=t.onChange;R.classCallCheck(this,e),i&&"/"!==i?("/"!==i.charAt(0)&&(i="/"+i),this.root=i.replace(/\/$/,""),this.rootRE=new RegExp("^\\"+this.root)):this.root=null,this.onChange=r;var s=document.querySelector("base");this.base=s&&s.getAttribute("href")}return e.prototype.start=function(){var e=this;this.listener=function(t){var i=location.pathname+location.search;e.root&&(i=i.replace(e.rootRE,"")),e.onChange(i,t&&t.state,location.hash)},window.addEventListener("popstate",this.listener),this.listener()},e.prototype.stop=function(){window.removeEventListener("popstate",this.listener)},e.prototype.go=function(e,t,i){var r=this.formatPath(e,i);t?history.replaceState({},"",r):(history.replaceState({pos:{x:window.pageXOffset,y:window.pageYOffset}},"",location.href),history.pushState({},"",r));var s=e.match(Z),o=s&&s[0];e=r.replace(Z,"").replace(this.rootRE,""),this.onChange(e,null,o)},e.prototype.formatPath=function(e,t){return"/"===e.charAt(0)?this.root?this.root+"/"+e.replace(/^\//,""):e:_(this.base||location.pathname,e,t)},e}(),Q=function(){function e(t){var i=t.hashbang,r=t.onChange;R.classCallCheck(this,e),this.hashbang=i,this.onChange=r}return e.prototype.start=function(){var e=this;this.listener=function(){var t=location.hash,i=t.replace(/^#!?/,"");"/"!==i.charAt(0)&&(i="/"+i);var r=e.formatPath(i);if(r!==t)return void location.replace(r);var s=location.search&&t.indexOf("?")>-1?"&"+location.search.slice(1):location.search;e.onChange(t.replace(/^#!?/,"")+s)},window.addEventListener("hashchange",this.listener),this.listener()},e.prototype.stop=function(){window.removeEventListener("hashchange",this.listener)},e.prototype.go=function(e,t,i){e=this.formatPath(e,i),t?location.replace(e):location.hash=e},e.prototype.formatPath=function(e,t){var i="/"===e.charAt(0),r="#"+(this.hashbang?"!":"");return i?r+e:r+_(location.hash.replace(/^#!?/,""),e,t)},e}(),ee=function(){function e(t){var i=t.onChange;R.classCallCheck(this,e),this.onChange=i,this.currentPath="/"}return e.prototype.start=function(){this.onChange("/")},e.prototype.stop=function(){},e.prototype.go=function(e,t,i){e=this.currentPath=this.formatPath(e,i),this.onChange(e)},e.prototype.formatPath=function(e,t){return"/"===e.charAt(0)?e:_(this.currentPath,e,t)},e}(),te=function(){function e(t,i,r){R.classCallCheck(this,e),this.router=t,this.to=i,this.from=r,this.next=null,this.aborted=!1,this.done=!1}return e.prototype.abort=function(){if(!this.aborted){this.aborted=!0;var e=!this.from.path&&"/"===this.to.path;e||this.router.replace(this.from.path||"/")}},e.prototype.redirect=function(e){this.aborted||(this.aborted=!0,"string"==typeof e?e=C(e,this.to.params,this.to.query):(e.params=e.params||this.to.params,e.query=e.query||this.to.query),this.router.replace(e))},e.prototype.start=function(e){for(var t=this,i=[],r=this.router._rootView;r;)i.unshift(r),r=r.childView;var s=i.slice().reverse(),o=this.activateQueue=E(this.to.matched).map(function(e){return e.handler}),n=void 0,a=void 0;for(n=0;n<s.length&&k(s[n],o[n],t);n++);n>0&&(a=s.slice(0,n),i=s.slice(n).reverse(),o=o.slice(n)),t.runQueue(i,S,function(){t.runQueue(o,D,function(){t.runQueue(i,I,function(){if(t.router._onTransitionValidated(t),a&&a.forEach(function(e){return A(e,t)}),i.length){var r=i[i.length-1],s=a?a.length:0;P(r,t,s,e)}else e()})})})},e.prototype.runQueue=function(e,t,i){function r(o){o>=e.length?i():t(e[o],s,function(){r(o+1)})}var s=this;r(0)},e.prototype.callHook=function(e,t,i){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],s=r.expectBoolean,o=void 0===s?!1:s,n=r.postActivate,a=void 0===n?!1:n,l=r.processData,d=r.cleanup,h=this,c=!1,u=function(){d&&d(),h.abort()},p=function(e){if(a?m():u(),e&&!h.router._suppress)throw y("Uncaught error during transition: "),e instanceof Error?e:new Error(e)},f=function(e){try{p(e)}catch(t){setTimeout(function(){throw t},0)}},m=function(){return c?void y("transition.next() should be called only once."):(c=!0,h.aborted?void(d&&d()):void(i&&i()))},g=function(t){"boolean"==typeof t?t?m():u():j(t)?t.then(function(e){e?m():u()},f):e.length||m()},v=function(e){var t=void 0;try{t=l(e)}catch(i){return p(i)}j(t)?t.then(m,f):m()},x={to:h.to,from:h.from,abort:u,next:l?v:m,redirect:function(){h.redirect.apply(h,arguments)}},w=void 0;try{w=e.call(t,x)}catch(b){return p(b)}o?g(w):j(w)?l?w.then(v,f):w.then(m,f):l&&z(w)?v(w):e.length||m()},e.prototype.callHooks=function(e,t,i,r){var s=this;Array.isArray(e)?this.runQueue(e,function(e,i,o){s.aborted||s.callHook(e,t,o,r)},i):this.callHook(e,t,i,r)},e}(),ie=/^(component|subRoutes|fullPath)$/,re=function he(e,t){var i=this;R.classCallCheck(this,he);var r=t._recognizer.recognize(e);r&&([].forEach.call(r,function(e){for(var t in e.handler)ie.test(t)||(i[t]=e.handler[t])}),this.query=r.queryParams,this.params=[].reduce.call(r,function(e,t){if(t.params)for(var i in t.params)e[i]=t.params[i];return e},{})),this.path=e,this.matched=r||t._notFoundHandler,Object.defineProperty(this,"router",{enumerable:!1,value:t}),Object.freeze(this)},se=/\/$/,oe=/[-.*+?^${}()|[\]\/\\]/g,ne=/\?.*$/,ae={"abstract":ee,hash:Q,html5:J},le=void 0,de=function(){function e(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=i.hashbang,s=void 0===r?!0:r,o=i["abstract"],n=void 0===o?!1:o,a=i.history,l=void 0===a?!1:a,d=i.saveScrollPosition,h=void 0===d?!1:d,c=i.transitionOnLoad,u=void 0===c?!1:c,p=i.suppressTransitionError,f=void 0===p?!1:p,m=i.root,g=void 0===m?null:m,v=i.linkActiveClass,x=void 0===v?"v-link-active":v;if(R.classCallCheck(this,e),!e.installed)throw new Error("Please install the Router with Vue.use() before creating an instance.");this.app=null,this._children=[],this._recognizer=new $,this._guardRecognizer=new $,this._started=!1,this._startCb=null,this._currentRoute={},this._currentTransition=null,this._previousTransition=null,this._notFoundHandler=null,this._notFoundRedirect=null,this._beforeEachHooks=[],this._afterEachHooks=[],this._rendered=!1,this._transitionOnLoad=u,this._root=g,this._abstract=n,this._hashbang=s;var w="undefined"!=typeof window&&window.history&&window.history.pushState;this._history=l&&w,this._historyFallback=l&&!w;var b=le.util.inBrowser;this.mode=!b||this._abstract?"abstract":this._history?"html5":"hash";var y=ae[this.mode];this.history=new y({root:g,hashbang:this._hashbang,onChange:function(e,i,r){t._match(e,i,r)}}),this._saveScrollPosition=h,this._linkActiveClass=x,this._suppress=f}return e.prototype.map=function(e){for(var t in e)this.on(t,e[t]);return this},e.prototype.on=function(e,t){return"*"===e?this._notFound(t):this._addRoute(e,t,[]),this},e.prototype.redirect=function(e){for(var t in e)this._addRedirect(t,e[t]);return this},e.prototype.alias=function(e){for(var t in e)this._addAlias(t,e[t]);return this},e.prototype.beforeEach=function(e){return this._beforeEachHooks.push(e),this},e.prototype.afterEach=function(e){return this._afterEachHooks.push(e),this},e.prototype.go=function(e){var t=!1,i=!1;le.util.isObject(e)&&(t=e.replace,i=e.append),e=this.stringifyPath(e),e&&this.history.go(e,t,i)},e.prototype.replace=function(e){"string"==typeof e&&(e={path:e}),e.replace=!0,this.go(e)},e.prototype.start=function(e,t,i){if(this._started)return void y("already started.");if(this._started=!0,this._startCb=i,!this.app){if(!e||!t)throw new Error("Must start vue-router with a component and a root container.");if(e instanceof le)throw new Error("Must start vue-router with a component, not a Vue instance.");this._appContainer=t;var r=this._appConstructor="function"==typeof e?e:le.extend(e);r.options.name=r.options.name||"RouterApp"}if(this._historyFallback){var s=window.location,o=new J({root:this._root}),n=o.root?s.pathname.replace(o.rootRE,""):s.pathname;if(n&&"/"!==n)return void s.assign((o.root||"")+"/"+this.history.formatPath(n)+s.search)}this.history.start()},e.prototype.stop=function(){this.history.stop(),this._started=!1},e.prototype.stringifyPath=function(e){var t="";if(e&&"object"==typeof e){if(e.name){var i=le.util.extend,r=this._currentTransition&&this._currentTransition.to.params,s=e.params||{},o=r?i(i({},r),s):s;t=encodeURI(this._recognizer.generate(e.name,o))}else e.path&&(t=encodeURI(e.path));
if(e.query){var n=this._recognizer.generateQueryString(e.query);t+=t.indexOf("?")>-1?"&"+n.slice(1):n}}else t=encodeURI(e?e+"":"");return t},e.prototype._addRoute=function(e,t,i){if(F(e,t),t.path=e,t.fullPath=(i.reduce(function(e,t){return e+t.path},"")+e).replace("//","/"),i.push({path:e,handler:t}),this._recognizer.add(i,{as:t.name}),t.subRoutes)for(var r in t.subRoutes)this._addRoute(r,t.subRoutes[r],i.slice())},e.prototype._notFound=function(e){F("*",e),this._notFoundHandler=[{handler:e}]},e.prototype._addRedirect=function(e,t){"*"===e?this._notFoundRedirect=t:this._addGuard(e,t,this.replace)},e.prototype._addAlias=function(e,t){this._addGuard(e,t,this._match)},e.prototype._addGuard=function(e,t,i){var r=this;this._guardRecognizer.add([{path:e,handler:function(e,s){var o=C(t,e.params,s);i.call(r,o)}}])},e.prototype._checkGuard=function(e){var t=this._guardRecognizer.recognize(e,!0);return t?(t[0].handler(t[0],t.queryParams),!0):this._notFoundRedirect&&(t=this._recognizer.recognize(e),!t)?(this.replace(this._notFoundRedirect),!0):void 0},e.prototype._match=function(e,t,i){var r=this;if(!this._checkGuard(e)){var s=this._currentRoute,o=this._currentTransition;if(o){if(o.to.path===e)return;if(s.path===e)return o.aborted=!0,void(this._currentTransition=this._prevTransition);o.aborted=!0}var n=new re(e,this),a=new te(this,n,s);this._prevTransition=o,this._currentTransition=a,this.app||!function(){var e=r;r.app=new r._appConstructor({el:r._appContainer,created:function(){this.$router=e},_meta:{$route:n}})}();var l=this._beforeEachHooks,d=function(){a.start(function(){r._postTransition(n,t,i)})};l.length?a.runQueue(l,function(e,t,i){a===r._currentTransition&&a.callHook(e,null,i,{expectBoolean:!0})},d):d(),!this._rendered&&this._startCb&&this._startCb.call(null),this._rendered=!0}},e.prototype._onTransitionValidated=function(e){var t=this._currentRoute=e.to;this.app.$route!==t&&(this.app.$route=t,this._children.forEach(function(e){e.$route=t})),this._afterEachHooks.length&&this._afterEachHooks.forEach(function(t){return t.call(null,{to:e.to,from:e.from})}),this._currentTransition.done=!0},e.prototype._postTransition=function(e,t,i){var r=t&&t.pos;r&&this._saveScrollPosition?le.nextTick(function(){window.scrollTo(r.x,r.y)}):i&&le.nextTick(function(){var e=document.getElementById(i.slice(1));e&&window.scrollTo(window.scrollX,e.offsetTop)})},e}();return de.installed=!1,de.install=function(e){return de.installed?void y("already installed."):(le=e,O(le),L(le),N(le),K.Vue=le,void(de.installed=!0))},"undefined"!=typeof window&&window.Vue&&window.Vue.use(de),de}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueResource=t():e.VueResource=t()}(this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){function r(e){if(!r.installed){var t=i(1);t.config=e.config,t.warning=e.util.warn,t.nextTick=e.util.nextTick,e.url=i(2),e.http=i(8),e.resource=i(23),e.Promise=i(10),Object.defineProperties(e.prototype,{$url:{get:function(){return t.options(e.url,this,this.$options.url)}},$http:{get:function(){return t.options(e.http,this,this.$options.http)}},$resource:{get:function(){return e.resource.bind(this)}},$promise:{get:function(){var t=this;return function(i){return new e.Promise(i,t)}}}})}}"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),e.exports=r},function(e,t){function i(e,t,r){for(var o in t)r&&(s.isPlainObject(t[o])||s.isArray(t[o]))?(s.isPlainObject(t[o])&&!s.isPlainObject(e[o])&&(e[o]={}),s.isArray(t[o])&&!s.isArray(e[o])&&(e[o]=[]),i(e[o],t[o],r)):void 0!==t[o]&&(e[o]=t[o])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=t,o=[],n=window.console;s.warn=function(e){n&&s.warning&&(!s.config.silent||s.config.debug)&&n.warn("[VueResource warn]: "+e)},s.error=function(e){n&&n.error(e)},s.trim=function(e){return e.replace(/^\s*|\s*$/g,"")},s.toLower=function(e){return e?e.toLowerCase():""},s.isArray=Array.isArray,s.isString=function(e){return"string"==typeof e},s.isFunction=function(e){return"function"==typeof e},s.isObject=function(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":r(e))},s.isPlainObject=function(e){return s.isObject(e)&&Object.getPrototypeOf(e)==Object.prototype},s.options=function(e,t,i){return i=i||{},s.isFunction(i)&&(i=i.call(t)),s.merge(e.bind({$vm:t,$options:i}),e,{$options:i})},s.each=function(e,t){var i,r;if("number"==typeof e.length)for(i=0;i<e.length;i++)t.call(e[i],e[i],i);else if(s.isObject(e))for(r in e)e.hasOwnProperty(r)&&t.call(e[r],e[r],r);return e},s.defaults=function(e,t){for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e},s.extend=function(e){var t=o.slice.call(arguments,1);return t.forEach(function(t){i(e,t)}),e},s.merge=function(e){var t=o.slice.call(arguments,1);return t.forEach(function(t){i(e,t,!0)}),e}},function(e,t,i){function r(e,t){var i,o=e;return n.isString(e)&&(o={url:e,params:t}),o=n.merge({},r.options,this.$options,o),r.transforms.forEach(function(e){i=s(e,i,this.$vm)},this),i(o)}function s(e,t,i){return function(r){return e.call(i,r,t)}}function o(e,t,i){var r,s=n.isArray(t),a=n.isPlainObject(t);n.each(t,function(t,l){r=n.isObject(t)||n.isArray(t),i&&(l=i+"["+(a||r?l:"")+"]"),!i&&s?e.add(t.name,t.value):r?o(e,t,l):e.add(l,t)})}var n=i(1),a=document.documentMode,l=document.createElement("a");r.options={url:"",root:null,params:{}},r.transforms=[i(3),i(5),i(6),i(7)],r.params=function(e){var t=[],i=encodeURIComponent;return t.add=function(e,t){n.isFunction(t)&&(t=t()),null===t&&(t=""),this.push(i(e)+"="+i(t))},o(t,e),t.join("&").replace(/%20/g,"+")},r.parse=function(e){return a&&(l.href=e,e=l.href),l.href=e,{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",port:l.port,host:l.host,hostname:l.hostname,pathname:"/"===l.pathname.charAt(0)?l.pathname:"/"+l.pathname,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):""}},e.exports=n.url=r},function(e,t,i){var r=i(4);e.exports=function(e){var t=[],i=r.expand(e.url,e.params,t);return t.forEach(function(t){delete e.params[t]}),i}},function(e,t){t.expand=function(e,t,i){var r=this.parse(e),s=r.expand(t);return i&&i.push.apply(i,r.vars),s},t.parse=function(e){var i=["+","#",".","/",";","?","&"],r=[];return{vars:r,expand:function(s){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,o,n){if(o){var a=null,l=[];if(-1!==i.indexOf(o.charAt(0))&&(a=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(e){var i=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);l.push.apply(l,t.getValues(s,a,i[1],i[2]||i[3])),r.push(i[1])}),a&&"+"!==a){var d=",";return"?"===a?d="&":"#"!==a&&(d=a),(0!==l.length?a:"")+l.join(d)}return l.join(",")}return t.encodeReserved(n)})}}},t.getValues=function(e,t,i,r){var s=e[i],o=[];if(this.isDefined(s)&&""!==s)if("string"==typeof s||"number"==typeof s||"boolean"==typeof s)s=s.toString(),r&&"*"!==r&&(s=s.substring(0,parseInt(r,10))),o.push(this.encodeValue(t,s,this.isKeyOperator(t)?i:null));else if("*"===r)Array.isArray(s)?s.filter(this.isDefined).forEach(function(e){o.push(this.encodeValue(t,e,this.isKeyOperator(t)?i:null))},this):Object.keys(s).forEach(function(e){this.isDefined(s[e])&&o.push(this.encodeValue(t,s[e],e))},this);else{var n=[];Array.isArray(s)?s.filter(this.isDefined).forEach(function(e){n.push(this.encodeValue(t,e))},this):Object.keys(s).forEach(function(e){this.isDefined(s[e])&&(n.push(encodeURIComponent(e)),n.push(this.encodeValue(t,s[e].toString())))},this),this.isKeyOperator(t)?o.push(encodeURIComponent(i)+"="+n.join(",")):0!==n.length&&o.push(n.join(","))}else";"===t?o.push(encodeURIComponent(i)):""!==s||"&"!==t&&"?"!==t?""===s&&o.push(""):o.push(encodeURIComponent(i)+"=");return o},t.isDefined=function(e){return void 0!==e&&null!==e},t.isKeyOperator=function(e){return";"===e||"&"===e||"?"===e},t.encodeValue=function(e,t,i){return t="+"===e||"#"===e?this.encodeReserved(t):encodeURIComponent(t),i?encodeURIComponent(i)+"="+t:t},t.encodeReserved=function(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e)),e}).join("")}},function(e,t,i){function r(e){return s(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function s(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var o=i(1);e.exports=function(e,t){var i=[],s=t(e);return s=s.replace(/(\/?):([a-z]\w*)/gi,function(t,s,n){return o.warn("The `:"+n+"` parameter syntax has been deprecated. Use the `{"+n+"}` syntax instead."),e.params[n]?(i.push(n),s+r(e.params[n])):""}),i.forEach(function(t){delete e.params[t]}),s}},function(e,t,i){var r=i(1);e.exports=function(e,t){var i=Object.keys(r.url.options.params),s={},o=t(e);return r.each(e.params,function(e,t){-1===i.indexOf(t)&&(s[t]=e)}),s=r.url.params(s),s&&(o+=(-1==o.indexOf("?")?"?":"&")+s),o}},function(e,t,i){var r=i(1);e.exports=function(e,t){var i=t(e);return r.isString(e.root)&&!i.match(/^(https?:)?\//)&&(i=e.root+"/"+i),i}},function(e,t,i){function r(e,t){var i,l,d=this,h=o;return r.interceptors.forEach(function(e){h=a(e,d.$vm)(h)}),t=s.isObject(e)?e:s.extend({url:e},t),i=s.merge({},r.options,this.$options,t),l=h(i).bind(this.$vm).then(function(e){return e.ok?e:n.reject(e)},function(e){return e instanceof Error&&s.error(e),n.reject(e)}),i.success&&l.success(i.success),i.error&&l.error(i.error),l}var s=i(1),o=i(9),n=i(10),a=i(13),l={"Content-Type":"application/json"};r.options={method:"get",data:"",params:{},headers:{},xhr:null,upload:null,jsonp:"callback",beforeSend:null,crossOrigin:null,emulateHTTP:!1,emulateJSON:!1,timeout:0},r.interceptors=[i(14),i(15),i(16),i(18),i(19),i(20),i(21)],r.headers={put:l,post:l,patch:l,"delete":l,common:{Accept:"application/json, text/plain, */*"},custom:{"X-Requested-With":"XMLHttpRequest"}},["get","put","post","patch","delete","jsonp"].forEach(function(e){r[e]=function(t,i,r,o){return s.isFunction(i)&&(o=r,r=i,i=void 0),s.isObject(r)&&(o=r,r=void 0),this(t,s.extend({method:e,data:i,success:r},o))}}),e.exports=s.http=r},function(e,t,i){function r(e){var t,i,r,o={};return s.isString(e)&&s.each(e.split("\n"),function(e){r=e.indexOf(":"),i=s.trim(s.toLower(e.slice(0,r))),t=s.trim(e.slice(r+1)),o[i]?s.isArray(o[i])?o[i].push(t):o[i]=[o[i],t]:o[i]=t}),o}var s=i(1),o=i(10),n=i(12);e.exports=function(e){var t=(e.client||n)(e);return o.resolve(t).then(function(e){if(e.headers){var t=r(e.headers);e.headers=function(e){return e?t[s.toLower(e)]:t}}return e.ok=e.status>=200&&e.status<300,e})}},function(e,t,i){function r(e,t){e instanceof o?this.promise=e:this.promise=new o(e.bind(t)),this.context=t}var s=i(1),o=window.Promise||i(11);r.all=function(e,t){return new r(o.all(e),t)},r.resolve=function(e,t){return new r(o.resolve(e),t)},r.reject=function(e,t){return new r(o.reject(e),t)},r.race=function(e,t){return new r(o.race(e),t)};var n=r.prototype;n.bind=function(e){return this.context=e,this},n.then=function(e,t){return e&&e.bind&&this.context&&(e=e.bind(this.context)),t&&t.bind&&this.context&&(t=t.bind(this.context)),this.promise=this.promise.then(e,t),this},n["catch"]=function(e){return e&&e.bind&&this.context&&(e=e.bind(this.context)),this.promise=this.promise["catch"](e),this},n["finally"]=function(e){return this.then(function(t){return e.call(this),t},function(t){return e.call(this),o.reject(t)})},n.success=function(e){return s.warn("The `success` method has been deprecated. Use the `then` method instead."),this.then(function(t){return e.call(this,t.data,t.status,t)||t})},n.error=function(e){return s.warn("The `error` method has been deprecated. Use the `catch` method instead."),this["catch"](function(t){return e.call(this,t.data,t.status,t)||t})},n.always=function(e){s.warn("The `always` method has been deprecated. Use the `finally` method instead.");var t=function(t){return e.call(this,t.data,t.status,t)||t};return this.then(t,t)},e.exports=r},function(e,t,i){function r(e){this.state=l,this.value=void 0,this.deferred=[];var t=this;try{e(function(e){t.resolve(e)},function(e){t.reject(e)})}catch(i){t.reject(i)}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=i(1),n=0,a=1,l=2;r.reject=function(e){return new r(function(t,i){i(e)})},r.resolve=function(e){return new r(function(t,i){t(e)})},r.all=function(e){return new r(function(t,i){function s(i){return function(r){n[i]=r,o+=1,o===e.length&&t(n)}}var o=0,n=[];0===e.length&&t(n);for(var a=0;a<e.length;a+=1)r.resolve(e[a]).then(s(a),i)})},r.race=function(e){return new r(function(t,i){for(var s=0;s<e.length;s+=1)r.resolve(e[s]).then(t,i)})};var d=r.prototype;d.resolve=function(e){var t=this;if(t.state===l){if(e===t)throw new TypeError("Promise settled with itself.");var i=!1;try{var r=e&&e.then;if(null!==e&&"object"===("undefined"==typeof e?"undefined":s(e))&&"function"==typeof r)return void r.call(e,function(e){i||t.resolve(e),i=!0},function(e){i||t.reject(e),i=!0})}catch(o){return void(i||t.reject(o))}t.state=n,t.value=e,t.notify()}},d.reject=function(e){var t=this;if(t.state===l){if(e===t)throw new TypeError("Promise settled with itself.");t.state=a,t.value=e,t.notify()}},d.notify=function(){var e=this;o.nextTick(function(){if(e.state!==l)for(;e.deferred.length;){var t=e.deferred.shift(),i=t[0],r=t[1],s=t[2],o=t[3];try{e.state===n?s("function"==typeof i?i.call(void 0,e.value):e.value):e.state===a&&("function"==typeof r?s(r.call(void 0,e.value)):o(e.value))}catch(d){o(d)}}})},d.then=function(e,t){var i=this;return new r(function(r,s){i.deferred.push([e,t,r,s]),i.notify()})},d["catch"]=function(e){return this.then(void 0,e)},e.exports=r},function(e,t,i){var r=i(1),s=i(10);e.exports=function(e){return new s(function(t){var i,s=new XMLHttpRequest,o={request:e};e.cancel=function(){s.abort()},s.open(e.method,r.url(e),!0),i=function(e){o.data=s.responseText,o.status=s.status,o.statusText=s.statusText,o.headers=s.getAllResponseHeaders(),t(o)},s.timeout=0,s.onload=i,s.onabort=i,s.onerror=i,s.ontimeout=function(){},s.onprogress=function(){},r.isPlainObject(e.xhr)&&r.extend(s,e.xhr),r.isPlainObject(e.upload)&&r.extend(s.upload,e.upload),r.each(e.headers||{},function(e,t){s.setRequestHeader(t,e)}),s.send(e.data)})}},function(e,t,i){function r(e,t,i){var r=o.resolve(e);return arguments.length<2?r:r.then(t,i)}var s=i(1),o=i(10);e.exports=function(e,t){return function(i){return s.isFunction(e)&&(e=e.call(t,o)),function(o){return s.isFunction(e.request)&&(o=e.request.call(t,o)),r(o,function(o){return r(i(o),function(i){return s.isFunction(e.response)&&(i=e.response.call(t,i)),i})})}}}},function(e,t,i){var r=i(1);e.exports={request:function(e){return r.isFunction(e.beforeSend)&&e.beforeSend.call(this,e),e}}},function(e,t){e.exports=function(){var e;return{request:function(t){return t.timeout&&(e=setTimeout(function(){t.cancel()},t.timeout)),t},response:function(t){return clearTimeout(e),t}}}},function(e,t,i){var r=i(17);e.exports={request:function(e){return"JSONP"==e.method&&(e.client=r),e}}},function(e,t,i){var r=i(1),s=i(10);e.exports=function(e){return new s(function(t){var i,s,o="_jsonp"+Math.random().toString(36).substr(2),n={request:e,data:null};e.params[e.jsonp]=o,e.cancel=function(){i({type:"cancel"})},s=document.createElement("script"),s.src=r.url(e),s.type="text/javascript",s.async=!0,window[o]=function(e){n.data=e},i=function(e){"load"===e.type&&null!==n.data?n.status=200:"error"===e.type?n.status=404:n.status=0,t(n),delete window[o],document.body.removeChild(s)},s.onload=i,s.onerror=i,document.body.appendChild(s)})}},function(e,t){e.exports={request:function(e){return e.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(e.method)&&(e.headers["X-HTTP-Method-Override"]=e.method,e.method="POST"),e}}},function(e,t,i){var r=i(1);e.exports={request:function(e){return e.emulateJSON&&r.isPlainObject(e.data)&&(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=r.url.params(e.data)),r.isObject(e.data)&&/FormData/i.test(e.data.toString())&&delete e.headers["Content-Type"],r.isPlainObject(e.data)&&(e.data=JSON.stringify(e.data)),e},response:function(e){try{e.data=JSON.parse(e.data)}catch(t){}return e}}},function(e,t,i){var r=i(1);e.exports={request:function(e){return e.method=e.method.toUpperCase(),e.headers=r.extend({},r.http.headers.common,e.crossOrigin?{}:r.http.headers.custom,r.http.headers[e.method.toLowerCase()],e.headers),r.isPlainObject(e.data)&&/^(GET|JSONP)$/i.test(e.method)&&(r.extend(e.params,e.data),delete e.data),e}}},function(e,t,i){function r(e){var t=s.url.parse(s.url(e));return t.protocol!==a.protocol||t.host!==a.host}var s=i(1),o=i(22),n="withCredentials"in new XMLHttpRequest,a=s.url.parse(location.href);e.exports={request:function(e){return null===e.crossOrigin&&(e.crossOrigin=r(e)),e.crossOrigin&&(n||(e.client=o),e.emulateHTTP=!1),e}}},function(e,t,i){var r=i(1),s=i(10);e.exports=function(e){return new s(function(t){var i,s=new XDomainRequest,o={request:e};e.cancel=function(){s.abort()},s.open(e.method,r.url(e),!0),i=function(e){o.data=s.responseText,o.status=s.status,o.statusText=s.statusText,t(o)},s.timeout=0,s.onload=i,s.onabort=i,s.onerror=i,s.ontimeout=function(){},s.onprogress=function(){},s.send(e.data)})}},function(e,t,i){function r(e,t,i,n){var a=this,l={};return i=o.extend({},r.actions,i),o.each(i,function(i,r){i=o.merge({url:e,params:t||{}},n,i),l[r]=function(){return(a.$http||o.http)(s(i,arguments))}}),l}function s(e,t){var i,r,s,n=o.extend({},e),a={};switch(t.length){case 4:s=t[3],r=t[2];case 3:case 2:if(!o.isFunction(t[1])){a=t[0],i=t[1],r=t[2];break}if(o.isFunction(t[0])){r=t[0],s=t[1];break}r=t[1],s=t[2];case 1:o.isFunction(t[0])?r=t[0]:/^(POST|PUT|PATCH)$/i.test(n.method)?i=t[0]:a=t[0];break;case 0:break;default:throw"Expected up to 4 arguments [params, data, success, error], got "+t.length+" arguments"}return n.data=i,n.params=o.extend({},n.params,a),r&&(n.success=r),s&&(n.error=s),n}var o=i(1);r.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},"delete":{method:"DELETE"}},e.exports=o.resource=r}])}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Keen=t():e.Keen=t()}(this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}i(1);var s=i(2),o=r(s),n=i(65),a=r(n),l=i(89),d=r(l),h=i(93),c=r(h),u=i(97),p=r(u),f=i(101),m=r(f),g=i(109),v=r(g),x=i(6),w=r(x),b=i(10),y=r(b),_=i(13),j=r(_),q=i(16),T=r(q),C=i(104),k=r(C),S=i(47),D=r(S),I=i(113),P=r(I),A=i(51),B=r(A),M=i(117),H=r(M),z=i(121),E=r(z),O=i(125),L=r(O),N=i(129),F=r(N),R=i(132),W=r(R),V=i(137),G=r(V),U=i(20),$=r(U),Y=i(141),K=r(Y),X=i(152),Z=r(X),J=i(164),Q=r(J),ee=i(168),te=r(ee),ie=i(172),re=r(ie),se=i(176),oe=r(se),ne=i(180),ae=r(ne),le=i(188),de=r(le),he=i(192),ce=r(he),ue=i(58),pe=r(ue),fe={UiAlert:o["default"],UiAutocomplete:a["default"],UiButton:d["default"],UiCheckbox:c["default"],UiCollapsible:p["default"],UiConfirm:m["default"],UiFab:v["default"],UiIcon:w["default"],UiIconButton:y["default"],UiMenu:j["default"],UiMenuItem:T["default"],UiModal:k["default"],UiPopover:D["default"],UiPreloader:P["default"],UiProgressCircular:B["default"],UiProgressLinear:H["default"],UiRadio:E["default"],UiRadioGroup:L["default"],UiRating:F["default"],UiRatingIcon:W["default"],UiRatingPreview:G["default"],UiRippleInk:$["default"],UiSelect:K["default"],UiSlider:Z["default"],UiSnackbar:Q["default"],UiSnackbarContainer:te["default"],UiSwitch:re["default"],UiTab:oe["default"],UiTabs:ae["default"],UiTextbox:de["default"],UiToolbar:ce["default"],UiTooltip:pe["default"],install:function(e){e.component("ui-alert",o["default"]),e.component("ui-autocomplete",a["default"]),e.component("ui-button",d["default"]),e.component("ui-checkbox",c["default"]),e.component("ui-collapsible",p["default"]),e.component("ui-confirm",m["default"]),e.component("ui-fab",v["default"]),e.component("ui-icon",w["default"]),e.component("ui-icon-button",y["default"]),e.component("ui-menu",j["default"]),e.component("ui-menu-item",T["default"]),e.component("ui-modal",k["default"]),e.component("ui-popover",D["default"]),e.component("ui-preloader",P["default"]),e.component("ui-progress-circular",B["default"]),e.component("ui-progress-linear",H["default"]),e.component("ui-radio",E["default"]),e.component("ui-radio-group",L["default"]),e.component("ui-rating",F["default"]),e.component("ui-rating-icon",W["default"]),e.component("ui-rating-preview",G["default"]),e.component("ui-ripple-ink",$["default"]),e.component("ui-select",K["default"]),e.component("ui-slider",Z["default"]),e.component("ui-snackbar",Q["default"]),e.component("ui-snackbar-container",te["default"]),e.component("ui-switch",re["default"]),e.component("ui-tab",oe["default"]),e.component("ui-tabs",ae["default"]),e.component("ui-textbox",de["default"]),e.component("ui-toolbar",ce["default"]),e.component("ui-tooltip",pe["default"])}};e.exports=fe},function(e,t){"use strict";document.addEventListener("DOMContentLoaded",function(){var e,t=!1,i=["input:not([type])","input[type=text]","input[type=number]","input[type=date]","input[type=time]","input[type=datetime]","textarea","[role=textbox]","[supports-modality=keyboard]"].join(","),r=function(){var e=document.body;return e.matchesSelector?e.matchesSelector:e.webkitMatchesSelector?e.webkitMatchesSelector:e.mozMatchesSelector?e.mozMatchesSelector:e.msMatchesSelector?e.msMatchesSelector:void 0}(),s=function(){var e="body:not([modality=keyboard]) :focus { outline: none; }",t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="disable-focus-ring",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.insertBefore(i,t.firstChild)},o=function(e){var t=!1;return r&&(t=r.call(e,i)&&r.call(e,":not([readonly])")),t};s(),document.body.addEventListener("keydown",function(){t=!0,e&&clearTimeout(e),e=setTimeout(function(){t=!1},100)},!0),document.body.addEventListener("focus",function(e){(t||o(e.target))&&document.body.setAttribute("modality","keyboard")},!0),document.body.addEventListener("blur",function(){document.body.removeAttribute("modality")},!0)})},function(e,t,i){var r,s;i(3),r=i(5),r&&r.__esModule&&Object.keys(r).length>1,s=i(64),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},,function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(10),a=r(n);t["default"]={name:"ui-alert",props:{show:{type:Boolean,"default":!0},type:{type:String,"default":"info"},text:String,icon:String,hideIcon:{type:Boolean,"default":!1},dismissible:{type:Boolean,"default":!0}},created:function(){if(!this.icon){var e=this.type;"success"===this.type&&(e="check_circle"),this.icon=e}},methods:{close:function(){this.show=!1,this.$dispatch("dismissed")}},components:{UiIcon:o["default"],UiIconButton:a["default"]}}},function(e,t,i){var r,s;i(7),r=i(8),r&&r.__esModule&&Object.keys(r).length>1,s=i(9),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ui-icon",props:{icon:{type:String,required:!0},removeText:{type:Boolean,"default":!1}}}},function(e,t){e.exports='\n<i\n    class="ui-icon material-icons" :class="[icon]" v-text="removeText ? null : icon"\n    aria-hidden="true"\n></i>\n'},function(e,t,i){var r,s;i(11),r=i(12),r&&r.__esModule&&Object.keys(r).length>1,s=i(63),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(13),a=r(n),l=i(47),d=r(l),h=i(51),c=r(h),u=i(55),p=r(u),f=i(56),m=r(f),g=i(57),v=r(g),x=i(19),w=r(x);t["default"]={name:"ui-icon-button",props:{type:{type:String,"default":"normal",coerce:function(e){return"ui-icon-button-"+e}},color:{type:String,"default":"default",coerce:function(e){return"color-"+e}},icon:{type:String,required:!0},ariaLabel:String,loading:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},computed:{styleClasses:function(){var e=[this.type,this.color];return this.hasDropdown&&e.push("ui-dropdown"),e},spinnerColor:function(){return"color-default"===this.color||"color-black"===this.color?"black":"white"}},components:{UiIcon:o["default"],UiMenu:a["default"],UiPopover:d["default"],UiProgressCircular:c["default"]},mixins:[m["default"],v["default"],w["default"]],directives:{disabled:p["default"]}}},function(e,t,i){var r,s;i(14),r=i(15),r&&r.__esModule&&Object.keys(r).length>1,s=i(46),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(16),o=r(s),n=i(43),a=r(n);t["default"]={name:"ui-menu",props:{options:{type:Array,required:!0,"default":function(){return[]}},showIcons:{type:Boolean,"default":!1},showSecondaryText:{type:Boolean,"default":!1},hideRippleInk:{type:Boolean,"default":!1}},events:{"dropdown-opened":function(){return this.containFocus&&document.addEventListener("focus",this.restrictFocus,!0),this.$dispatch("opened"),!0},"dropdown-closed":function(){return this.containFocus&&document.removeEventListener("focus",this.restrictFocus,!0),this.$dispatch("closed"),!0}},methods:{optionSelect:function(e){e.disabled||"divider"===e.type||(this.$dispatch("option-selected",e),this.closeDropdown())},restrictFocus:function(e){this.$els.dropdown.contains(e.target)||(e.stopPropagation(),this.$els.dropdown.querySelector(".ui-menu-item").focus())},redirectFocus:function(e){e.stopPropagation(),this.$els.dropdown.querySelector(".ui-menu-item").focus()}},components:{UiMenuItem:o["default"]},mixins:[a["default"]]}},function(e,t,i){var r,s;i(17),r=i(18),r&&r.__esModule&&Object.keys(r).length>1,s=i(42),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(19),a=r(n);t["default"]={name:"ui-menu-item",props:{type:String,text:String,icon:String,showIcon:{type:Boolean,"default":!1},secondaryText:String,showSecondaryText:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},computed:{isDivider:function(){return"divider"===this.type}},components:{UiIcon:o["default"]},mixins:[a["default"]]}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(20),o=r(s);t["default"]={props:{hideRippleInk:{type:Boolean,"default":!1}},components:{UiRippleInk:o["default"]}}},function(e,t,i){var r,s;i(21),r=i(22),r&&r.__esModule&&Object.keys(r).length>1,s=i(41),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),o=r(s),n=function(e,t){var i=t.currentTarget;if((0,o["default"])(i).hasClass("ui-ripple-ink")||(i=(0,o["default"])(i).findOne(".ui-ripple-ink"))){var r=i.getAttribute("data-ui-event");if(!r||r===e){i.setAttribute("data-ui-event",e);var s,n=i.getBoundingClientRect(),a=t.offsetX;void 0!==a?s=t.offsetY:(a=t.clientX-n.left,s=t.clientY-n.top);var l,d=document.createElement("div");l=n.width===n.height?1.412*n.width:Math.sqrt(n.width*n.width+n.height*n.height);var h=2*l+"px";d.style.width=h,d.style.height=h,d.style.marginLeft=-l+a+"px",d.style.marginTop=-l+s+"px",d.className="ripple",i.appendChild(d),setTimeout(function(){(0,o["default"])(d).addClass("held")},0);var c="mousedown"===e?"mouseup":"touchend",u=function p(){document.removeEventListener(c,p),(0,o["default"])(d).addClass("done"),setTimeout(function(){i.removeChild(d),i.children.length||(0,o["default"])(i).removeClass("active").attr("data-ui-event",null)},450)};document.addEventListener(c,u)}}},a=function(e){0===e.button&&n(e.type,e)},l=function(e){if(e.changedTouches)for(var t=0;t<e.changedTouches.length;++t)n(e.type,e.changedTouches[t])};t["default"]={name:"ui-ripple-ink",props:{trigger:{type:Element,required:!0}},watch:{trigger:function(){this.initialize()}},ready:function(){this.initialize()},beforeDestory:function(){this.trigger&&(this.trigger.removeEventListener("mousedown",a),this.trigger.removeEventListener("touchstart",l))},methods:{initialize:function(){this.trigger&&(this.trigger.addEventListener("touchstart",l),this.trigger.addEventListener("mousedown",a))}}}},function(e,t,i){"use strict";e.exports=i(24)},function(e,t,i){"use strict";function r(e){return function(t){return p.matches(t,e)}}function s(e,t){return function(i){var r=this.map(function(t){return p[e](t,i)}),s=u(r);return t?s[0]:s}}function o(e){return function(){return c.apply(null,arguments).forEach(e,this),this}}function n(e){return function(t,i,r){var s=t.split(" ");return"function"!=typeof r&&(r=i,i=null),this.forEach(function(t){s.forEach(function(s){var o=f.handlers[s];o?p[e](t,o.event,i,o.wrap(r)):p[e](t,s,i,r)})}),this}}function a(e){g.prototype[e[0]]=function(t){return this.forEach(function(i){e[1](i,t)}),this}}function l(e){g.prototype[e]=function(t){return p[e](this,t),this}}function d(e,t){var i=arguments.length<2;return i?this.length?p[e](this[0]):"":(this.forEach(function(i){p[e](i,t)}),this)}function h(e){g.prototype[e]=function(t){var i=arguments.length<1;return i?d.call(this,e):d.call(this,e,t)}}var c=i(25),u=i(39),p=i(26),f=i(38),m=i(40),g=i(31);g.prototype.prev=s("prev"),g.prototype.next=s("next"),g.prototype.parent=s("parent"),g.prototype.parents=s("parents"),g.prototype.children=s("children"),g.prototype.find=s("qsa"),g.prototype.findOne=s("qs",!0),g.prototype.where=function(e){return this.filter(r(e))},g.prototype.is=function(e){return this.some(r(e))},g.prototype.i=function(e){return this[e]?new g(this[e]):new g},g.prototype.and=o(function(e){return-1===this.indexOf(e)&&this.push(e),this}),g.prototype.but=o(function(e){var t=this.indexOf(e);return-1!==t&&this.splice(t,1),this}),g.prototype.css=function(e,t){var i,r=e&&"object"==typeof e,s=!r&&!t;return s?this.length?p.getCss(this[0],e):null:(r?i=e:(i={},i[e]=t),this.forEach(p.setCss(i)),this)},g.prototype.once=n("once"),g.prototype.on=n("on"),g.prototype.off=n("off"),g.prototype.emit=n("emit"),[["addClass",m.add],["removeClass",m.remove],["setClass",m.set],["removeClass",m.remove],["remove",p.remove]].forEach(a),["append","appendTo","prepend","prependTo","before","beforeOf","after","afterOf"].forEach(l),
g.prototype.hasClass=function(e){return this.some(function(t){return m.contains(t,e)})},g.prototype.attr=function(e,t){function i(t){p.manyAttr(t,e)}function r(i){p.attr(i,e,t)}var s=e&&"object"==typeof e,o=s?i:r,n=s||arguments.length>1;return n?(this.forEach(o),this):this.length?p.getAttr(this[0],e):null},["html","text","value"].forEach(h),g.prototype.clone=function(){return this.map(function(e){return p.clone(e)})},g.prototype.focus=function(){return this.length&&this[0].focus(),this},e.exports=i(25)},function(e,t,i){"use strict";function r(e,t){var i="string"!=typeof e;if(i&&arguments.length<2)return o(e);if(i)return new a;var n=e.match(l);return n?s.make(n[1]):r.find(e,t)}var s=i(26),o=i(34),n=i(38),a=i(31),l=/^\s*<([a-z]+(?:-[a-z]+)?)\s*\/?>\s*$/i;r.find=function(e,t){return s.qsa(t,e)},r.findOne=function(e,t){return s.qs(t,e)},r.custom=n.register,e.exports=r},function(e,t,i){(function(t){"use strict";function r(e){return"string"==typeof e?w.qs(null,e):x.isElement(e)?e:e instanceof f?e[0]:null}function s(e){return function(t,i){var r=t[e];return!r||i&&!w.matches(r,i)?new f:m(r)}}function o(e,t){return t?t instanceof f?-1!==t.indexOf(e):x.isElement(t)?e===t:w.matches(e,t):!0}function n(e,t,i){function r(r){for(var s=r.target;s&&s!==e;){if(w.matches(s,t))return void i.apply(this,arguments);s=s.parentElement}}return b[i._dd]?b[i._dd]:(i._dd=Date.now(),b[i._dd]=r,r)}function a(e,t,i,r,s){null===r?p[e](t,i,s):p[e](t,i,n(t,r,s))}function l(e,t,i,r){function s(){return w.off.apply(w,o),r.apply(this,arguments)}var o=[e,t,i,s];w.on.apply(w,o)}function d(e,t,i){function r(e,r){o?t.forEach(function(t,s){i(e,h(t,r&&0===s))}):i(e,h(t,r))}function s(e,t){r(e,0===t)}var o=t instanceof f,n=e instanceof f;return n?e.forEach(s):o&&r(e,!0),!e||!t||n||o}function h(e,t){return t?e:w.clone(e)}function c(e){var t=e.split(/[A-Z]/)[0];w[e]=function(e,i){w[t](i,e)}}var u=i(27),p=i(28),f=i(31),m=i(34),g=i(36),v=i(37),x=i(35),w=e.exports={},b={};w.qsa=function(e,t){var i=new f;return u(t,r(e),i)},w.qs=function(e,t){return w.qsa(e,t)[0]},w.matches=function(e,t){return x.isElement(e)&&u.matchesSelector(e,t)},w.prev=s("previousElementSibling"),w.next=s("nextElementSibling"),w.parent=s("parentElement"),w.parents=function(e,t){for(var i=[],r=e;r.parentElement;)o(r.parentElement,t)&&i.push(r.parentElement),r=r.parentElement;return g(i)},w.children=function(e,t){var i,r,s=[],n=e.children;for(r=0;n&&r<n.length;r++)i=n[r],o(i,t)&&s.push(i);return g(s)},w.once=l,w.on=a.bind(null,"add"),w.off=a.bind(null,"remove"),w.emit=a.bind(null,"fabricate"),w.html=function(e,t){var i=arguments.length<2;return i?e.innerHTML:void(e.innerHTML=t)},w.text=function(e,t){var i=x.isCheckable(e),r=arguments.length<2;return r?i?e.value:e.innerText||e.textContent:void(i?e.value=t:e.innerText=e.textContent=t)},w.value=function(e,t){var i=x.isCheckable(e),r=arguments.length<2;return r?i?e.checked:e.value:void(i?e.checked=t:e.value=t)},w.attr=function(e,t,i){if(x.isElement(e)){if(null===i||void 0===i)return void e.removeAttribute(t);var r=v.hyphenToCamel(t);r in e?e[r]=i:e.setAttribute(t,i)}},w.getAttr=function(e,t){var i=v.hyphenToCamel(t);return i in e?e[i]:e.getAttribute?e.getAttribute(t):null},w.manyAttr=function(e,t){Object.keys(t).forEach(function(i){w.attr(e,i,t[i])})},w.make=function(e){return new f(document.createElement(e))},w.clone=function(e){return e.cloneNode?e.cloneNode(!0):e},w.remove=function(e){e.parentElement&&e.parentElement.removeChild(e)},w.append=function(e,t){d(e,t,w.append)||e.appendChild&&e.appendChild(t)},w.prepend=function(e,t){d(e,t,w.prepend)||e.insertBefore&&e.insertBefore(t,e.firstChild)},w.before=function(e,t){d(e,t,w.before)||e.parentElement&&e.parentElement.insertBefore(t,e)},w.after=function(e,t){d(e,t,w.after)||e.parentElement&&e.parentElement.insertBefore(t,e.nextSibling)},["appendTo","prependTo","beforeOf","afterOf"].forEach(c);var y={"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,widows:!0,"z-index":!0,zoom:!0},_=/^\d+$/;"float"in document.body.style;w.getCss=function(e,i){if(!x.isElement(e))return null;var r=v.hyphenate(i),s=t.getComputedStyle(e)[r];return"opacity"===i&&""===s?1:"px"===s.substr(-2)||_.test(s)?parseFloat(s,10):s},w.setCss=function(e){function t(t){var i=e[t];return null!==i&&i===i}function i(t){var i=v.hyphenate(t),r=e[t];return"number"!=typeof r||y[i]||(r+="px"),{name:i,value:r}}var r=Object.keys(e).filter(t).map(i);return function(e){x.isElement(e)&&r.forEach(function(t){e.style[t.name]=t.value})}}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function i(e,t){var i,r,s,o,n,h=t!==d;h&&(i=t.getAttribute("id"),r=i||a,s="#"+r+" ",o=s+e.replace(/,/g,","+s),n=l.test(e)&&t.parentNode,i||t.setAttribute("id",r));try{return(n||t).querySelectorAll(o||e)}catch(c){return[]}finally{null===i&&t.removeAttribute("id")}}function r(e,t,r,s){var n,a=t||d,l=r||[],h=0;if("string"!=typeof e)return l;if(1!==a.nodeType&&9!==a.nodeType)return[];if(s)for(;n=s[h++];)o(n,e)&&l.push(n);else l.push.apply(l,i(e,a));return l}function s(e,t){return r(e,null,null,t)}function o(e,t){return c.call(e,t)}function n(){return!1}var a="sektor-"+Date.now(),l=/[+~]/,d=t.document,h=d.documentElement||{},c=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector||n;e.exports=r,r.matches=s,r.matchesSelector=o}).call(t,function(){return this}())},function(e,t,i){(function(t){"use strict";function r(e,t,i,r){return e.addEventListener(t,i,r)}function s(e,t,i){return e.attachEvent("on"+t,d(e,t,i))}function o(e,t,i,r){return e.removeEventListener(t,i,r)}function n(e,t,i){var r=h(e,t,i);return r?e.detachEvent("on"+t,r):void 0}function a(e,t,i){function r(){var e;return f.createEvent?(e=f.createEvent("Event"),e.initEvent(t,!0,!0)):f.createEventObject&&(e=f.createEventObject()),e}function s(){return new u(t,{detail:i})}var o=-1===p.indexOf(t)?s():r();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}function l(e,i,r){return function(i){var s=i||t.event;s.target=s.target||s.srcElement,s.preventDefault=s.preventDefault||function(){s.returnValue=!1},s.stopPropagation=s.stopPropagation||function(){s.cancelBubble=!0},s.which=s.which||s.keyCode,r.call(e,s)}}function d(e,t,i){var r=h(e,t,i)||l(e,t,i);return v.push({wrapper:r,element:e,type:t,fn:i}),r}function h(e,t,i){var r=c(e,t,i);if(r){var s=v[r].wrapper;return v.splice(r,1),s}}function c(e,t,i){var r,s;for(r=0;r<v.length;r++)if(s=v[r],s.element===e&&s.type===t&&s.fn===i)return r}var u=i(29),p=i(30),f=t.document,m=r,g=o,v=[];t.addEventListener||(m=s,g=n),e.exports={add:m,remove:g,fabricate:a}}).call(t,function(){return this}())},function(e,t){(function(t){function i(){try{var e=new r("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}var r=t.CustomEvent;e.exports=i()?r:"function"==typeof document.createEvent?function(e,t){var i=document.createEvent("CustomEvent");return t?i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):i.initCustomEvent(e,!1,!1,void 0),i}:function(e,t){var i=document.createEventObject();return i.type=e,t?(i.bubbles=Boolean(t.bubbles),i.cancelable=Boolean(t.cancelable),i.detail=t.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var i=[],r="",s=/^on/;for(r in t)s.test(r)&&i.push(r.slice(2));e.exports=i}).call(t,function(){return this}())},function(e,t,i){"use strict";var r=i(32),s=r.Array();e.exports=s},function(e,t,i){function r(e){s[e]=function(){return s(e)}}var s=i(33);e.exports=s,["Array","Function","Object","Date","String"].forEach(r)},function(e,t){(function(t){"use strict";function i(e){var t=s.createElement("iframe");return t.style.display="none",s.body.appendChild(t),r(e,t.contentWindow)}function r(e,t){var i,r=window[e].prototype,s=t[e];for(i in r)s.prototype[i]=r[i];return s}var s=t.document;e.exports=i}).call(t,function(){return this}())},function(e,t,i){(function(t){"use strict";function r(e){return e===t?new n(e):e instanceof n?e:e?s.isElement(e)?new n(e):s.isArray(e)?o(e).filter(function(e){return s.isElement(e)}):new n:new n}var s=i(35),o=i(36),n=i(31);e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";function i(e){return n?e instanceof HTMLElement:r(e)}function r(e){return e&&"object"==typeof e&&"string"==typeof e.nodeName&&1===e.nodeType}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"checked"in e&&"radio"===e.type||"checkbox"===e.type}var n="object"==typeof HTMLElement;e.exports={isElement:i,isArray:s,isCheckable:o}},function(e,t,i){"use strict";function r(e){return n.apply(this,e)}function s(e){return new r(e)}function o(e){var t=a[e];a[e]=function(){return s(t.apply(this,arguments))}}var n=i(31),a=n.prototype;r.prototype=a,["map","filter","concat","slice"].forEach(o),e.exports=s},function(e,t){"use strict";function i(e){var t=/-([a-z])/g;return e.replace(t,function(e,t){return t.toUpperCase()})}function r(e){var t=/([a-z])([A-Z])/g;return e.replace(t,"$1-$2").toLowerCase()}e.exports={hyphenToCamel:i,hyphenate:r}},function(e,t){"use strict";function i(e,t,i){function o(t){return r(e,t)}s[e]={event:t,filter:i,wrap:o}}function r(e,t){if(!t)return t;var i="__dce_"+e;return t[i]?t[i]:(t[i]=function(i){var r=s[e].filter(i);return r?t.apply(this,arguments):void 0},t[i])}var s={};i("left-click","click",function(e){return 1===e.which&&!e.metaKey&&!e.ctrlKey}),e.exports={register:i,wrapper:r,handlers:s}},function(e,t,i){"use strict";function r(e,t){return e.reduce(function(e,t){return s.isArray(t)?r(t,e):-1===e.indexOf(t)?e.concat(t):e},t||new s)}var s=i(31);e.exports=r},function(e,t,i){"use strict";function r(e){return"string"==typeof e?e.replace(d,"").split(h):e}function s(e){return c.isElement(e)?e.className.replace(d,"").split(h):[]}function o(e,t){c.isElement(e)&&(e.className=r(t).join(" "))}function n(e,t){var i=a(e,t),s=r(t);return i.push.apply(i,s),o(e,i),i}function a(e,t){var i=s(e),n=r(t);return n.forEach(function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}),o(e,i),i}function l(e,t){var i=s(e),o=r(t);return o.every(function(e){return-1!==i.indexOf(e)})}var d=/^\s+|\s+$/g,h=/\s+/g,c=i(35);e.exports={add:n,remove:a,contains:l,set:o,get:s}},function(e,t){e.exports='\n<div class="ui-ripple-ink"></div>\n'},function(e,t){e.exports='\n<a\n    class="ui-menu-item" role="menu-item" :tabindex="(isDivider || disabled) ? null : \'0\'"\n    :class="{ \'divider\': isDivider, \'disabled\' : disabled }"\n>\n    <ui-icon\n        class="ui-menu-item-icon" :icon="icon" v-if="showIcon && !isDivider && icon"\n    ></ui-icon>\n\n    <div class="ui-menu-item-text" v-text="text" v-if="!isDivider"></div>\n\n    <div\n        class="ui-menu-item-secondary-text" v-text="secondaryText"\n        v-if="showSecondaryText && !isDivider && secondaryText"\n    ></div>\n\n    <ui-ripple-ink\n        :trigger="$el" v-if="!hideRippleInk && !disabled && !isDivider"\n    ></ui-ripple-ink>\n</a>\n'},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),o=r(s),n=i(44),a=r(n);t["default"]={props:{trigger:Element,containFocus:{type:Boolean,"default":!0},dropdownPosition:{type:String,"default":"bottom left"},openOn:{type:String,"default":"click"}},data:function(){return{drop:null,lastFocussedElement:null}},ready:function(){this.trigger&&this.initializeDropdown()},beforeDestroy:function(){this.drop&&(this.drop.remove(),this.drop.destroy())},methods:{initializeDropdown:function(){this.drop=new a["default"]({target:this.trigger,content:this.$els.dropdown,position:this.dropdownPosition,constrainToWindow:!0,openOn:this.openOn}),"bottom left"!==this.dropdownPosition&&(this.drop.open(),this.drop.close(),this.drop.open(),this.drop.close()),this.drop.on("open",this.dropdownOpened),this.drop.on("close",this.dropdownClosed)},closeDropdown:function(){this.drop&&this.drop.close()},dropdownOpened:function(){(0,o["default"])(this.trigger).addClass("dropdown-open"),this.lastFocussedElement=document.activeElement,this.$els.dropdown.focus(),this.$dispatch("dropdown-opened")},dropdownClosed:function(){(0,o["default"])(this.trigger).removeClass("dropdown-open"),this.lastFocussedElement.focus(),this.$dispatch("dropdown-closed")}}}},function(e,t,i){var r,s,o;!function(n,a){s=[i(45)],r=a,o="function"==typeof r?r.apply(t,s):r,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){var t=e.split(" "),i=a(t,2),r=i[0],s=i[1];if(["left","right"].indexOf(r)>=0){var o=[s,r];r=o[0],s=o[1]}return[r,s].join(" ")}function s(e,t){for(var i=void 0,r=[];-1!==(i=e.indexOf(t));)r.push(e.splice(i,1));return r}function o(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],h=function(){for(var e=arguments.length,t=Array(e),i=0;e>i;i++)t[i]=arguments[i];return new(n.apply(w,[null].concat(t)))};c(h,{createContext:o,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};c(h,v,a),c(h.defaults,v.defaults,a.defaults),"undefined"==typeof _[h.classPrefix]&&(_[h.classPrefix]=[]),h.updateBodyClasses=function(){for(var e=!1,t=_[h.classPrefix],i=t.length,r=0;i>r;++r)if(t[r].isOpened()){e=!0;break}e?u(document.body,h.classPrefix+"-open"):p(document.body,h.classPrefix+"-open")};var w=function(o){function n(e){if(t(this,n),d(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.options=c({},h.defaults,e),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");var i="data-"+h.classPrefix,r=this.target.getAttribute(i);r&&null==this.options.content&&(this.options.content=r);for(var s=["position","openOn"],o=0;o<s.length;++o){var a=this.target.getAttribute(i+"-"+s[o]);a&&null==this.options[s[o]]&&(this.options[s[o]]=a)}this.options.classes&&this.options.addTargetClasses!==!1&&u(this.target,this.options.classes),h.drops.push(this),_[h.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return i(n,o),l(n,[{key:"_on",value:function(e,t,i){this._boundEvents.push({element:e,event:t,handler:i}),e.addEventListener(t,i)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var e=this;if(this.drop=document.createElement("div"),u(this.drop,h.classPrefix),this.options.classes&&u(this.drop,this.options.classes),this.content=document.createElement("div"),u(this.content,h.classPrefix+"-content"),"function"==typeof this.options.content){var t=function(){var t=e.options.content.call(e,e);if("string"==typeof t)e.content.innerHTML=t;else{if("object"!=typeof t)throw new Error("Drop Error: Content function should return a string or HTMLElement.");e.content.innerHTML="",e.content.appendChild(t)}};t(),this.on("open",t.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var t=this.options.position.split(" ");t[0]=y[t[0]],t=t.join(" ");var i=[];this.options.constrainToScrollParent?i.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):i.push({to:"scrollParent"}),this.options.constrainToWindow!==!1?i.push({to:"window",attachment:"together"}):i.push({to:"window"});var s={element:this.drop,target:this.target,attachment:r(t),targetAttachment:r(this.options.position),classPrefix:h.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:i,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new e(c({},s,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var e=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var t=this.options.openOn.split(" ");if(t.indexOf("click")>=0)for(var i=function(t){e.toggle(t),t.preventDefault()},r=function(t){e.isOpened()&&(t.target===e.drop||e.drop.contains(t.target)||t.target===e.target||e.target.contains(t.target)||e.close(t))},s=0;s<g.length;++s){var o=g[s];this._on(this.target,o,i),this._on(document,o,r)}var n=null,a=null,l=function(t){null!==a?clearTimeout(a):n=setTimeout(function(){e.open(t),n=null},("focus"===t.type?e.options.focusDelay:e.options.hoverOpenDelay)||e.options.openDelay)},d=function(t){null!==n?clearTimeout(n):a=setTimeout(function(){e.close(t),a=null},("blur"===t.type?e.options.blurDelay:e.options.hoverCloseDelay)||e.options.closeDelay)};t.indexOf("hover")>=0&&(this._on(this.target,"mouseover",l),this._on(this.drop,"mouseover",l),this._on(this.target,"mouseout",d),this._on(this.drop,"mouseout",d)),t.indexOf("focus")>=0&&(this._on(this.target,"focus",l),this._on(this.drop,"focus",l),this._on(this.target,"blur",d),this._on(this.drop,"blur",d))}}},{key:"isOpened",value:function(){return this.drop?f(this.drop,h.classPrefix+"-open"):void 0}},{key:"toggle",value:function(e){this.isOpened()?this.close(e):this.open(e)}},{key:"open",value:function(e){var t=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),u(this.drop,h.classPrefix+"-open"),u(this.drop,h.classPrefix+"-open-transitionend"),setTimeout(function(){t.drop&&u(t.drop,h.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),h.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(e){e.target===e.currentTarget&&(f(this.drop,h.classPrefix+"-open")||p(this.drop,h.classPrefix+"-open-transitionend"),this.drop.removeEventListener(x,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(e){var t=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,t=this.options.beforeClose(e,this)!==!1),this.isClosing=!1,t}},{key:"close",value:function(e){this.isOpened()&&this.beforeCloseHandler(e)&&(p(this.drop,h.classPrefix+"-open"),p(this.drop,h.classPrefix+"-after-open"),this.drop.addEventListener(x,this.transitionEndHandler),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),h.updateBodyClasses(),this.options.remove&&this.remove(e))}},{key:"remove",value:function(e){this.close(e),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var e=0;e<this._boundEvents.length;++e){var t=this._boundEvents[e],i=t.element,r=t.event,o=t.handler;i.removeEventListener(r,o)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,s(_[h.classPrefix],this),s(h.drops,this)}}]),n}(m);return h}var n=Function.prototype.bind,a=function(){function e(e,t){var i=[],r=!0,s=!1,o=void 0;try{for(var n,a=e[Symbol.iterator]();!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(s)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),d=function(e,t,i){for(var r=!0;r;){var s=e,o=t,n=i;r=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(n)}var d=Object.getPrototypeOf(s);if(null===d)return;e=d,t=o,i=n,r=!0,a=d=void 0}},h=e.Utils,c=h.extend,u=h.addClass,p=h.removeClass,f=h.hasClass,m=h.Evented,g=["click"];"ontouchstart"in document.documentElement&&g.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},x="";for(var w in v)if({}.hasOwnProperty.call(v,w)){var b=document.createElement("p");"undefined"!=typeof b.style[w]&&(x=v[w])}var y={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},_={},j=o();return document.addEventListener("DOMContentLoaded",function(){j.updateBodyClasses()}),j})},function(e,t,i){var r,s;!function(o,n){r=n,s="function"==typeof r?r.call(t,i,t,e):r,!(void 0!==s&&(e.exports=s))}(this,function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){var t=getComputedStyle(e)||{},i=t.position;if("fixed"===i)return e;for(var r=e;r=r.parentNode;){var s=void 0;try{s=getComputedStyle(r)}catch(o){}if("undefined"==typeof s||null===s)return r;var n=s,a=n.overflow,l=n.overflowX,d=n.overflowY;if(/(auto|scroll)/.test(a+d+l)&&("absolute"!==i||["relative","absolute","fixed"].indexOf(s.position)>=0))return r}return document.body}function o(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var i=t.documentElement,r={},s=e.getBoundingClientRect();for(var o in s)r[o]=s[o];var n=q(t);return r.top-=n.top,r.left-=n.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-i.clientTop,r.left=r.left-i.clientLeft,r.right=t.body.clientWidth-r.width-r.left,r.bottom=t.body.clientHeight-r.height-r.top,r}function n(e){return e.offsetParent||document.documentElement}function a(){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");l(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;i===r&&(r=t.clientWidth),document.body.removeChild(t);var s=i-r;return{width:s,height:s}}function l(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}),e}function d(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),r=u(e).replace(i," ");p(e,r)}}function h(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var i=u(e)+(" "+t);p(e,i)}}function c(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var i=u(e);return new RegExp("(^| )"+t+"( |$)","gi").test(i)}function u(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className}function p(e,t){e.setAttribute("class",t)}function f(e,t,i){i.forEach(function(i){-1===t.indexOf(i)&&c(e,i)&&d(e,i)}),t.forEach(function(t){c(e,t)||h(e,t)})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+i>=t&&t>=e-i}function g(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function v(){for(var e={top:0,left:0},t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];return i.forEach(function(t){var i=t.top,r=t.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof r&&(r=parseFloat(r,10)),e.top+=i,e.left+=r}),e}function x(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function w(e,t){return"scrollParent"===t?t=e.scrollParent:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=o(t),i=e,r=getComputedStyle(t);t=[i.left,i.top,e.width+i.left,e.height+i.top],W.forEach(function(e,i){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[i]+=parseFloat(r["border"+e+"Width"]):t[i]-=parseFloat(r["border"+e+"Width"])})}(),t}var b=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),y=void 0;"undefined"==typeof y&&(y={modules:[]});var _=function(){var e=0;return function(){return++e}}(),j={},q=function(e){var t=e._tetherZeroElement;"undefined"==typeof t&&(t=e.createElement("div"),t.setAttribute("data-tether-id",_()),l(t.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(t),e._tetherZeroElement=t);var i=t.getAttribute("data-tether-id");if("undefined"==typeof j[i]){j[i]={};var r=t.getBoundingClientRect();for(var s in r)j[i][s]=r[s];C(function(){delete j[i]})}return j[i]},T=[],C=function(e){T.push(e)},k=function(){for(var e=void 0;e=T.pop();)e()},S=function(){function e(){r(this,e)}return b(e,[{key:"on",value:function(e,t,i){var r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:r})}},{key:"once",value:function(e,t,i){this.on(e,t,i,!0)}},{key:"off",value:function(e,t){if("undefined"==typeof this.bindings||"undefined"==typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var i=0;i<this.bindings[e].length;)this.bindings[e][i].handler===t?this.bindings[e].splice(i,1):++i}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,i=arguments.length,r=Array(i>1?i-1:0),s=1;i>s;s++)r[s-1]=arguments[s];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],n=o.handler,a=o.ctx,l=o.once,d=a;"undefined"==typeof d&&(d=this),n.apply(d,r),l?this.bindings[e].splice(t,1):++t}}}}]),e}();y.Utils={getScrollParent:s,getBounds:o,getOffsetParent:n,extend:l,addClass:h,removeClass:d,hasClass:c,updateClasses:f,defer:C,flush:k,uniqueId:_,Evented:S,getScrollBarSize:a};var D=function(){function e(e,t){var i=[],r=!0,s=!1,o=void 0;try{for(var n,a=e[Symbol.iterator]();!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(s)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();if("undefined"==typeof y)throw new Error("You must include the utils.js file before tether.js");var I=y.Utils,s=I.getScrollParent,o=I.getBounds,n=I.getOffsetParent,l=I.extend,h=I.addClass,d=I.removeClass,f=I.updateClasses,C=I.defer,k=I.flush,a=I.getScrollBarSize,P=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","webkitTransform","OTransform","MozTransform","msTransform"],i=0;i<t.length;++i){var r=t[i];if(void 0!==e.style[r])return r}}(),A=[],B=function(){A.forEach(function(e){e.position(!1)}),k()};!function(){var e=null,t=null,i=null,r=function s(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(i=setTimeout(s,250))):void("undefined"!=typeof e&&g()-e<10||("undefined"!=typeof i&&(clearTimeout(i),i=null),e=g(),B(),t=g()-e))};"undefined"!=typeof window&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,r)})}();var M={center:"center",left:"right",right:"left"},H={middle:"middle",top:"bottom",bottom:"top"},z={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},E=function(e,t){var i=e.left,r=e.top;return"auto"===i&&(i=M[t.left]),"auto"===r&&(r=H[t.top]),{left:i,top:r}},O=function(e){var t=e.left,i=e.top;return"undefined"!=typeof z[e.left]&&(t=z[e.left]),"undefined"!=typeof z[e.top]&&(i=z[e.top]),{left:t,top:i}},L=function(e){var t=e.split(" "),i=D(t,2),r=i[0],s=i[1];return{top:r,left:s}},N=L,F=function(){function e(t){var i=this;r(this,e),this.position=this.position.bind(this),A.push(this),this.history=[],this.setOptions(t,!1),y.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(i)}),this.position()}return b(e,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=l(r,e);var o=this.options,n=o.element,a=o.target,d=o.targetModifier;if(this.element=n,this.target=a,this.targetModifier=d,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),h(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=N(this.options.targetAttachment),this.attachment=N(this.options.attachment),this.offset=L(this.options.offset),this.targetOffset=L(this.options.targetOffset),"undefined"!=typeof this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=s(this.target),this.options.enabled!==!1&&this.enable(i)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return o(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=o(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,i=this.target;i===document.body?(i=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=o(i);
var r=getComputedStyle(i),s=i.scrollWidth>i.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,n=0;s&&(n=15);var a=e.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-n,t={width:15,height:.975*a*(a/i.scrollHeight),left:e.left+e.width-parseFloat(r.borderLeftWidth)-15},l=0;408>a&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var d=this.target.scrollTop/(i.scrollHeight-a);return t.top=d*(a-t.height-l)+e.top+parseFloat(r.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e&&this.position()}},{key:"disable",value:function(){d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function(){var e=this;this.disable(),A.forEach(function(t,i){return t===e?void A.splice(i,1):void 0})}},{key:"updateAttachClasses",value:function(e,t){var i=this;e=e||this.attachment,t=t||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var s=this._addAttachClasses;e.top&&s.push(this.getClass("element-attached")+"-"+e.top),e.left&&s.push(this.getClass("element-attached")+"-"+e.left),t.top&&s.push(this.getClass("target-attached")+"-"+t.top),t.left&&s.push(this.getClass("target-attached")+"-"+t.left);var o=[];r.forEach(function(e){o.push(i.getClass("element-attached")+"-"+e),o.push(i.getClass("target-attached")+"-"+e)}),C(function(){"undefined"!=typeof i._addAttachClasses&&(f(i.element,i._addAttachClasses,o),i.options.addTargetClasses!==!1&&f(i.target,i._addAttachClasses,o),delete i._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var i=E(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var r=this.cache("element-bounds",function(){return o(e.element)}),s=r.width,l=r.height;if(0===s&&0===l&&"undefined"!=typeof this.lastSize){var d=this.lastSize;s=d.width,l=d.height}else this.lastSize={width:s,height:l};var h=this.cache("target-bounds",function(){return e.getTargetBounds()}),c=h,u=x(O(this.attachment),{width:s,height:l}),p=x(O(i),c),f=x(this.offset,{width:s,height:l}),m=x(this.targetOffset,c);u=v(u,f),p=v(p,m);for(var g=h.left+p.left-u.left,w=h.top+p.top-u.top,b=0;b<y.modules.length;++b){var _=y.modules[b],j=_.position.call(this,{left:g,top:w,targetAttachment:i,targetPos:h,elementPos:r,offset:u,targetOffset:p,manualOffset:f,manualTargetOffset:m,scrollbarSize:T,attachment:this.attachment});if(j===!1)return!1;"undefined"!=typeof j&&"object"==typeof j&&(w=j.top,g=j.left)}var q={page:{top:w,left:g},viewport:{top:w-pageYOffset,bottom:pageYOffset-w-l+innerHeight,left:g-pageXOffset,right:pageXOffset-g-s+innerWidth}},T=void 0;return document.body.scrollWidth>window.innerWidth&&(T=this.cache("scrollbar-size",a),q.viewport.bottom-=T.height),document.body.scrollHeight>window.innerHeight&&(T=this.cache("scrollbar-size",a),q.viewport.right-=T.width),-1!==["","static"].indexOf(document.body.style.position)&&-1!==["","static"].indexOf(document.body.parentElement.style.position)||(q.page.bottom=document.body.scrollHeight-w-l,q.page.right=document.body.scrollWidth-g-s),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return n(e.target)}),i=e.cache("target-offsetparent-bounds",function(){return o(t)}),r=getComputedStyle(t),s=i,a={};if(["Top","Left","Bottom","Right"].forEach(function(e){a[e.toLowerCase()]=parseFloat(r["border"+e+"Width"])}),i.right=document.body.scrollWidth-i.left-s.width+a.right,i.bottom=document.body.scrollHeight-i.top-s.height+a.bottom,q.page.top>=i.top+a.top&&q.page.bottom>=i.bottom&&q.page.left>=i.left+a.left&&q.page.right>=i.right){var l=t.scrollTop,d=t.scrollLeft;q.offset={top:q.page.top-i.top+l-a.top,left:q.page.left-i.left+d-a.left}}}(),this.move(q),this.history.unshift(q),this.history.length>3&&this.history.pop(),t&&k(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var i={};for(var r in e){i[r]={};for(var s in e[r]){for(var o=!1,a=0;a<this.history.length;++a){var d=this.history[a];if("undefined"!=typeof d[r]&&!m(d[r][s],e[r][s])){o=!0;break}}o||(i[r][s]=!0)}}var h={top:"",left:"",right:"",bottom:""},c=function(e,i){var r="undefined"!=typeof t.options.optimizations,s=r?t.options.optimizations.gpu:null;if(s!==!1){var o=void 0,n=void 0;e.top?(h.top=0,o=i.top):(h.bottom=0,o=-i.bottom),e.left?(h.left=0,n=i.left):(h.right=0,n=-i.right),h[P]="translateX("+Math.round(n)+"px) translateY("+Math.round(o)+"px)","msTransform"!==P&&(h[P]+=" translateZ(0)")}else e.top?h.top=i.top+"px":h.bottom=i.bottom+"px",e.left?h.left=i.left+"px":h.right=i.right+"px"},u=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(h.position="absolute",c(i.page,e.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(h.position="fixed",c(i.viewport,e.viewport)):"undefined"!=typeof i.offset&&i.offset.top&&i.offset.left?!function(){h.position="absolute";var r=t.cache("target-offsetparent",function(){return n(t.target)});n(t.element)!==r&&C(function(){t.element.parentNode.removeChild(t.element),r.appendChild(t.element)}),c(i.offset,e.offset),u=!0}():(h.position="absolute",c({top:!0,left:!0},e.page)),!u){for(var p=!0,f=this.element.parentNode;f&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){p=!1;break}f=f.parentNode}p||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var g={},v=!1;for(var s in h){var x=h[s],w=this.element.style[s];""!==w&&""!==x&&["top","left","bottom","right"].indexOf(s)>=0&&(w=parseFloat(w),x=parseFloat(x)),w!==x&&(v=!0,g[s]=x)}v&&C(function(){l(t.element.style,g)})}}}]),e}();F.modules=[],y.position=B;var R=l(F,y),D=function(){function e(e,t){var i=[],r=!0,s=!1,o=void 0;try{for(var n,a=e[Symbol.iterator]();!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(s)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=y.Utils,o=I.getBounds,l=I.extend,f=I.updateClasses,C=I.defer,W=["left","top","right","bottom"];y.modules.push({position:function(e){var t=this,i=e.top,r=e.left,s=e.targetAttachment;if(!this.options.constraints)return!0;var n=this.cache("element-bounds",function(){return o(t.element)}),a=n.height,d=n.width;if(0===d&&0===a&&"undefined"!=typeof this.lastSize){var h=this.lastSize;d=h.width,a=h.height}var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),u=c.height,p=c.width,m=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,i=e.pinnedClass;t&&m.push(t),i&&m.push(i)}),m.forEach(function(e){["left","top","right","bottom"].forEach(function(t){m.push(e+"-"+t)})});var g=[],v=l({},s),x=l({},this.attachment);return this.options.constraints.forEach(function(e){var o=e.to,n=e.attachment,l=e.pin;"undefined"==typeof n&&(n="");var h=void 0,c=void 0;if(n.indexOf(" ")>=0){var f=n.split(" "),m=D(f,2);c=m[0],h=m[1]}else h=c=n;var b=w(t,o);"target"!==c&&"both"!==c||(i<b[1]&&"top"===v.top&&(i+=u,v.top="bottom"),i+a>b[3]&&"bottom"===v.top&&(i-=u,v.top="top")),"together"===c&&(i<b[1]&&"top"===v.top&&("bottom"===x.top?(i+=u,v.top="bottom",i+=a,x.top="top"):"top"===x.top&&(i+=u,v.top="bottom",i-=a,x.top="bottom")),i+a>b[3]&&"bottom"===v.top&&("top"===x.top?(i-=u,v.top="top",i-=a,x.top="bottom"):"bottom"===x.top&&(i-=u,v.top="top",i+=a,x.top="top")),"middle"===v.top&&(i+a>b[3]&&"top"===x.top?(i-=a,x.top="bottom"):i<b[1]&&"bottom"===x.top&&(i+=a,x.top="top"))),"target"!==h&&"both"!==h||(r<b[0]&&"left"===v.left&&(r+=p,v.left="right"),r+d>b[2]&&"right"===v.left&&(r-=p,v.left="left")),"together"===h&&(r<b[0]&&"left"===v.left?"right"===x.left?(r+=p,v.left="right",r+=d,x.left="left"):"left"===x.left&&(r+=p,v.left="right",r-=d,x.left="right"):r+d>b[2]&&"right"===v.left?"left"===x.left?(r-=p,v.left="left",r-=d,x.left="right"):"right"===x.left&&(r-=p,v.left="left",r+=d,x.left="left"):"center"===v.left&&(r+d>b[2]&&"left"===x.left?(r-=d,x.left="right"):r<b[0]&&"right"===x.left&&(r+=d,x.left="left"))),"element"!==c&&"both"!==c||(i<b[1]&&"bottom"===x.top&&(i+=a,x.top="top"),i+a>b[3]&&"top"===x.top&&(i-=a,x.top="bottom")),"element"!==h&&"both"!==h||(r<b[0]&&("right"===x.left?(r+=d,x.left="left"):"center"===x.left&&(r+=d/2,x.left="left")),r+d>b[2]&&("left"===x.left?(r-=d,x.left="right"):"center"===x.left&&(r-=d/2,x.left="right"))),"string"==typeof l?l=l.split(",").map(function(e){return e.trim()}):l===!0&&(l=["top","left","right","bottom"]),l=l||[];var y=[],_=[];i<b[1]&&(l.indexOf("top")>=0?(i=b[1],y.push("top")):_.push("top")),i+a>b[3]&&(l.indexOf("bottom")>=0?(i=b[3]-a,y.push("bottom")):_.push("bottom")),r<b[0]&&(l.indexOf("left")>=0?(r=b[0],y.push("left")):_.push("left")),r+d>b[2]&&(l.indexOf("right")>=0?(r=b[2]-d,y.push("right")):_.push("right")),y.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),g.push(e),y.forEach(function(t){g.push(e+"-"+t)})}(),_.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),g.push(e),_.forEach(function(t){g.push(e+"-"+t)})}(),(y.indexOf("left")>=0||y.indexOf("right")>=0)&&(x.left=v.left=!1),(y.indexOf("top")>=0||y.indexOf("bottom")>=0)&&(x.top=v.top=!1),v.top===s.top&&v.left===s.left&&x.top===t.attachment.top&&x.left===t.attachment.left||t.updateAttachClasses(x,v)}),C(function(){t.options.addTargetClasses!==!1&&f(t.target,g,m),f(t.element,g,m)}),{top:i,left:r}}});var I=y.Utils,o=I.getBounds,f=I.updateClasses,C=I.defer;y.modules.push({position:function(e){var t=this,i=e.top,r=e.left,s=this.cache("element-bounds",function(){return o(t.element)}),n=s.height,a=s.width,l=this.getTargetBounds(),d=i+n,h=r+a,c=[];i<=l.bottom&&d>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==r&&t!==h||c.push(e)}),r<=l.right&&h>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==i&&t!==d||c.push(e)});var u=[],p=[],m=["left","top","right","bottom"];return u.push(this.getClass("abutted")),m.forEach(function(e){u.push(t.getClass("abutted")+"-"+e)}),c.length&&p.push(this.getClass("abutted")),c.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),C(function(){t.options.addTargetClasses!==!1&&f(t.target,p,u),f(t.element,p,u)}),!0}});var D=function(){function e(e,t){var i=[],r=!0,s=!1,o=void 0;try{for(var n,a=e[Symbol.iterator]();!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(s)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return y.modules.push({position:function(e){var t=e.top,i=e.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:t,left:i}));var s=void 0,o=void 0;if("string"==typeof r){r=r.split(" "),r[1]=r[1]||r[0];var n=r,a=D(n,2);s=a[0],o=a[1],s=parseFloat(s,10),o=parseFloat(o,10)}else s=r.top,o=r.left;return t+=s,i+=o,{top:t,left:i}}}}),R})},function(e,t){e.exports='\n<ul\n    class="ui-menu" role="menu" tabindex="-1" @keydown.esc="closeDropdown" v-el:dropdown\n    :class="{ \'has-icons\': showIcons, \'has-secondary-text\': showSecondaryText }"\n>\n    <ui-menu-item\n        :type="o.type" :icon="o.icon" :text="o.text" :secondary-text="o.secondaryText"\n        :show-icon="showIcons" :show-secondary-text="showSecondaryText"\n        :hide-ripple-ink="hideRippleInk" :disabled="o.disabled"\n\n        @keydown.enter.prevent="optionSelect(o)" @click="optionSelect(o)"\n\n        v-for="o in options"\n    ></ui-menu-item>\n\n    <div\n        class="ui-menu-focus-redirector" @focus="redirectFocus" tabindex="0"\n    ></div>\n</ul>\n'},function(e,t,i){var r,s;i(48),r=i(49),r&&r.__esModule&&Object.keys(r).length>1,s=i(50),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(43),o=r(s);t["default"]={name:"ui-popover",events:{"dropdown-opened":function(){return this.containFocus&&document.addEventListener("focus",this.restrictFocus,!0),this.$dispatch("opened"),!0},"dropdown-closed":function(){return this.containFocus&&document.removeEventListener("focus",this.restrictFocus,!0),this.$dispatch("closed"),!0}},methods:{restrictFocus:function(e){this.$els.dropdown.contains(e.target)||(e.stopPropagation(),this.$els.dropdown.focus())}},mixins:[o["default"]]}},function(e,t){e.exports='\n<div\n    class="ui-popover" role="dialog" tabindex="-1" @keydown.esc="closeDropdown" v-el:dropdown\n>\n    <slot></slot>\n</div>\n'},function(e,t,i){var r,s;i(52),r=i(53),r&&r.__esModule&&Object.keys(r).length>1,s=i(54),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ui-progress-circular",props:{show:{type:Boolean,"default":!1},type:{type:String,"default":"indeterminate"},color:{type:String,"default":"primary"},value:{type:Number,"default":0},size:{type:Number,"default":32},stroke:Number,autoStroke:{type:Boolean,"default":!0},disableTransition:{type:Boolean,"default":!1}},computed:{strokeDashArray:function(){var e=2*Math.PI*this.radius;return Math.round(1e3*e)/1e3},strokeDashOffset:function(){var e=this.moderateValue(this.value),t=2*Math.PI*this.radius;return(100-e)/100*t},radius:function(){return(this.size-this.stroke)/2}},created:function(){this.stroke||(this.autoStroke?this.stroke=parseInt(this.size/8,10):this.stroke=4)},methods:{moderateValue:function(e){return isNaN(e)||0>e?0:e>100?100:e}}}},function(e,t){e.exports='\n<div\n    class="ui-progress-circular" :style="{ \'width\': size + \'px\', \'height\': size + \'px\' }"\n    v-show="show" :transition="disableTransition ? null : \'ui-progress-circular-toggle\'"\n>\n    <svg\n        class="ui-progress-circular-determinate" :width="size" :height="size"\n        role="progressbar" :aria-valuemin="0" :aria-valuemax="100" :aria-valuenow="value"\n        v-if="type === \'determinate\'"\n    >\n        <circle\n            class="ui-progress-circular-determinate-path" :class="[color]" :r="radius"\n            :cx="size / 2" :cy="size / 2" fill="transparent" :stroke-dasharray="strokeDashArray"\n            stroke-dashoffset="0"\n\n            :style="{ \'stroke-dashoffset\': strokeDashOffset, \'stroke-width\': stroke }"\n        ></circle>\n    </svg>\n\n    <svg\n        class="ui-progress-circular-indeterminate" viewBox="25 25 50 50"\n        role="progressbar" :aria-valuemin="0" :aria-valuemax="100" v-else\n    >\n        <circle\n            class="ui-progress-circular-indeterminate-path" :class="[color]" cx="50" cy="50"\n            r="20" fill="none" stroke-miterlimit="10" :stroke-width="stroke"\n        >\n    </svg>\n</div>\n'},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.el.disabled=Boolean(e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{openDropdownOn:String,dropdownPosition:String,hasPopover:{type:Boolean,"default":!1},hasDropdownMenu:{type:Boolean,"default":!1},menuOptions:{type:Array,"default":function(){return[]}},showMenuIcons:{type:Boolean,"default":!1},showMenuSecondaryText:{type:Boolean,"default":!1}},methods:{menuOptionSelect:function(e){this.$dispatch("menu-option-selected",e)}}}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(58),o=r(s);t["default"]={props:{tooltip:String,tooltipPosition:String},components:{UiTooltip:o["default"]}}},function(e,t,i){var r,s;i(59),r=i(60),r&&r.__esModule&&Object.keys(r).length>1,s=i(62),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(61),o=r(s);t["default"]={name:"ui-tooltip",props:{content:String,trigger:{type:Element,required:!0},position:{type:String,"default":"bottom center"},openOn:{type:String,"default":"hover focus"}},data:function(){return{tooltip:null}},watch:{trigger:function(){this.tooltip||this.initialize()}},ready:function(){this.initialize()},beforeDestory:function(){this.tooltip&&(this.tooltip.remove(),this.tooltip.destroy())},methods:{initialize:function(){this.trigger&&(this.tooltip=new o["default"]({target:this.trigger,content:this.$els.tooltip,classes:"ui-tooltip-theme",position:this.position,openOn:"hover focus"}))}}}},function(e,t,i){var r,s,o;!function(n,a){s=[i(44),i(45)],r=a,o="function"==typeof r?r.apply(t,s):r,!(void 0!==o&&(e.exports=o))}(this,function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),s=t.Utils.extend,o=e.createContext({classPrefix:"tooltip"}),n={position:"top center",openOn:"hover",classes:"tooltip-theme-arrows",constrainToWindow:!0,constrainToScrollParent:!1},a=0,l=function(){function e(t){if(i(this,e),this.options=t,!this.options.target)throw new Error("Tooltip Error: You must provide a target for Tooltip to attach to");var r=this.options.target.getAttribute("data-tooltip-position");r&&"undefined"==typeof this.options.position&&(this.options.position=r);var l=this.options.target.getAttribute("data-tooltip");if(l&&"undefined"==typeof this.options.content){var d=document.createElement("div");d.innerHTML=l,d.setAttribute("role","tooltip"),d.id="drop-tooltip-"+a,this.options.target.setAttribute("aria-describedby",d.id),a+=1,this.options.content=d}if(!this.options.content)throw new Error("Tooltip Error: You must provide content for Tooltip to display");this.options=s({},n,this.options),this.drop=new o(this.options)}return r(e,[{key:"close",value:function(){this.drop.close()}},{key:"open",value:function(){this.drop.open()}},{key:"toggle",value:function(){this.drop.toggle()}},{key:"remove",value:function(){this.drop.remove()}},{key:"destroy",value:function(){this.drop.destroy()}},{key:"position",value:function(){this.drop.position()}}]),e}(),d=[];return l.init=function(){for(var e=document.querySelectorAll("[data-tooltip]"),t=e.length,i=0;t>i;++i){var r=e[i];-1===d.indexOf(r)&&(new l({target:r}),d.push(r))}},document.addEventListener("DOMContentLoaded",function(){l.autoinit!==!1&&l.init()}),l})},function(e,t){e.exports='\n<div class="ui-tooltip" v-text="content" v-el:tooltip></div>\n'},function(e,t){e.exports='\n<button\n    class="ui-icon-button" :class="styleClasses" :aria-label="ariaLabel || tooltip"\n    v-disabled="disabled || loading" v-el:button\n>\n    <ui-icon\n        class="ui-icon-button-icon" :icon="icon" v-show="!loading"\n    ></ui-icon>\n\n    <ui-progress-circular\n        class="ui-icon-button-spinner" :color="spinnerColor" :size="24" :stroke="4.5"\n        disable-transition v-show="loading"\n    ></ui-progress-circular>\n\n    <ui-ripple-ink v-if="!hideRippleInk && !disabled" :trigger="$els.button"></ui-ripple-ink>\n\n    <ui-tooltip\n        :trigger="$els.button" :content="tooltip" :position="tooltipPosition" v-if="tooltip"\n    ></ui-tooltip>\n\n    <ui-menu\n        class="ui-button-dropdown-menu" :trigger="$els.button" :options="menuOptions"\n        :show-icons="showMenuIcons" :show-secondary-text="showMenuSecondaryText"\n        :open-on="openDropdownOn" @option-selected="menuOptionSelect"\n        :dropdown-position="dropdownPosition" v-if="hasDropdownMenu"\n    ></ui-menu>\n\n    <ui-popover :trigger="$els.button" :open-on="openDropdownOn" v-if="hasPopover">\n        <slot name="popover"></slot>\n    </ui-popover>\n</button>\n'},function(e,t){e.exports='\n<div class="ui-alert">\n    <div\n        class="ui-alert-body" :class="[type]" role="alert" v-show="show"\n        transition="ui-alert-toggle"\n    >\n        <ui-icon class="ui-alert-icon" :icon="icon" v-if="!hideIcon"></ui-icon>\n\n        <div class="ui-alert-text">\n            <slot>\n                <span v-text="text"></span>\n            </slot>\n        </div>\n\n        <ui-icon-button\n            class="ui-alert-close-button" type="clear" icon="&#xE5CD" aria-label="Close"\n            @click="close" v-if="dismissible"\n        ></ui-icon-button>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(66),r=i(67),r&&r.__esModule&&Object.keys(r).length>1,s=i(88),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(68),o=r(s),n=i(6),a=r(n),l=i(69),d=r(l),h=i(74),c=r(h),u=i(76),p=r(u);t["default"]={name:"ui-autocomplete",props:{suggestions:{type:Array,"default":[]},limit:{type:Number,"default":8},partial:String,append:{type:Boolean,"default":!1},appendDelimiter:{type:String,"default":", "},minChars:{type:Number,"default":2},showOnUpDown:{type:Boolean,"default":!0}},data:function(){return{showDropdown:!1,highlightedItem:-1,ignoreValueChange:!1}},computed:{showIcon:function(){return Boolean(this.icon)}},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(document.activeElement===this.$els.input&&document.activeElement.blur(),this.value=this.initialValue,this.dirty=!1,this.valid=!0)}},watch:{value:function(){!this.ignoreValueChange&&this.value.length>=this.minChars&&this.open(),this.highlightedItem=0}},ready:function(){document.addEventListener("click",this.closeOnExternalClick)},beforeDestroy:function(){document.removeEventListener("click",this.closeOnExternalClick)},methods:{search:function(e){var t=e.text||e,i=this.value.toLowerCase();return(0,o["default"])(i,t.toLowerCase())},select:function(e){var t=this;this.append?this.value+=this.appendDelimiter+(e.text||e):this.value=e.text||e,this.validate(),this.$nextTick(function(){t.close(),t.$els.input.focus()})},highlight:function(e){0>e?e=this.$refs.items.length-1:e>=this.$refs.items.length&&(e=0),this.highlightedItem=e,this.showOnUpDown&&this.open()},selectHighlighted:function(e,t){this.showDropdown&&this.$refs.items.length&&(t.preventDefault(),this.select(this.$refs.items[e].item))},clearSearch:function(){this.value=""},open:function(){this.showDropdown=!0},close:function(){this.showDropdown=!1,this.validate()},closeOnExternalClick:function(e){!this.$els.autocomplete.contains(e.target)&&this.showDropdown&&this.close()},focus:function(){this.active=!0},blur:function(){this.active=!1,this.dirty||(this.dirty=!0)}},components:{UiIcon:a["default"],UiAutocompleteSuggestion:d["default"]},mixins:[c["default"],p["default"]]}},function(e,t){"use strict";function i(e,t){var i=t.length,r=e.length;if(r>i)return!1;if(r===i)return e===t;e:for(var s=0,o=0;r>s;s++){for(var n=e.charCodeAt(s);i>o;)if(t.charCodeAt(o++)===n)continue e;return!1}return!0}e.exports=i},function(e,t,i){var r,s;i(70),r=i(71),r&&r.__esModule&&Object.keys(r).length>1,s=i(73),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(72),o=r(s);t["default"]={name:"ui-autocomplete-suggestion",props:{id:{type:String,"default":function(){return o["default"]["short"]()}},item:{type:[String,Object],required:!0},partial:{type:String,"default":"ui-autocomplete-simple"},highlighted:{type:Boolean,"default":!1}},partials:{"ui-autocomplete-simple":'<li class="ui-autocomplete-suggestion-item" v-text="item.text || item"></li>',"ui-autocomplete-image":'<div class="image" :style="{ \'background-image\': \'url(\' + item.image + \')\' }"></div>\n            <div class="text" v-text="item.text"></div>'}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var i=[],r=0;256>r;r++)i[r]=(16>r?"0":"")+r.toString(16);var s=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return i[255&e]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+"-"+i[255&t]+i[t>>8&255]+"-"+i[t>>16&15|64]+i[t>>24&255]+"-"+i[63&r|128]+i[r>>8&255]+"-"+i[r>>16&255]+i[r>>24&255]+i[255&s]+i[s>>8&255]+i[s>>16&255]+i[s>>24&255]},o=function(e){e=e||"";var t=s();return e+t.split("-")[0]};t["default"]={generate:s,"short":o}},function(e,t){e.exports='\n<li\n    class="ui-autocomplete-suggestion":id="id"\n    :class="[partial, { \'highlighted\': highlighted }]"\n>\n    <partial :name="partial"></partial>\n</li>\n'},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(55),o=r(s),n=i(75),a=r(n);t["default"]={props:{id:String,name:{type:String,required:!0},placeholder:String,value:{type:[String,Number],"default":"",twoWay:!0},icon:String,iconRight:{type:Boolean,"default":!1},label:String,hideLabel:{type:Boolean,"default":!1},helpText:String,disabled:{type:Boolean,"default":!1},debounce:{type:Number,"default":!1}},data:function(){return{active:!1,initialValue:""}},computed:{showFeedback:function(){var e=Boolean(this.validationRules),t=Boolean(this.helpText);return e||t}},created:function(){this.initialValue=this.value},directives:{disabled:o["default"]},mixins:[a["default"]]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{id:String},methods:{eventTargetsComponent:function(e){return void 0===e||this.id===e}}}},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(77),o=r(s);t["default"]={props:{valid:{type:Boolean,"default":!0,twoWay:!0},dirty:{type:Boolean,"default":!1,twoWay:!0},hideValidationErrors:{type:Boolean,"default":!1},validationRules:String,validationMessages:Object},data:function(){return{validationError:""}},methods:{validate:function(){if(this.validationRules&&this.dirty){var e={value:this.value},t={value:this.validationRules},i=new o["default"](e,t,this.validationMessages);i.setAttributeNames({value:this.name.replace(/_/g," ")}),this.valid=i.passes(),this.valid||(this.validationError=i.errors.first("value"))}}}}},function(e,t,i){var r=i(78),s=i(79),o=i(86),n=i(81),a=i(87),l=function(e,t,i){var r=l.getDefaultLang();this.input=e,this.messages=s._make(r),this.messages._setCustom(i),this.setAttributeFormatter(l.prototype.attributeFormatter),this.errors=new o,this.errorCount=0,this.hasAsync=!1,this.rules=this._parseRules(t)};l.prototype={constructor:l,lang:"en",numericRules:["integer","numeric","between"],attributeFormatter:n.formatter,check:function(){for(var e in this.rules)for(var t,i,r,s=this.rules[e],o=this.input[e],n=0,a=s.length;a>n&&(i=s[n],t=this.getRule(i.name),!this._isValidatable(t,o)||(r=t.validate(o,i.value,e),r||this._addFailure(t),!this._shouldStopValidating(e,r)));n++);return 0===this.errorCount},checkAsync:function(e,t){var i=this;e=e||function(){},t=t||function(){};var r=function(e,t){i._addFailure(e,t)},s=function(i){i?e():t()},o=function(e,t,i,r){return function(){var s=n.add(r);r.validate(e,t.value,i,function(){n.resolve(s)})}},n=new a(r,s);for(var l in this.rules)for(var d,h,c=this.rules[l],u=this.input[l],p=0,f=c.length;f>p;p++)h=c[p],d=this.getRule(h.name),this._isValidatable(d,u)&&o(u,h,l,d)();n.enableFiring(),n.fire()},_addFailure:function(e){var t=this.messages.render(e);this.errors.add(e.attribute,t),this.errorCount++},_parseRules:function(e){var t={};for(var i in e){var s=e[i],o=[];"string"==typeof s&&(s=s.split("|"));for(var n,a=0,l=s.length;l>a;a++)n=this._extractRuleAndRuleValue(s[a]),r.isAsync(n.name)&&(this.hasAsync=!0),o.push(n);t[i]=o}return t},_extractRuleAndRuleValue:function(e){var t,i={};return i.name=e,e.indexOf(":")>=0&&(t=e.split(":"),i.name=t[0],i.value=t.slice(1).join(":")),i},_hasRule:function(e,t){for(var i=this.rules[e]||[],r=0,s=i.length;s>r;r++)if(t.indexOf(i[r].name)>-1)return!0;return!1},_hasNumericRule:function(e){return this._hasRule(e,this.numericRules)},_isValidatable:function(e,t){return r.isImplicit(e.name)?!0:this.getRule("required").validate(t)},_shouldStopValidating:function(e,t){var i=this.stopOnAttributes;return i===!1||t===!0?!1:i instanceof Array?i.indexOf(e)>-1:!0},setAttributeNames:function(e){this.messages._setAttributeNames(e)},setAttributeFormatter:function(e){this.messages._setAttributeFormatter(e)},getRule:function(e){return r.make(e,this)},stopOnError:function(e){this.stopOnAttributes=e},passes:function(e){var t=this._checkAsync("passes",e);return t?this.checkAsync(e):this.check()},fails:function(e){var t=this._checkAsync("fails",e);return t?this.checkAsync(function(){},e):!this.check()},_checkAsync:function(e,t){var i="function"==typeof t;if(this.hasAsync&&!i)throw e+" expects a callback when async rules are being tested.";return this.hasAsync||i}},l.setMessages=function(e,t){return s._set(e,t),this},l.getMessages=function(e){return s._get(e)},l.useLang=function(e){this.prototype.lang=e},l.getDefaultLang=function(){return this.prototype.lang},l.setAttributeFormatter=function(e){this.prototype.attributeFormatter=e},l.stopOnError=function(e){this.prototype.stopOnAttributes=e},l.register=function(e,t,i){var o=l.getDefaultLang();r.register(e,t),s._setRuleMessage(o,e,i)},l.registerAsync=function(e,t,i){var o=l.getDefaultLang();r.registerAsync(e,t),s._setRuleMessage(o,e,i)},e.exports=l},function(e,t){function i(e,t,i){this.name=e,this.fn=t,this.passes=null,this.customMessage=void 0,this.async=i}var r={required:function(e){var t;return void 0===e||null===e?!1:(t=String(e).replace(/\s/g,""),t.length>0)},required_if:function(e,t,i){return t=this.getParameters(),this.validator.input[t[0]]===t[1]?this.validator.getRule("required").validate(e):!0},size:function(e,t,i){if(e){t=parseFloat(t);
var r=this.getSize();return r===t}return!0},min:function(e,t,i){var r=this.getSize();return r>=t},max:function(e,t,i){var r=this.getSize();return t>=r},between:function(e,t,i){t=this.getParameters();var r=this.getSize(),s=parseFloat(t[0],10),o=parseFloat(t[1],10);return r>=s&&o>=r},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},numeric:function(e){var t;return t=Number(e),"number"==typeof t&&!isNaN(t)&&"boolean"!=typeof e},array:function(e){return e instanceof Array},url:function(e){return/^https?:\/\/\S+/.test(e)},alpha:function(e){return/^[a-zA-Z]+$/.test(e)},alpha_dash:function(e){return/^[a-zA-Z0-9_\-]+$/.test(e)},alpha_num:function(e){return/^[a-zA-Z0-9]+$/.test(e)},same:function(e,t){var i=this.validator.input[t],r=e;return i===r},different:function(e,t){var i=this.validator.input[t],r=e;return i!==r},"in":function(e,t){var i,r;if(e&&(i=t.split(",")),e&&!(e instanceof Array)){for(e=String(e),r=0;r<i.length;r++)if(e===i[r])return!0;return!1}if(e&&e instanceof Array)for(r=0;r<e.length;r++)if(i.indexOf(e[r])<0)return!1;return!0},not_in:function(e,t){var i=t.split(","),r=i.length,s=!0;e=String(e);for(var o=0;r>o;o++)if(e===i[o]){s=!1;break}return s},accepted:function(e){return"on"===e||"yes"===e||1===e||"1"===e},confirmed:function(e,t,i){var r=i+"_confirmation";return this.validator.input[r]===e},integer:function(e){return String(parseInt(e,10))===String(e)},digits:function(e,t){var i=this.validator.getRule("numeric");return!(!i.validate(e)||String(e).length!==parseInt(t))},regex:function(e,t){var i=/[g|i|m]{1,3}$/,r=t.match(i);return r=r?r[0]:"i",t=t.replace(i,"").slice(1,-1),t=new RegExp(t,r),!!e.match(t)}};i.prototype={validate:function(e,t,i,r){var s=this;if(this._setValidatingData(i,e,t),"function"==typeof r){this.callback=r;var o=function(e,t){s.response(e,t)};return this.async?this.fn.apply(this,[e,t,i,o]):o(this.fn.apply(this,[e,t,i]))}return this.fn.apply(this,[e,t,i])},_setValidatingData:function(e,t,i){this.attribute=e,this.inputValue=t,this.ruleValue=i},getParameters:function(){return this.ruleValue?this.ruleValue.split(","):[]},getSize:function(){var e=this.inputValue;return e instanceof Array?e.length:"number"==typeof e?e:this.validator._hasNumericRule(this.attribute)?parseFloat(e,10):e.length},_getValueType:function(){return"number"==typeof this.inputValue||this.validator._hasNumericRule(this.attribute)?"numeric":"string"},response:function(e,t){this.passes=void 0===e||e===!0,this.customMessage=t,this.callback(this.passes,t)},setValidator:function(e){this.validator=e}};var s={asyncRules:[],implicitRules:["required","required_if","accepted"],make:function(e,t){var s=this.isAsync(e),o=new i(e,r[e],s);return o.setValidator(t),o},isAsync:function(e){for(var t=0,i=this.asyncRules.length;i>t;t++)if(this.asyncRules[t]===e)return!0;return!1},isImplicit:function(e){return this.implicitRules.indexOf(e)>-1},register:function(e,t){r[e]=t},registerAsync:function(e,t){this.register(e,t),this.asyncRules.push(e)}};e.exports=s},function(e,t,i){var r=i(80);i(82);var s={messages:{},_set:function(e,t){this.messages[e]=t},_setRuleMessage:function(e,t,i){this._load(e),void 0===i&&(i=this.messages[e].def),this.messages[e][t]=i},_load:function(e){if(!this.messages[e]){var t=i(83)("./"+e);this._set(e,t)}},_get:function(e){return this._load(e),this.messages[e]},_make:function(e){return this._load(e),new r(e,this.messages[e])}};e.exports=s},function(e,t,i){var r=i(81),s=function(e,t){this.lang=e,this.messages=t,this.customMessages={},this.attributeNames={}};s.prototype={constructor:s,_setCustom:function(e){this.customMessages=e||{}},_setAttributeNames:function(e){this.attributeNames=e},_setAttributeFormatter:function(e){this.attributeFormatter=e},_getAttributeName:function(e){var t=e;return this.attributeNames.hasOwnProperty(e)?this.attributeNames[e]:(this.messages.attributes.hasOwnProperty(e)&&(t=this.messages.attributes[e]),this.attributeFormatter&&(t=this.attributeFormatter(t)),t)},all:function(){return this.messages},render:function(e){if(e.customMessage)return e.customMessage;var t,i=this._getTemplate(e);return t=r.replacements[e.name]?r.replacements[e.name].apply(this,[i,e]):this._replacePlaceholders(e,i,{})},_getTemplate:function(e){for(var t,i=this.messages,r=i.def,s=this.customMessages,o=[e.name+"."+e.attribute,e.name],n=0;n<o.length;n++){if(t=o[n],s.hasOwnProperty(t)){r=s[t];break}if(i.hasOwnProperty(t)){r=i[t];break}}return"object"==typeof r&&(r=r[e._getValueType()]),r},_replacePlaceholders:function(e,t,i){var r,s;if(i.attribute=this._getAttributeName(e.attribute),i[e.name]=e.getParameters().join(","),"string"==typeof t&&"object"==typeof i){r=t;for(s in i)r=r.replace(":"+s,i[s])}return r}},e.exports=s},function(e,t){function i(e){return e.replace(/[_\[]/g," ").replace(/]/g,"")}var r={between:function(e,t){var i=t.getParameters();return this._replacePlaceholders(t,e,{min:i[0],max:i[1]})},required_if:function(e,t){var i=t.getParameters();return this._replacePlaceholders(t,e,{other:i[0],value:i[1]})}};e.exports={replacements:r,formatter:i}},function(e,t){e.exports={accepted:"The :attribute must be accepted.",alpha:"The :attribute field must contain only alphabetic characters.",alpha_dash:"The :attribute field may only contain alpha-numeric characters, as well as dashes and underscores.",alpha_num:"The :attribute field must be alphanumeric.",between:"The :attribute field must be between :min and :max.",confirmed:"The :attribute confirmation does not match.",email:"The :attribute format is invalid.",def:"The :attribute attribute has errors.",digits:"The :attribute must be :digits digits.",different:"The :attribute and :different must be different.","in":"The selected :attribute is invalid.",integer:"The :attribute must be an integer.",min:{numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},max:{numeric:"The :attribute must be less than :max.",string:"The :attribute must be less than :max characters."},not_in:"The selected :attribute is invalid.",numeric:"The :attribute must be a number.",required:"The :attribute field is required.",required_if:"The :attribute field is required when :other is :value.",same:"The :attribute and :same fields must match.",size:{numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},url:"The :attribute format is invalid.",regex:"The :attribute format is invalid",attributes:{}}},function(e,t,i){function r(e){return i(s(e))}function s(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./en":82,"./en.js":82,"./es":84,"./es.js":84,"./ru":85,"./ru.js":85};r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id=83},function(e,t){e.exports={accepted:"El campo :attribute debe ser aceptado.",alpha:"El campo :attribute solo debe contener letras.",alpha_dash:"El campo :attribute solo debe contener letras, nmeros y guiones.",alpha_num:"El campo :attribute solo debe contener letras y nmeros.",attributes:{},between:"El campo :attribute tiene que estar entre :min - :max.",confirmed:"La confirmacin de :attribute no coincide.",different:"El campo :attribute y :other deben ser diferentes.",digits:"El campo :attribute debe tener :digits dgitos.",email:"El campo :attribute no es un correo vlido","in":"El campo :attribute es invlido.",integer:"El campo :attribute debe ser un nmero entero.",max:{numeric:"El campo :attribute no debe ser mayor a :max.",string:"El campo :attribute no debe ser mayor que :max caracteres."},min:{numeric:"El tamao del campo :attribute debe ser de al menos :min.",string:"El campo :attribute debe contener al menos :min caracteres."},not_in:"El campo :attribute es invlido.",numeric:"El campo :attribute debe ser numrico.",regex:"El formato del campo :attribute es invlido.",required:"El campo :attribute es obligatorio.",required_if:"El campo :attribute es obligatorio cuando :other es :value.",same:"El campo :attribute y :other deben coincidir.",size:{numeric:"El tamao del campo :attribute debe ser :size.",string:"El campo :attribute debe contener :size caracteres."},url:"El formato de :attribute es invlido."}},function(e,t){e.exports={accepted:"   :attribute.",alpha:" :attribute    .",alpha_dash:'" :attribute    , ,    .',alpha_num:" :attribute      .",between:" :attribute    :min :max .",confirmed:" :attribute    .",email:" :attribute     .",def:" :attribute  .",digits:"   :attribute   :digits.",different:" :attribute  :different  .","in":"   :attribute .",integer:" :attribute    .",min:{numeric:" :attribute     :min.",string:"    :attribute     :min."},max:{numeric:" :attribute     :max.",string:"    :attribute    :max."},not_in:"   :attribute .",numeric:" :attribute   .",required:" :attribute   .",required_if:" :attribute   :attribute :other .",same:" :attribute    :same.",size:{numeric:" :attribute    :size.",string:"    :attribute    :size."},url:" :attribute   .",regex:" :attribute   .",attributes:{}}},function(e,t){var i=function(){this.errors={}};i.prototype={constructor:i,add:function(e,t){this.has(e)||(this.errors[e]=[]),this.errors[e].push(t)},get:function(e){return this.has(e)?this.errors[e]:[]},first:function(e){return this.has(e)?this.errors[e][0]:!1},all:function(){return this.errors},has:function(e){return!!this.errors.hasOwnProperty(e)}},e.exports=i},function(e,t){function i(e,t){this.onResolvedAll=t,this.onFailedOne=e,this.resolvers={},this.resolversCount=0,this.passed=[],this.failed=[],this.firing=!1}i.prototype={add:function(e){var t=this.resolversCount;return this.resolvers[t]=e,this.resolversCount++,t},resolve:function(e){var t=this.resolvers[e];t.passes===!0?this.passed.push(t):t.passes===!1&&(this.failed.push(t),this.onFailedOne(t)),this.fire()},isAllResolved:function(){return this.passed.length+this.failed.length===this.resolversCount},fire:function(){this.firing&&this.isAllResolved()&&this.onResolvedAll(0===this.failed.length)},enableFiring:function(){this.firing=!0}},e.exports=i},function(e,t){e.exports='\n<div\n    class="ui-autocomplete" v-el:autocomplete\n    :class="{\n        \'disabled\': disabled, \'invalid\': !valid, \'dirty\': dirty, \'active\': active,\n        \'has-label\': !hideLabel, \'icon-right\': iconRight\n    }"\n>\n    <div class="ui-autocomplete-icon-wrapper" v-if="showIcon">\n        <ui-icon :icon="icon" class="ui-autocomplete-icon"></ui-icon>\n    </div>\n\n    <div class="ui-autocomplete-content">\n        <label class="ui-autocomplete-label">\n            <div class="ui-autocomplete-label-text" v-text="label" v-if="!hideLabel"></div>\n\n            <ui-icon\n                class="ui-autocomplete-clear-button" icon="&#xE5CD" title="Clear"\n                @click="clearSearch" v-show="!disabled && value.length"\n            ></ui-icon>\n\n            <input\n                class="ui-autocomplete-input" :placeholder="placeholder" :name="name"\n                :id="id" autocomplete="off"\n\n                @focus="focus" @blur="blur" @keydown.up="highlight(highlightedItem - 1)"\n                @keydown.down="highlight(highlightedItem + 1)" @keydown.tab="close"\n                @keydown.enter="selectHighlighted(highlightedItem, $event)"\n\n                v-model="value" v-disabled="disabled" v-el:input\n            >\n\n            <ul class="ui-autocomplete-suggestions" v-show="showDropdown">\n                <ui-autocomplete-suggestion\n                    :highlighted="highlightedItem === index" :item="item" :partial="partial"\n                    v-for="(index, item) in suggestions | filterBy search | limitBy limit"\n                    v-ref:items @click="select(item)"\n                ></ui-autocomplete-suggestion>\n            </ul>\n        </label>\n\n        <div class="ui-autocomplete-feedback" v-if="showFeedback">\n            <div\n                class="ui-autocomplete-error-text" v-text="validationError"\n                transition="ui-autocomplete-feedback-toggle"\n                v-show="!hideValidationErrors && !valid"\n            ></div>\n\n            <div\n                class="ui-autocomplete-help-text" transition="ui-autocomplete-feedback-toggle"\n                v-text="helpText" v-else\n            ></div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(90),r=i(91),r&&r.__esModule&&Object.keys(r).length>1,s=i(92),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(13),a=r(n),l=i(47),d=r(l),h=i(51),c=r(h),u=i(55),p=r(u),f=i(56),m=r(f),g=i(19),v=r(g);t["default"]={name:"ui-button",props:{type:{type:String,"default":"normal",coerce:function(e){return"ui-button-"+e}},color:{type:String,"default":"default",coerce:function(e){return"color-"+e}},raised:{type:Boolean,"default":!1},text:String,icon:String,iconRight:{type:Boolean,"default":!1},loading:{type:Boolean,"default":!1},showDropdownIcon:{type:Boolean,"default":!0},disabled:{type:Boolean,"default":!1}},computed:{styleClasses:function(){var e=[this.type,this.color];return this.raised&&e.push("ui-button-raised"),(this.hasDropdownMenu||this.hasPopover)&&e.push("has-dropdown"),e},spinnerColor:function(){return"color-default"===this.color||"ui-button-flat"===this.type?"black":"white"},showIcon:function(){return Boolean(this.icon)}},components:{UiIcon:o["default"],UiMenu:a["default"],UiPopover:d["default"],UiProgressCircular:c["default"]},mixins:[m["default"],v["default"]],directives:{disabled:p["default"]}}},function(e,t){e.exports='\n<button\n    class="ui-button" :class="styleClasses" v-disabled="disabled || loading"\n    v-el:button\n>\n    <div class="ui-button-content" :class="{ \'invisible\': loading }">\n        <ui-icon\n            class="ui-button-icon" :class="{ \'position-right\': iconRight }" :icon="icon"\n            v-if="showIcon"\n        ></ui-icon>\n\n        <div class="ui-button-text">\n            <slot>\n                <span v-text="text"></span>\n            </slot>\n        </div>\n\n        <ui-icon\n            class="ui-button-dropdown-icon" icon="&#xE5C5;"\n            v-if="!iconRight && showDropdownIcon && (hasDropdownMenu || hasPopover)"\n        ></ui-icon>\n    </div>\n\n    <ui-progress-circular\n        class="ui-button-spinner" :color="spinnerColor" :size="18" :stroke="4.5"\n        disable-transition v-show="loading"\n    ></ui-progress-circular>\n\n    <ui-ripple-ink v-if="!hideRippleInk && !disabled" :trigger="$els.button"></ui-ripple-ink>\n\n    <ui-menu\n        class="ui-button-dropdown-menu" :trigger="$els.button" :options="menuOptions"\n        :show-icons="showMenuIcons" :show-secondary-text="showMenuSecondaryText"\n        :open-on="openDropdownOn" @option-selected="menuOptionSelect"\n        :dropdown-position="dropdownPosition" v-if="hasDropdownMenu"\n    ></ui-menu>\n\n    <ui-popover :trigger="$els.button" :open-on="openDropdownOn" v-if="hasPopover">\n        <slot name="popover"></slot>\n    </ui-popover>\n</button>\n'},function(e,t,i){var r,s;i(94),r=i(95),r&&r.__esModule&&Object.keys(r).length>1,s=i(96),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(55),o=r(s),n=i(75),a=r(n);t["default"]={name:"ui-checkbox",props:{name:String,value:{type:Boolean,required:!0,twoWay:!0},label:String,hideLabel:{type:Boolean,"default":!1},labelLeft:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},data:function(){return{active:!1,initialValue:!1}},created:function(){this.initialValue=this.value},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(this.value=this.initialValue)}},methods:{focus:function(){this.active=!0},blur:function(){this.active=!1}},directives:{disabled:o["default"]},mixins:[a["default"]]}},function(e,t){e.exports='\n<label\n    class="ui-checkbox"\n    :class="{ \'disabled\': disabled, \'checked\': value, \'active\': active, \'label-left\': labelLeft }"\n>\n    <input\n        class="ui-checkbox-input" type="checkbox" :name="name" @focus="focus" @blur="blur"\n        v-model="value" v-disabled="disabled"\n    >\n\n    <div class="ui-checkbox-checkmark">\n        <div class="ui-checkbox-focus-ring"></div>\n    </div>\n\n    <div class="ui-checkbox-label-text" v-if="!hideLabel">\n        <slot>\n            <span v-text="label"></span>\n        </slot>\n    </div>\n</label>\n'},function(e,t,i){var r,s;i(98),r=i(99),r&&r.__esModule&&Object.keys(r).length>1,s=i(100),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(72),a=r(n),l=i(55),d=r(l),h=i(19),c=r(h),u=i(75),p=r(u);t["default"]={name:"ui-collapsible",props:{id:String,open:{type:Boolean,"default":!1},header:String,transition:{type:String,"default":"ui-collapsible-toggle"},hideIcon:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},data:function(){return{height:0,isReady:!1}},computed:{icon:function(){return this.open?"keyboard_arrow_up":"keyboard_arrow_down"},calculatedHeight:function(){return 0===this.height?"initial":this.height+"px"}},created:function(){this.id=this.id||a["default"]["short"]("ui-collapsible-")},ready:function(){this.isReady=!0,this.setHeight()},events:{"ui-collapsible::refresh-height":function(e){this.eventTargetsComponent(e)&&this.setHeight()}},methods:{toggleMenu:function(){this.disabled||(this.open=!this.open)},setHeight:function(){var e=this.$els.body;e.style.display="block",this.height=e.offsetHeight,this.open||(e.style.display="none")}},components:{UiIcon:o["default"]},directives:{disabled:d["default"]},mixins:[c["default"],p["default"]],transitions:{"ui-collapsible-toggle":{afterEnter:function(){this.$dispatch("opened"),this.setHeight()},afterLeave:function(){this.$dispatch("closed")}}}}},function(e,t){e.exports='\n<div class="ui-collapsible">\n    <button\n        class="ui-collapsible-header" :class="{ \'disabled\': disabled }" :aria-controls="id"\n        :aria-expanded="open ? \'true\' : \'false\'" @click="toggleMenu" v-disabled="disabled"\n        v-el:button\n    >\n        <div class="ui-collapsible-header-content">\n            <slot name="header">\n                <div v-text="header"></div>\n            </slot>\n        </div>\n\n        <ui-icon class="ui-collapsible-header-icon" :icon="icon" v-if="!hideIcon"></ui-icon>\n\n        <ui-ripple-ink\n            v-if="!hideRippleInk && !disabled && isReady" :trigger="$els.button"\n        ></ui-ripple-ink>\n    </button>\n\n    <div\n        class="ui-collapsible-body-wrapper" :transition="transition"\n        :style="{ \'height\': calculatedHeight }" v-show="open"v-el:body\n    >\n        <div class="ui-collapsible-body" :id="id" :aria-hidden="open ? null : \'true\'">\n            <slot></slot>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(102),r=i(103),r&&r.__esModule&&Object.keys(r).length>1,s=i(108),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),o=r(s),n=i(104),a=r(n),l=i(89),d=r(l);t["default"]={name:"ui-confirm",props:{show:{type:Boolean,required:!0,twoWay:!0},type:{type:String,"default":"primary"},header:{type:String,"default":"UiConfirm"},confirmButtonText:{type:String,"default":"OK"},confirmButtonIcon:String,denyButtonText:{type:String,"default":"Cancel"},denyButtonIcon:String,autofocus:{type:String,"default":"deny-button"},closeOnConfirm:{type:Boolean,"default":!1},backdropDismissible:{type:Boolean,"default":!0},loading:{type:Boolean,"default":!1}},methods:{confirm:function(){this.$dispatch("confirmed"),this.closeOnConfirm&&(this.show=!1)},deny:function(){this.show=!1,this.$dispatch("denied")},opened:function(){return"confirm-button"===this.autofocus?((0,o["default"])(this.$els.confirmButton).addClass("autofocus").once("blur",this.removeAutoFocus),this.$els.confirmButton.focus()):"deny-button"===this.autofocus&&((0,o["default"])(this.$els.denyButton).addClass("autofocus").once("blur",this.removeAutoFocus),this.$els.denyButton.focus()),!0},removeAutoFocus:function(){"confirm-button"===this.autofocus?(0,o["default"])(this.$els.confirmButton).removeClass("autofocus"):"deny-button"===this.autofocus&&(0,o["default"])(this.$els.denyButton).removeClass("autofocus")}},components:{UiModal:a["default"],UiButton:d["default"]}}},function(e,t,i){var r,s;i(105),r=i(106),r&&r.__esModule&&Object.keys(r).length>1,s=i(107),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(23),o=r(s),n=i(10),a=r(n),l=i(89),d=r(l);t["default"]={name:"ui-modal",props:{show:{type:Boolean,required:!0,twoWay:!0},type:{type:String,"default":"normal",coerce:function(e){return"ui-modal-"+e}},header:{type:String,"default":"UiModal Header"},body:{type:String,"default":"UiModal body"},role:{type:String,"default":"dialog"},transition:{type:String,"default":"ui-modal-scale"},showCloseButton:{type:Boolean,"default":!0},hideFooter:{type:Boolean,"default":!1},dismissible:{type:Boolean,"default":!0},backdropDismissible:{type:Boolean,"default":!0}},data:function(){return{lastFocussedElement:null}},watch:{show:function(){var e=this;this.$nextTick(function(){e.show?e.opened():e.closed()})}},beforeDestroy:function(){this.show&&this.tearDown()},methods:{close:function(e){this.dismissible&&(e.currentTarget===this.$els.modalMask&&e.target!==e.currentTarget||(e.currentTarget!==this.$els.modalMask||this.backdropDismissible)&&(this.show=!1))},opened:function(){this.lastFocussedElement=document.activeElement,this.$els.modalContainer.focus(),(0,o["default"])("body").addClass("ui-modal-open"),document.addEventListener("focus",this.restrictFocus,!0),this.$dispatch("opened")},closed:function(){this.tearDown(),this.$dispatch("closed")},redirectFocus:function(e){e.stopPropagation(),this.$els.modalContainer.focus()},restrictFocus:function(e){this.$els.modalContainer.contains(e.target)||(e.stopPropagation(),this.$els.modalContainer.focus())},tearDown:function(){(0,o["default"])("body").removeClass("ui-modal-open"),document.removeEventListener("focus",this.restrictFocus,!0),this.lastFocussedElement.focus()}},components:{UiIconButton:a["default"],UiButton:d["default"]}}},function(e,t){e.exports='\n<div\n    class="ui-modal ui-modal-mask" v-show="show" :transition="transition" :class="[type]"\n    :role="role"\n>\n    <div class="ui-modal-wrapper" @click="close" v-el:modal-mask>\n        <div\n            class="ui-modal-container" tabindex="-1" @keydown.esc="close"\n            v-el:modal-container\n        >\n            <div class="ui-modal-header">\n                <slot name="header">\n                    <h1 v-text="header" class="ui-modal-header-text"></h1>\n                </slot>\n\n                <ui-icon-button\n                    type="clear" icon="&#xE5CD" class="ui-modal-close-button" @click="close"\n                    :disabled="!dismissible" v-if="showCloseButton" v-el:close-button\n                ></ui-icon-button>\n            </div>\n\n            <div class="ui-modal-body">\n                <slot>\n                    <div v-text="body"></div>\n                </slot>\n            </div>\n\n            <div class="ui-modal-footer" v-if="!hideFooter">\n                <slot name="footer">\n                    <ui-button @click="close" v-if="dismissible">Close</ui-button>\n                </slot>\n            </div>\n\n            <div class="focus-redirector" @focus="redirectFocus" tabindex="0"></div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='\n<div class="ui-confirm">\n    <ui-modal\n        :show.sync="show" role="alertdialog" :header="header" @opened="opened" show-close-button\n        :dismissible="!loading" :backdrop-dismissible="backdropDismissible"\n    >\n        <div class="ui-confirm-message">\n            <slot></slot>\n        </div>\n\n        <div slot="footer">\n            <ui-button\n                :color="type" :text="confirmButtonText" :icon="confirmButtonIcon"\n                @click="confirm" :loading="loading" v-el:confirm-button\n            ></ui-button>\n\n            <ui-button\n                :text="denyButtonText" :icon="denyButtonIcon" @click="deny"\n                :disabled="loading" v-el:deny-button\n            ></ui-button>\n        </div>\n    </ui-modal>\n</div>\n'},function(e,t,i){var r,s;i(110),r=i(111),r&&r.__esModule&&Object.keys(r).length>1,s=i(112),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(55),a=r(n),l=i(57),d=r(l),h=i(19),c=r(h);t["default"]={name:"ui-fab",props:{type:{type:String,"default":"normal",coerce:function(e){return"ui-fab-"+e}},color:{type:String,"default":"default",coerce:function(e){return"color-"+e}},icon:{type:String,required:!0},ariaLabel:String,disabled:{type:Boolean,"default":!1}},components:{UiIcon:o["default"]},mixins:[d["default"],c["default"]],directives:{disabled:a["default"]}}},function(e,t){e.exports='\n<button\n    class="ui-fab" :class="[this.type, this.color]" :aria-label="ariaLabel || tooltip"\n    v-disabled="disabled" v-el:button\n>\n    <ui-icon class="ui-fab-icon" :icon="icon"></ui-icon>\n\n    <ui-ripple-ink :trigger="$els.button" v-if="!hideRippleInk && !disabled"></ui-ripple-ink>\n\n    <ui-tooltip\n        :trigger="$els.button" :content="tooltip" :position="tooltipPosition" v-if="tooltip"\n    ></ui-tooltip>\n</button>\n'},function(e,t,i){var r,s;i(114),r=i(115),r&&r.__esModule&&Object.keys(r).length>1,s=i(116),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ui-preloader",props:{show:{type:Boolean,required:!0}}}},function(e,t){e.exports='\n<div class="ui-preloader">\n    <div\n        class="ui-preloader-progressbar" :class="{ \'loading\' : show }"\n        :aria-busy="show ? \'true\' : false" role="progressbar"\n    ></div>\n</div>\n'},function(e,t,i){var r,s;i(118),r=i(119),r&&r.__esModule&&Object.keys(r).length>1,s=i(120),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ui-progress-linear",props:{show:{type:Boolean,"default":!1},type:{type:String,"default":"indeterminate"},color:{type:String,"default":"color-primary",coerce:function(e){return"color-"+e}},value:{type:Number,coerce:Number,"default":0}},computed:{progress:function(){return this.value<0?0:this.value>100?100:this.value}}}},function(e,t){e.exports='\n<div\n    class="ui-progress-linear" :class="[color]" v-show="show"\n    transition="ui-progress-linear-toggle"\n>\n    <div\n        class="ui-progress-linear-determinate" :style="{ \'width\': progress + \'%\' }"\n        role="progressbar" :aria-valuemin="0" :aria-valuemax="100" :aria-valuenow="value"\n        v-if="type === \'determinate\'"\n    ></div>\n\n    <div\n        class="ui-progress-linear-indeterminate" role="progressbar" :aria-valuemin="0"\n        :aria-valuemax="100" v-else\n    ></div>\n</div>\n'},function(e,t,i){var r,s;i(122),r=i(123),r&&r.__esModule&&Object.keys(r).length>1,s=i(124),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(55),o=r(s);t["default"]={name:"ui-radio",props:{id:String,name:String,model:{type:String,"default":"",twoWay:!0},checked:{type:Boolean,"default":!1},value:String,label:String,hideLabel:{type:Boolean,"default":!1},labelLeft:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},data:function(){return{active:!1}},methods:{focus:function(){this.active=!0,this.$dispatch("focussed")},blur:function(){this.active=!1,this.$dispatch("blurred")}},directives:{disabled:o["default"]}}},function(e,t){e.exports='\n<label\n    class="ui-radio"\n    :class="{ \'disabled\': disabled, \'checked\': active, \'label-left\': labelLeft }"\n>\n    <div class="ui-radio-input-wrapper">\n        <input\n            class="ui-radio-input" type="radio" :id="id" :name="name" :value="value"\n            :checked="checked" @focus="focus" @blur="blur" v-model="model" v-disabled="disabled"\n        >\n\n        <span class="ui-radio-border"></span>\n        <span class="ui-radio-inner-dot"></span>\n    </div>\n\n    <div class="ui-radio-label-text" v-if="!hideLabel">\n        <slot>\n            <span v-text="label"></span>\n        </slot>\n    </div>\n</label>\n'},function(e,t,i){var r,s;i(126),r=i(127),r&&r.__esModule&&Object.keys(r).length>1,s=i(128),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(55),o=r(s),n=i(121),a=r(n),l=i(75),d=r(l);t["default"]={name:"ui-radio-group",props:{name:{type:String,required:!0},value:{type:String,"default":"",twoWay:!0},options:{type:Array,required:!0},label:String,hideLabel:{type:Boolean,"default":!1},helpText:String,vertical:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},data:function(){return{active:!1,initialValue:""}},created:function(){this.initialValue=this.value},computed:{showFeedback:function(){return Boolean(this.helpText)}},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(this.value=this.initialValue)}},
methods:{focus:function(){this.active=!0},blur:function(){this.active=!1}},components:{UiRadio:a["default"]},directives:{disabled:o["default"]},mixins:[d["default"]]}},function(e,t){e.exports='\n<div\n    class="ui-radio-group" :id="id"\n    :class="{ \'disabled\': disabled, \'active\': active, \'vertical\': vertical }"\n>\n    <div class="ui-radio-group-label" v-text="label" v-if="!hideLabel"></div>\n\n    <div class="ui-radio-group-options-wrapper">\n        <ui-radio\n            class="ui-radio-group-radio" v-for="option in options" :model.sync="value"\n            :name="name" :label="option.text || option" :value="option.value || option"\n            :disabled="disabled || option.disabled" @focussed="focus" @blurred="blur"\n        ></ui-radio>\n    </div>\n\n    <div\n        class="ui-radio-group-feedback" v-if="showFeedback"\n        transition="ui-radio-group-feedback-toggle"\n    >\n        <div class="ui-radio-group-help-text" v-text="helpText"></div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(130),r=i(131),r&&r.__esModule&&Object.keys(r).length>1,s=i(136),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(132),o=r(s),n=i(75),a=r(n);t["default"]={name:"ui-rating",props:{type:{type:String,"default":"star"},value:{type:Number,coerce:Number,required:!0,twoWay:!0},total:{type:Number,coerce:Number,required:!0},label:String,hideLabel:{type:Boolean,"default":!1},helpText:String,disabled:{type:Boolean,"default":!1}},data:function(){return{active:!1,initialValue:0,previewValue:0,previewing:!1}},computed:{showFeedback:function(){return Boolean(this.helpText)}},watch:{value:function(){this.previewValue=this.value},previewValue:function(){this.$dispatch("preview-value-changed",this.previewValue)}},created:function(){this.initialValue=this.value,this.previewValue=this.value},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(this.value=this.initialValue)}},methods:{startPreview:function(){this.disabled||(this.previewing=!0)},endPreview:function(){this.disabled||(this.previewing=!1,this.previewValue=this.value)},preview:function(e){this.disabled||(this.previewValue=e+1)},commitValue:function(e){this.disabled||e>0&&e<=this.total&&(this.value=e)},incrementPreviewValue:function(){if(!this.disabled){var e=this.previewValue+1;e<=this.total&&(this.previewValue=e)}},decrementPreviewValue:function(){if(!this.disabled){var e=this.previewValue-1;e>0&&(this.previewValue=e)}},focus:function(){this.active=!0,this.startPreview()},blur:function(){this.active=!1,this.commitValue(this.previewValue),this.endPreview()}},components:{UiRatingIcon:o["default"]},mixins:[a["default"]]}},function(e,t,i){var r,s;i(133),r=i(134),r&&r.__esModule&&Object.keys(r).length>1,s=i(135),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s);t["default"]={name:"ui-rating-icon",props:{type:{type:String,"default":"star"},selected:{type:Boolean,required:!0},filled:{type:Boolean,"default":!1}},computed:{icon:function(){return this.filled||this.selected?"star"===this.type?"star":"favorite":"star"===this.type?"star_border":"favorite_border"}},components:{UiIcon:o["default"]}}},function(e,t){e.exports='\n<div class="ui-rating-icon">\n    <ui-icon\n        class="ui-rating-icon-icon" :icon="icon"\n        :class="{ \'selected\': selected, \'filled\' : filled }"\n    ></ui-icon>\n</div>\n'},function(e,t){e.exports='\n<div\n    class="ui-rating" :class="{ \'disabled\': disabled, \'preview\': previewing, \'active\': active }"\n\n    :tabindex="disabled ? null : 0" role="slider" :aria-valuemin="0" :aria-valuemax="total"\n    :aria-valuenow="previewValue"\n\n    @keydown.up.prevent="incrementPreviewValue" @keydown.down.prevent="decrementPreviewValue"\n    @keydown.right.prevent="incrementPreviewValue" @keydown.left.prevent="decrementPreviewValue"\n    @keydown.enter.prevent="commitValue(previewValue)" @focus="focus" @blur="blur"\n>\n    <div class="ui-rating-label" v-text="label" v-if="!hideLabel"></div>\n\n    <div\n        class="ui-rating-icons-wrapper" @mouseenter="startPreview" @mouseleave="endPreview"\n    >\n        <ui-rating-icon\n            :type="type" v-for="n in total" :selected="(n + 1) <= value" @mouseover="preview(n)"\n            :filled="(n + 1) <= previewValue" @click="commitValue(n + 1)"\n        ></ui-rating-icon>\n    </div>\n\n    <div\n        class="ui-rating-feedback" v-if="showFeedback" transition="ui-rating-feedback-toggle"\n    >\n        <div class="ui-rating-help-text" v-text="helpText"></div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(138),r=i(139),r&&r.__esModule&&Object.keys(r).length>1,s=i(140),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(132),o=r(s);t["default"]={name:"ui-rating-preview",props:{type:{type:String,"default":"star"},value:{type:Number,coerce:Number,required:!0},total:{type:Number,coerce:Number,required:!0}},components:{UiRatingIcon:o["default"]}}},function(e,t){e.exports='\n<div\n    class="ui-rating-preview" role="slider" :aria-valuemin="0" :aria-valuemax="total"\n    :aria-valuenow="value"\n>\n    <ui-rating-icon\n        :type="type" v-for="n in total" :selected="(n + 1) <= value"\n    ></ui-rating-icon>\n</div>\n'},function(e,t,i){var r,s;i(142),r=i(143),r&&r.__esModule&&Object.keys(r).length>1,s=i(151),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(144),o=r(s),n=i(68),a=r(n),l=i(146),d=i(6),h=r(d),c=i(147),u=r(c),p=i(51),f=r(p),m=i(74),g=r(m),v=i(76),x=r(v);t["default"]={name:"ui-select",props:{value:{type:[Object,Array],"default":null,twoWay:!0},"default":{type:[Object,Array],"default":null},options:{type:Array,"default":[]},partial:String,showSearch:{type:Boolean,"default":!1},searchPlaceholder:{type:String,"default":"Search"},multiple:{type:Boolean,"default":!1},multipleDelimiter:{type:String,"default":", "},disableFiltering:{type:Boolean,"default":!1},loading:{type:Boolean,"default":!1},noResults:{type:Boolean,"default":!1}},data:function(){return{query:"",selectedIndex:-1,highlightedIndex:-1,showDropdown:!1,ignoreQueryChange:!1}},computed:{filteredOptions:function(){return this.disableFiltering?this.options:this.options.filter(this.search)},displayText:function(){if(this.multiple&&this.value.length){var e=this.value.map(function(e){return e.text});return e.join(this.multipleDelimiter)}return this.value?this.value.text:""},hasDisplayText:function(){return this.displayText&&Boolean(this.displayText.length)},showIcon:function(){return Boolean(this.icon)},nothingFound:function(){return this.disableFiltering?this.noResults:Boolean(this.options.length&&!this.filteredOptions.length)}},watch:{filteredOptions:function(){this.highlightedIndex=0,(0,l.resetScroll)(this.$els.optionsList)},showDropdown:function(){this.showDropdown?(this.opened(),this.$dispatch("opened")):(this.closed(),this.$dispatch("closed"))},query:function(){this.ignoreQueryChange||this.$dispatch("query-changed",this.query)}},created:function(){this.initValue();var e={min:"You must select at least :min options.",max:"You must select no more than :max options.",between:"You must select at least :min but no more than :max options."};this.validationRules&&(this.validationMessages=(0,o["default"])(e,this.validationMessages))},ready:function(){document.addEventListener("click",this.closeOnExternalClick)},beforeDestroy:function(){document.removeEventListener("click",this.closeOnExternalClick)},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(this.initValue(),this.dirty=!1,this.valid=!0,this.clearQuery(),this.selectedIndex=-1,this.highlightedIndex=-1)}},methods:{initValue:function(){this.value=this.multiple?[]:null,this["default"]&&this.setDefaultValue(this["default"])},search:function(e){var t=e.text.toLowerCase(),i=this.query.toLowerCase();return(0,a["default"])(i,t)},clearQuery:function(){var e=this;this.ignoreQueryChange=!0,this.$nextTick(function(){e.query="",e.$nextTick(function(){e.ignoreQueryChange=!1})})},select:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(this.multiple){if(this.isSelected(e))return void this.deselect(e);this.value.push(e)}else this.value=e,this.selectedIndex=t;this.$dispatch("selected",e),this.highlightedIndex=t,this.clearQuery(),this.validate(),!this.multiple&&i&&this.close()},deselect:function(e){this.value.$remove(e)},isSelected:function(e){return this.multiple?this.value.indexOf(e)>-1:this.value===e},selectHighlighted:function(e,t){this.$refs.options.length&&(t.preventDefault(),this.select(this.$refs.options[e].option,e))},highlight:function(e,t){this.highlightedIndex!==e&&(0>e?e=this.$refs.options.length-1:e>=this.$refs.options.length&&(e=0),this.highlightedIndex=e,t||this.scrollOptionIntoView(this.$refs.options[e].$el))},focus:function(){this.active=!0},blur:function(){this.active=!1,this.showDropdown&&this.close()},toggle:function(){this.showDropdown?this.close():this.open()},open:function(){this.disabled||(this.showDropdown=!0)},opened:function(){var e=this;this.$nextTick(function(){e.showSearch?e.$els.searchInput.focus():e.$els.dropdown.focus(),e.scrollOptionIntoView(e.$els.optionsList.querySelector(".selected"))})},close:function(e){this.showDropdown=!1,this.dirty||(this.dirty=!0),e?this.active=!1:this.$els.label.focus()},closeOnExternalClick:function(e){this.$el.contains(e.target)||!this.showDropdown&&!this.active||this.close(!0)},closed:function(){this.validate(),this.multiple?this.highlightedIndex=-1:this.highlightedIndex=this.selectedIndex},setDefaultValue:function(e){if(this.multiple){if(!e.length)return;for(var t=0;t<this.options.length;t++)for(var i=0;i<e.length;i++)if(this.options[t]===e[i]){this.select(this.options[t],t,!1);break}}else for(var r=0;r<this.options.length;r++)if(this.options[r]===e){this.select(this.options[r],r,!1);break}},scrollOptionIntoView:function(e){(0,l.scrollIntoView)(e,this.$els.optionsList,80)}},components:{UiIcon:h["default"],UiSelectOption:u["default"],UiProgressCircular:f["default"]},mixins:[g["default"],x["default"]]}},function(e,t,i){"use strict";function r(e){var t=[];for(var i in e)c.call(e,i)&&t.push(i);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),s=0;s<r.length;s++)u.call(e,r[s])&&t.push(r[s]);return t}function s(e){return Array.isArray(e)?o(e):h(e)?n(e):e}function o(e){var t=e.slice(0,0);return r(e).forEach(function(i){t[i]=s(e[i])}),t}function n(e){var t=null===Object.getPrototypeOf(e)?Object.create(null):{};return r(e).forEach(function(i){t[i]=s(e[i])}),t}function a(e,t,i,r){return i.forEach(function(i){i in e?e[i]=d(e[i],t[i],r):e[i]=s(t[i])}),e}function l(e,t,i){var o=e.slice(0,0),n=0;return[e,t].forEach(function(t){for(var l=[],d=0;d<t.length;d++)c.call(t,d)&&(l.push(String(d)),t===e?o[n++]=t[d]:o[n++]=s(t[d]));o=a(o,t,r(t).filter(function(e){return-1===l.indexOf(e)}),i)}),o}function d(e,t,i){return i.concatArrays&&Array.isArray(e)&&Array.isArray(t)?l(e,t,i):h(t)&&h(e)?a(e,t,r(t),i):s(t)}var h=i(145),c=Object.prototype.hasOwnProperty,u=Object.propertyIsEnumerable,p=this,f={concatArrays:!1};e.exports=function(){for(var e=d(s(f),this!==p&&this||{},f),t={},i=0;i<arguments.length;i++){var r=arguments[i];if(void 0!==r){if(!h(r))throw new TypeError("`"+r+"` is not an Option Object");t=d(t,r,e)}}return t}},function(e,t){"use strict";var i=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===i.call(e)&&(t=Object.getPrototypeOf(e),null===t||t===Object.getPrototypeOf({}))}},function(e,t){"use strict";function i(e,t){if(e){t=t||e.parentElement;var i=e.offsetTop,r=t.scrollTop,s=i+e.offsetHeight,o=t.offsetHeight;return i>=r&&o>=s}}function r(e,t){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];e&&!i(e,t)&&(t=t||e.parentElement,t.scrollTop=e.offsetTop-r)}function s(e){e&&(e.scrollTop=0)}Object.defineProperty(t,"__esModule",{value:!0}),t.inView=i,t.scrollIntoView=r,t.resetScroll=s,t["default"]={inView:i,scrollIntoView:r,resetScroll:s}},function(e,t,i){var r,s;i(148),r=i(149),r&&r.__esModule&&Object.keys(r).length>1,s=i(150),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s);t["default"]={name:"ui-select-option",props:{option:{type:[String,Object],required:!0},partial:{type:String,"default":"ui-select-simple"},showCheckbox:{type:Boolean,"default":!1},highlighted:{type:Boolean,"default":!1},selected:{type:Boolean,"default":!1}},computed:{icon:function(){return this.selected?"check_box":"check_box_outline_blank"}},components:{UiIcon:o["default"]},partials:{"ui-select-simple":'<li class="ui-select-item-text" v-text="option.text"></li>',"ui-select-image":'<div class="ui-select-item-image" :style="{ \'background-image\': \'url(\' + option.image + \')\' }"></div>\n            <div class="ui-select-item-text" v-text="option.text"></div>'}}},function(e,t){e.exports='\n<li\n    class="ui-select-option" :class="{ highlighted: highlighted, selected: selected }"\n>\n    <div class="ui-select-option-content" :class="[partial]">\n        <partial :name="partial"></partial>\n    </div>\n\n    <ui-icon\n        class="ui-select-option-checkbox" :icon="icon" v-if="showCheckbox"\n    ></ui-icon>\n</li>\n'},function(e,t){e.exports='\n<div\n    class="ui-select" :id="id" :class="{\n        \'disabled\': disabled, \'invalid\': !valid, \'dirty\': dirty, \'active\': active,\n        \'has-label\': !hideLabel, \'icon-right\': iconRight\n    }"\n>\n    <div class="ui-select-icon-wrapper" v-if="showIcon">\n        <ui-icon :icon="icon" class="ui-select-icon"></ui-icon>\n    </div>\n\n    <div class="ui-select-content">\n        <div\n            class="ui-select-label" :tabindex="disabled ? null : \'0\'" v-el:label\n            @focus="focus" @keydown.tab="blur" @click="toggle" @keydown.space.prevent="open"\n            @keydown.enter.prevent="open"\n        >\n            <div class="ui-select-label-text" v-text="label" v-if="!hideLabel"></div>\n\n            <div class="ui-select-display">\n                <div\n                    class="ui-select-value" :class="{ placeholder: !hasDisplayText }"\n                    v-text="hasDisplayText ? displayText : placeholder"\n                ></div>\n\n                <ui-icon icon="arrow_drop_down" class="ui-select-dropdown-icon"></ui-icon>\n            </div>\n\n            <div\n                class="ui-select-dropdown" tabindex="-1" v-show="showDropdown" v-el:dropdown\n                @keydown.esc.prevent="close()" @keydown.tab="close()"\n                @keydown.up.prevent="highlight(highlightedIndex - 1)"\n                @keydown.down.prevent="highlight(highlightedIndex + 1)"\n                @keydown.enter.prevent.stop="selectHighlighted(highlightedIndex, $event)"\n            >\n                <div class="ui-select-search" v-if="showSearch" @click.stop @keydown.space.stop>\n                    <input\n                        class="ui-select-search-input" type="text" v-el:search-input\n                        :placeholder="searchPlaceholder" v-model="query"\n                    >\n\n                    <ui-progress-circular\n                        class="ui-select-search-spinner" :size="24" :stroke="4" :show="loading"\n                    ></ui-progress-circular>\n                </div>\n\n                <ul class="ui-select-options" v-el:options-list>\n                    <ui-select-option\n                        :option="option" :partial="partial" :show-checkbox="multiple"\n                        @click.stop.prevent="select(option, index)"\n                        @mouseover.stop="highlight(index, true)"\n\n                        :highlighted="highlightedIndex === index" :selected="isSelected(option)"\n\n                        v-for="(index, option) in filteredOptions" v-ref:options\n                        v-if="!noResults"\n                    ></ui-select-option>\n\n                    <li class="ui-select-no-results" v-if="nothingFound">No results found</li>\n                </ul>\n            </div>\n        </div>\n\n        <div class="ui-select-feedback" v-if="showFeedback">\n            <div\n                class="ui-select-error-text" transition="ui-select-feedback-toggle"\n                v-text="validationError" v-show="!hideValidationErrors && !valid"\n            ></div>\n\n            <div\n                class="ui-select-help-text" transition="ui-select-feedback-toggle"\n                v-text="helpText" v-else\n            ></div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(153),r=i(154),r&&r.__esModule&&Object.keys(r).length>1,s=i(163),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(155),o=r(s),n=i(6),a=r(n),l=i(75),d=r(l);t["default"]={name:"ui-slider",props:{name:String,value:{type:Number,required:!0,twoWay:!0},step:{type:Number,"default":5},icon:String,label:String,hideLabel:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},data:function(){return{active:!1,initialValue:0,dragging:!1,draggable:null}},computed:{showIcon:function(){return Boolean(this.icon)},hasLabel:function(){return this.hideLabel?!0:Boolean(this.label)}},watch:{value:function(){this.dragging||(this.$els.thumb.style.left=this.value+"%")},disabled:function(){this.disabled?this.draggable.disable():this.draggable.enable()}},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(this.value=this.initialValue)}},ready:function(){this.initialValue=this.value,this.$els.thumb.style.left=this.value+"%",this.draggable=new o["default"](this.$els.thumb,{containment:this.$els.containment,axis:"x"}),this.draggable.on("dragStart",this.dragStart),this.draggable.on("dragMove",this.dragMove),this.draggable.on("dragEnd",this.dragEnd),this.disabled&&this.draggable.disable()},beforeDestroy:function(){this.draggable&&this.draggable.destroy()},methods:{focus:function(){this.active=!0},blur:function(){this.active=!1},sliderClick:function(e){if(!this.disabled){var t=this.$els.slider.getBoundingClientRect(),i=(e.clientX-t.left)/t.width*100;this.setValue(i),e.target!==this.$els.thumb&&this.draggable._pointerDown(e,e),this.$el.focus()}},dragStart:function(){this.dragging=!0,this.$el.focus()},dragMove:function(){var e=this.draggable.position.x,t=e/this.$els.slider.getBoundingClientRect().width*100;this.setValue(t)},dragEnd:function(){this.dragging=!1},increment:function(){100!==this.value&&this.setValue(this.value+this.step)},decrement:function(){0!==this.value&&this.setValue(this.value-this.step)},setValue:function(e){if(e!==this.value){var t=Math.round(e);t>=100&&(t=100),0>=t&&(t=0),this.value=t}}},components:{UiIcon:a["default"]},mixins:[d["default"]]}},function(e,t,i){var r=!1;(function(){!function(t,s){"use strict";"function"==typeof r&&r.amd?r(["classie/classie","get-style-property/get-style-property","get-size/get-size","unidragger/unidragger"],function(e,i,r,o){return s(t,e,i,r,o)}):e.exports=s(t,i(156),i(157),i(158),i(159))}(window,function(e,t,i,r,s){"use strict";function o(){}function n(e,t){for(var i in t)e[i]=t[i];return e}function a(e,t){this.element="string"==typeof e?h.querySelector(e):e,y&&(this.$element=y(this.element)),this.options=n({},this.constructor.defaults),this.option(t),this._create()}function l(e,t,i){return i=i||"round",t?Math[i](e/t)*t:e}for(var d,h=e.document,c=h.defaultView,u=c&&c.getComputedStyle?function(e){return c.getComputedStyle(e,null)}:function(e){return e.currentStyle},p="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},f=0,m="webkit moz ms o".split(" "),g=e.requestAnimationFrame,v=e.cancelAnimationFrame,x=0;x<m.length&&(!g||!v);x++)d=m[x],g=g||e[d+"RequestAnimationFrame"],v=v||e[d+"CancelAnimationFrame"]||e[d+"CancelRequestAnimationFrame"];g&&v||(g=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-f)),s=e.setTimeout(function(){t(i+r)},r);return f=i+r,s},v=function(t){e.clearTimeout(t)});var w=i("transform"),b=!!i("perspective"),y=e.jQuery;n(a.prototype,s.prototype),a.defaults={},a.prototype.option=function(e){n(this.options,e)},a.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=n({},this.position);var e=u(this.element);"relative"!=e.position&&"absolute"!=e.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},a.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},a.prototype.dispatchEvent=function(t,i,r){var s=[i].concat(r);this.emitEvent(t,s);var o=e.jQuery;if(o&&this.$element)if(i){var n=o.Event(i);n.type=t,this.$element.trigger(n,r)}else this.$element.trigger(t,r)},a.prototype._getPosition=function(){var e=u(this.element),t=parseInt(e.left,10),i=parseInt(e.top,10);this.position.x=isNaN(t)?0:t,this.position.y=isNaN(i)?0:i,this._addTransformPosition(e)},a.prototype._addTransformPosition=function(e){if(w){var t=e[w];if(0===t.indexOf("matrix")){var i=t.split(","),r=0===t.indexOf("matrix3d")?12:4,s=parseInt(i[r],10),o=parseInt(i[r+1],10);this.position.x+=s,this.position.y+=o}}},a.prototype.pointerDown=function(e,i){this._dragPointerDown(e,i);var r=h.activeElement;r&&r.blur&&r.blur(),this._bindPostStartEvents(e),t.add(this.element,"is-pointer-down"),this.dispatchEvent("pointerDown",e,[i])},a.prototype.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,i]),this._dragMove(e,t,i)},a.prototype.dragStart=function(e,i){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.isDragging=!0,t.add(this.element,"is-dragging"),this.dispatchEvent("dragStart",e,[i]),this.animate())},a.prototype.measureContainment=function(){var e=this.options.containment;if(e){this.size=r(this.element);var t=this.element.getBoundingClientRect(),i=p(e)?e:"string"==typeof e?h.querySelector(e):this.element.parentNode;this.containerSize=r(i);var s=i.getBoundingClientRect();this.relativeStartPosition={x:t.left-s.left,y:t.top-s.top}}},a.prototype.dragMove=function(e,t,i){if(this.isEnabled){var r=i.x,s=i.y,o=this.options.grid,n=o&&o[0],a=o&&o[1];r=l(r,n),s=l(s,a),r=this.containDrag("x",r,n),s=this.containDrag("y",s,a),r="y"==this.options.axis?0:r,s="x"==this.options.axis?0:s,this.position.x=this.startPosition.x+r,this.position.y=this.startPosition.y+s,this.dragPoint.x=r,this.dragPoint.y=s,this.dispatchEvent("dragMove",e,[t,i])}},a.prototype.containDrag=function(e,t,i){if(!this.options.containment)return t;var r="x"==e?"width":"height",s=this.relativeStartPosition[e],o=l(-s,i,"ceil"),n=this.containerSize[r]-s-this.size[r];return n=l(n,i,"floor"),Math.min(n,Math.max(o,t))},a.prototype.pointerUp=function(e,i){t.remove(this.element,"is-pointer-down"),this.dispatchEvent("pointerUp",e,[i]),this._dragPointerUp(e,i)},a.prototype.dragEnd=function(e,i){this.isEnabled&&(this.isDragging=!1,w&&(this.element.style[w]="",this.setLeftTop()),t.remove(this.element,"is-dragging"),this.dispatchEvent("dragEnd",e,[i]))},a.prototype.animate=function(){if(this.isDragging){this.positionDrag();var e=this;g(function(){e.animate()})}};var _=b?function(e,t){return"translate3d( "+e+"px, "+t+"px, 0)"}:function(e,t){return"translate( "+e+"px, "+t+"px)"};return a.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},a.prototype.positionDrag=w?function(){this.element.style[w]=_(this.dragPoint.x,this.dragPoint.y)}:a.prototype.setLeftTop,a.prototype.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},a.prototype.enable=function(){this.isEnabled=!0},a.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},a.prototype.destroy=function(){this.disable(),w&&(this.element.style[w]=""),this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},a.prototype._init=o,y&&y.bridget&&y.bridget("draggabilly",a),a})}).call(window)},function(e,t,i){var r=!1;(function(){!function(t){"use strict";function i(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function s(e,t){var i=o(e,t)?a:n;i(e,t)}var o,n,a;"classList"in document.documentElement?(o=function(e,t){return e.classList.contains(t)},n=function(e,t){e.classList.add(t)},a=function(e,t){e.classList.remove(t)}):(o=function(e,t){return i(t).test(e.className)},n=function(e,t){o(e,t)||(e.className=e.className+" "+t)},a=function(e,t){e.className=e.className.replace(i(t)," ")});var l={hasClass:o,addClass:n,removeClass:a,toggleClass:s,has:o,add:n,remove:a,toggle:s};"function"==typeof r&&r.amd?r(l):e.exports=l}(window)}).call(window)},function(e,t,i){var r=!1;(function(){!function(t){"use strict";function i(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,r=s.length;r>i;i++)if(t=s[i]+e,"string"==typeof o[t])return t}}var s="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof r&&r.amd?r(function(){return i}):e.exports=i}(window)}).call(window)},function(e,t,i){var r=!1;(function(){!function(t,s){"use strict";function o(e){var t=parseFloat(e),i=-1===e.indexOf("%")&&!isNaN(t);return i&&t}function n(){}function a(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,i=h.length;i>t;t++){var r=h[t];e[r]=0}return e}function l(e){function i(){if(!u){u=!0;var i=t.getComputedStyle;if(n=function(){var e=i?function(e){return i(e,null)}:function(e){return e.currentStyle};return function(t){var i=e(t);return i||d("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),l=e("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[l]="border-box";var s=document.body||document.documentElement;s.appendChild(r);var a=n(r);c=200===o(a.width),s.removeChild(r)}}}function r(e){if(i(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=n(e);if("none"===t.display)return a();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var d=r.isBorderBox=!(!l||!t[l]||"border-box"!==t[l]),u=0,p=h.length;p>u;u++){var f=h[u],m=t[f];m=s(e,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,x=r.paddingTop+r.paddingBottom,w=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,y=r.borderLeftWidth+r.borderRightWidth,_=r.borderTopWidth+r.borderBottomWidth,j=d&&c,q=o(t.width);q!==!1&&(r.width=q+(j?0:v+y));var T=o(t.height);return T!==!1&&(r.height=T+(j?0:x+_)),r.innerWidth=r.width-(v+y),r.innerHeight=r.height-(x+_),r.outerWidth=r.width+w,r.outerHeight=r.height+b,r}}function s(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var r=e.style,s=r.left,o=e.runtimeStyle,n=o&&o.left;return n&&(o.left=e.currentStyle.left),r.left=i,i=r.pixelLeft,r.left=s,n&&(o.left=n),i}var n,l,c,u=!1;return r}var d="undefined"==typeof console?n:function(e){},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof r&&r.amd?r(["get-style-property/get-style-property"],l):e.exports=l(i(157))}(window)}).call(window)},function(e,t,i){var r=!1;(function(){!function(t,s){"use strict";"function"==typeof r&&r.amd?r(["eventie/eventie","unipointer/unipointer"],function(e,i){return s(t,e,i)}):e.exports=s(t,i(160),i(161))}(window,function(e,t,i){"use strict";function r(){}function s(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function o(){}function n(){return!1}o.prototype=new i,o.prototype.bindHandles=function(){this._bindHandles(!0)},o.prototype.unbindHandles=function(){this._bindHandles(!1)};var a=e.navigator;o.prototype._bindHandles=function(e){e=void 0===e?!0:!!e;var i;i=a.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:a.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:function(){e&&d(n)};for(var r=e?"bind":"unbind",s=0,o=this.handles.length;o>s;s++){var n=this.handles[s];this._bindStartEvent(n,e),i(n),t[r](n,"click",this)}};var l="attachEvent"in document.documentElement,d=l?function(e){"IMG"==e.nodeName&&(e.ondragstart=n);for(var t=e.querySelectorAll("img"),i=0,r=t.length;r>i;i++){var s=t[i];s.ondragstart=n}}:r;o.prototype.pointerDown=function(i,r){if("INPUT"==i.target.nodeName&&"range"==i.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(i,r);var s=document.activeElement;s&&s.blur&&s.blur(),this._bindPostStartEvents(i),this.pointerDownScroll=o.getScrollPosition(),t.bind(e,"scroll",this),this.emitEvent("pointerDown",[i,r])},o.prototype._dragPointerDown=function(e,t){this.pointerDownPoint=i.getPointerPoint(t);var r="touchstart"==e.type,o=e.target.nodeName;r||"SELECT"==o||s(e)},o.prototype.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,i]),this._dragMove(e,t,i)},o.prototype._dragPointerMove=function(e,t){var r=i.getPointerPoint(t),s={x:r.x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(s)&&this._dragStart(e,t),s},o.prototype.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},o.prototype._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},i.prototype.pointerDone=function(){t.unbind(e,"scroll",this)},o.prototype._dragStart=function(e,t){this.isDragging=!0,this.dragStartPoint=o.getPointerPoint(t),this.isPreventingClicks=!0,this.dragStart(e,t)},o.prototype.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},o.prototype._dragMove=function(e,t,i){this.isDragging&&this.dragMove(e,t,i)},o.prototype.dragMove=function(e,t,i){s(e),this.emitEvent("dragMove",[e,t,i])},o.prototype._dragEnd=function(e,t){this.isDragging=!1;var i=this;setTimeout(function(){delete i.isPreventingClicks}),this.dragEnd(e,t)},o.prototype.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},o.prototype.pointerDone=function(){t.unbind(e,"scroll",this),delete this.pointerDownScroll},o.prototype.onclick=function(e){this.isPreventingClicks&&s(e)},o.prototype._staticClick=function(e,t){
if(!this.isIgnoringMouseUp||"mouseup"!=e.type){var i=e.target.nodeName;if("INPUT"!=i&&"TEXTAREA"!=i||e.target.focus(),this.staticClick(e,t),"mouseup"!=e.type){this.isIgnoringMouseUp=!0;var r=this;setTimeout(function(){delete r.isIgnoringMouseUp},400)}}},o.prototype.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},o.prototype.onscroll=function(){var e=o.getScrollPosition(),t=this.pointerDownScroll.x-e.x,i=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(i)>3)&&this._pointerDone()},o.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}};var h=void 0!==e.pageYOffset;return o.getScrollPosition=function(){return{x:h?e.pageXOffset:document.body.scrollLeft,y:h?e.pageYOffset:document.body.scrollTop}},o.getPointerPoint=i.getPointerPoint,o})}).call(window)},function(e,t,i){var r,s;!function(o){"use strict";function n(e){var t=o.event;return t.target=t.target||t.srcElement||e,t}var a=document.documentElement,l=function(){};a.addEventListener?l=function(e,t,i){e.addEventListener(t,i,!1)}:a.attachEvent&&(l=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=n(e);i.handleEvent.call(i,t)}:function(){var t=n(e);i.call(e,t)},e.attachEvent("on"+t,e[t+i])});var d=function(){};a.removeEventListener?d=function(e,t,i){e.removeEventListener(t,i,!1)}:a.detachEvent&&(d=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(r){e[t+i]=void 0}});var h={bind:l,unbind:d};r=h,s="function"==typeof r?r.call(t,i,t,e):r,!(void 0!==s&&(e.exports=s))}(window)},function(e,t,i){var r=!1;(function(){!function(t,s){"use strict";"function"==typeof r&&r.amd?r(["eventEmitter/EventEmitter","eventie/eventie"],function(e,i){return s(t,e,i)}):e.exports=s(t,i(162),i(160))}(window,function(e,t,i){"use strict";function r(){}function s(){}s.prototype=new t,s.prototype.bindStartEvent=function(e){this._bindStartEvent(e,!0)},s.prototype.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},s.prototype._bindStartEvent=function(t,r){r=void 0===r?!0:!!r;var s=r?"bind":"unbind";e.navigator.pointerEnabled?i[s](t,"pointerdown",this):e.navigator.msPointerEnabled?i[s](t,"MSPointerDown",this):(i[s](t,"mousedown",this),i[s](t,"touchstart",this))},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.getTouch=function(e){for(var t=0,i=e.length;i>t;t++){var r=e[t];if(r.identifier==this.pointerIdentifier)return r}},s.prototype.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},s.prototype.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},s.prototype.onMSPointerDown=s.prototype.onpointerdown=function(e){this._pointerDown(e,e)},s.prototype._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},s.prototype.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return s.prototype._bindPostStartEvents=function(t){if(t){for(var r=o[t.type],s=t.preventDefault?e:document,n=0,a=r.length;a>n;n++){var l=r[n];i.bind(s,l,this)}this._boundPointerEvents={events:r,node:s}}},s.prototype._unbindPostStartEvents=function(){var e=this._boundPointerEvents;if(e&&e.events){for(var t=0,r=e.events.length;r>t;t++){var s=e.events[t];i.unbind(e.node,s,this)}delete this._boundPointerEvents}},s.prototype.onmousemove=function(e){this._pointerMove(e,e)},s.prototype.onMSPointerMove=s.prototype.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},s.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},s.prototype._pointerMove=function(e,t){this.pointerMove(e,t)},s.prototype.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},s.prototype.onmouseup=function(e){this._pointerUp(e,e)},s.prototype.onMSPointerUp=s.prototype.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},s.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},s.prototype._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},s.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},s.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},s.prototype.pointerDone=r,s.prototype.onMSPointerCancel=s.prototype.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},s.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},s.prototype._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},s.prototype.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},s.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},s})}).call(window)},function(e,t){var i=!1;(function(){(function(){"use strict";function t(){}function r(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var o=t.prototype,n=this,a=n.EventEmitter;o.getListeners=function(e){var t,i,r=this._getEvents();if(e instanceof RegExp){t={};for(i in r)r.hasOwnProperty(i)&&e.test(i)&&(t[i]=r[i])}else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},o.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},o.addListener=function(e,t){var i,s=this.getListenersAsObject(e),o="object"==typeof t;for(i in s)s.hasOwnProperty(i)&&-1===r(s[i],t)&&s[i].push(o?t:{listener:t,once:!1});return this},o.on=s("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=s("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var i,s,o=this.getListenersAsObject(e);for(s in o)o.hasOwnProperty(s)&&(i=r(o[s],t),-1!==i&&o[s].splice(i,1));return this},o.off=s("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,i){var r,s,o=e?this.removeListener:this.addListener,n=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=i.length;r--;)o.call(this,t,i[r]);else for(r in t)t.hasOwnProperty(r)&&(s=t[r])&&("function"==typeof s?o.call(this,r,s):n.call(this,r,s));return this},o.removeEvent=function(e){var t,i=typeof e,r=this._getEvents();if("string"===i)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=s("removeEvent"),o.emitEvent=function(e,t){var i,r,s,o,n=this.getListenersAsObject(e);for(s in n)if(n.hasOwnProperty(s))for(r=n[s].length;r--;)i=n[s][r],i.once===!0&&this.removeListener(e,i.listener),o=i.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},o.trigger=s("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=a,t},"function"==typeof i&&i.amd?i(function(){return t}):"object"==typeof e&&e.exports?e.exports=t:n.EventEmitter=t}).call(this)}).call(window)},function(e,t){e.exports='\n<div\n    class="ui-slider" :id="id"\n    :class="{\n        min: value === 0, max: value === 100, dragging: dragging, disabled: disabled,\n        active: active, \'has-label\': hasLabel\n    }"\n\n    :tabindex="disabled ? null : 0" role="slider" :aria-valuemin="0" :aria-valuemax="100"\n    :aria-valuenow="value"\n\n    @keydown.left.prevent="decrement" @keydown.right.prevent="increment"\n    @keydown.down.prevent="decrement" @keydown.up.prevent="increment"\n    @focus="focus" @blur="blur"\n>\n    <input type="hidden" :value="value" :name="name">\n\n    <div class="ui-slider-icon-wrapper" v-if="showIcon">\n        <ui-icon :icon="icon" class="ui-slider-icon"></ui-icon>\n    </div>\n\n    <div class="ui-slider-content">\n        <div class="ui-slider-label" v-text="label" v-if="!hideLabel"></div>\n\n        <div class="ui-slider-wrapper" v-el:slider @mousedown="sliderClick">\n            <div class="ui-slider-containment" v-el:containment></div>\n\n            <div class="ui-slider-track">\n                <div class="ui-slider-track-fill" :style="{ width: value + \'%\'}"></div>\n            </div>\n\n            <div class="ui-slider-thumb-container" v-el:thumb>\n                <div class="ui-slider-focus-ring"></div>\n                <div class="ui-slider-thumb"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(165),r=i(166),r&&r.__esModule&&Object.keys(r).length>1,s=i(167),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(89),o=r(s);t["default"]={name:"ui-snackbar",props:{id:String,show:{type:Boolean,"default":!1,twoWay:!0},message:String,action:String,actionColor:{type:String,"default":"accent"},persistent:{type:Boolean,"default":!1},duration:{type:Number,"default":5e3},autoHide:{type:Boolean,"default":!0}},data:function(){return{height:0,timeout:null}},beforeDestroy:function(){this.timeout&&clearTimeout(this.timeout)},methods:{click:function(){this.$dispatch("clicked"),this.hide()},actionClick:function(){this.$dispatch("action-clicked"),this.hide()},hide:function(){this.persistent||(this.show=!1)}},components:{UiButton:o["default"]},transitions:{"ui-snackbar-toggle":{afterEnter:function(){this.$dispatch("shown"),this.autoHide&&(this.timeout=setTimeout(this.hide,this.duration))},afterLeave:function(){this.$dispatch("hidden"),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}}}}},function(e,t){e.exports='\n<div\n    class="ui-snackbar" :id="id" transition="ui-snackbar-toggle" @click="click" v-show="show"\n>\n    <div class="ui-snackbar-text">\n        <slot>\n            <span v-text="message"></span>\n        </slot>\n    </div>\n\n    <div class="ui-snackbar-action">\n        <ui-button\n            class="ui-snackbar-action-button" type="flat" :color="actionColor"\n            :text="action" @click.stop="actionClick" v-if="action"\n        ></ui-button>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(169),r=i(170),r&&r.__esModule&&Object.keys(r).length>1,s=i(171),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(72),o=r(s),n=i(164),a=r(n);t["default"]={name:"ui-snackbar-container",props:{queueSnackbars:{type:Boolean,"default":!1},defaultDuration:{type:Number,"default":5e3},position:{type:String,"default":"left",coerce:function(e){return"position-"+e}}},events:{"ui-snackbar::create":function(e){e.show=!1,e.id=e.id||o["default"]["short"]("ui-snackbar-"),e.duration=e.duration||this.defaultDuration,this.queue.push(e),1===this.queue.length?this.showNext():this.queueSnackbars||(this.queue[0].show=!1)}},data:function(){return{queue:[]}},methods:{showNext:function(){this.queue.length&&(this.queue[0].show=!0)},shown:function(e){this.$dispatch("snackbar-shown",e),this.callHook("onShow",e)},hidden:function(e){this.$dispatch("snackbar-hidden",e),this.callHook("onHide",e),this.queue.$remove(e),this.showNext()},clicked:function(e){this.callHook("onClick",e)},actionClicked:function(e){this.callHook("onActionClick",e)},callHook:function(e,t){"function"==typeof t[e]&&t[e].call(void 0,t)}},components:{UiSnackbar:a["default"]}}},function(e,t){e.exports='\n<div class="ui-snackbar-container" :class="[position]">\n    <ui-snackbar\n        :message="s.message" :duration="s.duration" :show.sync="s.show" :action="s.action"\n        :action-color="s.actionColor" :persistent="s.persistent" :id="s.id" auto-hide\n\n        @shown="shown(s)" @hidden="hidden(s)" @clicked="clicked(s)"\n        @action-clicked="actionClicked(s)"\n\n        v-for="s in queue"\n    ></ui-snackbar>\n</div>\n'},function(e,t,i){var r,s;i(173),r=i(174),r&&r.__esModule&&Object.keys(r).length>1,s=i(175),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(55),o=r(s),n=i(75),a=r(n);t["default"]={name:"ui-switch",props:{name:String,value:{type:Boolean,required:!0,twoWay:!0},label:String,hideLabel:{type:Boolean,"default":!1},labelLeft:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},data:function(){return{initialValue:!1}},created:function(){this.initialValue=this.value},events:{"ui-input::reset":function(e){this.eventTargetsComponent(e)&&(this.value=this.initialValue)}},directives:{disabled:o["default"]},mixins:[a["default"]]}},function(e,t){e.exports='\n<label\n    class="ui-switch"\n    :class="{ \'checked\': value, \'disabled\': disabled, \'label-left\': labelLeft }"\n>\n    <div class="ui-switch-container">\n        <input\n            class="ui-switch-input" type="checkbox" :name="name" :id="id" v-model="value"\n            v-disabled="disabled"\n        >\n\n        <div class="ui-switch-track"></div>\n        <div class="ui-switch-thumb"></div>\n\n        <div class="ui-switch-focus-ring"></div>\n    </div>\n\n    <div class="ui-switch-label-text" v-if="!hideLabel">\n        <slot>\n            <span v-text="label"></span>\n        </slot>\n    </div>\n</label>\n'},function(e,t,i){var r,s;i(177),r=i(178),r&&r.__esModule&&Object.keys(r).length>1,s=i(179),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ui-tab",props:{id:String,header:String,icon:String,disabled:{type:Boolean,"default":!1}},computed:{active:function(){return this.$parent.activeTab===this.id}},watch:{active:function(){this.active?this.$dispatch("selected",this.id):this.$dispatch("deselected",this.id)}}}},function(e,t){e.exports='\n<div\n    class="ui-tab" :id="id" role="tabpanel" :tabindex="active ? \'0\' : null"\n    :aria-hidden="!active ? \'true\' : null" v-show="active"\n>\n    <slot></slot>\n</div>\n'},function(e,t,i){var r,s;i(181),r=i(182),r&&r.__esModule&&Object.keys(r).length>1,s=i(187),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(72),o=r(s),n=i(183),a=r(n),l=i(55),d=r(l);t["default"]={name:"ui-tabs",props:{type:{type:String,"default":"text"},activeTab:String,backgroundColor:{type:String,"default":"default",coerce:function(e){return"background-color-"+e}},textColor:{type:String,"default":"black",coerce:function(e){return"text-color-"+e}},textColorActive:{type:String,"default":"primary",coerce:function(e){return"text-color-active-"+e}},indicatorColor:{type:String,"default":"primary",coerce:function(e){return"color-"+e}},fullwidth:{type:Boolean,"default":!1},raised:{type:Boolean,"default":!1},hideRippleInk:{type:Boolean,"default":!1}},data:function(){return{activeTabElement:null}},computed:{styleClasses:function(){var e=["ui-tabs-type-"+this.type];return this.raised&&e.push("raised"),this.fullwidth&&e.push("fullwidth"),e},indicatorLeft:function(){return this.activeTabElement?this.activeTabElement.offsetLeft+"px":0},indicatorRight:function(){if(this.activeTabElement){var e=this.activeTabElement.offsetLeft,t=this.activeTabElement.offsetWidth,i=this.$els.tabsContainer.offsetWidth;return i-(e+t)+"px"}}},ready:function(){for(var e=this,t=0;t<this.$children.length;t++)this.$children[t].id=this.$children[t].id||o["default"]["short"]("ui-tab-");this.activeTab=this.activeTab||this.$children[0].id,this.$nextTick(function(){e.$els.tabsContainer&&(e.activeTabElement=e.$els.tabsContainer.querySelector(".active"))})},methods:{select:function(e,t){var i=e.currentTarget?e.currentTarget:e;t.disabled||this.activeTabElement===i||(this.activeTabElement=i,this.activeTab=t.id,this.$dispatch("active-tab-changed",t.id))},selectPrev:function(e){if(0!==e){var t=this.findTab(e);this.select(t.$el,t),this.activeTabElement.focus()}},selectNext:function(e){if(e!==this.$refs.tabElements.length-1){var t=this.findTab(e,!0);this.select(t.$el,t),this.activeTabElement.focus()}},findTab:function(e,t){var i=void 0;if(t){for(var r=e+1;r<this.$refs.tabElements.length;r++)if(!this.$refs.tabElements[r].disabled){i=this.$refs.tabElements[r];break}}else for(var s=e-1;s>=0;s--)if(!this.$refs.tabElements[s].disabled){i=this.$refs.tabElements[s];break}return i=i||this.$refs.tabElements[e]}},components:{UiTabHeaderItem:a["default"]},directives:{disabled:d["default"]}}},function(e,t,i){var r,s;i(184),r=i(185),r&&r.__esModule&&Object.keys(r).length>1,s=i(186),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(55),a=r(n),l=i(19),d=r(l);t["default"]={name:"ui-tab-header-item",props:{id:String,type:{type:String,"default":"text"},text:String,icon:String,active:{type:Boolean,"default":!1},disabled:{type:Boolean,"default":!1}},components:{UiIcon:o["default"]},mixins:[d["default"]],directives:{disabled:a["default"]}}},function(e,t){e.exports='\n<li\n    class="ui-tab-header-item" role="tab"\n    :class="[\'type-\' + type, { \'active\': active, \'disabled\': disabled }]"\n\n    :tabindex="active ? 0 : -1" :aria-controls="id" :aria-selected="active ? \'true\' : null"\n    v-disabled="disabled" v-el:item\n>\n    <div\n        class="ui-tab-header-item-icon" v-if="type === \'icon\' || type === \'icon-and-text\'"\n    >\n        <ui-icon :icon="icon"></ui-icon>\n    </div>\n\n    <div\n        class="ui-tab-header-item-text" v-text="text"\n        v-if="type === \'text\' || type === \'icon-and-text\'"\n    ></div>\n\n    <ui-ripple-ink :trigger="$els.item" v-if="!hideRippleInk && !disabled"></ui-ripple-ink>\n</li>\n'},function(e,t){e.exports='\n<div class="ui-tabs" :class="styleClasses">\n    <div class="ui-tabs-header" :class="[backgroundColor]">\n        <ul\n            class="ui-tabs-header-items" :class="[textColor, textColorActive]" role="tablist"\n            v-el:tabs-container\n        >\n            <ui-tab-header-item\n                :type="type" :id="tab.id" :icon="tab.icon" :text="tab.header"\n                :active="activeTab === tab.id" :disabled="tab.disabled"\n                :hide-ripple-ink="hideRippleInk"\n\n                @click="select($event, tab)" @keydown.left="selectPrev(index)"\n                @keydown.right="selectNext($index)"\n\n                v-for="(index, tab) in $children" v-ref:tab-elements\n            ></ui-tab-header-item>\n        </ul>\n\n        <div\n            class="ui-tabs-active-tab-indicator" :class="[indicatorColor]"\n            :style="{ \'left\': indicatorLeft, \'right\': indicatorRight }"\n        ></div>\n    </div>\n\n    <div class="ui-tabs-body">\n        <slot></slot>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(189),r=i(190),r&&r.__esModule&&Object.keys(r).length>1,s=i(191),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),o=r(s),n=i(74),a=r(n),l=i(76),d=r(l);t["default"]={name:"ui-textbox",props:{type:{type:String,"default":"text"},multiLine:{type:Boolean,"default":!1},rows:{type:Number,"default":2},maxLength:Number,trimValue:{type:Boolean,"default":!0},validateOnBlur:{type:Boolean,"default":!1},autocomplete:{type:Boolean,"default":!0},min:Number,max:Number,step:{type:String,"default":"any",coerce:String}},watch:{value:function(){this.ignoreValueChange||(this.dirty||(this.dirty=!0),this.validateOnBlur||this.validate())}},data:function(){return{ignoreValueChange:!1}},computed:{showIcon:function(){return Boolean(this.icon)},minValue:function(){return"number"!==this.type?null:this.min||0===this.min?this.min:null},maxValue:function(){return"number"!==this.type?null:this.max||0===this.max?this.max:null},stepValue:function(){return"number"===this.type?this.step:null}},events:{"ui-input::reset":function(e){var t=this;this.eventTargetsComponent(e)&&(this.ignoreValueChange=!0,document.activeElement!==this.$el.querySelector("input")&&document.activeElement!==this.$el.querySelector("textarea")||document.activeElement.blur(),this.validationError="",this.value=this.initialValue,this.valid=!0,this.dirty=!1,this.$nextTick(function(){t.ignoreValueChange=!1}))}},methods:{focussed:function(){this.active=!0,this.$dispatch("focussed")},blurred:function(){this.active=!1,this.dirty||(this.dirty=!0),this.$dispatch("blurred"),this.validate()},changed:function(){this.$dispatch("changed")},keydown:function(e){this.$dispatch("keydown",e)},keydownEnter:function(e){this.$dispatch("keydown-enter",e)}},filters:{trim:{write:function(e){return"number"!==this.type&&this.trimValue?e.trim():e}}},components:{UiIcon:o["default"]},mixins:[a["default"],d["default"]]}},function(e,t){e.exports='\n<div\n    class="ui-textbox"\n    :class="{\n        \'disabled\': disabled, \'invalid\': !valid, \'dirty\': dirty, \'active\': active,\n        \'has-label\': !hideLabel, \'is-multi-line\': multiLine, \'icon-right\': iconRight,\n        \'has-counter\': maxLength\n    }"\n>\n    <div class="ui-textbox-icon-wrapper" v-if="showIcon">\n        <ui-icon :icon="icon" class="ui-textbox-icon"></ui-icon>\n    </div>\n\n    <div class="ui-textbox-content">\n        <label class="ui-textbox-label">\n            <div class="ui-textbox-label-text" v-text="label" v-if="!hideLabel"></div>\n\n            <input\n                class="ui-textbox-input" :type="type" :placeholder="placeholder" :name="name"\n                :id="id" :number="type === \'number\' ? true : null" :min="minValue"\n                :max="maxValue" :step="stepValue" :autocomplete="autocomplete ? null : \'off\'"\n\n                @focus="focussed" @blur="blurred" @change="changed" @keydown="keydown"\n                @keydown.enter="keydownEnter" debounce="debounce"\n\n                v-model="value | trim" v-disabled="disabled" v-if="!multiLine"\n            >\n\n            <textarea\n                class="ui-textbox-textarea" :placeholder="placeholder" :name="name" :id="id"\n                :rows="rows"\n\n                @focus="focussed" @blur="blurred" @change="changed" @keydown="keydown"\n                @keydown.enter="keydownEnter" debounce="debounce"\n\n                v-model="value | trim" v-disabled="disabled" v-else\n            ></textarea>\n        </label>\n\n        <div class="ui-textbox-feedback" v-if="showFeedback || maxLength">\n            <div\n                class="ui-textbox-error-text" transition="ui-textbox-feedback-toggle"\n                v-text="validationError" v-show="!hideValidationErrors && !valid"\n            ></div>\n\n            <div\n                class="ui-textbox-help-text" transition="ui-textbox-feedback-toggle"\n                v-text="helpText" v-else\n            ></div>\n\n            <div\n                class="ui-textbox-counter" v-text="value.length + \'/\' + maxLength"\n                v-if="maxLength"\n            ></div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){var r,s;i(193),r=i(194),r&&r.__esModule&&Object.keys(r).length>1,s=i(195),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t){},function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(117),o=r(s),n=i(10),a=r(n);t["default"]={name:"ui-toolbar",props:{type:{type:String,"default":"default",coerce:function(e){return"ui-toolbar-"+e}},textColor:{type:String,"default":"black",coerce:function(e){return"text-color-"+e}},title:String,brand:String,showBrand:{type:Boolean,"default":!1},showBrandDivider:{type:Boolean,"default":null},navIcon:{type:String,"default":"menu"},hideNavIcon:{type:Boolean,"default":!1},flat:{type:Boolean,"default":!1},preloaderTop:{type:Boolean,"default":!1},loading:{type:Boolean,"default":!1}},computed:{styleClasses:function(){var e=[this.type,this.textColor];return this.flat||e.push("ui-toolbar-raised"),e},iconColor:function(){return"text-color-black"===this.textColor?"black":"white"},preloaderColor:function(){return"text-color-black"===this.textColor?"primary":"white"},brandDividerVisible:function(){return null!==this.showBrandDivider?this.showBrandDivider:!!this.showBrand}},methods:{navIconClick:function(){this.$dispatch("nav-icon-clicked")}},components:{UiProgressLinear:o["default"],UiIconButton:a["default"]}}},function(e,t){e.exports='\n<div class="ui-toolbar" :class="styleClasses">\n    <div class="ui-toolbar-left">\n        <ui-icon-button\n            class="ui-toolbar-nav-icon" type="clear" :color="iconColor" :icon="navIcon"\n            @click="navIconClick" v-if="!hideNavIcon"\n        ></ui-icon-button>\n\n        <div class="ui-toolbar-brand" v-if="showBrand">\n            <slot name="brand">\n                <div class="ui-toolbar-brand-text" v-text="brand"></div>\n            </slot>\n        </div>\n    </div>\n\n    <div class="ui-toolbar-center">\n        <div class="ui-toolbar-divider" v-if="brandDividerVisible"></div>\n\n        <slot>\n            <div class="ui-toolbar-title" v-text="title"></div>\n        </slot>\n    </div>\n\n    <div class="ui-toolbar-right">\n        <slot name="actions"></slot>\n    </div>\n\n    <ui-progress-linear\n        :show="loading" class="ui-toolbar-preloader" :class="{ \'position-top\' : preloaderTop }"\n        :color="preloaderColor"\n    ></ui-progress-linear>\n</div>\n'}])});var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var r=typeof i==Array||i.length>0?i[0]:i,s=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[r]&&null!=t.base;){if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s);if("string"==typeof r){var o=r.toLowerCase();if(void 0!=t[o]&&e.isFunction(t[o]))return t[o].apply(t,s)}t=t.base}if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s);if("string"==typeof r){var o=r.toLowerCase();if(void 0!=t[o]&&e.isFunction(t[o]))return t[o].apply(t,s)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var r=e;r;){if(r.hasOwnProperty(i))return!0;if(r.hasOwnProperty(i.toLowerCase()))return!0;r=r.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var r=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[r]&&null!=t.base;){if(t[r]&&e.isFunction(t[r]))return!0;if("string"==typeof r){var s=r.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}t=t.base}if(t[r]&&e.isFunction(t[r]))return!0;if("string"==typeof r){var s=r.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,r){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var s in i[0]){for(var o=t;!o.hasOwnProperty(s)&&o.base;)o=o.base;if(!o||!o.hasOwnProperty(s)){if(!r){var n=o.hasOwnProperty(s.toString().toLowerCase());if(n)return!0;throw"Invalid property: "+s}return!1}}return!0}if(2!=i.length){if(!r)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!r)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=i.length;return function(s){if("object"!=typeof s&&("function"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var o,n,a=[];for(o in s)e.call(s,o)&&a.push(o);if(t)for(n=0;r>n;n++)e.call(s,i[n])&&a.push(i[n]);return a}}()),e.jqx.set=function(t,i){var r=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var s=t.base?t.base.element:t.element,o=e.data(s,t.widgetName).initArgs;if(o&&JSON&&JSON.stringify&&i[0]&&o[0])try{if(JSON.stringify(i[0])==JSON.stringify(o[0])){var n=!0;if(e.each(i[0],function(e,i){return t[e]!=i?(n=!1,!1):void 0}),n)return}}catch(a){}t.batchUpdate=i[0];var l={},d={};e.each(i[0],function(e,i){for(var s=t;!s.hasOwnProperty(e)&&null!=s.base;)s=s.base;s.hasOwnProperty(e)?t[e]!=i&&(l[e]=t[e],d[e]=i,r++):s.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(l[e.toLowerCase()]=t[e.toLowerCase()],d[e.toLowerCase()]=i,r++)}),2>r&&(t.batchUpdate=null)}e.each(i[0],function(i,r){for(var s=t;!s.hasOwnProperty(i)&&null!=s.base;)s=s.base;if(s.hasOwnProperty(i))e.jqx.setvalueraiseevent(s,i,r);else if(s.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(s,i.toLowerCase(),r);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&r>1&&t.propertiesChangedHandler(t,l,d))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var r=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,r,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,r,i));
},e.jqx.get=function(e,t){if(void 0!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var r=void 0;if(typeof t==Array){if(1!=t.length)return;r=t[0]}else"string"==typeof t&&(r=t);for(;!e.hasOwnProperty(r)&&e.base;)e=e.base;return e?e[r]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var r=0;r<t.length;r++)r>0&&(i+=", "),i+=e.jqx.serialize(t[r]);i+="]"}else if("object"==typeof t){i="{";var s=0;for(var r in t)s++>0&&(i+=", "),i+=r+": "+e.jqx.serialize(t[r]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,r){var s=(e(i),e.data(i,t));if(void 0!=s){var o=s.instance;if(e.jqx.hasFunction(o,r))return e.jqx.invoke(o,r);if(e.jqx.isPropertySetter(o,r)){if(e.jqx.validatePropertySetter(o,r))return void e.jqx.set(o,r)}else{if("object"==typeof r&&0==r.length)return;if("object"==typeof r&&1==r.length&&e.jqx.hasProperty(o,r[0]))return e.jqx.get(o,r[0]);if("string"==typeof r&&e.jqx.hasProperty(o,r[0]))return e.jqx.get(o,r)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(r)+"' does not exist."}},e.jqx.applyWidget=function(t,i,r,s){var o=!1;try{o=void 0!=window.MSApp}catch(n){}var a=e(t);s?(s.host=a,s.element=t):s=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:a,element:t,instance:s,initArgs:r};s.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var d=new Array,s=l.instance;s;)s.isInitialized=!1,d.push(s),s=s.base;d.reverse(),d[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,r);for(var h in d)s=d[h],0==h&&(s.host=a,s.element=t,s.WinJS=o),void 0!=s&&(s.definedInstance&&s.definedInstance(),null!=s.createInstance&&(o?MSApp.execUnsafeLocalFunction(function(){s.createInstance(r)}):s.createInstance(r)));for(var h in d)void 0!=d[h]&&(d[h].isInitialized=!0);o?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,r){var s=!1;try{jqxArgs=Array.prototype.slice.call(r,0)}catch(o){jqxArgs=""}try{s=void 0!=window.MSApp}catch(o){}var n=t,a="";i&&(a="_"+i),e.jqx.define(e.jqx,"_"+n,a);var l=new Array;if(!window[n]){var d=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var r="";return e.each(t,function(t){var i=this;t>0&&(r+=", "),r+="[";var s=0;if("object"==e.type(i))for(var o in i)s>0&&(r+=", "),r+="{"+o+":"+i[o]+"}",s++;else s>0&&(r+=", "),r+="{"+t+":"+i+"}",s++;r+="]"}),r};window[n]=function(t,i){var r=[];i||(i={}),r.push(i);var s=t;if("object"===e.type(s)&&t[0]&&(s=t[0].id,""===s&&(s=t[0].id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[s]){if(i&&e.each(window.jqxWidgets[s],function(t){var r=e(this.element).data();r&&r.jqxWidget&&e(this.element)[n](i)}),1==window.jqxWidgets[s].length){var o=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(o&&o.jqxWidget)return window.jqxWidgets[s][0]}var o=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(o&&o.jqxWidget)return window.jqxWidgets[s]}var a=e(t);if(0===a.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var h=[];return e.each(a,function(t){var i=a[t],o=null;if(!l[n]){var c=i.id;i.id="",o=e(i).clone(),i.id=c}if(e.jqx.applyWidget(i,n,r,void 0),!l[n]){var u=e.data(i,"jqxWidget"),p=o[n]().data().jqxWidget.defineInstance(),f=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var r=e.extend(this,i);return r.on=function(e,t){r.addHandler(r.host,e,t)},r.off=function(e){r.removeHandler(r.host,e)},r};l[n]=f,e.each(p,function(e,t){Object.defineProperty(f.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&d(this.widgetInstance[e])!=d(t)){var i={};i[e]=t,this.widgetInstance.host[n](i),this.widgetInstance[e]=t}}})})}var u=new l[n](i);h.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[s]||(window.jqxWidgets[s]=new Array),window.jqxWidgets[s].push(u)}),1===h.length?h[0]:h}}e.fn[n]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),r=e.data(i,n);null==r?e.jqx.applyWidget(i,n,t,void 0):e.jqx.jqxWidgetProxy(n,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,r=0;return this.each(function(){var s=e.jqx.jqxWidgetProxy(n,this,t);if(0==r)i=s,r++;else{if(1==r){var o=[];o.push(i),i=o}i.push(s)}}),i};try{e.extend(e.jqx["_"+n].prototype,Array.prototype.slice.call(r,0)[0])}catch(o){}e.extend(e.jqx["_"+n].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+n].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+n].prototype.createInstance=function(){},e.jqx["_"+n].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var r=[];r.push(i),i=r}e.jqx.applyWidget(t,n,i,this)},e.jqx["_"+n].prototype.getInstance=function(){return this},e.jqx["_"+n].prototype.propertyChangeMap={},e.jqx["_"+n].prototype.addHandler=function(t,i,r,s){e.jqx.addHandler(t,i,r,s)},e.jqx["_"+n].prototype.removeHandler=function(t,i,r){e.jqx.removeHandler(t,i,r)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var r=t.split(" "),s="",o=0;o<r.length;o++){o>0&&(s+=" ");var n=r[o];s+=null!=i&&i?n+"-"+e.theme:n+" "+n+"-"+e.theme}return s},e.jqx.addHandler=function(t,i,r,s){for(var o=i.split(" "),n=0;n<o.length;n++){var a=o[n];if(window.addEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",r,!1):t[0].addEventListener("mousewheel",r,!1);continue;case"mousemove":if(!s){t[0].addEventListener("mousemove",r,!1);continue}}void 0==s||null==s?t.on?t.on(a,r):t.bind(a,r):t.on?t.on(a,s,r):t.bind(a,s,r)}},e.jqx.removeHandler=function(t,i,r){if(!i)return void(t.off?t.off():t.unbind());for(var s=i.split(" "),o=0;o<s.length;o++){var n=s[o];if(window.removeEventListener)switch(n){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",r,!1):t[0].removeEventListener("mousewheel",r,!1);continue;case"mousemove":if(r){t[0].removeEventListener("mousemove",r,!1);continue}}void 0!=n?void 0==r?t.off?t.off(n):t.unbind(n):t.off?t.off(n,r):t.unbind(n,r):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,r){if("undefined"!=typeof r){for(var s=r[0].className.split(" "),o=[],n=[],a=r.children(),l=0;l<s.length;l+=1)s[l].indexOf(t)>=0&&(t.length>0?(o.push(s[l]),n.push(s[l].replace(t,i))):n.push(s[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(o,r),this._addNewClasses(n,r);for(var l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),r=e.jqx.mobile.getTopPos(t[0]);return{top:r,left:i}},resize:function(t,i,r,s){void 0===s&&(s=!0);var o=-1,n=this,a=function(e){if(!n.hiddenWidgets)return-1;for(var t=-1,i=0;i<n.hiddenWidgets.length;i++)if(e.id){if(n.hiddenWidgets[i].id==e.id){t=i;break}}else if(n.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){o=l;break}}else if(this.resizeHandlers[l].id==t[0].id){o=l;break}if(r===!0){if(-1!=o&&this.resizeHandlers.splice(o,1),0==this.resizeHandlers.length){var d=e(window);d.off?(d.off("resize.jqx"),d.off("orientationchange.jqx"),d.off("orientationchanged.jqx")):(d.unbind("resize.jqx"),d.unbind("orientationchange.jqx"),d.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var h=a(t);return void(-1!=h&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}}else if(r===!0){var h=a(t);return void(-1!=h&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}var n=this,c=function(t,i){if(n.resizeHandlers){var r=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},s=function(e,t){if(!e.widget||!t.widget)return 0;var i=r(e.widget[0]),s=r(t.widget[0]);try{if(s>i)return-1;if(i>s)return 1}catch(o){}return 0},o=function(t){if(n.hiddenWidgets.length>0){n.hiddenWidgets.sort(s);var r=function(){for(var t=!1,r=new Array,s=0;s<n.hiddenWidgets.length;s++){var o=n.hiddenWidgets[s];e.jqx.isHidden(o.widget)?(t=!0,r.push(o)):o.callback&&o.callback(i)}n.hiddenWidgets=r,t||clearInterval(n.__resizeInterval)};if(0==t)return r(),void(n.__resizeInterval&&clearInterval(n.__resizeInterval));n.__resizeInterval&&clearInterval(n.__resizeInterval),n.__resizeInterval=setInterval(function(){r()},100)}};n.hiddenWidgets&&n.hiddenWidgets.length>0&&o(!1),n.hiddenWidgets=new Array,n.resizeHandlers.sort(s);for(var l=0;l<n.resizeHandlers.length;l++){var d=n.resizeHandlers[l],h=d.widget,c=d.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var f=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(h))-1===a(h)&&(f||t===!0)&&d.data.nestedWidget!==!0&&n.hiddenWidgets.push(d);else if((void 0===t||t!==!0)&&(f&&(d.callback(i),n.hiddenWidgets.indexOf(d)>=0&&n.hiddenWidgets.splice(n.hiddenWidgets.indexOf(d),1)),c.jqxWidget.element)){var m=c.jqxWidget.element.className;if((m.indexOf("dropdownlist")>=0||m.indexOf("datetimeinput")>=0||m.indexOf("combobox")>=0||m.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var g=c.jqxWidget.isOpened();if(g){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}o()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var d=e(window);d.on?(this._resizeTimer=null,this._initResize=null,d.on("resize.jqx",function(t){void 0!=n._resizeTimer&&clearTimeout(n._resizeTimer),n._initResize?n._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(n._initResize=!0,c(null,"resize"))}),d.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),d.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(d.bind("resize.jqx",function(e){c(null,"orientationchange")}),d.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),d.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")}))}var u=t.data();s&&-1===o&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var p=u.jqxWidget.width,f=u.jqxWidget.height;u.jqxWidget.base&&(void 0==p&&(p=u.jqxWidget.base.width),void 0==f&&(f=u.jqxWidget.base.height)),void 0===p&&void 0===f&&(p=u.jqxWidget.element.style.width,f=u.jqxWidget.element.style.height);var m=!1;if(null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),null!=f&&-1!=f.toString().indexOf("%")&&(m=!0),m){this.watchedElementData||(this.watchedElementData=[]);var n=this,g=function(t){n.watchedElementData.forEach&&n.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))||t.callback()}))})};n.watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),n.observer||(n.observer=new MutationObserver(g),n.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(v){}e.jqx.isHidden(t)&&s===!0&&c(!0),e.jqx.resize=function(){c(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var r=t[0]||{},s=0,o=t.length;if(void 0===i)return 1===r.nodeType?r.innerHTML.replace(rinlinejQuery,""):void 0;var n=/<(?:script|style|link)/i,a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/<([\w:]+)/,h=new RegExp("<(?:"+a+")[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof i&&!n.test(i)&&(e.support.htmlSerialize||!h.test(i))&&(e.support.leadingWhitespace||!c.test(i))&&!u[(d.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(l,"<$1></$2>");try{for(;o>s;s++)r=this[s]||{},1===r.nodeType&&(e.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(p){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(r){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var r=e.jqx.utilities.getBrowser();"msie"==r.browser?(i=t.css("-ms-transform"),""!=i&&"none"!=i||(i=t.parents().css("-ms-transform"))):"chrome"==r.browser?(i=t.css("-webkit-transform"),""!=i&&"none"!=i||(i=t.parents().css("-webkit-transform"))):"opera"==r.browser?(i=t.css("-o-transform"),""!=i&&"none"!=i||(i=t.parents().css("-o-transform"))):"mozilla"==r.browser&&(i=t.css("-moz-transform"),""!=i&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,r){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,r){var s=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==s||e.isFunction(s)){var s=t[r.name];e.isFunction(s)&&(s=t[r.name]()),void 0==s&&(s="");try{t.base?t.base.host.attr(i,s.toString()):t.host.attr(i,s.toString())}catch(o){}}else{var n=s;switch(r.type){case"number":n=new Number(s),isNaN(n)&&(n=s);break;case"boolean":n="true"==s;break;case"date":n=new Date(s),("Invalid Date"==n||isNaN(n))&&(n=s)}t[r.name]=n}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,r.toString()):t.attr(i,r.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,r.toString()):t.host.attr(i,r.toString()):t.attr(i,r.toString()):t.setAttribute&&t.setAttribute(i,r.toString())}catch(s){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),r=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var s=e.jqx.mobile.getTouches(t),o=s[0];i=parseInt(o.pageX),r=parseInt(o.pageY)}return{left:i,top:r}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},r={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=i(r[e.type],e);e.target.dispatchEvent(s);var o=e.target["on"+r[e.type]];"function"==typeof o&&o(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var r={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=this;if(window.addEventListener){var o=function(){for(var e in r)t.addEventListener&&(t.removeEventListener(e,s._touchListener),t.addEventListener(e,s._touchListener,!1))};e.jqx.browser.msie,o()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0){var s="MSPointerDown"in window||"pointerdown"in window;return s?(this.touchDevice=!0,!0):r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(o){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,r=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var s=navigator.userAgent.toLowerCase(),o=(-1!=s.indexOf("windows phone")||-1!=s.indexOf("WPDesktop")||-1!=s.indexOf("ZuneWP7")||-1!=s.indexOf("msie 9")||-1!=s.indexOf("msie 11")||-1!=s.indexOf("msie 10"))&&-1!=s.indexOf("touch");return o?r.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=s.indexOf("version/7")?r.top:(-1==s.indexOf("version/6")&&-1==s.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():r.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();if(/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent))return!0;if(/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent))return!0;var t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var r=document.createEvent("MouseEvent");r.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(r)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,r,s,o,n){function a(e){if(e.targetTouches&&e.targetTouches.length>=1)return e.targetTouches[0].clientY;if(e.originalEvent&&void 0!==e.originalEvent.clientY)return e.originalEvent.clientY;var t=c.getTouches(e);return t[0].clientY}function l(e){if(e.targetTouches&&e.targetTouches.length>=1)return e.targetTouches[0].clientX;if(e.originalEvent&&void 0!==e.originalEvent.clientX)return e.originalEvent.clientX;var t=c.getTouches(e);return t[0].clientX}function d(){var e,t;B&&(e=Date.now()-P,t=-B*Math.exp(-e/E),t>.5||-.5>t?(R(M+t,event),requestAnimationFrame(d)):(R(M),n.fadeOut("fast")))}function h(){var e,t;B&&(e=Date.now()-P,t=-B*Math.exp(-e/E),t>.5||-.5>t?(W(H+t),requestAnimationFrame(h)):(W(H),o.fadeOut("fast")))}if(null!=t){var c=this,u=0,p=0,f=0,m=0,g=0,v=0;this.scrolling||(this.scrolling=[]),this.scrolling[s]=!1;var x=!1,w=e(t),b=["select","input","textarea"],y=0,_=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[s]=!0;var j,q,T,C,k,S,D,I,P,A,B,M,H,z,E,s=s,O=this.getTouchEventName("touchstart")+".touchScroll",L=this.getTouchEventName("touchend")+".touchScroll",N=this.getTouchEventName("touchmove")+".touchScroll";T=i,q=0,C=0,xoffset=0,j=o.jqxScrollBar("max"),E=325;var F=function(){var e,t,i,r;e=Date.now(),t=e-P,P=e,i=C-I,xdelta=xoffset-xframe,I=C,xframe=xoffset,S=!0,r=1e3*i/(1+t),xv=1e3*xdelta/(1+t),D=.8*r+.2*D,xvelocity=.8*xv+.2*xvelocity},y=function(t){function i(e){S=!0,k=a(e),z=l(e),D=B=xvelocity=0,I=C,xframe=xoffset,P=Date.now(),clearInterval(A),A=setInterval(F,100),e.preventDefault()}if(!c.enableScrolling[s])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),b)){C=n.jqxScrollBar("value"),xoffset=o.jqxScrollBar("value");var r=c.getTouches(t),d=r[0];return 1==r.length&&c.dispatchMouseEvent("mousedown",d,c.getRootNode(d.target)),i(t),x=!1,p=d.pageY,g=d.pageX,c.simulatetouches&&void 0!=d._pageY&&(p=d._pageY,g=d._pageX),c.scrolling[s]=!0,j=o.jqxScrollBar("max"),T=n.jqxScrollBar("max"),u=0,m=0,!0}};w.on?w.on(O,y):w.bind(O,y);var R=function(e,t){C=e>T?T:q>e?q:e,r(null,e,0,0,t)},W=function(e,t){xoffset=e>j?j:q>e?q:e,r(e,null,0,0,t)},V=function(e){function t(e){var t,i,r;if(S){if(t=a(e),r=l(e),i=k-t,xdelta=z-r,i>2||-2>i)return k=t,R(C+i,e),F(),e.preventDefault(),e.stopPropagation(),!1;if(xdelta>2||xdelta<-2)return z=r,W(xoffset+xdelta,e),F(),e.preventDefault(),e.stopPropagation(),!1;e.preventDefault()}}if(!c.enableScrolling[s])return!0;if(!c.scrolling[s])return!0;var i=c.getTouches(e);if(i.length>1)return!0;var r=i[0].pageY,d=i[0].pageX;c.simulatetouches&&void 0!=i[0]._pageY&&(r=i[0]._pageY,d=i[0]._pageX);var h=r-p,w=d-g;_=r,touchHorizontalEnd=d,f=h-u,v=w-m,x=!0,u=h,m=w;var b=null!=o?"hidden"!=o[0].style.visibility:!0,y=null!=n?"hidden"!=n[0].style.visibility:!0;(b||y)&&(b||y)&&t(e)};w.on?w.on(N,V):w.bind(N,V);var G=function(e){if(!c.enableScrolling[s])return!0;var t=c.getTouches(e)[0];if(!c.scrolling[s])return!0;if(S=!1,clearInterval(A),D>10||-10>D?(B=.8*D,M=Math.round(C+B),P=Date.now(),requestAnimationFrame(d),n.fadeIn(100)):xvelocity>10||xvelocity<-10?(B=.8*xvelocity,H=Math.round(xoffset+B),P=Date.now(),requestAnimationFrame(h),o.fadeIn(100)):(o.fadeOut(100),n.fadeOut(100)),c.scrolling[s]=!1,!x){var t=c.getTouches(e)[0],i=c.getRootNode(t.target);return c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i),!0}c.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){var U=(void 0!=e(window).on||e(window).bind,function(e){try{G(e)}catch(t){}c.scrolling[s]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",U):e(document).bind("mouseup.touchScroll",U),window.frameElement&&null!=window.top){var $=function(e){try{G(e)}catch(t){}c.scrolling[s]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",$):e(window.top.document).bind("mouseup",$))}var Y=(void 0!=e(document).on||e(document).bind,function(e){if(!c.scrolling[s])return!0;c.scrolling[s]=!1;var t=c.getTouches(e)[0],i=c.getRootNode(t.target);c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",Y):e(document).bind("touchend",Y)}w.on&&(w.on("dragstart",function(e){e.preventDefault()}),w.on("selectstart",function(e){e.preventDefault()})),w.on?w.on(L+" touchcancel.touchScroll",G):w.bind(L+" touchcancel.touchScroll",G)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,r){if(arguments.length>1&&"[object Object]"!==String(i)){if(r=e.extend({},r),null!==i&&void 0!==i||(r.expires=-1),"number"==typeof r.expires){var s=r.expires,o=r.expires=new Date;o.setDate(o.getDate()+s)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=i||{};var n,a=r.raw?function(e){return e}:decodeURIComponent;return(n=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(n[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var r=e,s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,r,s,o){return void 0==o&&(o=1.70158),r*((t=t/s-1)*t*((o+1)*t+o)+1)+i},easeInQuad:function(e,t,i,r,s){return r*(t/=s)*t+i},easeInOutCirc:function(e,t,i,r,s){return(t/=s/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i},easeInCubic:function(e,t,i,r,s){return r*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,r,s){return r*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,r,s){return-r*Math.cos(t/s*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,s){return r*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),r=0;r<i.length;r++)if("string"!=typeof t){var s=i[r];if(void 0!==t&&s==t[0])return!0}else if(void 0!==t&&e(i[r]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),r=t.element;return r||(r=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,r,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var r=e(this).data().jqxWidget;if(r&&r.val)return r.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var r=e(this).data().jqxWidget;if(r&&r.val)return 2!=arguments.length?r.val(i):r.val(i,arguments[1])}return t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,r,s={top:0,left:0},o=this[0],n=o&&o.ownerDocument;
if(n){if(i=n.documentElement,!e.contains(i,o))return s;void 0!==typeof o.getBoundingClientRect&&(s=o.getBoundingClientRect());var a=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};r=a(n);var l=0,d=0,h=navigator.userAgent.toLowerCase(),c=-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone");if(c&&(l=2),1==t&&"static"!=e(document.body).css("position")){var u=e(document.body).coord();l=-u.left,d=-u.top}return{top:d+s.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+s.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(e){function t(t){return function(i,r){"string"!=typeof i&&(r=i,i="*");var s,o,n,a=i.toLowerCase().split(x),l=0,d=a.length;if(e.isFunction(r))for(;d>l;l++)s=a[l],n=/^\+/.test(s),n&&(s=s.substr(1)||"*"),o=t[s]=t[s]||[],o[n?"unshift":"push"](r)}}function i(e,t,r,s,o,n){o=o||t.dataTypes[0],n=n||{},n[o]=!0;for(var a,l=e[o],d=0,h=l?l.length:0,c=e===w;h>d&&(c||!a);d++)a=l[d](t,r,s),"string"==typeof a&&(!c||n[a]?a=void 0:(t.dataTypes.unshift(a),a=i(e,t,r,s,a,n)));return!c&&a||n["*"]||(a=i(e,t,r,s,"*",n)),a}function r(t,i){var r,s,o=e.jqx.data.ajaxSettings.flatOptions||{};for(r in i)void 0!==i[r]&&((o[r]?t:s||(s={}))[r]=i[r]);s&&e.extend(!0,t,s)}function s(e,t,i){var r,s,o,n,a=e.contents,l=e.dataTypes,d=e.responseFields;for(s in d)s in i&&(t[d[s]]=i[s]);for(;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}n||(n=s)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function o(e,t){var i,r,s,o,n=e.dataTypes.slice(),a=n[0],l={},d=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),n[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;s=n[++d];)if("*"!==s){if("*"!==a&&a!==s){if(i=l[a+" "+s]||l["* "+s],!i)for(r in l)if(o=r.split(" "),o[1]===s&&(i=l[a+" "+o[0]]||l["* "+o[0]])){i===!0?i=l[r]:l[r]!==!0&&(s=o[0],n.splice(d--,0,s));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(h){return{state:"parsererror",error:i?h:"No conversion from "+a+" to "+s}}}a=s}return{state:"success",data:t}}function n(){try{return new window.XMLHttpRequest}catch(e){}}function a(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var r=Object.defineProperty;Object.defineProperty=function(e,t,i){if(r)try{return r(e,t,i)}catch(s){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,s=arguments[1];for(r=0;i>r;r++)r in t&&e.call(s,t[r],r,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var s,o=this,n=[];o.notifier=null,o.name="observableArray",o.observing=!0,o.changes=new Array;var i=i;return o.observe=function(){o.observing=!0,1==arguments.length&&(i=arguments[0])},o.unobserve=function(){o.observing=!1},o.toArray=function(){return n.slice(0)},o.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=p[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function r(e){return 10>e?"0"+e:e}function s(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+'Z"':"null"}function o(e){var t,i=e.length,r=[];for(t=0;i>t;t++)r.push(h(t,e)||"null");return"["+r.join(",")+"]"}function a(t){var r,s,o=[];for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(""!=r&&e&&-1===e.indexOf(r))continue;s=h(r,t),s&&o.push(i(r)+":"+s)}return"{"+o.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return s(e);case"[object Array]":return o(e)}return a(e)}function d(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function h(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),r=typeof i),/(number|float|int|integer|string|boolean)/.test(r)||!i&&"object"===r?d(i,r):l(i)}var c=n;t&&(c=t);var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):h("",{"":c})},o.defineIndexProperty=function(t){if(!(t in o)){var i=function(t,i,r,a){var l=t[i],d=l,h=function(){return d},c=function(t){if(l=t,d!==l){var r=d;if(d=l,"function"==typeof s){var h=n.indexOf(a),c="",u=function(t,r){Object.getOwnPropertyNames(t).forEach(function(s){var o=e.type(t[s]);"array"==o||"object"==o?u(t[s],r+"."+s):i===s&&(c=r+"."+s)})};u(a,h),s({object:o,type:"update",path:c,index:h,name:i,newValue:l,oldValue:r})}}return d=l,l};void 0!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:h,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,h),Object.prototype.__defineSetter__.call(t,i,c)))},r=function(t,s,o){var n=e.type(t);/(number|float|int|integer|string|boolean)/.test(n)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(n){var a=e.type(t[n]);"array"==a||"object"==a?(i(t,n,s+"."+n,o),r(t[n],s+"."+n,o)):i(t,n,s+"."+n,o)})};Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){return n[t]},set:function(e){var i=n[t];o.toJSON(null,i)!=o.toJSON(null,e)&&(n[t]=e,"function"==typeof s&&s({object:o,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),r(e,t,e))}}),r(o[t],t,o[t])}},o.push=function(){for(var e,t=0,i=arguments.length;i>t;t++)e=n.length,n.push(arguments[t]),o.defineIndexProperty(e),"function"==typeof s&&s({object:o,type:"add",name:"length",index:e,newValue:n.length,oldValue:e});return n.length},o.pop=function(){if(~n.length){var e=n.length-1,t=n.pop();return delete o[e],"function"==typeof s&&s({object:o,type:"delete",name:"length",index:e,newValue:n.length,oldValue:e}),t}},o.unshift=function(){for(var e=n.length,t=0,i=arguments.length;i>t;t++)n.splice(t,0,arguments[t]),o.defineIndexProperty(n.length-1);return"function"==typeof s&&s({object:o,type:"add",index:0,name:"length",newValue:n.length,oldValue:e}),n.length},o.shift=function(){var e=n.length;if(~n.length){var t=n.shift();return 0===n.length&&delete o[e],"function"==typeof s&&s({object:o,type:"delete",index:e,name:"length",newValue:n.length,oldValue:e}),t}},o.slice=function(t,i,r){var s=n.slice(t,i),o=new e.jqx.observableArray(s,r);return o},o.splice=function(t,i,r){var a,l=[];for(t=~t?t:n.length-t,i=(null==i?n.length-t:i)||0;i--;)a=n.splice(t,1)[0],l.push(a),delete o[n.length],"function"==typeof s&&s({object:o,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var d=2,h=arguments.length;h>d;d++)n.splice(t,0,arguments[d]),defineIndexProperty(n.length-1),"function"==typeof s&&s({object:o,type:"add",index:t,name:"length",newValue:n.length-1,oldValue:t}),t++;var c=new e.jqx.observableArray(l,r);return c},Object.defineProperty(o,"length",{configurable:!1,enumerable:!0,get:function(){return n.length},set:function(e){var t=Number(e);if(!(t%1===0&&t>=0))throw new RangeError("Invalid array length");return t<n.length?o.splice(t):t>n.length&&o.push.apply(o,new Array(t-n.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){var r=new e.jqx.observableArray(t,i);return r},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(n,i);return t.observing=o.observing,t.changes=o.changes,t.notifier=o.notifier,t},o.remove=function(e){if(0>e||e>=o.length)throw new Error("Invalid index : "+e);if(o.hasOwnProperty(e)){var t=o[e];return o[e]=void 0,n[e]=void 0,"function"==typeof s&&s({object:o,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},o.concat=function(t,i){var r=n.concat(t),s=new e.jqx.observableArray(r,i);return s},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in o)){var t=function(){var t=o.observing;o.observing=!1;var i=n[e],r=i.apply(n,arguments);return o.observing=t,r};Object.defineProperty(o,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),o.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var r=t.split("."),s=o,n=0;n<r.length;n++){if(0===n&&r[n]>=o.length)throw new Error("Invalid Index: "+t);n<r.length-1?s=s[r[n]]:s[r[n]]=i}return!0}return t>=o.length?o.push(i):o[t]=i,!0},o.get=function(e){return o[e]},t instanceof Array&&o.push.apply(o,t),s=function(){o.observing&&(arguments&&arguments[0]&&o.changes.push(arguments[0]),i&&i.apply(o,arguments),o.notifier&&o.notifier.apply(o,arguments))},o},e.jqx.formatDate=function(t,i,r){var s=e.jqx.dataFormat.formatdate(t,i,r);return s},e.jqx.formatNumber=function(t,i,r){var s=e.jqx.dataFormat.formatnumber(t,i,r);return s},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var r=t.localdata();if(null!=r){t._localdata=t.localdata;var s=this;t._localdata.subscribe&&(s._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=s.suspendKO&&void 0!=s.suspendKO&&0!=s._oldlocaldata.length||(s._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==s.suspendKO||void 0==s.suspendKO){var i="";s._oldrecords=s.records,0==s._oldlocaldata.length&&(t.localdata=t._localdata()),0==s._oldlocaldata.length?i="change":e&&(s._oldlocaldata.length==e.length&&(i="update"),s._oldlocaldata.length>e.length&&(i="remove"),s._oldlocaldata.length<e.length&&(i="add")),s.dataBind(null,i)}},t._localdata,"change"),s._knockoutdatasource=!0),t.localdata=r}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,r){var s=e.jqx.dataFormat.formatdate(t,i,r);return s},formatNumber:function(t,i,r){var s=e.jqx.dataFormat.formatnumber(t,i,r);return s},dataBind:function(t,i){if(1!=this.isUpdating){var r=this._source;if(r){r.generatedfields&&(r.datafields=null,r.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=r.dataFields&&(r.datafields=r.dataFields),void 0==r.recordstartindex&&(r.recordstartindex=0),void 0==r.recordendindex&&(r.recordendindex=0),void 0==r.loadallrecords&&(r.loadallrecords=!0),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record=""),void 0!=r.sort&&(this.sort=r.sort),void 0!=r.filter?this.filter=r.filter:this.filter=null,void 0!=r.sortcolumn&&(this.sortcolumn=r.sortcolumn),void 0!=r.sortdirection&&(this.sortdirection=r.sortdirection),void 0!=r.sortcomparer&&(this.sortcomparer=r.sortcomparer),this.records=new Array;var s=this._options||{};if(this.virtualmode=void 0!=s.virtualmode?s.virtualmode:!1,this.totalrecords=void 0!=s.totalrecords?s.totalrecords:0,this.pageable=void 0!=s.pageable?s.pageable:!1,this.pagesize=void 0!=s.pagesize?s.pagesize:0,this.pagenum=void 0!=s.pagenum?s.pagenum:0,this.cachedrecords=void 0!=s.cachedrecords?s.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=s.updaterow?s.updaterow:null,this.addrow=void 0!=s.addrow?s.addrow:null,this.deleterow=void 0!=s.deleterow?s.deleterow:null,this.cache=void 0!=s.cache?s.cache:!1,this.unboundmode=!1,void 0!=r.formatdata&&(s.formatData=r.formatdata),void 0!=r.data&&(void 0==s.data&&(s.data={}),e.extend(s.data,r.data)),void 0!=r.mapChar&&(r.mapchar=r.maxChar),void 0!=r.mapchar?this.mapChar=r.mapchar?r.mapchar:">":this.mapChar=s.mapChar?s.mapChar:">",(s.unboundmode||r.unboundmode)&&(this.unboundmode=s.unboundmode||r.unboundmode),void 0!=r.cache&&(this.cache=r.cache),this.koSubscriptions)for(var o=0;o<this.koSubscriptions.length;o++)this.koSubscriptions[o].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var n=this,a=r.datatype;"csv"!==r.datatype&&"tab"!==r.datatype&&"tsv"!==r.datatype&&"text"!=r.datatype||(a="text");var l=void 0!=s.async?s.async:!0;switch(void 0!=r.async&&(l=r.async),a){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==r.localdata&&r.length){r.localdata=new Array;for(var d=0;d<r.length;d++)r.localdata[r.localdata.length]=r[d],r[d].uid=d}r.beforeprocessing&&e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata);var h=r.localdata.length;if(this.totalrecords=this.virtualmode?r.totalrecords||h:h,this.unboundmode){this.totalrecords=this.unboundmode?r.totalrecords||h:h;var c=r.datafields?r.datafields.length:0;if(c>0)for(var d=0;d<this.totalrecords;d++){for(var u={},p=0;c>p;p++)u[r.datafields[p].name]="";u.uid=d,r.localdata[r.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=r.datafields?r.datafields.length:0,f=function(t,i){for(var s={},o=0;i>o;o++){var a=r.datafields?r.datafields[o]:{},l="";if(void 0!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var d=a.map.split(n.mapChar);if(d.length>0){for(var h=t,c=0;c<d.length;c++)h&&(h=h[d[c]]);l=h}else l=t[a.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,l=t[a.name],void 0!=l&&null!=l&&(r._localdata&&l.subscribe?l=l():"array"!=a.type&&(l=l.toString()))),"[object Object]"==l&&a.map&&u&&(l=""),l=n.getvaluebytype(l,a),void 0!=a.displayname?s[a.displayname]=l:s[a.name]=l}}return s};if(r._localdata){this._changedrecords=[],this.records=new Array;var m=r._localdata();if(e.each(m,function(t,s){if("string"==typeof s)n.records.push(s);else{var o={},a=0,l=this;e.each(this,function(i,s){var d=null,h="string",u=i;if(c>0){for(var p=!1,f=!1,m=0;c>m;m++){var g=r.datafields[m];if(void 0!=g&&g.name==i){p=!0,d=g.map,h=g.type,u=g.name;break}if(void 0!=g&&g.map&&g.map.indexOf(i)>=0){p=!0,d=g.map,h=g.type,u=g.name,f=!0;var v=l[i];if(null!=d){var x=d.split(n.mapChar);if(x.length>0){for(var w=l,b=0;b<x.length;b++)w=w[x[b]];v=w}else v=l[d]}"string"!=h&&(v=n.getvaluebytype(v,{type:h})),o[u]=v,void 0!=o[u]&&(a+=o[u].toString().length+o[u].toString().substr(0,1))}}if(!p)return!0;if(f)return!0}var y=e.isFunction(l[i]);if(y){var v=l[i]();if("string"!=h&&(v=n.getvaluebytype(v,{type:h})),o[i]=v,l[i].subscribe){var _=t;n.koSubscriptions[n.koSubscriptions.length]=l[i].subscribe(function(e){var t=_;o[i]=e;var r={index:t,oldrecord:o,record:o};return n._changedrecords.push(r),n.isUpdating?void 0:(n.callBindingUpdate("update"),n._changedrecords=[],!1)})}}else{var v=l[i];if(null!=d){var x=d.split(n.mapChar);if(x.length>0){for(var w=l,b=0;b<x.length;b++)w=w[x[b]];v=w}else v=l[d]}"string"!=h&&(v=n.getvaluebytype(v,{type:h})),o[u]=v,void 0!=o[u]&&(a+=o[u].toString().length+o[u].toString().substr(0,1))}});var d=n.getid(r.id,l,t);if(o.uid=d,n.records.push(o),o._koindex=a,n._oldrecords){var h=n.records.length-1;if("update"==i&&n._oldrecords[h]._koindex!=a){var u={index:h,oldrecord:n._oldrecords[h],record:o};n._changedrecords.push(u)}}}}),"add"==i)for(var h=n.records.length,d=0;h>d;d++){for(var u=n.records[d],g=!1,v=0;v<n._oldrecords.length;v++)if(n._oldrecords[v]._koindex===u._koindex){g=!0;break}g||n._changedrecords.push({index:d,oldrecord:null,record:u,position:0!=d?"last":"first"})}else if("remove"==i)for(var h=n._oldrecords.length,d=0;h>d;d++){var x=n._oldrecords[d];n.records[d]?n.records[d]._koindex!=x._koindex&&n._changedrecords.push({index:d,oldrecord:x,record:null}):n._changedrecords.push({index:d,oldrecord:x,record:null})}}else if(e.isArray(r.localdata))if(0==c){var w=0,b=new Array;e.each(r.localdata,function(t,i){var s=new Object(this);if("string"==typeof i)return n.records=r.localdata,!1;var o=n.getid(r.id,s,t);if("object"==typeof o&&(o=t),s.uid=o,0==t){for(var a in this){w++;var l=e.type(this[a]);b.push({name:a,type:l})}c=w,r.datafields=b,r.generatedfields=b}if(c>0){var d=f(s,c);d.uid=o,n.records[n.records.length]=d}else n.records[n.records.length]=s})}else e.each(r.localdata,function(e){var t=this,i=f(t,c),s=n.getid(r.id,i,e);"object"==typeof s&&(s=e);var t=new Object(i);t.uid=s,n.records[n.records.length]=t});else{this.records=new Array;var w=0,b=new Array;e.each(r.localdata,function(t){var i=n.getid(r.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var s in this){w++;var o=e.type(this[s]);b.push({name:s,type:o})}c=w,r.datafields=b,r.generatedfields=b}if(c>0){var a=this,l=f(a,c);l.uid=i,n.records[n.records.length]=l}else this.uid=i,n.records[n.records.length]=this})}if(this.originaldata=r.localdata,this.cachedrecords=this.records,this.addForeignValues(r),s.uniqueDataFields){var y=this.getUniqueRecords(this.records,s.uniqueDataFields);this.records=y,this.cachedrecords=y}if(s.beforeLoadComplete){var _=s.beforeLoadComplete(n.records,this.originaldata);void 0!=_&&(n.records=_,n.cachedrecords=_)}if(s.autoSort&&s.autoSortField){var j=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[s.autoSortField]},n.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(r){}return 0}),Object.prototype.toString=j}n.loadedData=r.localdata,n.buildHierarchy(),e.isFunction(s.loadComplete)&&s.loadComplete(r.localdata,n.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=r.localdata&&!r.url){if(e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata),"xml"===r.datatype?n.loadxml(r.localdata,r.localdata,r):"text"===a?n.loadtext(r.localdata,r):"ics"===a?n.loadics(r.localdata,r):n.loadjson(r.localdata,r.localdata,r),n.addForeignValues(r),s.uniqueDataFields){var y=n.getUniqueRecords(n.records,s.uniqueDataFields);n.records=y,n.cachedrecords=y}if(s.beforeLoadComplete){var _=s.beforeLoadComplete(n.records,this.originaldata);void 0!=_&&(n.records=_,n.cachedrecords=_)}return n.loadedData=r.localdata,n.buildHierarchy.call(n),e.isFunction(s.loadComplete)&&s.loadComplete(r.localdata,n.records),void n.callBindingUpdate(i)}var q=void 0!=s.data?s.data:{};if(r.processdata&&r.processdata(q),e.isFunction(s.processData)&&s.processData(q),e.isFunction(s.formatData)){var T=s.formatData(q);void 0!=T&&(q=T)}var C="application/x-www-form-urlencoded";s.contentType&&(C=s.contentType);var k="GET";r.type&&(k=r.type),s.type&&(k=s.type);var S=a;if("ics"==a&&(S="text"),r.url&&r.url.length>0)e.isFunction(s.loadServerData)?n._requestData(q,r,s):this.xhr=e.jqx.data.ajax({dataType:S,cache:this.cache,type:k,url:r.url,async:l,timeout:r.timeout,contentType:C,data:q,success:function(t,i,o){if(e.isFunction(r.beforeprocessing)){var l=r.beforeprocessing(t,i,o);void 0!=l&&(t=l)}if(e.isFunction(s.downloadComplete)){var l=s.downloadComplete(t,i,o);void 0!=l&&(t=l)}if(null==t)return n.records=new Array,n.cachedrecords=new Array,n.originaldata=new Array,n.callDownloadComplete(),void(e.isFunction(s.loadComplete)&&s.loadComplete(new Array));var d=t;if(t.records&&(d=t.records),void 0!=t.totalrecords?r.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(r.totalrecords=t.totalRecords),"xml"===r.datatype?n.loadxml(null,d,r):"text"===a?n.loadtext(d,r):"ics"===a?n.loadics(d,r):n.loadjson(null,d,r),n.addForeignValues(r),s.uniqueDataFields){var h=n.getUniqueRecords(n.records,s.uniqueDataFields);n.records=h,n.cachedrecords=h}if(s.beforeLoadComplete){var c=s.beforeLoadComplete(n.records,t);void 0!=c&&(n.records=c,n.cachedrecords=c)}n.loadedData=t,n.buildHierarchy.call(n),n.callDownloadComplete(),e.isFunction(s.loadComplete)&&s.loadComplete(t,i,o,n.records)},error:function(t,i,o){e.isFunction(r.loaderror)&&r.loaderror(t,i,o),e.isFunction(s.loadError)&&s.loadError(t,i,o),t=null,n.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(s.beforeSend)&&s.beforeSend(t,i),e.isFunction(r.beforesend)&&r.beforesend(t,i)}});else if(n.buildHierarchy(new Array),n.callDownloadComplete(),e.isFunction(s.loadComplete)){if(!D)var D={};s.loadComplete(D)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var r=t.hierarchy.reservedNames;r.leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data")}if(t.hierarchy){var s=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var o=t.hierarchy.root,n=0;n<this.records.length;n++){var a=this.records[n];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[o][t.hierarchy.record];else{var i=o.split(s.mapChar),n=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)void 0!=a&&(a=a[i[l]]);n=a}else n=e[o];e.records=n}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(a),a[r.level]=0;var d=this.getid(t.id,a,n);a.uid=d,a[r.parent]=null,a[r.data]=a,void 0===a[r.expanded]&&(a[r.expanded]=!1);var h=function(e,i){if(!i)return void(e.records=new Array);for(var o=0;o<i.length;o++){var n=i[o];if(n){l(n),n[r.level]=e[r.level]+1,n[r.parent]=e,n[r.data]=n;var a=s.getid(t.id,n,o);a==o&&null==t.id?n.uid=e.uid+"_"+a:n.uid=a,void 0===n[r.expanded]&&(n[r.expanded]=!1),h(n,n.records)}}};h(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,n=0;n<t.hierarchy.groupingDataFields.length;n++)c.push(t.hierarchy.groupingDataFields[n].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,r){var s=this,o=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||r)){var n=s._source&&s._source.hierarchy?s._source.hierarchy.reservedNames:null;null==n&&(n=o()),e[n.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var a=function(r){if(r)for(var n=0;n<r.length;n++){var l=r[n];if(l.uid==i){var d=s._source&&s._source.hierarchy?s._source.hierarchy.reservedNames:null;return null==d&&(d=o()),e[d.parent]=l,e[d.level]=l[d.level]+1,l.records?l[d.leaf]=!1:(l.records=new Array,l[d.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&a(l.records)}};a(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(r){if(r)for(var s=0;s<r.length;s++){var o=r[s];if(o.uid==e){r.splice(s,1),t.recordids[e]&&delete t.recordids[e];var n=function(e){for(var i=0;i<e.length;i++){for(var r=e[i].uid,s=0;s<t.records.length;s++){var o=t.records[s];if(o.uid==r){t.records.splice(s,1);break}}e[i].records&&n(e[i].records)}};o.records&&n(o.records);for(var a=0;a<t.records.length;a++){var o=t.records[a];if(o.uid==e){t.records.splice(a,1);break}}return!0}o.records&&i(o.records)}};i(this.hierarchy)}else for(var r=0;r<this.records.length;r++){var s=this.records[r];if(s.uid==e)return this.records.splice(r,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,r=0;i>r;r++){var s=e.datafields[r];if(void 0!=s)if(void 0!=s.values){void 0==s.value&&(s.value=s.name),void 0==s.values.value&&(s.values.value=s.value);var o,n,a=new Array;t.pageable&&t.virtualmode?(o=t.pagenum*t.pagesize,n=o+t.pagesize,n>t.totalrecords&&(n=t.totalrecords)):t.virtualmode?(o=e.recordstartindex,n=e.recordendindex,n>t.totalrecords&&(n=t.totalrecords)):(o=0,n=t.records.length);for(var l=o;n>l;l++){var d=t.records[l],h=s.name,c=d[s.value];if(void 0!=a[c])d[h]=a[c];else for(var u=0;u<s.values.source.length;u++){var p=s.values.source[u],f=p[s.values.value];if(void 0==f&&(f=p.uid),f==c){var m=p[s.values.name];d[h]=m,a[c]=m;break}}}}else if(void 0!=s.value)for(var l=0;l<t.records.length;l++){var d=t.records[l];d[s.name]=d[s.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,r){var s=this,o=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,s.totalrecords=t.totalrecords),t.records&&(s.records=t.records,s.cachedrecords=t.records),s.addForeignValues(i),r.uniqueDataFields){var o=s.getUniqueRecords(s.records,r.uniqueDataFields);s.records=o,s.cachedrecords=o}if(r.beforeLoadComplete){var n=r.beforeLoadComplete(s.records,data);void 0!=n&&(s.records=n,s.cachedrecords=n)}for(var a=0;a<s.records.length;a++){var l=s.records[a];void 0!=l&&void 0==l.uid&&(l.uid=s.getid(i.id,l,a))}s.buildHierarchy.call(s),e.isFunction(r.loadComplete)&&r.loadComplete(t),s.callDownloadComplete()};r.loadServerData(t,i,o)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,r=t.length,s=new Array,o=new Array,n=0;i>n;n++){var a=e[n],l="";if(void 0!=a){for(var d=0;r>d;d++){var h=t[d];l+=a[h]+"_"}o[l]||(s[s.length]=a),o[l]=!0}}return s},getAggregatedData:function(t,i,r,s){var o=r;o||(o=this.records);var n={},a=new Array,l=o.length;if(0!=l&&void 0!=l){for(var d=0;l>d;d++)for(var h=o[d],c=0;c<t.length;c++){var u=t[c],p=h[u.name];if(u.aggregates){n[u.name]=n[u.name]||{},a[u.name]=a[u.name]||0,a[u.name]++;var f=function(t){for(obj in t){var i=n[u.name][obj];null==i&&(n[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,h,s)),n[u.name][obj]=i}},m=parseFloat(p);m=!isNaN(m),m&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=n[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==d?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void f(this);n[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=n[u.name][this];return null==e&&(e=0),n[u.name][this]=e,!0}"object"==typeof this&&f(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(n[u.name]||(n[u.name]={},e.each(u.aggregates,function(e){n[u.name][this]=0})),void 0!=n[u.name].avg){var p=n[u.name].avg,g=a[u.name];0===g||void 0==g?n[u.name].avg=0:n[u.name].avg=p/g}else void 0!=n[u.name].count&&(n[u.name].count=l);(n[u.name].stdev||n[u.name].stdevp||n[u.name]["var"]||n[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=n[u.name][this],i=l,r=t/l,s=0,a=0;l>a;a++){var d=o[a],h=d[u.name];s+=(h-r)*(h-r)}var c="stdevp"==this||"varp"==this?i:i-1;0==c&&(c=1),"var"==this||"varp"==this?n[u.name][this]=s/c:"stdevp"!=this&&"stdev"!=this||(n[u.name][this]=Math.sqrt(s/c))}}),u.formatStrings&&e.each(u.aggregates,function(t){var r=u.formatStrings[t];if(r)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var s=n[u.name][this];n[u.name][this]=e.jqx.dataFormat.formatnumber(s,r,i)}else if("object"==typeof this)for(obj in this){var s=n[u.name][obj];n[u.name][obj]=e.jqx.dataFormat.formatnumber(s,r,i)}})}return n}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,r,s,o,n,a,l,d){var h=this;d||(d=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=h.generatekey();
i||(i="items"),r||(r="group"),o||(o="record"),a||(a="parentItem"),void 0===n&&(n="value");var p=new Array,f=0,m=new Array,g=t.length;new Array;if(!l)var l=this.records;for(var v=l.length,x=function(t){var i=t;return s&&e.each(s,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},w=0;v>w;w++){var b=x(l[w]);id=b[h.uniqueId];var y=new Array,_=0;for(u=0;g>u;u++){var j=t[u],q=b[j];null!=q&&(y[_++]={value:q,hash:c[u]})}if(y.length!=g)break;for(var T=null,C="",k=-1,S=0;S<y.length;S++){k++;var D=y[S].value,I=y[S].hash;if(C=C+"_"+I+"_"+D,void 0==m[C]||null==m[C]){if(null==T){T={level:0},T[a]=null,T[r]=D,T[o]=b,void 0!==b.expanded?T.expanded=b.expanded:T.expanded=!1,n&&(T[n]=b[n]),T[i]=new Array;var P=p.length+d;this._source.id&&"number"!=typeof b.uid&&!isFinite(b.uid)||(P="Row"+P),T.uid=P,p[f++]=T}else{var A={level:T.level+1};A[a]=T,A[r]=D,A[i]=new Array,A[o]=b,void 0!==b.expanded?A.expanded=b.expanded:A.expanded=!1,n&&(A[n]=b[n]),A.uid=T.uid+"_"+T[i].length,T[i][T[i].length]=A,T=A}m[C]=T}else T=m[C]}b&&(b.leaf=!0),null!=T?(null==this._source.id&&(void 0==b.uid?b.uid=T.uid+"_"+T[i].length:-1==b.uid.toString().indexOf(T.uid)&&(b.uid=T.uid+"_"+b.uid)),b[a]=T,b.level=T.level+1,T[i][T[i].length]=b):void 0==b.uid&&(b.uid=this.generatekey())}return p},getRecordsHierarchy:function(t,i,r,s,o){var n=new Array,a=this.records;if(o&&(a=o),0==this.records.length)return null;for(var l=null!=r?r:"items",d=[],h=a,c=h.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return s&&e.each(s,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},f=0;c>f;f++){var m=e.extend({},h[f]),g=m[i],v=m[t];d[v]={parentid:g,item:m}}for(var f=0;c>f;f++){var m=e.extend({},h[f]),g=m[i],v=m[t];if(void 0!=d[g]){var m={parentid:g,item:d[v].item},x=d[g].item;x[l]||(x[l]=[]);var w=x[l].length,b=m.item;u?void 0==b[u.parent]&&(b[u.parent]=x):void 0==b.parent&&(b.parent=x);var y=p(b);x[l][w]=y,d[g].item=x,d[v]=m}else{var b=d[v].item;u?void 0==b[u.parent]&&(b[u.parent]=null):void 0==b.parent&&(b.parent=null);var y=p(b);u?y[u.level]=0:y.level=0,n[n.length]=y}}if(0!=n.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var r=t[i][l];r&&r.length>0?_(e+1,r):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,n)}return n},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,r){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return e.trim(s).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var o=t.split(this.mapChar);if(o.length>1){for(var n=i,a=0;a<o.length;a++)void 0!=n&&(n=n[o[a]]);if(void 0!=n)return n}else if(void 0!=i[t])return i[t]}return r}var s=e(i).attr(t.name);if(null!=s&&s.toString().length>0)return s;if(t.map)try{var s=e(i).attr(t.map);if(null!=s&&s.toString().length>0)return s;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return r}},loadjson:function(t,i,r){"string"==typeof t&&(t=e.parseJSON(t)),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record="");var t=t||i;t||(t=[]);var s=this;if(""!=r.root){var o=r.root.split(s.mapChar);if(o.length>1){for(var n=t,a=0;a<o.length;a++)void 0!=n&&(n=n[o[a]]);t=n}else if(void 0!==t[r.root]?t=t[r.root]:t[0]&&void 0!==t[0][r.root]?t=t[0][r.root]:e.each(t,function(e){return this==r.root?(t=this,!1):void(void 0!=this[r.root]&&(t=this[r.root]))}),!t){var o=r.root.split(s.mapChar);if(o.length>0){for(var n=t,a=0;a<o.length;a++)void 0!=n&&(n=n[o[a]]);t=n}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?r.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var d=this.records,h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(h=0,l=this.totalrecords);var c=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,c=h,h=0,l=this.totalrecords);var u=r.datafields?r.datafields.length:0;if(0==u){var p=t[0],f=new Array;for(obj in p){var m=obj;f[f.length]={name:m}}r.datafields=f,r.generatedfields=r.datafields,u=f.length}for(var g=h,v=h;l>v;v++){var x=t[v];if(void 0==x)break;if(!r.record||""==r.record||(x=x[r.record],void 0!=x)){var w=this.getid(r.id,x,v);if("object"==typeof w&&(w=v),!this.recordids[w]){this.recordids[w]=x;for(var b={},y=0;u>y;y++){var _=r.datafields[y],j="";if(void 0!=_&&null!=_){if(_.map){if(e.isFunction(_.map))j=_.map(x);else{var o=_.map.split(s.mapChar);if(o.length>0){for(var q=x,a=0;a<o.length;a++)void 0!=q&&(q=q[o[a]]);j=q}else j=x[_.map]}void 0!=j&&null!=j?j=this.getvaluebytype(j,_):void 0==j&&null!=j&&(j="")}if(""==j&&!_.map&&(j=x[_.name],void 0==j&&null!=j&&(j=""),void 0!=_.value&&void 0!=j)){var T=j[_.value];void 0!=T&&(j=T)}if(j=this.getvaluebytype(j,_),void 0!=_.displayname?b[_.displayname]=j:b[_.name]=j,"array"===_.type){var C=function(t){if(t)for(var i=0;i<t.length;i++){var o=t[i];if(o)for(var n=0;u>n;n++){var a=r.datafields[n],l="";if(void 0!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(o);else{var d=a.map.split(s.mapChar);if(d.length>0){for(var h=o,c=0;c<d.length;c++)void 0!=h&&(h=h[d[c]]);l=h}else l=o[a.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,a):void 0==l&&null!=l&&(l="")}if(""==l&&!a.map&&(l=o[a.name],void 0==l&&null!=l&&(l=""),void 0!=a.value&&void 0!=l)){var p=l[a.value];void 0!=p&&(l=p)}l=this.getvaluebytype(l,a),void 0!=a.displayname?o[a.displayname]=l:o[a.name]=l,"array"===a.type&&C.call(this,l)}}}};C.call(this,j)}}}(r.recordendindex<=0||h<r.recordendindex)&&(d[c+g]=new Object(b),d[c+g].uid=w,this.originaldata[c+g]=new Object(d[v]),g++)}}}this.records=d,this.cachedrecords=this.records},loadxml:function(t,i,r){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record="");var t;t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(r.root+" "+r.record,e.parseXML(i.xml)):t||e(r.root+" "+r.record,i),t||(t=[]);var s=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?r.totalrecords||s:s,this.records=new Array,this.originaldata=new Array;var o=this.records,n=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(n=0,s=this.totalrecords);var a=0;this.virtualmode&&(n=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,a=n,n=0,s=this.totalrecords);var l=r.datafields?r.datafields.length:0;if(0==l){var d=t[0],h=new Array;for(obj in d){var c=obj;h[h.length]={name:c}}r.datafields=h,r.generatedfields=r.datafields,l=h.length}for(var u=n,p=!1,f=n;s>f;f++){var m=t[f];if(void 0==m)break;var g=this.getid(r.id,m,f);if(!this.recordids[g]){this.recordids[g]=m;var v={},x=!1;r.hierarchy&&r.hierarchy.root&&(x=!0);for(var w=0;l>w;w++){var b=r.datafields[w],y="";if(void 0!=b&&null!=b){if(b.map)if(e.isFunction(b.map))y=b.map(m);else{var _=b.map.indexOf("[");if(0>_)if(y=e(b.map,m),1==y.length)y=y.text();else{p=!0;for(var j=new Array,q=0;q<y.length;q++)j.push(e(y[q]).text());y=j,x&&j.length>0&&(y=j[0])}else{var T=b.map.substring(0,_-1),C=b.map.indexOf("]"),k=b.map.substring(_+1,C);y=e(T,m).attr(k),void 0==y&&(y=e(m).attr(k)),void 0==y&&(y="")}""==y&&(y=e(m).attr(b.map),void 0==y&&(y=""))}if(""==y){if(y=e(b.name,m),1==y.length)y=y.text();else{for(var j=new Array,q=0;q<y.length;q++)j.push(e(y[q]).text());y=j,x&&j.length>0&&(y=j[0])}""==y&&(y=e(m).attr(b.name),void 0==y&&(y="")),""==y&&m.nodeName&&m.nodeName==b.name&&m.firstChild&&(y=e(m.firstChild).text())}y=this.getvaluebytype(y,b),void 0!=b.displayname?v[b.displayname]=y:v[b.name]=y}}(r.recordendindex<=0||n<r.recordendindex)&&(o[a+u]=e.extend({},v),o[a+u].uid=g,this.originaldata[a+u]=e.extend({},o[f]),u++)}}if(r.hierarchy&&r.hierarchy.root)for(var f=n;s>f;f++){var m=t[f],S=o[f];if(e(m).parent().length>0){var g=this.getid(r.id,e(m).parents(r.hierarchy.record+":first"));S.parentuid=g}else S.parentuid=null}this.records=o,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",r=e.split(i),s=r.length,o=e.split("\r");1==s&&o.length>1&&(r=o,s=r.length),this.records=new Array,this.originaldata=new Array;var n=this.records;this.recordids=new Array;for(var a=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=t.exec(e);if(!i)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},l=0;s>l;l++){var d=r[l];if("BEGIN:VEVENT"!=d)if(d.indexOf("SUMMARY")>=0)c.SUMMARY=d.substring(d.indexOf("SUMMARY")+8);else if(d.indexOf("LOCATION")>=0)c.LOCATION=d.substring(d.indexOf("LOCATION")+9);else if(d.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12);else if(d.indexOf("RRULE")>=0)c.RRULE=d.substring(d.indexOf("RRULE")+6);else if(d.indexOf("EXDATE")>=0){var h=d.substring(d.indexOf("EXDATE")+7);c.EXDATE=h}else d.indexOf("DTEND")>=0?c.DTEND=a(d.substring(d.indexOf("DTEND")+6)):d.indexOf("DTSTART")>=0?c.DTSTART=a(d.substring(d.indexOf("DTSTART")+8)):d.indexOf("UID")>=0?c.uid=c.UID=d.substring(d.indexOf("UID")+4):d.indexOf("STATUS")>=0?c.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"!=d||n.push(c);else var c={}}this.records=n,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var r=i.rowDelimiter||this.rowDelimiter||"\n",s=t.split(r),o=s.length,n=t.split("\r");1==o&&n.length>1&&(s=n,o=s.length),this.totalrecords=this.virtualmode?i.totalrecords||o:o,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,o=this.totalrecords);var d=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,d=l,l=0,o=this.totalrecords);var h=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"	":",");for(var u=l;o>u;u++){var p=s[u],f=null;if(!this.recordids[f]){null==i.id&&(f=u,this.recordids[f]=p);for(var m={},g=s[u].split(c),v=0;h>v;v++)if(!(v>=g.length)){var x=i.datafields[v],w=g[v];x.map&&e.isFunction(x.map)&&(w=x.map(p)),x.type&&(w=this.getvaluebytype(w,x));var b=x.map||x.name||v.toString();m[b]=w,null!=i.id&&i.id===x.name&&(f=w,this.recordids[f]=p)}null==f&&(f=u),a[d+u]=e.extend({},m),a[d+u].uid=f,this.originaldata[d+u]=e.extend({},a[u])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var r=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var s=0;s<t.length;s++)t[s]=this.getvaluebytype(t[s],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var o=new Date(t);if("string"==typeof t&&i.format){var n=e.jqx.dataFormat.parsedate(t,i.format);null!=n&&(o=n)}t=("NaN"==o.toString()||"Invalid Date"==o.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):o,null==t&&(t=r)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var i,r=e.patterns,s=t.length;if(1===s){if(i=r[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===s&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,r=e.getTime(),s=0,o=t.length;o>s;s++)if(i=t[s].start,null===i||r>=i)return s;return 0},toUpper:function(e){return e.split("").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,r=e.length;r>i;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,r){var s=e.getFullYear();return!r&&t.eras&&(s-=t.eras[i].offset),s},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var r,s=e.days,o=e._upperDays;return o||(e._upperDays=o=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr),this.toUpperArray(s.namesShort)]),t=t.toUpperCase(),i?(r=this.arrayIndexOf(o[1],t),-1===r&&(r=this.arrayIndexOf(o[2],t))):r=this.arrayIndexOf(o[0],t),r},getMonthIndex:function(e,t,i){var r=e.months,s=e.monthsGenitive||e.months,o=e._upperMonths,n=e._upperMonthsGen;o||(e._upperMonths=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)],e._upperMonthsGen=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?o[1]:o[0],t);return 0>a&&(a=this.arrayIndexOf(i?n[1]:n[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,r=!1,s=0,o=e.length;o>s;s++){var n=e.charAt(s);switch(n){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(n),r=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(void 0!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var r;t.length>1&&(r=parseInt(t.slice(1),10));var s={},o=t.charAt(0).toUpperCase();switch(s.thousandsSeparator=i.thousandsseparator,s.decimalSeparator=i.decimalseparator,o){case"D":case"d":case"F":case"f":s.decimalPlaces=r;break;case"N":case"n":s.decimalPlaces=0;break;case"C":case"c":s.decimalPlaces=r,"before"==i.currencysymbolposition?s.prefix=i.currencysymbol:s.suffix=i.currencysymbol;break;case"P":case"p":s.suffix=i.percentsymbol,s.decimalPlaces=r;break;default:throw"Bad number format specifier: "+o}if(this.isNumber(e)){var n,a=0>e,l=e+"",d=s.decimalSeparator?s.decimalSeparator:".";if(this.isNumber(s.decimalPlaces)){var h=s.decimalPlaces,c=Math.pow(10,h);if(l=(e*c).toFixed(0)/c+"",n=l.lastIndexOf("."),h>0)for(0>n?(l+=d,n=l.length-1):"."!==d&&(l=l.replace(".",d));l.length-1-n<h;)l+="0"}else{var l=e+"";n=l.lastIndexOf("."),n>0&&void 0==h&&"."!==d&&(l=l.replace(".",d))}if(s.thousandsSeparator){var u=s.thousandsSeparator;n=l.lastIndexOf(d),n=n>-1?n:l.length;for(var p=l.substring(n),f=-1,m=n;m>0;m--)f++,f%3===0&&m!==n&&(!a||m>1)&&(p=u+p),p=l.charAt(m-1)+p;l=p}return l=s.prefix?s.prefix+l:l,l=s.suffix?l+s.suffix:l}return e},tryparsedate:function(t,i){void 0!=i&&null!=i||(i=this.defaultcalendar());var r=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var s=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,o=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==o){var n=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),o=null;n&&(o=new Date(1*n[1]+36e5*n[2]+6e4*n[3]))}if(null==o||"Invalid Date"==o||isNaN(o)){var a=s.exec(t);if(a){var l=new Date(parseInt(a[1]));if(a[2]){var d=parseInt(a[3]);"-"===a[2]&&(d=-d);var h=l.getUTCMinutes();l.setUTCMinutes(h-d)}if(!isNaN(l.valueOf()))return l}}return o}patterns=i.patterns;for(prop in patterns)if(o=r.parsedate(t,patterns[prop],i)){if("ISO"==prop){var c=r.parsedate(t,patterns.ISO2,i);if(c)return c}return o}if(null!=t){for(var c=null,u=[":","/","-"],p=!0,f=0;f<u.length;f++)-1!=t.indexOf(u[f])&&(p=!1);if(p){var m=new Number(t);if(!isNaN(m))return new Date(m)}}if("string"===e.type(t)){var g=r;t=g.trim(t);var v=[":","/","-"," ",","],x=function(e,t,i){return i.replace(new RegExp(e,"g"),t)};t=x(", ",",",t);var w="",b=t;t.indexOf(":")>=0?(w=t.substring(t.indexOf(":")-2),w=g.trim(w),b=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(w=t.substring(t.toUpperCase().indexOf("AM")-2),w=g.trim(w),b=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(w=t.substring(t.toUpperCase().indexOf("PM")-2),w=g.trim(w),b=t.substring(0,t.toUpperCase().indexOf("PM")-2));var y=new Date,_=!1;if(b){for(var j=0;j<v.length;j++)if(b.indexOf(v[j])>=0){u=b.split(v[j]);break}for(var q=new Array,T=new Array,C=new Array,k=null,S=null,j=0;j<u.length;j++){var f=u[j],D=g.parsedate(f,"d",i)||g.parsedate(f,"dd",i)||g.parsedate(f,"ddd",i)||g.parsedate(f,"dddd",i);if(D&&f.length<=2){k=j,q.push(D.getDate());break}}for(var j=0;j<u.length;j++){var f=u[j],I=g.parsedate(f,"M",i)||g.parsedate(f,"MM",i)||g.parsedate(f,"MMM",i)||g.parsedate(f,"MMMM",i);if(I){if(void 0!=k&&k==j)continue;if(T.push(I.getMonth()),f.length>2){S=j;break}}}for(var j=0;j<u.length;j++){var f=u[j],P=g.parsedate(f,"yyyy",i);if(P){if(void 0!=k&&k==j)continue;if(void 0!=S&&S==j)continue;C.push(P.getFullYear())}}for(var A=new Array,B=0;B<q.length;B++)for(var n=0;n<T.length;n++)for(var M=0;M<C.length;M++){var l=new Date(C[M],T[n],q[B]);C[M]<1970&&l.setFullYear(C[M]),NaN!=l.getTime()&&A.push(l)}A.length>0&&(y=A[0],_=!0)}if(w){var H=w.indexOf(":")>=0?w.split(":"):w,z=g.parsedate(w,"h:mm tt",i)||g.parsedate(w,"h:mm:ss tt",i)||g.parsedate(w,"HH:mm:ss.fff",i)||g.parsedate(w,"HH:mm:ss.ff",i)||g.parsedate(w,"HH:mm:ss.tttt",i)||g.parsedate(w,"HH:mm:ss",i)||g.parsedate(w,"HH:mm",i)||g.parsedate(w,"HH",i),E=0,O=0,L=0,N=0;z&&NaN!=z.getTime()?(E=z.getHours(),O=z.getMinutes(),L=z.getSeconds(),N=z.getMilliseconds()):(1==H.length&&(E=parseInt(H[0])),2==H.length&&(E=parseInt(H[0]),O=parseInt(H[1])),3==H.length&&(E=parseInt(H[0]),O=parseInt(H[1]),H[2].indexOf(".")>=0?(L=parseInt(H[2].toString().split(".")[0]),N=parseInt(H[2].toString().split(".")[1])):L=parseInt(H[2])),4==H.length&&(E=parseInt(H[0]),O=parseInt(H[1]),L=parseInt(H[2]),N=parseInt(H[3]))),!y||isNaN(E)||isNaN(O)||isNaN(L)||isNaN(N)||(y.setHours(E,O,L,N),_=!0)}if(_)return y}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var s,o=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),n=["^"],a=[],l=0,d=0,h=this.getTokenRegExp();null!==(s=h.exec(o));){var c=o.slice(l,s.index);if(l=h.lastIndex,d+=this.appendPreOrPostMatch(c,n),d%2)n.push(s[0]);else{var u,p=s[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&n.push(u),a.push(s[0])}}this.appendPreOrPostMatch(o.slice(l),n),n.push("$");var m=n.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:a};return i[t]=g},outOfRange:function(e,t,i){return t>e||e>i},expandYear:function(e,t){var i=new Date,r=this.getEra(i);if(100>t){var s=e.twoDigitYearMax;s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s;var o=this.getEraYear(i,e,r);t+=o-o%100,t>s&&(t-=100)}return t},parsedate:function(e,t,i){void 0!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var r=i,s=this.getparseregexp(r,t),o=new RegExp(s.regExp).exec(e);if(null===o)return null;for(var n,a=s.groups,l=null,d=null,h=null,c=null,u=null,p=0,f=0,m=0,g=0,v=null,x=!1,w=0,b=a.length;b>w;w++){var y=o[w+1];if(y){var _=a[w],j=_.length,q=parseInt(y,10);switch(_){case"dd":case"d":if(c=q,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(h=this.getMonthIndex(r,y,3===j),this.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=q-1,this.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=4>j?this.expandYear(r,q):q,this.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(p=q,12===p&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(f=q,this.outOfRange(f,0,59))return null;break;case"s":case"ss":if(m=q,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(x=r.PM&&(y===r.PM[0]||y===r.PM[1]||y===r.PM[2]),!x&&(!r.AM||y!==r.AM[0]&&y!==r.AM[1]&&y!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(r,y,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var T=y.split(/:/);if(2!==T.length)return null;if(n=parseInt(T[0],10),this.outOfRange(n,-12,13))return null;var C=parseInt(T[1],10);if(this.outOfRange(C,0,59))return null;v=60*n+(this.startsWith(y,"-")?-C:C);break;case"z":case"zz":if(n=q,this.outOfRange(n,-12,13))return null;v=60*n;break;case"g":case"gg":var k=y;if(!k||!r.eras)return null;k=trim(k.toLowerCase());for(var S=0,D=r.eras.length;D>S;S++)if(k===r.eras[S].name.toLowerCase()){l=S;break}if(null===l)return null}}}var I,P=new Date,A=r.convert;if(I=P.getFullYear(),null===d?d=I:r.eras&&(d+=r.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),A){if(P=A.toGregorian(d,h,c),null===P)return null}else{if(P.setFullYear(d,h,c),P.getDate()!==c)return null;if(null!==u&&P.getDay()!==u)return null}if(x&&12>p&&(p+=12),P.setHours(p,f,m,g),null!==v){var B=P.getMinutes()-(v+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(B/60,10),B%60)}return P},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function r(e,t){var i,r=e+"";return t>1&&r.length<t?(i=u[t-2]+r,i.substr(i.length-t,t)):i=r}function s(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var o=e.toString()+"_"+t;if(this.datescache&&this.datescache[o])return this.datescache[o];if(!t||!t.length||"i"===t){var n;return n=this.formatDate(e,i.patterns.F,i)}var a=i.eras,l="s"===t;t=this.expandFormat(i,t),n=[];for(var d,h,c,u=["0","00","000"],p=0,f=this.getTokenRegExp();;){var m=f.lastIndex,g=f.exec(t),v=t.slice(m,g?g.index:t.length);if(p+=this.appendPreOrPostMatch(v,n),!g)break;if(p%2)n.push(g[0]);else{var x=g[0],w=x.length;switch(x){case"ddd":case"dddd":var b=3===w?i.days.namesAbbr:i.days.names;n.push(b[e.getDay()]);break;case"d":case"dd":h=!0,n.push(r(s(e,2),w));break;case"MMM":case"MMMM":var y=s(e,1);n.push(i.months[3===w?"namesAbbr":"names"][y]);break;case"M":case"MM":n.push(r(s(e,1)+1,w));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,a),l),4>w&&(y%=100),n.push(r(y,w));break;case"h":case"hh":d=e.getHours()%12,0===d&&(d=12),n.push(r(d,w));break;case"H":case"HH":n.push(r(e.getHours(),w));break;case"m":case"mm":n.push(r(e.getMinutes(),w));break;case"s":case"ss":n.push(r(e.getSeconds(),w));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",n.push(1===w?y.charAt(0):y);break;case"f":case"ff":case"fff":n.push(r(e.getMilliseconds(),3).substr(0,w));break;case"z":case"zz":d=e.getTimezoneOffset()/60,n.push((0>=d?"+":"-")+r(Math.floor(Math.abs(d)),w));break;case"zzz":d=e.getTimezoneOffset()/60,n.push((0>=d?"+":"-")+r(Math.floor(Math.abs(d)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&n.push(i.eras[this.getEra(e,a)].name);break;case"/":n.push(i["/"]);break;default:throw"Invalid date format pattern '"+x+"'."}}}var _=n.join("");return this.datescache||(this.datescache=new Array),this.datescache[o]=_,_}}),e.jqx.data={};var l,d,h=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,f=/^\/\//,m=/\?/,g=/([?&])_=[^&]*/,v=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,x=/\s+/,w=(e.fn.load,{}),b={},y=["*/"]+["*"];try{d=location.href}catch(_){d=document.createElement("a"),d.href="",d=d.href}l=v.exec(d.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?r(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),r(t,i),t},ajaxSettings:{url:d,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":y},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(w),ajaxTransport:t(b),ajax:function(t,r){function n(t,i,r,n){var l,h,c,u,p,f=i;2!==H&&(H=2,j&&clearTimeout(j),_=void 0,d=n||"",E.readyState=t>0?4:0,r&&(u=s(k,E,r)),t>=200&&300>t||304===t?(k.ifModified&&(p=E.getResponseHeader("Last-Modified"),p&&(e.lastModified[a]=p),p=E.getResponseHeader("Etag"),p&&(e.etag[a]=p)),304===t?(f="notmodified",l=!0):(l=o(k,u),f=l.state,h=l.data,c=l.error,l=!c)):(c=f,f&&!t||(f="error",0>t&&(t=0))),E.status=t,E.statusText=(i||f)+"",l?I.resolveWith(S,[h,f,E]):I.rejectWith(S,[E,f,c]),E.statusCode(A),A=void 0,T&&D.trigger("ajax"+(l?"Success":"Error"),[E,k,l?h:c]),P.fireWith(S,[E,f]),T&&(D.trigger("ajaxComplete",[E,k]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0),r=r||{};var a,d,u,_,j,q,T,C,k=e.jqx.data.ajaxSetup({},r),S=k.context||k,D=S!==k&&(S.nodeType||S instanceof e)?e(S):e.event,I=e.Deferred(),P=e.Callbacks("once memory"),A=k.statusCode||{},B={},M={},H=0,z="canceled",E={readyState:0,setRequestHeader:function(e,t){if(!H){var i=e.toLowerCase();e=M[i]=M[i]||e,B[e]=t}return this},getAllResponseHeaders:function(){return 2===H?d:null},getResponseHeader:function(e){var t;if(2===H){if(!u)for(u={};t=c.exec(d);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return H||(k.mimeType=e),this},abort:function(e){return e=e||z,_&&_.abort(e),n(0,e),this}};if(I.promise(E),E.success=E.done,E.error=E.fail,E.complete=P.add,E.statusCode=function(e){if(e){var t;if(2>H)for(t in e)A[t]=[A[t],e[t]];else t=e[E.status],E.always(t)}return this},k.url=((t||k.url)+"").replace(h,"").replace(f,l[1]+"//"),k.dataTypes=e.trim(k.dataType||"*").toLowerCase().split(x),null==k.crossDomain&&(q=v.exec(k.url.toLowerCase()),k.crossDomain=!(!q||q[1]===l[1]&&q[2]===l[2]&&(q[3]||("http:"===q[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=e.param(k.data,k.traditional)),i(w,k,r,E),2===H)return E;if(T=k.global,k.type=k.type.toUpperCase(),k.hasContent=!p.test(k.type),T&&0===e.active++&&e.event.trigger("ajaxStart"),!k.hasContent&&(k.data&&(k.url+=(m.test(k.url)?"&":"?")+k.data,delete k.data),a=k.url,k.cache===!1)){var O=e.now(),L=k.url.replace(g,"$1_="+O);k.url=L+(L===k.url?(m.test(k.url)?"&":"?")+"_="+O:"")}(k.data&&k.hasContent&&k.contentType!==!1||r.contentType)&&E.setRequestHeader("Content-Type",k.contentType),k.ifModified&&(a=a||k.url,e.lastModified[a]&&E.setRequestHeader("If-Modified-Since",e.lastModified[a]),e.etag[a]&&E.setRequestHeader("If-None-Match",e.etag[a])),E.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+y+"; q=0.01":""):k.accepts["*"]);for(C in k.headers)E.setRequestHeader(C,k.headers[C]);if(k.beforeSend&&(k.beforeSend.call(S,E,k)===!1||2===H))return E.abort();z="abort";for(C in{success:1,error:1,complete:1})E[C](k[C]);if(_=i(b,k,r,E)){E.readyState=1,T&&D.trigger("ajaxSend",[E,k]),k.async&&k.timeout>0&&(j=setTimeout(function(){E.abort("timeout")},k.timeout));try{H=1,_.send(B,n)}catch(N){if(!(2>H))throw N;n(-1,N)}}else n(-1,"No Transport");return E},active:0,lastModified:{},etag:{}});var j=[],q=/\?/,T=/(=)\?(?=&|$)|\?\?/,C=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=j.pop()||e.expando+"_"+C++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,r){var s,o,n,a=t.data,l=t.url,d=t.jsonp!==!1,h=d&&T.test(l),c=d&&!h&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&T.test(a);return"jsonp"===t.dataTypes[0]||h||c?(s=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=window[s],h?t.url=l.replace(T,"$1"+s):c?t.data=a.replace(T,"$1"+s):d&&(t.url+=(q.test(l)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return n||e.error(s+" was not called"),n[0]},t.dataTypes[0]="json",window[s]=function(){n=arguments},r.always(function(){window[s]=o,t[s]&&(t.jsonpCallback=i.jsonpCallback,j.push(s)),n&&e.isFunction(o)&&o(n[0]),n=o=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,s){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),
t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,r||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var k,S=window.ActiveXObject?function(){for(var e in k)k[e](0,1)}:!1,D=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&n()||a()}:n,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(r,s){var o,n,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(n in t.xhrFields)a[n]=t.xhrFields[n];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(n in r)a.setRequestHeader(n,r[n])}catch(l){}a.send(t.hasContent&&t.data||null),i=function(r,n){var l,d,h,c,u;try{if(i&&(n||4===a.readyState))if(i=void 0,o&&(a.onreadystatechange=e.noop,S&&delete k[o]),n)4!==a.readyState&&a.abort();else{l=a.status,h=a.getAllResponseHeaders(),c={},u=a.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=a.responseText}catch(p){}try{d=a.statusText}catch(p){d=""}l||!t.isLocal||t.crossDomain?1223===l&&(l=204):l=c.text?200:404}}catch(f){n||s(-1,f)}c&&s(l,d,c,h)},t.async?4===a.readyState?setTimeout(i,0):(o=++D,S&&(k||(k={},e(window).unload(S)),k[o]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],o=["EQUAL","NOT_EQUAL"],n=new Array,a=new Array;this.evaluate=function(e){for(var i=!0,r=0;r<n.length;r++){var s=n[r].evaluate(e);i=0==r?s:a[r]==t||"or"==a[r]?i||s:i&&s}return i},this.getfilterscount=function(){return n.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":r=t;break;case"stringfilter":i=t;break;case"datefilter":s=t;break;case"booleanfilter":o=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=r.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=s.slice(0);break;case"booleanfilter":t=o.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,r,s,o){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new d(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),s,o);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),r)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<n.length;t++){var i={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:a[t],type:n[t].type};n[t].data&&(i.id=n[t].data),e[t]=i}return e},this.addfilter=function(e,t){n[n.length]=t,t.key=l(),a[a.length]=e},this.removefilter=function(e){for(var t=0;t<n.length;t++)if(n[t].key==e.key){n.splice(t,1),a.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>n.length?null:a[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>n.length?null:void(a[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>n.length?null:n[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>n.length?null:(t.key=l(),void(n[e]=t))},this.clear=function(){n=new Array,a=new Array};var d=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==r)return!0;if("EQUAL"==r&&t==i)return!0;if("NOT_EQUAL"==r&&t!=i)return!0;if("EMPTY"!=r)return!1;if(""==t)return!0}var s="";try{s=t.toString()}catch(o){return!0}var n=function(t,i){switch(r){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=n(s,i);if(l)return l;var d=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);var m=i.indexOf(" ")>=0?i.split(" "):new Array;if(m.length>0)for(var f=0;f<m.length;f++)m[f]=e.trim(m[f]);if(d=d.concat(m),d=d.concat(c),h=h.concat(p),h=h.concat(u),d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" OR ")>=0&&a.push(d[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&a.push(h[f]);for(var g=void 0,v=0;v<a.length;v++){var t=a[v],l=n(s,t),x=v<d.length?"and":"or";g=void 0==g?l:"or"==x?g||l:g&&l}return g}return n(s,i)}},h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i;var r=e;switch(i){case"EQUAL":return r==t||r.toString()==t.toString();case"NOT_EQUAL":return r!=t&&r.toString()!=t.toString();default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var s=t;try{s=parseFloat(s)}catch(o){if(""!=t.toString())return!1}var n=function(t,i){switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},a=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=n(s,i);if(l)return l;i=i.toString();var d=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,h=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;d=d.concat(c),h=h.concat(u);var p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);if(h=h.concat(p),d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" OR ")>=0&&a.push(d[f]);if(h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" AND ")>=0&&a.push(h[f]);for(var m=void 0,g=0;g<a.length;g++){var t=a[g];if(t&&t.indexOf&&t.indexOf("..")>=0){var v=t.toString().split("..");2==v.length&&(l=s>=v[0]&&s<=v[1])}else var l=n(s,t);var x=g<d.length?"and":"or";m=void 0==m?l:"or"==x?m||l:m&&l}return m}return i&&i.indexOf&&i.indexOf("..")>=0&&(a=i.toString().split(".."),2==a.length)?s>=a[0]&&s<=a[1]:n(s,i)}},u=function(t,i,r,s){this.filtervalue=t,this.type="datefilter";var o=this;if(void 0!=r&&void 0!=s){var n=e.jqx.dataFormat.parsedate(t,r,s);if(null!=n)this.filterdate=n;else{var a=e.jqx.dataFormat.tryparsedate(t,s);null!=a&&(this.filterdate=a)}}else{var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}if(!this.filterdate){var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==n)return!1;if("NULL"==n)return!0;switch(n){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(t);t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l,a=t;var d=!1;if(void 0!=r&&void 0!=s&&(r.indexOf("t")>=0||r.indexOf("T")>=0||r.indexOf(":")>=0||r.indexOf("f")>=0)&&(d=!0,i&&-1==i.toString().indexOf(":"))){var h=e.jqx.dataFormat.tryparsedate(i.toString()+":00",s);null!=h&&(o.filterdate=h)}d||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(c){if(""!=t.toString())return!1}if(null!=o.filterdate)i=o.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var u=new Date(a);u.setHours(12,0,0,0);for(var p=i.split(":"),f=0;f<p.length;f++)0==f&&u.setHours(p[f]),1==f&&u.setMinutes(p[f]),2==f&&u.setSeconds(p[f]);i=u}d&&i&&i.setFullYear&&a&&a.getFullYear&&-1==r.indexOf("d")&&-1==r.indexOf("M")&&-1==r.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var m=function(t,i){switch(null==t&&(t=""),n){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},g=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var h=m(a,i);if(h)return h;var v=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,x=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,w=i.indexOf(" and ")>=0?i.split(" and "):new Array,b=i.indexOf(" or ")>=0?i.split(" or "):new Array;v=v.concat(w),x=x.concat(b);var y=i.indexOf("|")>=0?i.split("|"):new Array;if(y.length>0)for(var f=0;f<y.length;f++)y[f]=e.trim(y[f]);if(x=x.concat(y),v.length>0)for(var f=0;f<v.length;f++)!v[f].indexOf(" OR ")>=0&&g.push(v[f]);if(x.length>0)for(var f=0;f<x.length;f++)!x[f].indexOf(" AND ")>=0&&g.push(x[f]);for(var _=void 0,j=0;j<g.length;j++){var t=g[j];if(t&&t.indexOf&&t.indexOf("..")>=0){var q=t.toString().split("..");2==q.length&&(h=a>=q[0]&&a<=q[1])}else var h=m(a,t);var T=j<v.length?"and":"or";_=void 0==_?h:"or"==T?_||h:_&&h}return _}return i&&i.indexOf&&i.indexOf("..")>=0&&(g=i.toString().split(".."),2==g.length)?a>=g[0]&&a<=g[1]:m(a,i)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxValidator","",{}),e.extend(e.jqx._jqxValidator.prototype,{defineInstance:function(){var t={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip"};return e.extend(!0,this,t),t},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(t){var i,r,s,o,n=!0,a=1/0,l=[];this.updatePosition();for(var d=this,h=0,c=0;c<this.rules.length;c+=1)"function"==typeof this.rules[c].rule&&h++;this.positions=new Array;for(var c=0;c<this.rules.length;c+=1){e(this.rules[c].input);if("function"==typeof this.rules[c].rule){var u=function(c,u){if(i=c,0==i){n=!1;e(u.input);o=e(u.input),l.push(o);var p=o.offset();p&&(r=p.top,a>r&&(a=r,s=o))}h--,0==h&&"function"==typeof t&&(d._handleValidation(n,a,s,l),t&&t(n))};this._validateRule(this.rules[c],u)}else i=this._validateRule(this.rules[c]);if(0==i){n=!1,o=e(this.rules[c].input),l.push(o);var p=o.offset();p&&(r=p.top,a>r&&(a=r,s=o))}}return 0==h?(this._handleValidation(n,a,s,l),n):void 0},validateInput:function(e){for(var t=this._getRulesForInput(e),i=!0,r=0;r<t.length;r+=1)this._validateRule(t[r])||(i=!1);return i},hideHint:function(e){for(var t=this._getRulesForInput(e),i=0;i<t.length;i+=1)this._hideHintByRule(t[i])},hide:function(){for(var e,t=0;t<this.rules.length;t+=1)e=this.rules[t],this._hideHintByRule(this.rules[t])},updatePosition:function(){var t;this.positions=new Array;for(var i=0;i<this.rules.length;i+=1)t=this.rules[i],t.hint&&this._hintLayout(t.hint,e(t.input),t.position,t)},_getRulesForInput:function(e){for(var t=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===e&&t.push(this.rules[i]);return t},_validateRule:function(t,i){var r,s=e(t.input),o=!0,n=this,a=function(o){if(o)n._hideHintByRule(t),i&&i(!0,t);else{var a=n.animation;if(n.animation=null,t.hint&&n._hideHintByRule(t),"none"==e(s).css("display"))return void n._hideHintByRule(t);if(0==e(s).parents().length)return void n._hideHintByRule(t);r=t.hintRender.apply(n,[t.message,s]),n._hintLayout(r,s,t.position,t),n._showHint(r),t.hint=r,n._removeLowPriorityHints(t),i&&i(!1,t),n.animation=a}},l=!1;return"function"==typeof t.rule&&(l=t.rule.call(this,s,a),1==l&&i&&i(!0,t)),"function"==typeof t.rule&&0==l?("function"!=typeof t.hintRender||t.hint||this._higherPriorityActive(t)||!s.is(":visible")||(r=t.hintRender.apply(this,[t.message,s]),this._removeLowPriorityHints(t),this._hintLayout(r,s,t.position,t),this._showHint(r),t.hint=r),o=!1,i&&i(!1,t)):this._hideHintByRule(t),o},_hideHintByRule:function(t){var i,r=e(t.input),s=this,o=function(){if("label"==s.hintType){var e=s;if("top"==e.position||"left"==e.position){if(r.prev().hasClass(".jqx-validator-error-label"))return}else if(r.next().hasClass(".jqx-validator-error-label"))return;"input"!=r[0].nodeName.toLowerCase()?r.find("input").length>0&&(r.find(".jqx-input").length>0?r.find(".jqx-input").removeClass(e.toThemeProperty("jqx-validator-error-element")):r.find(".jqx-text-area").length>0?r.find(".jqx-text-area").removeClass(e.toThemeProperty("jqx-validator-error-element")):r.is(".jqx-checkbox")&&r.find(".jqx-checkbox-default").removeClass(e.toThemeProperty("jqx-validator-error-element")),r.is(".jqx-radiobutton")?r.find(".jqx-radiobutton-default").removeClass(e.toThemeProperty("jqx-validator-error-element")):r.removeClass(e.toThemeProperty("jqx-validator-error-element"))):r.removeClass(e.toThemeProperty("jqx-validator-error-element"))}};t&&(i=t.hint,i&&(this.positions&&this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]&&(this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]=null),"fade"===this.animation?i.fadeOut(this.animationDuration,function(){i.remove(),o()}):(i.remove(),o())),t.hint=null)},_handleValidation:function(e,t,i,r){e?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(t),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:r}),"function"==typeof this.onError&&this.onError(r))},_scrollHandler:function(t){if(this.scroll){var i=this;e("html,body").animate({scrollTop:t},this.scrollDuration,function(){"function"==typeof i.scrollCallback&&i.scrollCallback.call(i)})}},_higherPriorityActive:function(e){for(var t,i=!1,r=this.rules.length-1;r>=0;r-=1){if(t=this.rules[r],i&&t.input===e.input&&t.hint)return!0;t===e&&(i=!0)}return!1},_removeLowPriorityHints:function(e){for(var t,i=!1,r=0;r<this.rules.length;r+=1)t=this.rules[r],i&&t.input===e.input&&this._hideHintByRule(t),t===e&&(i=!0)},_getHintRuleByInput:function(t){for(var i,r=0;r<this.rules.length;r+=1)if(i=this.rules[r],e(i.input)[0]===t[0]&&i.hint)return i;return null},_removeEventListeners:function(){for(var t,i,r,s=0;s<this.rules.length;s+=1){t=this.rules[s],r=t.action.split(","),i=e(t.input);for(var o=0;o<r.length;o+=1)this.removeHandler(i,e.trim(r[o])+".jqx-validator")}},_addEventListeners:function(){var t,i;if(this.host.parents(".jqx-window").length>0){var r=this,s=function(){r.updatePosition()},o=this.host.parents(".jqx-window");this.addHandler(o,"closed",function(){r.hide()}),this.addHandler(o,"moved",s),this.addHandler(o,"moving",s),this.addHandler(o,"resized",s),this.addHandler(o,"resizing",s),this.addHandler(e(document.parentWindow),"scroll",function(){r.scroll&&s()})}for(var n=0;n<this.rules.length;n+=1)t=this.rules[n],i=e(t.input),this._addListenerTo(i,t)},_addListenerTo:function(t,i){var r=this,s=i.action.split(","),o=!1;this._isjQWidget(t)&&(o=!0);for(var n=0;n<s.length;n+=1){var a=e.trim(s[n]);!o||"blur"!=a&&"focus"!=a||t&&"input"!=t[0].nodeName.toLowerCase()&&(t=t.find("input")),this.addHandler(t,a+".jqx-validator",function(e){r._validateRule(i)})}},_configureInputs:function(){this.rules=this.rules||[];for(var e=0;e<this.rules.length;e+=1)this._handleInput(e)},_handleInput:function(e){var t=this.rules[e];t.position||(t.position=this.position),t.message||(t.message="Validation Failed!"),t.action||(t.action="blur"),t.hintRender||(t.hintRender=this._hintRender),t.rule?this._handleRule(t):t.rule=null},_handleRule:function(e){var t,i,r=e.rule,s=!1;if("string"==typeof r?(r.indexOf("=")>=0&&(r=r.split("="),i=r[1].split(","),r=r[0]),t=this["_"+r],t?e.rule=function(e,r){return t.apply(this,[e].concat(i))}:s=!0):"function"!=typeof r?s=!0:e.rule=r,s)throw new Error("Wrong parameter!")},_required:function(t){switch(this._getType(t)){case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var i=e.data(t[0]);if(i.jqxMaskedInput){var r=t.jqxMaskedInput("promptChar"),s=t.jqxMaskedInput("value");return s&&s.indexOf(r)<0}return i.jqxNumberInput?""!==t.jqxNumberInput("inputValue"):i.jqxDateTimeInput?!0:""!==e.trim(t.val());case"checkbox":return t.is(":checked");case"radio":return t.is(":checked");case"div":return t.is(".jqx-checkbox")?t.jqxCheckBox("checked"):t.is(".jqx-radiobutton")?t.jqxRadioButton("checked"):!1}return!1},_notNumber:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/\d/;return!t.test(e)})},_startWithLetter:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/\d/;return!t.test(e.substring(0,1))})},_number:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=new Number(e);return!isNaN(t)&&isFinite(t)})},_phone:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/^\(\d{3}\)(\d){3}-(\d){4}$/;return t.test(e)})},_length:function(e,t,i){return this._minLength(e,t)&&this._maxLength(e,i)},_maxLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length<=t})},_minLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length>=t})},_email:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)})},_zipCode:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return t.test(e)})},_ssn:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/\d{3}-\d{2}-\d{4}/;return t.test(e)})},_validateText:function(e,t){var i;return this._isTextInput(e)?(i=this._isjQWidget(e)&&e.find("input").length>0?e.find("input").val():e.val(),t(i)):!1},_isjQWidget:function(t){var i=e.data(t[0]);return!!(i.jqxMaskedInput||i.jqxNumberInput||i.jqxDateTimeInput)},_isTextInput:function(e){var t=this._getType(e);return"text"===t||"textarea"===t||"password"===t||e.is(".jqx-input")||e.is(".jqx-text-area")},_getType:function(t){if(t[0]){var i,r=t[0].tagName.toLowerCase();return"textarea"===r?"textarea":t.is(".jqx-input")?"jqx-input":t.is(".jqx-text-area")?"jqx-text-area":"input"===r?i=e(t).attr("type")?e(t).attr("type").toLowerCase():"text":r}},_hintRender:function(t,i){if("label"==this.hintType){var r=e('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');r.html(t);var s=this;return this.closeOnClick&&r.click(function(){s.hideHint(i.selector)}),"left"==this.position||"top"==this.position?r.insertBefore(e(i)):r.insertAfter(e(i)),r}var r=e('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),o=this;return r.html(t),this.closeOnClick&&r.click(function(){o.hideHint(i.selector)}),null==this.ownerElement?r.appendTo(document.body):this.ownerElement.innerHTML?r.appendTo(e(this.ownerElement)):r.appendTo(this.ownerElement),r},_hintLayout:function(t,i,r,s){if(this._hintRender===s.hintRender){var o;if(o=this._getPosition(i,r,t,s),"label"==this.hintType){var n="2px";"left"!=this.position&&"top"!=this.position||(n="-2px"),"input"!=i[0].nodeName.toLowerCase()&&"textarea"!=i[0].nodeName.toLowerCase()?(i.find(".jqx-text-area").length>0&&i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),i.find("input").length>0&&(i.find(".jqx-input").length>0?i.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):i.find(".jqx-text-area").length>0?i.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):i.is(".jqx-checkbox")&&i.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),i.is(".jqx-radiobutton")?i.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):i.addClass(this.toThemeProperty("jqx-validator-error-element")))):i.addClass(this.toThemeProperty("jqx-validator-error-element"));var a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-validator-hint")),a.html(t.text()),a.appendTo(e(document.body));var l=a.outerWidth();return a.remove(),t.css({position:"relative",left:e(i).css("margin-left"),width:e(i).width(),top:n}),void("center"==r&&(t.css("width",l),t.css("left","0px"),t.css("margin-left","auto"),t.css("margin-right","auto")))}t.css({position:"absolute",left:o.left,top:o.top}),this.arrow&&this._addArrow(i,t,r,o)}},_showHint:function(e){e&&"fade"===this.animation&&(e.fadeOut(0),e.fadeIn(this.animationDuration))},_getPosition:function(t,i,r,s){var o,n,a=t.offset(),l=t.outerWidth(),d=t.outerHeight();if(this.rtl&&i.indexOf("left")>=0&&(i="right"),this.rtl&&i.indexOf("right")>=0&&(i="left"),null!=this.ownerElement&&(a={left:0,top:0},a.top=parseInt(a.top)+t.position().top,a.left=parseInt(a.left)+t.position().left),s&&s.hintPositionRelativeElement){var h=e(s.hintPositionRelativeElement);a=h.offset(),l=h.width(),d=h.height()}return o=i.indexOf("top")>=0?a.top-d:i.indexOf("bottom")>=0?a.top+r.outerHeight()+this.hintPositionOffset+5:a.top,n=i.indexOf("center")>=0?a.left+this.hintPositionOffset+(l-r.outerWidth())/2:i.indexOf("left")>=0?a.left-r.outerWidth()-this.hintPositionOffset:i.indexOf("right")>=0?a.left+l+this.hintPositionOffset:a.left+this.hintPositionOffset,i.indexOf(":")>=0&&(i=i.split(":")[1].split(","),n+=parseInt(i[0],10),o+=parseInt(i[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(o)+"_"+Math.round(n)]&&this.positions[Math.round(o)+"_"+Math.round(n)].top==o&&(o+=t.outerHeight()),this.positions[Math.round(o)+"_"+Math.round(n)]={left:n,top:o},{left:n,top:o}},_addArrow:function(t,i,r,s){var o,n,a=e('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&r.indexOf("left")>=0&&(r="right"),this.rtl&&r.indexOf("right")>=0&&(r="left"),i.children(".jqx-validator-hint-arrow").remove(),i.append(a);var l=a.outerHeight(),d=a.outerWidth(),h=i.outerHeight(),c=i.outerWidth();this._addImage(a),n=r.indexOf("top")>=0?h-l:r.indexOf("bottom")>=0?-l:(h-l)/2-l/2,r.indexOf("center")>=0?o=(c-d)/2:r.indexOf("left")>=0?o=c-d/2-1:r.indexOf("right")>=0&&(o=-d/2),(r.indexOf("topright")>=0||r.indexOf("bottomright")>=0)&&(o=0),(r.indexOf("topleft")>=0||r.indexOf("bottomleft")>=0)&&(o=c-d),a.css({position:"absolute",left:o,top:n})},_addImage:function(e){var t=e.css("background-image");t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")",""),e.css("background-image","none"),e.append('<img src="'+t+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+e.width()+"px; height: "+e.height()+'px;" />')},_raiseEvent:function(t,i){var r=e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},propertyChangedHandler:function(e,t,i,r){"rules"===t&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},_addImage:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()||"button"==i.element.nodeName.toLowerCase()||"div"==i.element.nodeName.toLowerCase()){if(i._img)i._img[0].setAttribute("src",i.imgSrc),i._img[0].setAttribute("width",i.imgWidth),i._img[0].setAttribute("height",i.imgHeight),i._text.html(i.value);else{i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title},s=null;if(i.field.getAttribute("value"))var s=i.field.getAttribute("value");else if("input"!=i.element.nodeName.toLowerCase())var s=i.element.innerHTML;i.value&&(s=i.value),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var o=e("<div></div>",r);o[0].style.cssText=i.field.style.cssText,o.css("box-sizing","border-box");var n=e("<img/>");n[0].setAttribute("src",i.imgSrc),n[0].setAttribute("width",i.imgWidth),n[0].setAttribute("height",i.imgHeight),o.append(n),i._img=n;var a=e("<span></span>");s&&(a.html(s),i.value=s),o.append(a),i._text=a,e(i.field).hide().after(o);var l=i.host.data();if(i.host=o,i.host.data(l),i.element=o[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}i.imgSrc?i._img.show():i._img.hide(),i.value?i._text.show():i._text.hide(),i._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.host.outerWidth(),i=e.host.outerHeight(),r=e.imgWidth,s=e.imgHeight;""==e.imgSrc&&(r=0,s=0);var o=e._text.width(),n=e._text.height(),a=4,l=4,d=4,h=0,c=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":h=r+o+2*d+a+2*l,c=Math.max(s,n)+2*d+a+2*l;break;case"imageAboveText":case"textAboveImage":h=Math.max(r,o)+2*d,c=s+n+a+2*d+2*l;break;case"overlay":h=Math.max(r,o)+2*d,c=Math.max(s,n)+2*d}e.width||(e.host.width(h),t=h),e.height||(e.host.height(c),i=c),e._img.css("position","absolute"),e._text.css("position","absolute"),e.host.css("position","relative"),e.host.css("overflow","hidden");var u={},p={},f=function(e,t,i,r,s){switch(t.width<r&&(t.width=r),t.height<s&&(t.height=s),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-s/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-s+"px";break;default:case"center":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+t.height/2-s/2+"px";break;case"top":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+t.height-s+"px";break;case"right":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+t.height/2-s/2+"px";break;case"topRight":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+t.height-s+"px"}},m=0,g=0,v=t,x=i,w=(v-m)/2,b=(x-g)/2,y=e._img,_=e._text,j=x-g,q=v-m;switch(m+=l,g+=l,v=v-l-2,q=q-2*l-2,j=j-2*l-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":p={left:m,top:g,width:m+r,height:j},u={left:m+r+a,top:g,width:q-r-a,height:j};break;case"center":case"top":case"bottom":p={left:w-o/2-r/2-a/2,top:g,width:r,height:j},u={left:p.left+r+a,top:g,width:v-p.left-r-a,height:j};break;case"right":case"topRight":case"bottomRight":p={left:v-o-r-a,top:g,width:r,height:j},u={left:p.left+r+a,top:g,width:v-p.left-r-a,height:j}}f(y[0],p,e.imgPosition,r,s),f(_[0],u,e.textPosition,o,n);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":u={left:m,top:g,width:m+o,height:j},p={left:m+o+a,top:g,width:q-o-a,height:j};break;case"center":case"top":case"bottom":u={left:w-o/2-r/2-a/2,top:g,width:o,height:j},p={left:u.left+o+a,top:g,width:v-u.left-o-a,height:j};break;case"right":case"topRight":case"bottomRight":u={left:v-o-r-a,top:g,width:o,height:j},p={left:u.left+o+a,top:g,width:v-u.left-o-a,height:j}}f(y[0],p,e.imgPosition,r,s),f(_[0],u,e.textPosition,o,n);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":p={left:m,top:g,width:q,height:s},u={left:m,top:g+s+a,width:q,height:j-s-a};break;case"left":case"center":case"right":p={left:m,top:b-s/2-n/2-a/2,
width:q,height:s},u={left:m,top:p.top+a+s,width:q,height:j-p.top-a-s};break;case"bottomLeft":case"bottom":case"bottomRight":p={left:m,top:x-s-n-a,width:q,height:s},u={left:m,top:p.top+a+s,width:q,height:n}}f(y[0],p,e.imgPosition,r,s),f(_[0],u,e.textPosition,o,n);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":u={left:m,top:g,width:q,height:n},p={left:m,top:g+n+a,width:q,height:j-n-a};break;case"left":case"center":case"right":u={left:m,top:b-s/2-n/2-a/2,width:q,height:n},p={left:m,top:u.top+a+n,width:q,height:j-u.top-a-n};break;case"bottomLeft":case"bottom":case"bottomRight":u={left:m,top:x-s-n-a,width:q,height:n},p={left:m,top:u.top+a+n,width:q,height:s}}f(y[0],p,e.imgPosition,r,s),f(_[0],u,e.textPosition,o,n);break;case"overlay":default:u={left:m,top:g,width:q,height:j},p={left:m,top:g,width:q,height:j},f(y[0],p,e.imgPosition,r,s),f(_[0],u,e.textPosition,o,n)}},createInstance:function(t){var i=this;i._setSize(),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton")),i._ariaDisabled||i.host.attr("role","button"),i.overrideTheme||(i.host.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.host.addClass(i.toThemeProperty("jqx-button")),i.host.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.host.css({cursor:"arrow"}):i.host.css({cursor:i.cursor}));var r="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)var r="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,r,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(e(document),"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s="";if(window.parent&&document.referrer&&(s=document.referrer),-1!=s.indexOf(document.location.host)){var o=function(e){i.isPressed=!1,i.refresh()};window.top.document&&i.addHandler(e(window.top.document),"mouseup",o)}}}catch(n){}i.propertyChangeMap.roundedCorners=function(t,i,r,s){t.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(r))),t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},i.propertyChangeMap.disabled=function(t,i,r,s){r!=s&&(t.refresh(),t.host[0].disabled=s,t.host.attr("disabled",s),s?t.host.css({cursor:"default"}):t.host.css({cursor:t.cursor}),e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,r){i!=r&&(e.host.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,r,s){t.host.removeClass(),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.host.attr("disabled",!0))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this;null==e.width||-1==e.width.toString().indexOf("px")&&-1==e.width.toString().indexOf("%")?void 0==e.width||isNaN(e.width)||e.host.css("width",e.width):e.host.css("width",e.width),null==e.height||-1==e.height.toString().indexOf("px")&&-1==e.height.toString().indexOf("%")?void 0==e.height||isNaN(e.height)||e.host.css("height",parseInt(e.height)):e.host.css("height",e.height)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,r){void 0!=this.isInitialized&&0!=this.isInitialized&&r!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t&&"value"!=t||e._addImage("jqxButton"),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),r=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(r="");var s=e.toThemeProperty("jqx-fill-state-hover"),o=e.toThemeProperty("jqx-fill-state-pressed"),n=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(o="");var a="";if(e.host){if(e.host[0].disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),a=r+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),e.host.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?n:s:e.isPressed?o:r,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),e.host.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.host.addClass(e.toThemeProperty("jqx-rtl")),e.host.css("direction","rtl"))}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.host.height(),r=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var s=this.host.find("input");s.addClass(this.toThemeProperty("jqx-reset")),s.width(r),s.height(i),s.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),s.css({width:r}),s.css({height:i});var o=void 0==e?{}:e[0]||{};s.jqxButton(o),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,r){e.host[0].disabled=r,e.host.find("input").jqxButton({disabled:r})},this.addHandler(s,"click",function(e){return this.disabled||t.onclick(e),!1})},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,r=e.jqx.mobile.isTouchDevice(),s=r?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,o=r?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),s,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),void 0!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,o,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){r||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,r),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var s=e.data(this.base.element,"jqxRepeatButton");s&&delete s.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,r,s){t.base.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(r))),t.base.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},i.propertyChangeMap.toggled=function(e,t,i,r){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,r){e.base.disabled=r,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var r=e.base.toThemeProperty("jqx-fill-state-hover"),s=e.base.toThemeProperty("jqx-fill-state-pressed"),o=e.base.toThemeProperty("jqx-fill-state-pressed"),n="";return e.base.host[0].disabled=e.base.disabled,e.base.disabled?(n=i+" "+t,void e.base.host.addClass(n)):(n=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?o:r:e.base.isPressed||e.toggled?s:i,"default"!==e.base.template&&""!==e.base.template&&(n+=" jqx-"+e.base.template,""!=e.base.theme&&(n+=" jqx-"+e.template+"-"+e.base.theme)),e.base.host.hasClass(t)&&t!=n&&e.base.host.removeClass(t),e.base.host.hasClass(i)&&i!=n&&e.base.host.removeClass(i),e.base.host.hasClass(r)&&r!=n&&e.base.host.removeClass(r),e.base.host.hasClass(s)&&s!=n&&e.base.host.removeClass(s),e.base.host.hasClass(o)&&o!=n&&e.base.host.removeClass(o),void(e.base.host.hasClass(n)||e.base.host.addClass(n)))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;i.width||(i.width=200),i.height||(i.height=25),i.isanimating=!1,i.setupInstance();var r=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");i.host.attr("tabindex")?(r.attr("tabindex",i.host.attr("tabindex")),i.host.removeAttr("tabindex")):r.attr("tabindex",0),i.focusable||r.removeAttr("tabIndex"),e.jqx.aria(this),i.popupContent=i.host.children(),i.host.attr("role","button"),0==i.popupContent.length?(i.popupContent=e("<div>"+i.host.text()+"</div>"),i.popupContent.css("display","block"),i.element.innerHTML=""):i.popupContent.detach();var s=this;i.addHandler(i.host,"loadContent",function(e){s._arrange()});try{var o="dropDownButtonPopup"+i.element.id,n=e(e.find("#"+o));n.length>0&&n.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",o);var a=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+i.element.id+"'></div>");a.addClass(i.toThemeProperty("jqx-widget-content")),a.addClass(i.toThemeProperty("jqx-dropdownbutton-popup")),a.addClass(i.toThemeProperty("jqx-popup")),a.addClass(i.toThemeProperty("jqx-rc-all")),a.css("z-index",i.popupZIndex),e.jqx.browser.msie&&a.addClass(i.toThemeProperty("jqx-noshadow")),i.popupContent.appendTo(a),a.appendTo(document.body),i.container=a,i.container.css("visibility","hidden")}catch(l){}i.touch=e.jqx.mobile.isTouchDevice(),i.dropDownButtonStructure=r,i.host.append(r),i.dropDownButtonWrapper=i.host.find("#dropDownButtonWrapper"),i.firstDiv=i.dropDownButtonWrapper.parent(),i.dropDownButtonArrow=i.host.find("#dropDownButtonArrow"),i.arrow=e(i.dropDownButtonArrow.children()[0]),i.dropDownButtonContent=i.host.find("#dropDownButtonContent"),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content")),i.dropDownButtonWrapper.addClass(i.toThemeProperty("jqx-disableselect")),i.rtl&&i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-rtl"));var d=this;i.host.parents()&&i.addHandler(i.host.parents(),"scroll.dropdownbutton"+i.element.id,function(e){var t=d.isOpened();t&&d.close()}),i.addHandler(i.dropDownButtonWrapper,"selectstart",function(){return!1}),i.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+i.element.id,i.dropDownButtonArrow[0].id="dropDownButtonArrow"+i.element.id,i.dropDownButtonContent[0].id="dropDownButtonContent"+i.element.id;var d=this;i.propertyChangeMap.disabled=function(t,i,r,s){s?(t.host.addClass(d.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(d.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(d.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(d.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},i.disabled&&(i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content-disabled")));var h=i.toThemeProperty("jqx-rc-all")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-widget")+" "+i.toThemeProperty("jqx-widget-content")+" "+i.toThemeProperty("jqx-dropdownlist-state-normal");if(i.host.addClass(h),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.arrow.addClass(i.toThemeProperty("jqx-icon")),i.template&&i.host.addClass(i.toThemeProperty("jqx-"+i.template)),i._setSize(),i.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.container.css("display","none"),i.host.parents(".jqx-window").length>0)){var c=i.host.parents(".jqx-window").css("z-index");a.css("z-index",c+10),i.container.css("z-index",c+10)}},setupInstance:function(){var t=this,i={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){return 0==arguments.length||"object"==typeof e?t.dropDownButtonContent.text():void t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:void 0==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:void 0==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px");var i=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0,t.host.width(t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(i=!0,t.host.height(t.height));var r=this;i&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){r._arrange()})},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXButton"+t.element.id);return null!=i&&i==t.popupContent},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers();var i=this,r=!1;t.touch||(t.addHandler(t.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(r=!0,i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),i.host.addClass(i.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),r=!1)})),i.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){var e=i.isOpened();!e&&i.autoOpen&&(i.open(),i.host.focus())}),t.addHandler(e(document),"mousemove."+i.element.id,function(e){var t=i.isOpened();if(t&&i.autoOpen){var r=i.host.coord(),s=r.top,o=r.left,n=i.container.coord(),a=n.left,l=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+i.host.height()&&e.pageX>=o&&e.pageX<o+i.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+i.container.height()&&e.pageX>=a&&e.pageX<a+i.container.width()&&(canClose=!1),canClose&&i.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!i.disabled){var t="visible"==i.container.css("visibility");if(!i.isanimating){if(t)return i.close(),!1;i.open(),i.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==i.container.css("visibility");return"none"==i.host.css("display")?!0:("13"==e.keyCode&&(i.isanimating||t&&i.close()),115==e.keyCode?(i.isanimating||(i.isOpened()?i.isOpened()&&i.close():i.open()),!1):(e.altKey&&"block"==i.host.css("display")&&(38==e.keyCode?i.isOpened()&&i.close():40==e.keyCode&&(i.isOpened()||i.open())),void("27"==e.keyCode&&(i.ishiding||(i.close(),void 0!=i.tempSelectedIndex&&i.selectIndex(i.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var i=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+i.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(i,r,s){var o=i.outerWidth(),n=i.outerHeight(),a=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(r.left+o>a&&o>t.host.width()){var d=t.host.coord().left,h=o-t.host.width();r.left=d-h+2}return r.left<0&&(r.left=parseInt(t.host.coord().left)+"px"),r.top-=Math.min(r.top,r.top+n>l&&l>n?Math.abs(n+s+22):0),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var r=t.host.width();t.container.width(parseInt(r))}i._raiseEvent("2");var s,o=t.popupContent,n=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),a=parseInt(Math.round(t.host.coord(!0).left));s=a+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=l&&l&&(s=e.jqx.mobile.getLeftPos(t.element),n=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(n=parseInt(n)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(s=parseInt(s)-t._getBodyOffset().left+"px")),o.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var d=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=!0),d&&t.container.css("display","block"),t.container.css("left",s),t.container.css("top",n);var h=!1,c=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(a))-i+"px"):t.container.css("left",parseInt(Math.round(a))+i+"px")}};if(c.call(this),"top"==t.dropDownVerticalAlignment){var u=o.height();h=!0,t.container.height(o.outerHeight()),o.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(t.host.outerHeight()),f=parseInt(n)-Math.abs(u+p);t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(o.outerHeight()!=t.container.height()){t.container.height(o.outerHeight());var e=parseInt(n)-Math.abs(o.height()+p);t.container.css("top",e)}},50),o.css("top",23),t.container.css("top",f)}if(t.enableBrowserBoundsDetection){var m=t.testOffset(o,{left:parseInt(t.container.css("left")),top:parseInt(n)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=m.top?(h=!0,t.container.height(o.outerHeight()),o.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(o.outerHeight()!=i.container.height()){var e=i.testOffset(o,{left:parseInt(t.container.css("left")),top:parseInt(n)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(o.outerHeight())}},50)):o.css("top",0),t.container.css("top",m.top),parseInt(t.container.css("left"))!=m.left&&t.container.css("left",m.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,o),o.css("margin-top",0),o.css("opacity",1),t._raiseEvent("0"),c.call(i);else{t.container.css("visibility","visible");var g=o.outerHeight();i.isanimating=!0,"fade"==t.animationType?(o.css("margin-top",0),o.css("opacity",0),o.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,o),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),c.call(i)):(o.css("opacity",1),h?o.css("margin-top",g):o.css("margin-top",-g),c.call(i),h?o.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,o),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}):o.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,o),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}h?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this,i=t.popupContent,r=t.container,s=this;s._raiseEvent("3");var o=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(o=!0),t.isOpened()){if(e.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType)t.container.css("visibility","hidden"),o&&t.container.css("display","none");else if(!s.ishiding){s.isanimating=!0,i.stop();var n=i.outerHeight();i.css("margin-top",0);var a=-n;parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(a=n),"fade"==t.animationType?(i.css({opacity:1}),i.animate({opacity:0},t.closeDelay,function(){r.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,o&&r.css("display","none")})):i.animate({"margin-top":a},t.closeDelay,function(){r.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,o&&r.css("display","none")})}t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,r=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var s=!1;return e.each(r.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return s=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return s=!0,!1}}),s||i.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),r=(e.arrowSize,e.arrowSize),s=3,o=t-r-2*s;if(o>0&&(e.dropDownButtonContent[0].style.width=o+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(r)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-s)),null!=e.dropDownWidth)if(e.dropDownWidth.toString().indexOf("%")>=0){var t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.width(t)}else e.container.width(e.dropDownWidth);null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this;t.interval&&clearInterval(t.interval),t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(e(document),"mousedown."+t.element.id,self.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(i,r){void 0==r&&(r={owner:null}),2!=i||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0);var s=t.events[i];args=r,args.owner=this;var o=new e.Event(s);o.owner=this,2!=i&&3!=i&&4!=i||(o.args=r);var n=t.host.trigger(o);return n},resize:function(e,i){t.width=e,t.height=i,t._setSize(),t._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(i,r,s,o){void 0!=t.isInitialized&&0!=t.isInitialized&&(i.batchUpdate&&i.batchUpdate.width&&i.batchUpdate.height&&2==Object.keys(i.batchUpdate).length||("template"==r&&(i.host.removeClass(i.toThemeProperty("jqx-"+s)),i.host.addClass(i.toThemeProperty("jqx-"+i.template))),"rtl"==r&&(o?(i.dropDownButtonArrow.css("float","left"),i.dropDownButtonContent.css("float","right")):(i.dropDownButtonArrow.css("float","right"),i.dropDownButtonContent.css("float","left"))),"autoOpen"==r&&i.render(),"theme"==r&&null!=o&&e.jqx.utilities.setTheme(s,o,i.host),"width"!=r&&"height"!=r||(i._setSize(),i._arrange())))}};e.extend(!0,this,i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return e.extend(!0,this,t),t},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);
var r={title:i.field.title};if(i.field.getAttribute("value")){var s=i.field.getAttribute("value");i.color=new e.jqx.color({hex:s})}i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var o=e("<div></div>",r);o[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(o);var n=i.host.data();if(i.host=o,i.host.data(n),i.element=o[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var a=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=a}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._setSize(),i.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this,t=e.color.h,i=100-e.color.v,r=e.colorMap.height(),s=e.colorMap.width(),o=t*s/360,n=i*r/100;if("saturation"==this.colorMode){var a=100-e.color.s;a=a*r/100,e._saturation=100-e.color.s,e.colorMapPointer.css("margin-left",o-8),e.colorMapPointer.css("margin-top",n-8),e.colorBarPointer.css("margin-top",a-8),e.colorMapImageOverlay.css("opacity",(100-e.color.s)/100)}else{var t=e.color.s,o=t*s/100,n=i*r/100,a=360-e.color.h;a=a*r/360,e._hue=e.color.h,e.colorMapPointer.css("margin-left",o-8),e.colorMapPointer.css("margin-top",n-8),e.colorBarPointer.css("margin-top",a-8)}},updateRGB:function(){var e=this;e.color.setRgb(e.red.val(),e.green.val(),e.blue.val()),e._updateUI(),e._raiseEvent("0",{color:e.color}),e.color.transparent=!1},_setPosition:function(t,i,r){var s=parseInt(t.pageX),o=parseInt(i.offset().left),n=parseInt(t.pageY),a=parseInt(i.offset().top);if(this._isTouchDevice){var l=e.jqx.position(t);s=l.left,n=l.top}-1==r[0].className.indexOf("jqx-color-picker-bar")&&r.css("margin-left",s-8-o),n>=a&&n<=a+i.height()&&r.css("margin-top",n-8-a)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){t._handleKeyInput(t,e,t.blue)}),this.addHandler(this.green,"keyup blur",function(e){t._handleKeyInput(t,e,t.green)}),this.addHandler(this.red,"keyup blur",function(e){t._handleKeyInput(t,e,t.red)}),this.addHandler(this.hex,"keyup blur",function(e){return t.disabled?void 0:t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1});var i=function(e){if(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorMap,360,100);i.x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)}else{var i=t._valuesFromMouse(e,t.colorMap,100,100);i.x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},r="mousedown.picker"+this.element.id;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,r,function(e){t.disabled||(t.beginDrag=!0,i(e))});var s="mousemove.picker"+this.element.id;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),s,function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1});var o=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100);t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{var i=t._valuesFromMouse(e,t.colorBar,100,360);t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},n="mousemove.colorBar"+this.element.id,a="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(n=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,a,function(e){t.disabled||(t.beginDragBar=!0,o(e))}),this.addHandler(e(document),n,function(e){t.disabled||1==t.beginDragBar&&(o(e),t._isTouchDevice&&e.preventDefault())}),this.addHandler(e(document),l,function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var t=this.element.id,i="mousemove.colorBar"+t,r="mousedown.colorBar"+t,s="mouseup.colorBar"+t,o="mousedown.picker"+t,n="mousemove.picker"+t;this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,s=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,o=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,n=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,o),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorBar,r),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),n),this.removeHandler(e(document),i),this.removeHandler(e(document),s)},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t],s=i?i:{};s.owner=this;var o=new e.Event(r);o.owner=this,o.args=s;var n=this.host.trigger(o);return n},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,r){void 0!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:r})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=r,r?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,r,s){var o=0,n=0,a=i.offset(),l=i.height(),d=i.width(),h=t.pageX,c=t.pageY;if(this._isTouchDevice){var u=e.jqx.position(t);h=u.left,c=u.top}o=h<a.left?0:h>a.left+d?d:h-a.left+1,n=c<a.top?0:c>a.top+l?l:c-a.top+1;var p=parseInt(o/d*r),f=parseInt(n/l*s);return{x:p,y:f}},_validateKey:function(e){return 9==e.keyCode||16==e.keyCode||38==e.keyCode||29==e.keyCode||40==e.keyCode||17==e.keyCode||37==e.keyCode||e.ctrlKey&&(e.keyCode=="c".charCodeAt()||e.keyCode=="v".charCodeAt())||e.ctrlKey&&(e.keyCode=="C".charCodeAt()||e.keyCode=="V".charCodeAt())?!1:!e.ctrlKey&&!e.shiftKey},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e),e>i?i:t>e?t:e)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));var t=105,i=.299*e.r+.587*e.g+.114*e.b,r=t>255-i?"Black":"White";"Black"==r?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var t=this;t.red.val(t.color.r),t.green.val(t.color.g),t.blue.val(t.color.b),t.hex.val(t.color.hex);var i=new e.jqx.color({hex:"fff"});"saturation"==this.colorMode?(i.setHsv(this.color.h,100,this.color.v),t.colorBar.css("background","#"+i.hex)):(i.setHsv(this.color.h,100,100),t.colorMap.css("background-color","#"+i.hex)),t.preview.css("background","#"+this.color.hex),t.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(0>=i)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var r=this.red.prev().outerWidth()-this.hex.prev().outerWidth();4>r&&(r=4),this.hex.css("margin-left",r+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var s=this.hex.width(),o=s-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return o>0?(this.blue.width(o/3),this.green.width(o/3),void this.red.width(o/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>");return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){e=this.validateHex(e);var t="00",i="00",r="00";return 6==e.length?(t=e.substring(0,2),i=e.substring(2,4),r=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(r=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(r)}},validateHex:function(e){return e=new String(e).toUpperCase(),e=e.replace(/[^A-F0-9]/g,"0"),e.length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,r;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),r=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),r=e.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(r)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,r=parseInt(e.l)/100;if(.5>=r)var s=r*(1+i);else var s=r+i-r*i;var o=2*r-s,n=t+1/3,a=t,l=t-1/3,d=Math.round(255*this.hueToRgb(o,s,n)),h=Math.round(255*this.hueToRgb(o,s,a)),c=Math.round(255*this.hueToRgb(o,s,l));return{r:d,g:h,b:c}},hueToRgb:function(e,t,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,r=e.b/255;hsv={h:0,s:0,v:0};var s=0,o=0;return t>=i&&t>=r?(o=t,s=i>r?r:i):i>=r&&i>=t?(o=i,s=t>r?r:t):(o=r,s=i>t?t:i),hsv.v=o,hsv.s=o?(o-s)/o:0,hsv.s?(delta=o-s,t==o?hsv.h=(i-r)/delta:i==o?hsv.h=2+(r-t)/delta:hsv.h=4+(t-i)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(e){rgb={r:0,g:0,b:0};var t=e.h,i=e.s,r=e.v;if(0==i)0==r?rgb.r=rgb.g=rgb.b=0:rgb.r=rgb.g=rgb.b=parseInt(255*r/100);else{360==t&&(t=0),t/=60,i/=100,r/=100;var s=parseInt(t),o=t-s,n=r*(1-i),a=r*(1-i*o),l=r*(1-i*(1-o));switch(s){case 0:rgb.r=r,rgb.g=l,rgb.b=n;break;case 1:rgb.r=a,rgb.g=r,rgb.b=n;break;case 2:rgb.r=n,rgb.g=r,rgb.b=l;break;case 3:rgb.r=n,rgb.g=a,rgb.b=r;break;case 4:rgb.r=l,rgb.g=n,rgb.b=r;break;case 5:rgb.r=r,rgb.g=n,rgb.b=a}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(e,t,i){var r=function(e){return 0>e||e>255?0:isNaN(parseInt(e))?0:e};this.r=r(e),this.g=r(t),this.b=r(i);var s=this.rgbToHsv(this);this.h=s.h,this.s=s.s,this.v=s.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var r=this.hslToRgb(this);this.r=r.r,this.g=r.g,this.b=r.b,this.hex=this.rgbToHex(r)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var r=this.hsvToRgb(this);this.r=r.r,this.g=r.g,this.b=r.b,this.hex=this.rgbToHex(r)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return e.extend(!0,this,t),t},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":i.id=e.jqx.utilities.createId()+"_jqxSwitchButton";var r=e("<div></div>",i);r[0].style.cssText=t.field.style.cssText,t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var s=t.host.data();if(t.host=r,t.host.data(s),t.element=r[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),r=this._dir("size"),s=this._wrapper;if(t.css({width:this.width,height:this.height}),s.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],s.css(r,t[r]()+this._offLabel[this._dir("oSize")]()+e),s.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){var o=(this._thumb,this._onLabel),n=this._offLabel;o.css("position","relative"),o.css("top","1px"),o.css("margin-left","1px"),n.css("position","relative"),n.css("top","1px"),n.css("left","-2px"),n.css("margin-right","1px"),n.height(o.height()-2),n.width(o.width()-3),o.height(o.height()-2),o.width(o.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),r=this._dir("size"),s=this._dir("oSize"),o=e[r]()-t[s](),n=this._borders[this._dir("opposite")]/2;this._onLabel[r](o+n),this._offLabel[r](o+n),this.rtl&&this._onLabel[r](o+2*n),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent(),r=i.height(),s=e.outerHeight(),o=this._borders[this.orientation]/2||0;0==s&&(s=14);var n=Math.floor((r-s)/2)+o;e.css("margin-top",n),t.css("margin-top",n)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,r=parseInt(i.css("margin-"+t._dir("pos")),10)||0,s=t._dropHandler(r);s?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var r=t._dir("pos"),s=t._wrapper,o=t._buttonStartPosition[r],n=o+i[r]-t._mouseStartPosition[r],n=t._validatePosition(n);return t._dragged=!0,s.css("margin-"+t._dir("pos"),n),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=0,r=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;
return e>i?i:r>e?r:e},_dropHandler:function(e){var t=0,i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),r=Math.abs(i-t),s=Math.abs(e-this._buttonStartPosition[this._dir("pos")]),o=r*(this.switchRatio/100);return s>=o},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var r=this._wrapper,s=this,o={},n=this._borders[this._dir("opposite")],a=0;"undefined"==typeof t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+n,this.metroMode&&(a+=5)):this.metroMode&&(a-=3):e||(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+n),o["margin-"+this._dir("pos")]=-a,e?s.host.addClass(s.toThemeProperty("jqx-switchbutton-on")):s.host.removeClass(s.toThemeProperty("jqx-switchbutton-on")),r.animate(o,t,function(){e?(s._onLabel.css("visibility","visible"),s._offLabel.css("visibility","hidden")):(s._onLabel.css("visibility","hidden"),s._offLabel.css("visibility","visible")),s.checked=e,i||s._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host,i=t.find("*");e.each(i,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var r=e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_themeChanger:function(t,i,r){if(t){"undefined"==typeof r&&(r=this.host);for(var s=r[0].className.split(" "),o=[],n=[],a=r.children(),l=0;l<s.length;l+=1)s[l].indexOf(t)>=0&&(o.push(s[l]),n.push(s[l].replace(t,i)));this._removeOldClasses(o,r),this._addNewClasses(n,r);for(var l=0;l<a.length;l+=1)this._themeChanger(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,r,s){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":s?t.disable():t.enable();break;case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10);break;case"checked":s?t.check():t.uncheck();break;case"onLabel":t.setOnLabel(s);break;case"offLabel":t.setOffLabel(s);break;case"theme":e.jqx.utilities.setTheme(r,s,t.host);break;case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var r=this;e.jqx.utilities.resize(this.host,function(){r._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var s=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+s,this.btnDown[0].id="jqxScrollBtnDown"+s,this.btnThumb[0].id="jqxScrollThumb"+s,this.areaUp[0].id="jqxScrollAreaUp"+s,this.areaDown[0].id="jqxScrollAreaDown"+s,this.scrollWrap[0].id="jqxScrollWrap"+s,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+s,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,r){isNaN(r)||i!=r&&e.setPosition(parseFloat(r),!0)},this.propertyChangeMap.width=function(e,t,i,r){void 0!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,r){void 0!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,r){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,r){isNaN(r)||i!=r&&(e.max=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,r){isNaN(r)||i!=r&&(e.min=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,r){i!=r&&(r?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,r){i!=r&&(e._updateTouchBehavior(),r===!0?(e.showButtons=!1,e.refresh()):r===!1&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(r){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),r=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(r),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,r,s,o){if("visible"==t.host.css("visibility")){if(1==t.touchMode)o.clientX=o.originalEvent.clientX,o.clientY=o.originalEvent.clientY;else{var n=o;n.originalEvent.touches&&n.originalEvent.touches.length?(o.clientX=n.originalEvent.touches[0].clientX,o.clientY=n.originalEvent.touches[0].clientY):(o.clientX=o.originalEvent.clientX,o.clientY=o.originalEvent.clientY)}var a=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(o)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var o=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",o,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",o)}}}catch(n){}var a="click mouseup mousedown";this.addHandler(this.btnDown,a,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,a,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var l="click";if(this.isTouchDevice&&(l=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,l,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,l,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){return t.disabled?void 0:(t.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(e){return t.disabled?void 0:(t.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){return"dragstart"===e.type?!1:(t.disabled||t.handlemousedown(e),void(e.preventDefault&&e.preventDefault()))}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var d=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(d=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(d),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(d),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,r=this.btnThumb,s=(this.scrollWrap,this.areaUp),o=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,o.removeClass(),s.removeClass(),i.removeClass(),t.removeClass(),r.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),o.jqxRepeatButton("destroy"),r.jqxButton("destroy");var n=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,n&&delete n.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&void 0!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&void 0!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&void 0!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&void 0!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&void 0!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&void 0!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&void 0!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&void 0!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,r=this.btnThumb,s=this.scrollWrap,o=(this.areaUp,this.areaDown,this.arrowUp),n=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var a=this.toThemeProperty("jqx-reset");this.areaDown[0].className=a,this.areaUp[0].className=a;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var d="";if(this.vertical?(o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-up"),n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-down"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-left"),n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-right"),d=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),r[0].className=d,this.disabled?(s.addClass(this.toThemeProperty("jqx-fill-state-disabled")),s.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(s.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),s.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var h=e.jqx.cssroundedcorners("top");h=this.toThemeProperty(h),t.addClass(h);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),elBtnUp.addClass(f),elBtnDown.addClass(f)}var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),r.hasClass(f)||r.addClass(f),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},track:function(){var e,t,i,r;e=Date.now(),t=e-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,r=1e3*i/(1+t),this.velocity=.2*r+.2*this.velocity},handlemousedown:function(t){function i(e){s.reference=parseInt(s.btnThumb[0].style.top),s.offset=parseInt(s.btnThumb[0].style.top),s.vertical||(s.reference=parseInt(s.btnThumb[0].style.left),s.offset=parseInt(s.btnThumb[0].style.left)),s.velocity=s.amplitude=0,s.frame=s.offset,s.timestamp=Date.now(),clearInterval(s.ticker),s.ticker=setInterval(function(){s.track()},100)}if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var r=this.btnThumb;null!=r&&(r.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var s=this;this.thumbCapture&&e.jqx.scrollAnimation&&i(t),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var r=this.btnThumb,s=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");r.removeClass(s),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var r=this.btnThumb;this.vertical?r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),r.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown,r=0;if(null!=i&&null!=t){if(null!=t&&null!=i&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&e.which==r?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&e.which==r&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(e.which==r&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var o=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(o),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var a=this._btnAndThumbSize;this._btnAndThumbSize||(a=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var l=(this.max-this.min)/(this.scrollBarSize-a);if("auto"!=this.thumbStep){if(n*=l,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var d=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-d):this.setPosition(this.dragStartValue+d),!1}return!1}n*=l;var d=n;this.rtl&&!this.vertical&&(d=-n),this.setPosition(this.dragStartValue+d),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(h){alert(h)}return!1}},handlemouseup:function(t,i){function r(){var e,t;if(a.amplitude)if(e=Date.now()-a.timestamp,t=-a.amplitude*Math.exp(-e/325),t>.5||-.5>t){var i=(a.max-a.min)/(a.scrollBarSize-a._btnAndThumbSize),s=i*(a.target+t),o=s;a.rtl&&!a.vertical&&(o=-s),a.setPosition(a.dragStartValue+o),requestAnimationFrame(r)}else{var i=(a.max-a.min)/(a.scrollBarSize-a._btnAndThumbSize),s=i*(a.target+t),o=s;a.rtl&&!a.vertical&&(o=-s),a.setPosition(a.dragStartValue+o)}}var s=!1;if(this.thumbCapture){this.thumbCapture=!1;var o=this.btnThumb,n=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(o.removeClass(n),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var a=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical?this.target-=this.reference:this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(r))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var l=this.btnUp,d=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),s=!0,this._mouseup=new Date}s&&(void 0!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),void 0!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(void 0!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var r=new e.Event("complete");this.host.trigger(r)}var s=this.value;if(this._triggervaluechanged){var o=new e.Event("valueChanged");o.previousValue=this.value,o.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(o),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:s})}return t},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=(this.element,this.areaUp),t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),r=(this.scrollWrap,this._height?this._height:this.host.height()),s=this._width?this._width:this.host.width(),o=this.vertical?s:r;this.showButtons||(o=0);var n=this.vertical?r:s;this.scrollBarSize=n;var a=this._getThumbSize(n-2*o);a=Math.floor(a),a<this.thumbMinSize&&(a=this.thumbMinSize),(NaN==r||10>r)&&(r=10),(NaN==s||10>s)&&(s=10),o+=2,this.btnSize=o;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){var l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var d=(n-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(d=(n-l)/(this.max-this.min)*(this.max-this.value-this.min)),d=Math.round(d),0>d&&(d=0),this.vertical){var h=n-d-l;0>h&&(h=0),t[0].style.height=h+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,o),this._setElementTopPosition(i,o+d),this._setElementTopPosition(t,o+d+a)}else e[0].style.width=d+"px",n-d-l>=0?t[0].style.width=n-d-l+"px":t[0].style.width="0px",this._setElementLeftPosition(e,o),this._setElementLeftPosition(i,o+d),this._setElementLeftPosition(t,2+o+d+a)},_arrange:function(){var e=this;if(e._initialLayout)return void(e._initialLayout=!1);if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}var r=(e.element,e.areaUp),s=e.areaDown,o=e.btnUp,n=e.btnDown,a=e.btnThumb,l=e.scrollWrap,d=parseInt(e.element.style.height),h=parseInt(e.element.style.width);if(e.isPercentage)var d=e.host.height(),h=e.host.width();isNaN(d)&&(d=0),isNaN(h)&&(h=0),e._width=h,e._height=d;var c=e.vertical?h:d;e.showButtons||(c=0),o[0].style.width=c+"px",o[0].style.height=c+"px",n[0].style.width=c+"px",n[0].style.height=c+"px",e.vertical?l[0].style.width=h+2+"px":l[0].style.height=d+2+"px",e._setElementPosition(o,0,0);var u=c+2;e.vertical?e._setElementPosition(n,0,d-u):e._setElementPosition(n,h-u,0);var p=e.vertical?d:h;e.scrollBarSize=p;var f=e._getThumbSize(p-2*u);f=Math.floor(f-2),f<e.thumbMinSize&&(f=e.thumbMinSize);var m=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(m=!0),e.vertical?(a[0].style.width=h+"px",a[0].style.height=f+"px",m&&0!==e.thumbTouchSize&&(a.css({width:e.thumbTouchSize+"px"}),a.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(a[0].style.width=f+"px",a[0].style.height=d+"px",m&&0!==e.thumbTouchSize&&(a.css({height:e.thumbTouchSize+"px"}),a.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==d||10>d)&&(d=10),(NaN==h||10>h)&&(h=10),e.btnSize=c;var g=e.vertical?2*u+(2+parseInt(a[0].style.height)):2*u+(2+parseInt(a[0].style.width));g=Math.round(g),e._btnAndThumbSize=g;var v=(p-g)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(p-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),
(isNaN(v)||0>v||v===-(1/0)||v===1/0)&&(v=0),e.vertical){var x=p-v-g;0>x&&(x=0),s[0].style.height=x+"px",s[0].style.width=h+"px",r[0].style.height=v+"px",r[0].style.width=h+"px";var w=parseInt(e.element.style.height);e.isPercentage&&(w=e.host.height()),a[0].style.visibility="inherit",(w-3*parseInt(c)<0||g>w)&&(a[0].style.visibility="hidden"),e._setElementPosition(r,0,u),e._setElementPosition(a,0,u+v),e._setElementPosition(s,0,u+v+f)}else{v>0&&(r[0].style.width=v+"px"),d>0&&(r[0].style.height=d+"px");var b=p-v-g;0>b&&(b=0),s[0].style.width=b+"px",s[0].style.height=d+"px";var y=parseInt(e.element.style.width);e.isPercentage&&(y=e.host.width()),a[0].style.visibility="inherit",(y-3*parseInt(c)<0||g>y)&&(a[0].style.visibility="hidden"),e._setElementPosition(r,u,0),e._setElementPosition(a,u+v,0),e._setElementPosition(s,u+v+f,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPanel","",{}),e.extend(e.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var t=e("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var i=this.host.children();this._rtl=!1,i.length>0&&"rtl"==i.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(t);var r=this.host.find("#verticalScrollBar");r[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var s=this.host.find("#horizontalScrollBar");s[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance;var o=this;this.propertyChangeMap.disabled=function(e,t,i,r){o.vScrollBar.jqxScrollBar({disabled:o.disabled}),o.hScrollBar.jqxScrollBar({disabled:o.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=o.content[0].scrollWidth,this.contentHeight=o.content[0].scrollHeight,this.autoUpdate&&o._autoUpdate(),this.propertyChangeMap.autoUpdate=function(e,t,i,r){o.autoUpdate?o._autoUpdate():(clearInterval(o.autoUpdateId),o.autoUpdateId=null)},this.addHandler(e(window),"unload",function(){null!=o.autoUpdateId&&(clearInterval(o.autoUpdateId),o.autoUpdateId=null,o.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this;1==this.touchMode&&e.jqx.mobile.setMobileSimulator(this.element);var i=this.isTouchDevice();i&&(e.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var r=t.vScrollInstance.value;t.vScrollInstance.setPosition(r+i)}if("hidden"!=t.hScrollBar.css("visibility")){var r=t.hScrollInstance.value;t.hScrollInstance.setPosition(r+e)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(t){null!=t&&(e(t).remove(),this._arrange())},_autoUpdate:function(){var e=this;this.autoUpdateId=setInterval(function(){var t=e.content[0].scrollWidth,i=e.content[0].scrollHeight,r=!1;e.contentWidth!=t&&(e.contentWidth=t,r=!0),e.contentHeight!=i&&(e.contentHeight=i,r=!0),r&&e._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(e){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(e){t.focused=!1}),this.addHandler(this.host,"focus",function(e){t.focused=!0}),this.addHandler(this.host,"blur",function(e){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(e){t.focused=!0}),e.jqx.utilities.resize(this.host,function(){e.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(e(window),"resize."+this.element.id)},wheel:function(t,i){var r=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(r=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?r=t.wheelDelta/120:t.detail&&(r=-t.detail/3),r){var s=i._handleDelta(r);return s||t.preventDefault&&t.preventDefault(),s?!1:s}t.preventDefault&&t.preventDefault(),t.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max?(e.setPosition(e.max),!0):!1},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min?(e.setPosition(e.min),!0):!1},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!1}return!0},_render:function(e){void 0==e&&(e=this);var t=e.vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){void 0!=e&&void 0!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),isNaN(t)?t="17px":t+="px"),this.isTouchDevice()&&(t=e.jqx.utilities.touchScrollBarSize),t=parseInt(t)},_getScrollArea:function(){var t=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(t=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var i=parseInt(this.content[0].scrollWidth);e.each(this.content.children(),function(){i=Math.max(i,this.scrollWidth),i=Math.max(i,e(this).outerWidth())}),e.jqx.browser.msie&&e.jqx.browser.version<10&&this.content.css("left",t);var r=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),e.jqx.browser.msie&&e.jqx.browser.version<9){var r=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var r=parseInt(this.content[0].scrollHeight),i=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var r=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:i,height:r}},_arrange:function(t){t!==!1&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var i=this._getScrollSize(),r=this.host.width(),s=this.host.height(),o=this._getScrollArea(),n=o.width,a=o.height,l=a-parseInt(Math.round(this.host.height())),d=n-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(d=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(l=this.verticalScrollBarMax);var h=function(e,t){var i=5;t>i?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))},c=function(t,r){r>0?e.jqx.browser.msie&&e.jqx.browser.version<8&&i>=r-10?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:r+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(n),this.host.height(a),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(n),this.hScrollBar.css("visibility","hidden"),h(this,l),void this._arrangeScrollbars(i,n,s);case"verticalWrap":case"verticalwrap":return this.host.height(a),this.vScrollBar.css("visibility","hidden"),c(this,d),void this._arrangeScrollbars(i,r,s)}h(this,l);var u=2;"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&d>0||d>0)&&(d+=i+u),c(this,d),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:l+i+u}),this._arrangeScrollbars(i,r,s)},_arrangeScrollbars:function(t,i,r){var s="hidden"!=this.vScrollBar[0].style.visibility,o=("hidden"!=this.hScrollBar[0].style.visibility,2),n=2;if(this.hScrollBar.height(t),this.hScrollBar.css({top:r-t-o-n+"px",left:"0px"}),this.hScrollBar.width(i-o+"px"),this.vScrollBar.width(t),this.vScrollBar.height(parseInt(r)-o+"px"),this.vScrollBar.css({left:parseInt(i)-parseInt(t)-o-n+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var a=s?parseInt(t)+"px":0;if("rtl"!=this.content.children().css("direction")){var l=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=!0),l||this.content.css("padding-left",a)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(t)+3),this.bottomRight.height(parseInt(t)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+n+"px"})),this.hScrollBar.width(i-1*t-o-n+"px"),this.vScrollBar.height(parseInt(r)-o-t-n+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(e(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(t,i,r){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[t],o=new e.Event(s);o.previousValue=i,o.currentValue=r,o.owner=this;var n=this.host.trigger(o);return n}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,r){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:r}),this.hScrollBar.jqxScrollBar({rtl:r}),e._arrange()),e.updating||"scrollBarSize"!=t&&"width"!=t&&"height"!=t||i!=r&&e._arrange(),"touchMode"==t&&"auto"!=r&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){e.jqx.isHidden(this.host)||this.refresh()},refresh:function(e){this._arrange()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return e.extend(!0,this,t),t},createInstance:function(t){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=e.data(document.body,"_tooltipIDArray"+this.name);i?this.ID_Array=i:(this.ID_Array=new Array,e.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var r=this._generatekey(),s="jqxtooltip"+r;this.ID_Array.push({tooltipID:s,tooltipHost:this.host});var o=e('<div id="'+s+'"><div id ="'+s+'Main"><div id="'+s+'Text"></div></div><div id="'+s+'Arrow"></div></div>');e.jqx.browser.msie&&o.addClass(this.toThemeProperty("jqx-noshadow")),e("body").append(o),this._setTheme();var n=e("#"+s);n.css("visibility","hidden"),n.css("display","none"),n.css("opacity",0),n.css("z-index",99999),0==this.showArrow&&(e("#"+s+"Arrow").css("visibility","hidden"),e("#"+s+"Arrow").css("display","none")),this._setSize(),this._setContent(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2==arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var r=new Number(e(this._id()).css("opacity")).toFixed(2),s=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),e(i._id()).animate({opacity:0},t,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._raiseEvent("1"),i._isOpen=!1})};return 0==this._isOpen&&0!=r?(e(i._id()).stop(),void s()):void(1==this._isOpen&&r==this.opacity&&s())},destroy:function(){var t=this.ID_Array.length;this._removeHandlers(),e(this._id()).remove();for(var i=0;t>i;i++)if(this.ID_Array[i].tooltipHost===this.host){this.ID_Array.splice(i,1);break}e(this.element).removeData("jqxTooltip")},refresh:function(t){if(1!=t){this.rtl&&(e(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl")),e(this._id()+"Text").css({direction:"rtl"}));var i=this,r=new Number(e(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&r==this.opacity&&(clearTimeout(this.autoHideTimeout),e(this._id()).stop(),e(this._id()).animate({opacity:0},this.animationHideDelay,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!=this.position&&"mouseenter"!=this.position&&this._setPosition(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,r){"content"==t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var o=this.host.trigger(s)}catch(n){}return o},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t,i=this.ID_Array.length,r=0;i>r;r++)if(this.ID_Array[r].tooltipHost===this.host){e=this.ID_Array[r].tooltipID,t="#"+e;break}return void 0==t&&(t="removed"),t},_setPosition:function(t){if(0==this._isOpen&&0==e(this._id()).css("opacity")||1==this.changeContentFlag){if(!t&&("mouse"==this.position||"mouseenter"==this.position))return;e(this._id()).css("display","block"),this.changeContentFlag=!1,this.documentTop=e(document).scrollTop(),this.documentLeft=e(document).scrollLeft(),this.windowWidth=e(window).width(),this.windowHeight=e(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=e(this._id()).width(),this.tooltip_height=e(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=e(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var i=e(this._id()+"Arrow"),r=e(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+r.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this.tooltip_offset.top=parseInt(this.tooltip_offset.top),this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+r.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+r.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":e(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),i.css({"border-width":"0px"});break;case"mouse":var s=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){s.tooltip_offset.left=t.pageX+10,s.tooltip_offset.top=t.pageY+10,s._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=t.pageX+10,this.tooltip_offset.top=t.pageY+10,this._detectBrowserBounds()}else{var o=t.pageX,n=t.pageY;if(t.originalEvent){var a=null;if(t.originalEvent.touches&&t.originalEvent.touches.length)var a=t.originalEvent.touches[0];else if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length)var a=t.originalEvent.changedTouches[0];void 0!=a&&(o=a.pageX,n=a.pageY)}this.tooltip_offset.left=o+10,this.tooltip_offset.top=n+10,this._detectBrowserBounds()}i.css({"border-width":"0px"});break;case"mouseenter":var l={top:t.pageY,left:t.pageX};l.top<this.host_offset.top+10&&l.top>this.host_offset.top-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.top<this.host_offset.top+this.host_height+10&&l.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(r.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+10&&l.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+r.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+this.host_width+10&&l.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=r.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+r.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=r.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}},_setContent:function(){e(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=new Number(e(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==t){var i=this,r=e(this._id());if(r.css("visibility","visible"),r.css("display","block"),r.stop(),r.css("opacity",0),this.opening){var s=this.opening(this);if(s===!1)return}r.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0;e.data(document.body,"_openedTooltip"+i.name);i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&i.autoHide===!0&&(i.autoHideTimeout=setTimeout(function(){
i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var t=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(e){1==t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var r=e(t._id()).offset(),s=e(t._id()).width(),o=e(t._id()).height();(parseInt(i.pageX)<parseInt(r.left)||parseInt(i.pageX)>parseInt(r.left)+s)&&t.close(),(parseInt(i.pageY)<parseInt(r.top)||parseInt(i.pageY)>parseInt(r.top)+o)&&t.close()}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var r=i.pageX,s=i.pageY,o=e(t._id()).offset(),n=o.left,a=o.top,l=e(t._id()).width(),d=e(t._id()).height();(parseInt(r)<parseInt(n)||parseInt(r)>parseInt(n)+l||parseInt(s)<parseInt(a)||parseInt(s)>parseInt(a)+d)&&t.close()}}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()});break;case"none":}else"none"!=this.trigger&&this.addHandler(this.host,"touchstart.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var t=this,i=new Number(e(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&i>=this.opacity&&(t._raiseEvent("3"),e(t._id()).animate({opacity:0},t.animationHideDelay,function(){e(t._id()).css("visibility","hidden"),e(t._id()).css("display","none"),t._raiseEvent("1"),t._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(e(this._id()),"click.tooltip",function(e){t._checkBoundariesClick(e),t.close()})},_setSize:function(){e(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var t=this._id(),i=e(t+"Main"),r=e(t+"Text"),s=e(t+"Arrow");i.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-fill-state-normal")),e(t).addClass(this.toThemeProperty("jqx-tooltip")),e(t).addClass(this.toThemeProperty("jqx-popup")),i.addClass(this.toThemeProperty("jqx-tooltip-main")),r.addClass(this.toThemeProperty("jqx-tooltip-text")),s.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var t=this._id();this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?e(t).offset({top:this.documentTop,left:this.documentLeft}):this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top<this.documentTop?e(t).offset({top:this.documentTop,left:this.tooltip_offset.left}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}):this.tooltip_offset.left<0?e(t).offset({top:this.tooltip_offset.top,left:this.documentLeft}):this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}):e(t).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left}):e(t).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(e){return e.pageX>=this.host_offset.left&&e.pageX<=this.host_offset.left+this.host_width&&e.pageY>=this.host_offset.top&&e.pageY<=this.host_offset.top+this.host_height},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(e(this._id()),"click.tooltip"),this.removeHandler(e(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var t=this.ID_Array.length,i=0;t>i;i++){var r="#"+this.ID_Array[i].tooltipID;r!=this._id()&&(e(r).css({opacity:0,visibility:"hidden",display:"none"}),this._isOpen=!1)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};if(i.field.value&&(r.value=i.field.value),i.field.checked&&(r.checked=!0),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var s=new Date(i.field.getAttribute("min"));"Invalid Date"!=s&&(i.min=s)}if(i.field.getAttribute("max")){var o=new Date(i.field.getAttribute("max"));"Invalid Date"!=o&&(i.max=o)}var n=e("<div></div>",r);n[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(n);var a=i.host.data();if(i.host=n,i.host.data(a),i.element=n[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var l=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=l}}},createInstance:function(t){var i=this;i._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");var r=(this.element.id,this);if(this.propertyChangeMap.width=function(e,t,i,s){r.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(Globalize){var s=Globalize.culture(this.culture);this.localization.calendar=s.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return r.keyboardNavigation&&void 0!=r._handleKey&&(t=r._handleKey(e),t||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var o=!1,n=this,a=!1;null!=r.width&&-1!=r.width.toString().indexOf("%")&&(a=!0),null!=r.height&&-1!=r.height.toString().indexOf("%")&&(a=!0),e.jqx.utilities.resize(this.host,function(){var e=n.host.find("#View"+r.element.id);o?n.refreshTitle(e):(o=!0,n.render()),a&&(r.refreshTimer&&clearTimeout(r.refreshTimer),r.refreshTimer=setTimeout(function(){r.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,s){s?e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){if(!e)return new Date(1900,0,1);var t=new Date(e.getFullYear(),e.getMonth(),1);return t},_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,r=this._getSelectedDate();if(void 0==r){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),r=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var s=this._getSelectedCell();this._setDateAndSwitchViews(s,t,"keyboard")}if("year"==this.view){var o=r.getMonth(),n=this._getYearAndMonthPart(this.getMinDate()),a=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:if(0==o){var l=new Date(r.getFullYear()-1,11,1);l>=n?(this.selectedDate=l,this.navigateBackward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateBackward())}else{var l=new Date(r.getFullYear(),o-1,1);l>=n&&this._selectDate(l,"key")}return!1;case 38:var l=new Date(r.getFullYear(),o-4,1);return n>l&&(l=n),0>o-4?(this.selectedDate=l,this.navigateBackward()):this._selectDate(l,"key"),!1;case 40:var l=new Date(r.getFullYear(),o+4,1);return l>a&&(l=a),o+4>11?(this.selectedDate=l,this.navigateForward()):this._selectDate(l,"key"),!1;case 39:if(11==o){var l=new Date(r.getFullYear()+1,0,1);a>=l?(this.selectedDate=l,this.navigateForward()):this.selectedDate!=a&&(this.selectedDate=a,this.navigateForward())}else{var l=new Date(r.getFullYear(),o+1,1);a>=l&&this._selectDate(l,"key")}return!1}return!0}if("decade"==this.view){var d=this._renderStartDate.getFullYear(),h=this._renderEndDate.getFullYear(),c=r.getFullYear(),u=this.getMinDate().getFullYear(),p=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(d>=c?(this.selectedDate=new Date(c-1,r.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,r.getMonth(),1),"key")),!1;case 38:var f=c-4;return u>c-4&&(f=u),d>f?(this.selectedDate=new Date(f,r.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(f,r.getMonth(),1),"key"),!1;case 40:var f=c+4;return f>p&&(f=p),f>h?(this.selectedDate=new Date(f,r.getMonth(),1),this.navigateForward()):this._selectDate(new Date(f,r.getMonth(),1),"key"),!1;case 39:return p>=c+1&&(c==h?(this.selectedDate=new Date(c+1,r.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,r.getMonth(),1),"key")),!1}return!0}var m=new e.jqx._jqxDateTimeInput.getDateTime(r),g=this.getViewStart(),v=this.getViewEnd(),x=e.data(this.element,"View"+this.element.id);if(void 0==x||null==x)return!0;if(36==i)return m._setDay(1),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1);if(35==i){var w=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(w),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1)}var b=1;if(t.ctrlKey&&(b=12),34==i){var y=this.navigateForward(b);if(y){if(m._addMonths(b),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==i){var y=this.navigateBackward(b);if(y){if(m._addMonths(-b),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==i){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g){var y=this.navigateBackward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j<=m.dateTime){this.value.day=j.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==i){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v){var y=this.navigateForward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j>=m.dateTime){this.value.day=j.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}if(37==i){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g){var y=this.navigateBackward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(39==i){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v){var y=this.navigateForward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var r=this.specialDates.length;this.specialDates[r]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate(),t=this.getFirstDayOfWeek(e);return t.dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),r=this.getVisibleDate(),s=this.getFirstDayOfWeek(r);this.refreshCalendarCells(i,s,e),this.refreshTitle(i),this.refreshRowHeader(i,e),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var o=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(o=this.host.height()-this.titleHeight),this.showFooter&&(o-=20);var n=i.find("#cellsTable"+e),a=i.find("#calendarRowHeader"+e);n.height(o),a.height(o)}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var r=this.getVisibleDate(),s=this.getFirstDayOfWeek(r),o=(s.dayOfWeek,this.getWeekOfYear(s)),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));n._addDays(5),n.dayOfWeek=n.dateTime.getDay();var a=(this.getWeekOfYear(n),this.rowHeader.find("table"));a.width(this.rowHeaderWidth);for(var l=s,d=new Array,h=0;6>h;h++){var c=(o.toString(),new e.jqx._jqxCalendar.cell(l.dateTime)),u=h+1+this.element.id,p=e(a[0].rows[h].cells[0]);c.element=p,c.row=h,c.column=0;var f=p.find("#headerCellContent"+u);f.addClass(this.toThemeProperty("jqx-calendar-row-cell")),f[0].innerHTML=o,d[h]=c,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),o=this.getWeekOfYear(l)}var m=e.data(this.element,t[0].id);m.rowCells=d,this._refreshOtherMonthRows(m,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,r=!1,s=0;s<e.cells.length;s++){var o=e.cells[s];o.isVisible&&7>s?i=!0:o.isVisible&&s>=e.cells.length-7&&(r=!0)}i||this._displayFirstRow(!1,t),r||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var r=this.host.find("#"+i),s=r.find("#calendarRowHeader"+r[0].id).find("table"),o=null;if(this.showWeekNumbers&&s[0].cells)var o=e(s[0].rows[5]);var n=e(r.find("#cellTable"+r[0].id)[0].rows[5]);t?(this.showWeekNumbers&&o&&o.css("display","table-row"),n.css("display","table-row")):(this.showWeekNumbers&&o&&o.css("display","none"),n.css("display","none"))},_displayFirstRow:function(t,i){var r=this.host.find("#"+i),s=r.find("#calendarRowHeader"+r[0].id).find("table"),o=null;if(this.showWeekNumbers&&s[0].cells)var o=e(s[0].rows[0]);var n=e(r.find("#cellTable"+r[0].id)[0].rows[0]);t?(this.showWeekNumbers&&o&&o.css("display","table-row"),n.css("display","table-row")):(this.showWeekNumbers&&o&&o.css("display","none"),n.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var r=this.host.find("#"+t.toString());null!=r&&r.remove();var s=e("<div id='"+t.toString()+"'></div>"),o=this.getVisibleDate(),n=this.getFirstDayOfWeek(o),a=new e.jqx._jqxDateTimeInput.getDateTime(n.dateTime);a._addMonths(1);var l=e.jqx._jqxCalendar.monthView(n,a,null,null,null,s);void 0==i||null==i?(this.host.append(s),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&s.height(this.height):s.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&s.width(this.width):s.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&s.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&s.height("100%")):i.append(s),e.data(this.element,t,l);var d=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(d=this.host.height()-this.titleHeight),this.showFooter&&(d-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var h=this.rowHeaderWidth,c=this.columnHeaderHeight;this.showWeekNumbers||(h=0),this.showDayNames||(c=0);var u="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",p="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+c+"'><td role='gridcell' id='selectCell' width='"+h+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+d+"' width='"+h+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+d+"'></td></tr></table>",f="<div id='footer' style='margin: 0px; display: none; height:"+m+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";s[0].innerHTML=u+p+f,this.header=s.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=s.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=s.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=s.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=s.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=s.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=s.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=s.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=s.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=s.find("#calendarFooter"),this._footer=s.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=s.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=s.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var m=20;if(this.showFooter&&this._footer.css("display","block"),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=s,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(s):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var g=e("<a href='javascript:;'>"+this.todayString+"</a>");g.appendTo(this.todayButton);var v=e("<a href='javascript:;'>"+this.clearString+"</a>");v.appendTo(this.doneButton),v.addClass(this.toThemeProperty("jqx-calendar-footer")),g.addClass(this.toThemeProperty("jqx-calendar-footer"));var x=this,w="mousedown";e.jqx.mobile.isTouchDevice()&&(w=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(g,w,function(){return x.today?x.today():x.setDate(new Date,"mouse"),!1}),this.addHandler(v,w,function(){return x.clear?x.clear():x.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(s),this.oldView=this.view,this.renderCalendarCells(s,n,t),void 0!=i&&null!=i||this.renderTitle(s),this._refreshOtherMonthRows(l,t),s.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var b=this;return this.addHandler(this.host,"focus",function(){b.focus()}),s}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),r=e("<div role='button' style='float: right;'></div>"),s=this.title;s.addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-header")),s.addClass(this.toThemeProperty("jqx-calendar-title-header"));var o=s.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=o.css("background-color")){var n=s.css("background-color");o.css("background-color",n)}if("transparent"!=o.css("background-image")){var a=s.css("background-image"),l=s.css("background-repeat");s.css("background-position");o.css("background-image",a),o.css("background-repeat",l),o.css("background-position","left center scroll")}}else o.css("background-color","transparent");this.disabled&&s.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var d=this.leftButton;r.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),r.appendTo(this.rightButton);var h=this.rightButton;this.enableTooltips&&e(d).jqxTooltip&&(e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(h).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var p=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),f=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);u=p+" - "+f}else if("centuries"==this.view){var p=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),f=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);u=p+" - "+f}var m=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(m),m.addClass(this.toThemeProperty("jqx-calendar-title-content"));var g=parseInt(i.width()),v=t.width()-2*g;c.find(".jqx-calendar-title-content").width(v);e.data(i,"navigateLeft",this),e.data(r,"navigateRight",this);var x=e.jqx.mobile.isTouchDevice();if(!this.disabled){var w=this;this.addHandler(c,"mousedown",function(e){if(w.enableViews){if(!w._viewAnimating&&!w._animating){var t=w.view;switch(w.oldView=t,w.view){case"month":w.view="year";break;case"year":w.view="decade"}if(-1==w.views.indexOf("year")&&"year"==w.view&&(w.view="decade"),-1==w.views.indexOf("decade")&&"decade"==w.view&&(w.view=t),t!=w.view){var i="View"+w.element.id,r=w.host.find("#"+i),s=w.getVisibleDate(),o=w.getFirstDayOfWeek(s);w.renderCalendarCells(r,o,i,!0),w.refreshTitle(r),w._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(w._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var r=e.data(i,"navigateLeft");return r.enableFastNavigation&&!x&&r.startRepeat(r,i,!0,w.navigationDelay+200),r.navigateBackward(w.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),r._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(r,"mousedown",function(t){if(w._animating)return!1;e.data(r,"navigateRightRepeat",!0);var i=e.data(r,"navigateRight");return i.enableFastNavigation&&!x&&i.startRepeat(i,r,!1,w.navigationDelay+200),i.navigateForward(w.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(r,"mouseup",function(t){e.data(r,"navigateRightRepeat",!1)}),this.addHandler(r,"mouseleave",function(t){e.data(r,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var r=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);i=r+" - "+s}else if("centuries"==this.view){var r=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);i=r+" - "+s}var o=this.titleHeader;if(this.titleHeader){var n=o.find(".jqx-calendar-title-content"),a=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");o.append(a),a.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=n&&n.remove()}},startRepeat:function(t,i,r,s){var o=window.setTimeout(function(){var n=e.data(i,"navigateLeftRepeat");return r||(n=e.data(i,"navigateRightRepeat")),n?(25>s&&(s=25),void(r?(t.navigateBackward(1,"arrow"),
t.startRepeat(t,i,!0,s)):(t.navigateForward(1,"arrow"),o=t.startRepeat(t,i,!1,s)))):void window.clearTimeout(o)},s)},navigateForward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var r=this.getMaxDate().getFullYear();if((i>r||i>r)&&(i=r),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day,o=this.value.month;if(12>=o+e){var n=this.value._daysInMonth(this.value.year,this.value.month+e);s>n&&(s=n)}if("month"==this.view){var a=new Date(this.value.year,this.value.month-1+e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else var a=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(a)},navigateBackward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var r=this.getMinDate().getFullYear();if(r>i&&(i=r),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day,o=this.value.month;if(o-e>=1){var n=this.value._daysInMonth(this.value.year,this.value.month-e);s>n&&(s=n)}if("month"==this.view){var a=new Date(this.value.year,this.value.month-1-e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else var a=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(a)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var r=0;r<i.restrictedDates.length;r++){var s=i.restrictedDates[r];if("object"==typeof s&&void 0!=s.from&&void 0!=s.to){var o=s.from,n=s.to;if(t.valueOf()>=o.valueOf()&&t.valueOf()<=n.valueOf())return!0}else if(s.getMonth()==t.getMonth()&&s.getDate()==t.getDate()&&s.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=e.getDay(),r=t[i];return-1==this.selectableDays.indexOf(r)?!0:!!this._isRestrictedDate(e)},refreshCalendarCells:function(t,i,r){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(t,i,r);for(var s=this.table,o=s.find("#cellTable"+r.toString()),n=i,a=new Array,l=0,d=new e.jqx._jqxDateTimeInput.getDateTime(new Date),h=0;6>h;h++)for(var c=0;7>c;c++){var u=h+1,p=c;this.rtl&&(p=6-p);var f=p+1,m="#cell"+u+f+this.element.id,g=new Date(n.dateTime.getFullYear(),n.dateTime.getMonth(),n.dateTime.getDate()),v=new e.jqx._jqxCalendar.cell(g),x=e(o[0].rows[h].cells[f-1]);x[0].id=m.substring(1),v.element=x,v.row=h,v.column=c,v.isVisible=!0,v.isOtherMonth=!1,v.isToday=!1,v.isWeekend=!1,v.isHighlighted=!1,v.isSelected=!1,n.month!=this.value.month&&(v.isOtherMonth=!0,v.isVisible=this.showOtherMonthDays),this._isRestrictedDate(g)&&(v.isRestricted=!0,v.isDisabled=!0),v.isDisabled||(g<this.getMinDate()||g>this.getMaxDate()||this._isDisabled(g))&&(v.isDisabled=!0),n.month==d.month&&n.day==d.day&&n.year==d.year&&(v.isToday=!0),n.isWeekend()&&(v.isWeekend=!0),e.data(this.element,"cellContent"+m.substring(1),v),e.data(this.element,m.substring(1),v),a[l]=v,l++,e.jqx.utilities.html(x,n.day),this._applyCellStyle(v,x,x),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(n._addDays(1)))}var w=e.data(this.element,t[0].id);void 0!=w&&null!=w&&(w.cells=a),this.renderedCells=a,this._refreshOtherMonthRows(w,r)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();12>i&&(i=12);var r=this.getMinDate(),s=this.getMaxDate(),o=this.value.dateTime.getFullYear();if("decade"==this.view){o+12>s.getFullYear()&&(o=s.getFullYear()-11),o<r.getFullYear()&&(o=r.getFullYear());for(var n=0;i>n;n++){var a=new Date(r.getFullYear()+n,0,1);if(r.getFullYear()<=o&&o<=a.getFullYear()){for(var l=new Date(a.getFullYear(),a.getMonth(),1),d=0;12>d;d++){var h=new Date(l.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=h.getFullYear();r.getFullYear()<=c&&c<=s.getFullYear()?(e.push(c),t.push(h),0==d&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(c),t.push(h))}break}}}else if("centuries"==this.view)for(var n=0;i>n;n+=120){var a=new Date(r.getFullYear()+n+120,0,1);if(r.getFullYear()<=o&&o<=a.getFullYear()){var l=new Date(a.getFullYear()-130,a.getMonth(),1);r>l&&(l=r);for(var d=0;12>d;d++){var u=new Date(l.getFullYear()+10*d,l.getMonth(),1);l.getFullYear()>=r.getFullYear()&&u.getFullYear()<=s.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==d&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,r){for(var s=new Array,o=t.find("#cellTable"+r.toString()),n=this._getDecadeAndCenturiesData(),a=n.years,l=n.dates,d=0,h=this.getMinDate(),c=this.getMaxDate(),u=0;3>u;u++)for(var p=0;4>p;p++){var f=p;this.rtl&&(f=3-f);var m=new Date(this.value.dateTime);m.setDate(1),m.setMonth(4*u+f);var g=new e.jqx._jqxCalendar.cell(m),v=o[0].rows["row"+(1+u)+this.element.id],x=e(v.cells[p]);g.isSelected=!1,g.isVisible=!0,g.element=x,g.row=u,g.column=p,g.index=s.length;var w="";if("year"==this.view){var b=this.localization.calendar.months.names,y=b[4*u+f];switch(this.monthNameFormat){case"default":y=this.localization.calendar.months.namesAbbr[4*u+f];break;case"shortest":y=this.localization.calendar.months.namesShort[4*u+f];break;case"firstTwoLetters":y=y.substring(0,2);break;case"firstLetter":y=y.substring(0,1)}w=y}else"decade"!=this.view&&"centuries"!=this.view||(w=a[4*u+f],void 0==w&&(w="<span style='cursor: default; visibility: hidden;'>2013</span>"),g.setDate(l[4*u+f]));var m=g.getDate();"year"==this.view?m.getMonth()==this.getDate().getMonth()&&m.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0):m.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(m)<this._getYearAndMonthPart(h)&&(g.isDisabled=!0),this._getYearAndMonthPart(m)>this._getYearAndMonthPart(c)&&(g.isDisabled=!0)):(m.getFullYear()<h.getFullYear()&&(g.isDisabled=!0),m.getFullYear()>c.getFullYear()&&(g.isDisabled=!0)),e.jqx.utilities.html(x,w),s[d]=g,d++}var _=e.data(this.element,t[0].id);void 0!=_&&null!=_&&(_.cells=s),this.renderedCells=s,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,r=this.showFooter?20:0;"month"!=this.view?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-r),this._viewAnimating=!0;var s=this.host.find(".jqx-calendar-month-container");s.css("position","relative");var o=(this.host.find(".jqx-calendar-month"),this._createViewClone());s.append(o),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(o,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var r=this;return r._viewAnimating=!0,r.oldView==r.view?(e.remove(),t.fadeOut(0),t.fadeIn(0),void i()):(e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),void t.fadeIn(this.navigationDelay+200,function(){i()}))},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;e.selectedDate||"range"==e.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(t){}},renderViews:function(t,i,r){var s=this,o=new Array,n=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+r.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),a=this.host.find(".jqx-calendar-month-container");a.css("position","relative");var l=t.find("#cellsTable"+t[0].id);l[0].style.borderColor="transparent";var d=this._getDecadeAndCenturiesData(),h=d.years,c=d.dates,u=0,p=this.getMinDate(),f=this.getMaxDate(),m=new Date(this.value.dateTime);m.setDate(1);for(var g=0;3>g;g++)for(var v=0;4>v;v++){var x=v;this.rtl&&(x=3-x);var w=n[0].rows["row"+(1+g)+this.element.id],b=new Date(m);b.setMonth(4*g+x);var y=new e.jqx._jqxCalendar.cell(b),_=e(w.cells[v]);y.isVisible=!0,y.element=_,y.row=g,y.column=v,y.index=o.length,y.isSelected=!1;var j="";if("year"==this.view){b.getMonth()==this.getDate().getMonth()&&b.getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0);var q=this.localization.calendar.months.names,T=q[4*g+x];switch(this.monthNameFormat){case"default":T=this.localization.calendar.months.namesAbbr[4*g+x];break;case"shortest":T=this.localization.calendar.months.namesShort[4*g+x];break;case"firstTwoLetters":T=T.substring(0,2);break;case"firstLetter":T=T.substring(0,1)}j=T}else"decade"!=this.view&&"centuries"!=this.view||(j=h[4*g+x],y.setDate(c[4*g+x]),y.getDate().getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0),void 0==j&&(j="<span style='cursor: default; visibility: hidden;'>2013</span>"));var b=y.getDate();if("year"==this.view){var C=new Date(b);C.setDate(1),C.setHours(0,0,0,0),C.setMonth(b.getMonth()+1),C=new Date(C.valueOf()-1),(this._getYearAndMonthPart(b)<this._getYearAndMonthPart(p)||this._getYearAndMonthPart(b)>this._getYearAndMonthPart(f)||!this._hasUnrestrictedRanges(b,C))&&(y.isDisabled=!0)}else{var k=new Date(b);k.setMonth(0),k.setDate(1),k.setHours(0,0,0,0),k.setFullYear(b.getFullYear()+1),k=new Date(k.valueOf()-1),(b.getFullYear()<p.getFullYear()||b.getFullYear()>f.getFullYear()||!this._hasUnrestrictedRanges(b,k))&&(y.isDisabled=!0)}e.jqx.utilities.html(_,j),o[u]=y,u++}e.each(o,function(){var e=this.element,t=this;s.disabled||(s.addHandler(e,"mousedown",function(e){s._setDateAndSwitchViews(t,e,"mouse")}),s.addHandler(e,"mouseover",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,s._applyCellStyle(i,i.element,i.element))}),s.addHandler(e,"mouseout",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,s._applyCellStyle(i,i.element,i.element))}))});var S=e.data(this.element,t[0].id);void 0!=S&&null!=S&&(S.cells=o),this.renderedCells=o,this._addCellsTable(l,n),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,r){if(!this._viewAnimating&&!this._animating){var s=(this.getDate(),this.renderedCells[t.index].getDate()),o=this.value.dateTime.getDate(),n=new Date(s);-1!=this.views.indexOf("month")?n.setDate(o):(n.setDate(1),s.setDate(1)),n.getMonth()==s.getMonth()&&(s=n);var a=this.getMinDate(),l=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(a))return;if(this._getYearAndMonthPart(s)>this._getYearAndMonthPart(l))return}else{if(s.getFullYear()<a.getFullYear())return;if(s.getFullYear()>l.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(s,r),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(a)&&(s=a),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(l)&&(s=l)):(s.getFullYear()<a.getFullYear()&&(s=a),s.getFullYear()>l.getFullYear()&&(s=l)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=s.getFullYear()||this.selectedDate.getMonth()!=s.getMonth()||this.selectedDate.getDate()!=s.getDate())&&(s=this.selectedDate),this.value._setYear(s.getFullYear()),this.value._setDay(s.getDate()),this.value._setMonth(s.getMonth()+1),this.value._setDay(s.getDate());var d=this.getVisibleDate(),h=this.getFirstDayOfWeek(d),c="View"+this.element.id;if(this.renderCalendarCells(this.month,h,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,r=i.getDate(),o=e(i.element);if(0==o.length)return!1;var n=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||n(r).toString()!=n(s).toString()||(u.value._setMonth(s.getMonth()+1),u.value._setDay(s.getDate()),u.value._setYear(s.getFullYear())),i.isSelected=!1,i.isDisabled=!1,n(r)<n(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<r&&(i.isDisabled=!0),u.getMinDate()>r&&(i.isDisabled=!0),u._isDisabled(r)&&(i.isDisabled=!0),i.isDisabled||n(r)>=n(u.selection.from)&&n(r)<=n(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=r&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,r,s){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(t,i,r);var o=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+r.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),n=this.table;if(n[0].style.borderColor="transparent",void 0==s){var a=n.find("#cellTable"+r.toString());null!=a&&a.remove(),n.append(o)}var l=i,d=this.showDayNames?1:0,h=this.showWeekNumbers?1:0,c=new Array,u=0,p=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(p=(t.width()-2)/7),p=parseInt(p);for(var f=new e.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;6>m;m++){for(var g=0;7>g;g++){var v=m+1,x=g;this.rtl&&(x=6-x);var w=x+1,b="#cell"+v+w+this.element.id,y=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate()),_=new e.jqx._jqxCalendar.cell(y),j=e(o[0].rows[m].cells[w-1]);j[0].id=b.substring(1),_.isVisible=!0,_.isDisabled=!1,l.month!=this.value.month&&(_.isOtherMonth=!0,_.isVisible=this.showOtherMonthDays),this._isRestrictedDate(y)&&(_.isRestricted=!0,_.isDisabled=!0),_.isDisabled||(y<this.getMinDate()||y>this.getMaxDate()||this._isDisabled(y))&&(_.isDisabled=!0),l.month==f.month&&l.day==f.day&&l.year==f.year&&(_.isToday=!0),l.isWeekend()&&(_.isWeekend=!0),_.element=j,_.row=d,_.column=h,e.jqx.utilities.html(j,l.day),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1))),e.data(this.element,"cellContent"+b.substring(1),_),e.data(this.element,""+b.substring(1),_);var q=this;if(this.addHandler(j,"mousedown",function(t){if(!q.readOnly&&!q.disabled){var i=e(t.target),r=e.data(q.element,i[0].id);q._raiseEvent(3,t);if(null!=r&&void 0!=r){var s=r.getDate();if(q.getMinDate()<=s&&s<=q.getMaxDate()&&!r.isDisabled)if(r.isOtherMonth&&q.enableAutoNavigation)r.row<2?q.navigateBackward():q.navigateForward(),q._selectDate(r.getDate(),"mouse",t.shiftKey);else{new Date(q.getDate());q._selectDate(r.getDate(),"mouse",t.shiftKey),q.value._setYear(s.getFullYear()),q.value._setDay(1),q.value._setMonth(s.getMonth()+1),q.value._setDay(s.getDate());var o=q.host.find(".jqx-calendar-month");o.stop(),o.css("margin-left","0px");q.getDate();q._raiseEvent("2"),r.isOtherMonth&&q._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!q.disabled){var T=function(t,i){if(!q.readOnly){var r=e(t.target),s=e.data(q.element,r[0].id);if(null!=s&&void 0!=s){var o=s.getDate();q.getMinDate()<=o&&o<=q.getMaxDate()&&(s.isHighlighted=i,q._applyCellStyle(s,s.element,r))}}};this.addHandler(j,"mouseenter",function(e){return T(e,!0),!1}),this.addHandler(j,"mouseleave",function(e){return T(e,!1),!1})}h++,c[u]=_,u++}h=0,d++}var C=e.data(this.element,t[0].id);void 0!=C&&null!=C&&(C.cells=c),this.renderedCells=c,void 0!=s&&this._addCellsTable(n,o),this._applyCellStyles(),this._refreshOtherMonthRows(C,r)},setMaxDate:function(t,i){null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var r=this.getMinDate(),s=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(r)||t>this._getYearAndMonthPart(s))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(void 0==i){var o=this;if(this._animating)return;this._animating=!0;var n=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var a=this.host.find(".jqx-calendar-month");a.stop(),a.css("margin-left","0px");var l=a.clone();this._viewClone=l;var d=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),o.refreshControl(),n.css("position","relative"),l.css("position","absolute"),l.css("top",a.position().top),n.append(l),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var h=-this.host.width();d>t&&("month"==this.view&&t.getMonth()!=d.getMonth()?h=this.host.width():t.getFullYear()!=d.getFullYear()&&(h=this.host.width())),l.animate({marginLeft:parseInt(h)+"px"},this.navigationDelay,function(){l.remove()});var c=a.clone();this._newViewClone=c,c.css("position","absolute"),c.css("top",a.position().top),n.append(c),c.css("margin-left",-h),a.css("visibility","hidden"),c.animate({marginLeft:"0px"},this.navigationDelay,function(){c.remove(),a.css("visibility","inherit"),o._animating=!1})}else{this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var a=this.host.find(".jqx-calendar-month");a.stop(),a.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,r){if("none"!=this.selectionMode){null!=i&&void 0!=i||(i="none"),null!=r&&void 0!=r||(r=!1);var s=e.data(this.element,"View"+this.element.id);if(void 0!=s&&null!=s){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var o=this.changing(this.selectedDate,t);o&&(t=o)}var n=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var a=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return a!=t&&this._raiseEvent(7,{selectionType:i}),e.each(this.renderedCells,function(r){var s=this,o=s.getDate(),a=e(s.element);a.find("#cellContent"+a[0].id);if(null==t)s.isSelected=!1,s.isDisabled=!1;else if(s.isSelected=!1,o&&(o.getMonth()==t.getMonth()&&"year"==n.view&&o.getFullYear()==t.getFullYear()||"decade"==n.view&&o.getFullYear()==t.getFullYear())){s.isSelected=!0;try{"none"!=i&&s.element.focus()}catch(l){}}n._applyCellStyle(s,a,a)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var l=this.getVisibleDate(),d=this.getFirstDayOfWeek(l);this.refreshCalendarCells(this.month,d,"View"+this.element.id)}var h=!1;return e.each(this.renderedCells,function(s){var o=this,a=o.getDate(),l=e(o.element),d=l;if(0==l.length)return!1;if(null==t)o.isSelected=!1,o.isDisabled=!1,0==s&&(n.selection={from:null,to:null},n._raiseEvent("2"),n._raiseEvent("5",{selectionType:i}));else if("range"!=n.selectionMode||"key"==i){if(a.getDate()==t.getDate()&&a.getMonth()==t.getMonth()&&a.getFullYear()==t.getFullYear()&&o.isSelected)return n._applyCellStyle(o,l,d),void n._raiseEvent("5",{selectionType:i});if(o.isSelected&&n._raiseEvent("6",{selectionType:i}),o.isSelected=!1,a.getDate()==t.getDate()&&a.getMonth()==t.getMonth()&&a.getFullYear()==t.getFullYear()){o.isSelected=!0,0==s&&(n.selection={date:t});try{"none"!=i&&(o.element.focus(),n.host.focus())}catch(c){}o.isOtherMonth||(n.value._setMonth(t.getMonth()+1),n.value._setDay(t.getDate()),n.value._setYear(t.getFullYear()),n._raiseEvent("2"),n._raiseEvent("5",{selectionType:i}))}"range"==n.selectionMode&&(n._clicks=0,n.selection={from:t,to:t})}else if("range"==n.selectionMode){if("view"==i)return o.isSelected=!1,o.isDisabled=!1,n.getMaxDate()<a&&(o.isDisabled=!0),n.getMinDate()>a&&(o.isDisabled=!0),n._isRestrictedDate(a)&&(o.isDisabled=!0,o.isRestricted=!0),!o.isDisabled&&n._isDisabled(a)&&(o.isDisabled=!0),n._applyCellStyle(o,l,d),!0;if(0==s)if("none"!=i)if(void 0==n._clicks&&(n._clicks=0),n._clicks++,r&&n._clicks++,1==n._clicks)n.selection={from:t,to:t};else{var u=n.selection.from,p=t>=u?u:t,f=t>=u?t:u;if(p)var m=new Date(p.getFullYear(),p.getMonth(),p.getDate());if(f)var g=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59);n.selection={from:m,to:g},n._clicks=0}else null!=n.selection&&null!=n.selection.from||(n.selection={from:t,to:t},void 0==n._clicks&&(n._clicks=0),n._clicks++,2==n._clicks&&(n._clicks=0));var v=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};o.isOtherMonth||v(a).toString()!=v(t).toString()||(n.value._setMonth(t.getMonth()+1),n.value._setDay(t.getDate()),n.value._setYear(t.getFullYear()),n._raiseEvent("2"),n._raiseEvent("5",{selectionType:i})),o.isSelected=!1,o.isDisabled=h,v(a)<v(n.selection.from)&&1==n._clicks&&(o.isDisabled=!0),n.getMaxDate()<a&&(o.isDisabled=!0),n.getMinDate()>a&&(o.isDisabled=!0),n._isRestrictedDate(a)&&(o.isRestricted=!0,o.isDisabled=!0),!o.isDisabled&&n._isDisabled(a)&&(o.isDisabled=!0),o.isDisabled?!n.allowRestrictedDaysInRange&&v(a)>=v(n.selection.from)&&n.selection.to==n.selection.from&&(h=!0):v(a)>=v(n.selection.from)&&v(a)<=v(n.selection.to)&&(o.isSelected=!0)}n._applyCellStyle(o,l,d)}),"range"==n.selectionMode&&0==n._clicks?void n._raiseEvent(7,{selectionType:i}):void("range"!=n.selectionMode&&a!=t&&(n._raiseEvent(7,{selectionType:i}),this.change&&this.change(t)))}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var r=t.cells[i],s=r.getDate();if(r.isSelected)return s}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var r=t.cells[i];r.getDate();if(r.isSelected)return r}},_applyCellStyle:function(t,i,r){var s=this;(null==r||null!=r&&0==r.length)&&(r=i);var o="";if(o=this.toThemeProperty("jqx-rc-all"),o+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(o+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),o+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(o+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(o+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(o+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(o+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&r.length>0&&-1!=r.html().toLowerCase().indexOf("span")&&r.css("cursor","default")):o+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),r.removeAttr("aria-selected"),t.isSelected&&t.isVisible){o+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),o+=" "+this.toThemeProperty("jqx-fill-state-pressed"),r.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",r[0].id);var n=t.getDate();this._isDisabled(n)&&(o+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(o+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),o+=" "+this.toThemeProperty("jqx-fill-state-hover"))),o+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(o+=" "+this.toThemeProperty("jqx-calendar-cell-today")),r[0].className=o,this.specialDates.length>0){var a=this;e.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?r.removeClass(this.Class):r.removeClass(s.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(r).jqxTooltip)){var o=this.Class;e(r).jqxTooltip({value:{cell:t,specialDate:this.Date},name:a.element.id,content:this.Tooltip,position:"mouse",theme:a.theme,opening:function(e){return r.hasClass(s.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:!!r.hasClass(o)}})}return r.removeClass(s.toThemeProperty("jqx-calendar-cell-othermonth")),r.removeClass(s.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(r.addClass(s.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(r.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var r=t.cells[i],s=e(r.element),o=s.find("#cellContent"+s[0].id);0==o.length&&(o=s),this._applyCellStyle(r,s,o)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),r=i.getDay()-dowOffset;r=r>=0?r:r+7;var s,o=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return 4>r?(s=Math.floor((o+r-1)/7)+1,s>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,s=nday<4?1:53)):s=Math.floor((o+r-1)/7),s},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var r=this.getVisibleDate(),s=this.getFirstDayOfWeek(r),o=(s.dayOfWeek,this.getWeekOfYear(s),this.firstDayOfWeek),n=this.localization.calendar.days.names,a=new Array,l=s,d=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(d=(t.width()-2)/7);for(var h=0;7>h;h++){var c=n[o];switch(this.rtl&&(c=n[6-o]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[o],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-o]);break;case"shortest":c=this.localization.calendar.days.namesShort[o],this.rtl&&(c=this.localization.calendar.days.namesShort[6-o]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(l.dateTime),p=h+1,f=p+this.element.id,m=e(i[0].rows[0].cells[h]),g=h;this.enableTooltips&&e(m).jqxTooltip&&e(m).jqxTooltip({name:this.element.id,content:n[o],theme:this.theme,position:"mouse"}),o>=6?o=0:o++,h=g,u.element=m,u.row=0,u.column=h+1;var v=this._textwidth(c),x="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+f+"'>"+c+"</div>";if(m.append(x),
m.find("#columnCell"+f).addClass(this.toThemeProperty("jqx-calendar-column-cell")),m.width(d),this.disabled&&m.find("#columnCell"+f).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),v>0&&d>0)for(;v>m.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(m.find("#columnCell"+f),c),v=this._textwidth(c);a[h]=u,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());var w=e.data(this.element,t[0].id);w.columnCells=a}},_format:function(t,i,r){var s=!1;try{void 0!=Globalize&&(s=!0)}catch(o){}if(e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(s)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(o){return Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var r=i.width();return i.remove(),r},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var r=i.height();return i.remove(),r},_renderRowHeader:function(t){var i=this.getVisibleDate(),r=this.getFirstDayOfWeek(i),s=(r.dayOfWeek,this.getWeekOfYear(r)),o=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r.dateTime));o._addDays(5),o.dayOfWeek=o.dateTime.getDay();this.getWeekOfYear(o);53==s&&0==o.dateTime.getMonth()&&(s=1);var n=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");n.find("table").addClass(this.toThemeProperty("jqx-reset")),n.find("td").addClass(this.toThemeProperty("jqx-reset")),n.find("tr").addClass(this.toThemeProperty("jqx-reset")),n.addClass(this.toThemeProperty("jqx-calendar-row-header")),n.width(this.rowHeaderWidth),this.rowHeader.append(n);for(var a=r,l=new Array,d=0;6>d;d++){var h=s.toString(),c=new e.jqx._jqxCalendar.cell(a.dateTime),u=d+1+this.element.id,p=e(n[0].rows[d].cells[0]);c.element=p,c.row=d,c.column=0;var f="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+h+"</div>";p.append(f),p.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),l[d]=c,a=new e.jqx._jqxDateTimeInput.getDateTime(new Date(a._addWeeks(1))),s=this.getWeekOfYear(a)}var m=e.data(this.element,t[0].id);m.rowCells=l},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var r=i.dayOfWeek-this.firstDayOfWeek;0>=r&&(r+=7);var s=e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-r));return s},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day,r=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(-i+1));return t=r},destroy:function(e){this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t],s=i?i:{};s.owner=this;var o=new e.Event(r);if(o.owner=this,o.args=s,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){o.args.date=o.args.selectedDate=this.getDate(),o.args.range=this.getRange();var n=this.getViewStart(),a=this.getViewEnd();o.args.view={from:n,to:a}}if(7==t){var l=s.selectionType;l||(l=null),"key"==l&&(l="keyboard"),"none"==l&&(l=null),s.type=l}var d=this.host.trigger(o);return 0!=t&&1!=t||(d=!1),d},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width);var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(Globalize){var o=Globalize.culture(t.culture);t.localization.calendar=o.calendar}t.localization.calendar&&void 0!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(n){}return"views"==i?(-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render()):("showFooter"==i&&t.render(),"width"==i||"height"==i?void t._setSize():void("theme"==i?e.jqx.utilities.setTheme(r,s,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render())))}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){var i={dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null};return i},e.jqx._jqxCalendar.monthView=function(e,t,i,r,s,o){var n={start:e,end:t,cells:i,rowCells:r,columnCells:s,element:o};return n}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDateTimeInput","",{}),e.extend(e.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:e.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:18,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,t},createInstance:function(t){var i="",r=this;if(!r.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=r.formatString){var s=r.formatString.split(" ");if(s&&s.length>1){for(var o="",n=0;n<s.length;n++)o+="1"==s[n].length?r._getFormatValue(s[n]):s[n],n<s.length-1&&(o+=" ");r.formatString=o}}if("input"==r.element.nodeName.toLowerCase()){var a=r.element.getAttribute("type");if(a&&"dd/MM/yyyy"==r.formatString){if("date"==a&&(r.formatString="d"),"datetime"==a){var l=r._getFormatValue("d")+" "+r._getFormatValue("t");r.formatString=l,r.showTimeButton=!0}"time"==a&&(r.formatString="t",r.showTimeButton=!0,r.showCalendarButton=!1)}if(r.field=r.element,r.field.getAttribute("min")){var d=new Date(r.field.getAttribute("min"));"Invalid Date"!=d&&(r.min=d)}if(r.field.getAttribute("max")){var h=new Date(r.field.getAttribute("max"));"Invalid Date"!=h&&(r.max=h)}r.field.className&&(r._className=r.field.className);var c={title:r.field.title};r.field.value&&(c.value=r.field.value),r.field.id.length?c.id=r.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":c.id=e.jqx.utilities.createId()+"_jqxDateTimeInput";var u=e("<div></div>",c);u[0].style.cssText=r.field.style.cssText,r.width||(r.width=e(r.field).width()),r.height||(r.height=e(r.field).outerHeight()),e(r.field).hide().after(u);var p=r.host.data();if(r.host=u,r.host.data(p),r.element=u[0],r.element.id=r.field.id,r.field.id=c.id,r._className&&(r.host.addClass(r._className),e(r.field).removeClass(r._className)),r.field.tabIndex){var f=r.field.tabIndex;r.field.tabIndex=-1,r.element.tabIndex=f}}if(r.host.attr("value")){i=!0;var m=r.host.attr("value");if("range"!=r.selectionMode){var g=new Date(m);void 0==g||isNaN(g)||(r.value=e.jqx._jqxDateTimeInput.getDateTime(g))}}if(null!=r.value&&r.value instanceof Date)r.value=e.jqx._jqxDateTimeInput.getDateTime(r.value);else if(null!=r.value&&"string"==typeof r.value){var g=new Date(r.value);if(void 0==g||isNaN(g)){if(r.value.indexOf(",")>=0){r.value=r.value.replace(/\,/g,"/");var g=new Date(r.value);void 0==g||isNaN(g)||(r.value=e.jqx._jqxDateTimeInput.getDateTime(g))}}else r.value=e.jqx._jqxDateTimeInput.getDateTime(g)}if(this._initTimeRange(),this._validateTimeRange(),r.host.attr("data-role","input"),r.render(),e.jqx.aria(this),null!=r.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+r.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null"),r.minDate!==r.defaultMinDate&&(r.min=r.minDate),r.maxDate!==r.defaultMaxDate&&(r.max=r.maxDate),r.setMaxDate(r.max,!1),r.setMinDate(r.min,!1),"range"==r.selectionMode)if(i){var m=r.host.attr("value"),v=m.substring(0,m.indexOf("-")),x=m.substring(m.indexOf("-")+1),w=new Date(v),b=new Date(x);void 0==w||isNaN(w)||void 0==b||isNaN(b)||r.setRange(w,b)}else null!=r.getDate()&&r.setRange(r.getDate(),r.getDate())},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(e=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),r=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=r}if(this.timeRange.max){var e=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(e=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var s=this.timeRange.max.split(":"),i=parseInt(s[0]),r=parseInt(s[1]);e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=r}}},_format:function(t,i,r){var s=!1;try{void 0!=Globalize&&(s=!0)}catch(o){}if(e.global)return e.global.format(t,i,this.culture);if(!s){if(e.jqx.dataFormat)return t instanceof Date?e.jqx.dataFormat.formatdate(t,i,this.localization.calendar):"number"==typeof t?e.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):e.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var i=Globalize.format(t,i,this.culture);return i}catch(o){return Globalize.format(t,i)}},render:function(){var t=this;t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=e.jqx.utilities.createId();e.jqx.utilities.createId(),e.jqx.utilities.createId();t._setSize(),null==t.width&&(t.width=t.host.width(),t.host.width(t.width)),t.touch=e.jqx.mobile.isTouchDevice();var i=e("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(t.host);t.dateTimeInput=e("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(i),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),t.dateTimeInput.attr("placeHolder",t.placeHolder),"full"!=t.renderMode&&t.dateTimeInput.remove();var r=t.host.attr("name");r&&t.dateTimeInput.attr("name",r),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=e(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.showTimeButton||t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),t.timeButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.timeButton.addClass(t.toThemeProperty("jqx-action-button")),t.template&&(t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),t.timeButtonIcon=e(t.timeButton.children()[0]),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-rc-l")):t.timeButton.addClass(t.toThemeProperty("jqx-rc-r"));var s=this;if(t._arrange(),null!=e.jqx._jqxCalendar&&void 0!=e.jqx._jqxCalendar)try{var o="calendar"+t.id,n=e(e.find("#"+o));n.length>0&&n.remove(),e.jqx.aria(this,"aria-owns",o),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-readonly","range"==t.selectionMode);var a=e("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'></div><div id='innerTime"+t.id+"'></div></div>");"opera"==e.jqx.utilities.getBrowser().browser&&a.hide(),a.appendTo(document.body),t.container=a,t.calendarContainer=e(e.find("#innerCalendar"+t.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme}),t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.calendarContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.timeContainer=e(e.find("#innerTime"+t.id)),t.timeContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.timeContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.timeContainer.addClass(t.toThemeProperty("jqx-noshadow")),t._calendar=e.data(t.calendarContainer[0],"jqxCalendar").instance;var s=this;t._calendar.today=function(){s.today()},t._calendar.clear=function(){s.clear()},"opera"==e.jqx.utilities.getBrowser().browser&&a.show(),a.height(parseInt(t.calendarContainer.height())+25),a.width(parseInt(t.calendarContainer.width())+25),"range"==t.selectionMode&&(t.readonly=!0),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(l){}if(e.global&&e.global.preferCulture(t.culture),t.selectedText="",t._addHandlers(),t.self=this,t.oldValue=t.getDate(),t.items=new Array,t.editors=new Array,t._loadItems(),t.editorText="",1==t.readonly&&t.dateTimeInput.css("readonly",t.readonly),t.dateTimeInput.css("text-align",t.textAlign),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-datetimeinput")),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-overflow-hidden")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-clear")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.propertyChangeMap.disabled=function(t,i,r,o){o?(t.host.addClass(s.toThemeProperty("jqx-input-disabled")),t.host.addClass(s.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(s.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(s.toThemeProperty("jqx-input-disabled"))),e.jqx.aria(this,"aria-disabled",o)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0)),t.host.parents("form").length>0&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){s.setDate(new Date)},10)}),t.cookies){var d=e.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id);null!=d&&t.setDate(new Date(d))}if(e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var h=t.host.parents(".jqx-window").css("z-index");t.container.css("z-index",h+10),t.calendarContainer.css("z-index",h+10)}"default"!=t.culture&&t._applyCulture(),t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid")))},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(arguments[0],arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height));var i=this,r=function(){i.calendarContainer&&i._arrange()};if(t&&this.calendarContainer){this._arrange();var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){r()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var t=parseInt(this.host.width()),i=parseInt(this.host.height()),r=this.buttonSize,s=2;this.showCalendarButton||this.showTimeButton||(r=0,buttonHeight=0,this.calendarButton.hide(),s=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var o=t-r-1*s;if(this.showTimeButton&&this.showCalendarButton)var o=t-2*r-1*s;else if(this.showTimeButton||this.showCalendarButton)var o=t-r-1*s;o>0&&(this.dateTimeInput[0].style.width=o+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+o+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=r+1+"px",this.calendarButton[0].style.left=1+o+"px",this.timeButton[0].style.width=r+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+o+"px":this.timeButton[0].style.left=1+o+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var n=this.dateTimeInput.height();0==n&&"full"!=this.renderMode?(n=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):n=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var a=parseInt(i)/2-parseInt(n)/2;if(a>0){var l=this.dateTimeInput.css("font-size");""==l&&(l=13);var a=i-2-parseInt(l)-2;isNaN(a)&&(a=0),0>a&&(a=0);var d=a/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=a/4),this.dateTimeInput[0].style.paddingTop=Math.round(d)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(d)+"px"}this.rtl&&(this.calendarButton[0].style.width=r+"px",this.timeButton[0].style.width=r+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",r+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(e(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(e(window),"resize."+this.id)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXCalendar"+this.id);return null!=i&&i==t.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r?!1:(e.preventDefault&&e.preventDefault(),e.returnValue=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return 0>e?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(t){}},_addHandlers:function(){var t=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){var i=t.isOpened();i&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(hovered=!0,t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.calendarButtonIcon.removeClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.removeClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(e(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),e.jqx.mobile.isTouchDevice()&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var r=e.data(document.body,"openedJQXCalendar"+t.id);if(null!=r&&r==t.calendarContainer){var s=t.handleCalendarKey(i,t);return s}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return t.isOpened()&&!t._calendar._viewAnimating&&"month"==t._calendar.view?(t.hideCalendar("selected","keyboard"),t.dateTimeInput.focus(),!1):!0;if(9==e.keyCode){if(t.isOpened())return t.hideCalendar("selected","keyboard"),!0}else if(27==e.keyCode)return t.isOpened()?(t.hideCalendar(null,"keyboard"),t.dateTimeInput.focus(),!1):!0;if(t.timePopup=!1,84==e.keyCode&&(t.timePopup=!0),115==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1;if(!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(t.closeCalendarAfterSelection){e.data(document.body,"openedJQXCalendarValue");"mouse"==i.args.selectionType&&("range"!=t.selectionMode?t.hideCalendar("selected","mouse"):0==t._calendar._clicks&&t.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(i){t.closeCalendarAfterSelection&&t._calendar.value&&e.data(document.body,"openedJQXCalendarValue",new e.jqx._jqxDateTimeInput.getDateTime(t._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){if(null!=t.value){t.isEditing=!1;t.value.dateTime.getDay(),t._oldDT;t._validateValue(!0),e.stopPropagation&&e.stopPropagation(),t._updateText(),t._raiseEvent(9,e)}t.isOpened()||t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){return null!=t.value?("range"!=t.selectionMode?t._oldDT=new Date(t.value.dateTime):t._oldDT=t.getRange(),setTimeout(function(){var e=t._selection();t.isEditing=!0,t._validateValue(),t._updateText(),t._setSelectionStart(0),t._selectGroup(-1,e),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))})):(t._setSelectionStart(0),t._selectGroup(-1),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),e.stopPropagation&&e.stopPropagation(),e.preventDefault?(e.preventDefault(),!1):void 0});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,i,function(e){var i=t.container,r="block"==i.css("display");if(t.timePopup=!1,t.calendarPopup=!0,!t.disabled&&!t.isanimating){if(r)return t.hideCalendar(),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,i,function(e){var i=t.container,r="block"==i.css("display");if(t.timePopup=!0,t.calendarPopup=!1,!t.disabled&&!t.isanimating){if(r)return t.hideCalendar("mouse","mouse"),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return t._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return t._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return e=e.replace(".",""),e="99"+e,e/=1,"dateTimeInput"+e},setMaxDate:function(t,i){null!=t&&(null!=t&&"string"==typeof t&&(t=new Date(t),
"Invalid Date"==t)||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMaxDate(t),0!=i&&(null!=this.getDate()&&this.getDate()>t&&this.setDate(t),e.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText())))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&(null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMinDate(t),0!=i&&(null!=this.getDate()&&this.getDate()<t&&this.setDate(t),e.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText())))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var t=!1;try{void 0!=Globalize&&(t=!0)}catch(i){}try{if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(t){var r=Globalize.culture(this.culture);this.localization.calendar=r.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(i){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(t,i,r,s){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.timeButton.removeClass(t.toThemeProperty("jqx-"+r)),t.calendarButton.removeClass(t.toThemeProperty("jqx-"+r)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),"restrictedDates"==i&&t.calendarContainer.css({restrictedDates:s}),"popupZIndex"==i&&t.calendarContainer.css({zIndex:s}),"showCalendarButton"==i&&t._arrange(),"showTimeButton"==i&&(t._arrange(),t.timePopupElement&&(t.timePopupElement.remove(),t.timePopupElement=null)),"selectionMode"==i&&(t._calendar.selectionMode=s,t.refreshValue()),"min"==i&&("string"==typeof s?t.setMinDate(new Date(s)):t.setMinDate(s)),"max"==i&&("string"==typeof s?t.setMaxDate(new Date(s)):t.setMaxDate(s)),"value"==i)if(null!=s&&s instanceof Date){if(isNaN(s.getFullYear())||isNaN(s.getMonth())||isNaN(s.getDate()))return void(this.value=r);s=e.jqx._jqxDateTimeInput.getDateTime(s)}else if(null!=s&&"string"==typeof s){var o=new Date(s);void 0==o||isNaN(o)||(this.value=e.jqx._jqxDateTimeInput.getDateTime(o))}if("views"==i&&t.calendarContainer.jqxCalendar({views:s}),"enableViews"==i&&t.calendarContainer.jqxCalendar({enableViews:s}),"selectableDays"==i&&t.calendarContainer.jqxCalendar({selectableDays:s}),"showFooter"==i&&t.calendarContainer.jqxCalendar({showFooter:s}),"rtl"==i&&(t.calendarContainer.jqxCalendar({rtl:s}),s?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=i&&"clearString"!=i||t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),"dayNameFormat"==i&&t.calendarContainer.jqxCalendar({dayNameFormat:s}),"firstDayOfWeek"==i&&t.calendarContainer.jqxCalendar({firstDayOfWeek:s}),"showWeekNumbers"==i&&t.calendarContainer.jqxCalendar({showWeekNumbers:s}),"culture"==i||"localization"==i?t._applyCulture():"formatString"==i&&(t.items=new Array,t._loadItems()),"theme"==i&&(e.jqx.utilities.setTheme(r,s,t.host),t.calendarContainer.jqxCalendar({theme:s})),"width"==i||"height"==i)return t.close(),void t.refresh();t._setOption(i,s,r),"dropDownWidth"!=i&&"dropDownHeight"!=i||(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.height(t.calendarContainer.height()),t.container.width(t.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},setDate:function(t){var i=this.getDate();if(null!=t&&"string"==typeof t){var r=t;if(t.toString().indexOf(",")>=0&&(t=t.replace(/\,/g,"/"),t=new Date(t),"Invalid Date"==t&&(t=r)),t.toString().indexOf("-")>=0&&(t=t.replace(/\-/g,"/"),t=new Date(t),"Invalid Date"==t&&(t=r)),""!=t){var s=t;if(t=void 0!=Globalize?Globalize.parseDate(s,this.formatString,this.culture):e.jqx.dataFormat?e.jqx.dataFormat.parsedate(s,this.formatString,this.localization.calendar):new Date(t),"Invalid Date"==t)return;null===t&&null!==s&&"Invalid Date"!=s&&(t=s)}}if(null!=t&&"null"!=t&&"undefined"!=t||this.allowNullDate||(t=this.min),"Invalid Date"==t&&(t=null),null==t||"null"==t||"undefined"==t||""===t)return void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t,i),this._raiseEvent("9",t,i)));if(!(t<this.getMinDate()||t>this.getMaxDate())){null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions);var o=this.getDate(),n=o-i;return 0!=n?(this._raiseEvent("0",t,i),this._raiseEvent("9",t,i),!0):void 0}},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,i){if("Invalid Date"==t&&(t=null),"Invalid Date"==i&&(i=null),!(null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||null!=i&&"string"==typeof i&&(i=new Date(i),"Invalid Date"==i)||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||i&&isNaN(i)&&"NaN"==i.toString()&&"string"!=typeof i)){this._calendar.setRange(t,i),i&&t&&i.valueOf()!=t.valueOf()?this._range={from:t,to:i}:this._range=this._calendar.getRange();var r=t;null!=r&&r.getFullYear&&(null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(r.getFullYear()),this.value._setMonth(r.getMonth()+1),this.value._setHours(r.getHours()),this.value._setMinutes(r.getMinutes()),this.value._setSeconds(r.getSeconds()),this.value._setMilliseconds(r.getMilliseconds()),this.value._setDay(r.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=!1,i=0;i<this.items.length;i++){var r=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":0>r?r=0:r>1&&(r=1);break;case"Character":break;case"Day":1>r?r=1:r>31&&(r=31);break;case"FORMAT_hh":1>r?r=1:r>12&&(r=12);break;case"FORMAT_HH":0>r?r=0:r>23&&(r=23);break;case"Millisecond":0>r?r=0:r>999&&(r=999);break;case"Minute":0>r?r=0:r>59&&(r=59);break;case"Month":1>r?r=1:r>12&&(r=12);break;case"ReadOnly":break;case"Second":0>r?r=0:r>59&&(r=59);break;case"Year":r<this.minDate.year?r=this.minDate.year:r>this.maxDate.year&&(r=this.maxDate.year)}this.editors[i].value!=r&&(this.editors[i].value=r,t=!0)}this.updateValue(e),null!=this.value&&e===!0&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var i=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var r=this.editors.indexOf(this.activeEditor);r>=0&&this._selectGroup(r)}},spinDown:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var i=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var r=this.editors.indexOf(this.activeEditor);r>=0&&this._selectGroup(r)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==e.keyCode){var t=(this.calendarContainer,this._calendar),i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}var i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var r=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,r},handleCalendarKey:function(t,i){var r=(e(t.target),e.data(document.body,"openedJQXCalendar"+this.id));if(null!=r&&r.length>0){var s=i._passKeyToCalendar(t);return s}return!0},_findPos:function(t){if(null!=t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,r){var s=t.outerWidth(),o=t.outerHeight(),n=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+s>n&&s>this.host.width()){var l=this.host.coord().left,d=s-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+o>a&&a>o?Math.abs(o+r+23):0),i},open:function(e){"time"==e?this.timePopup=!0:this.timePopup=!1,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},initTimePopup:function(){this.timePopupElement=e("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var t="";t+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var i=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=t:this.timePopupElement[0].innerHTML="<table><tr><td>"+t+"</td><td>-</td><td>"+t+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var r=this.timePopupElement.find("input");r.addClass(this.toThemeProperty("jqx-input")),r.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(r,"mousedown",function(e){e.stopPropagation()});var s=function(t){t.target.className.indexOf("hour")>=0&&a._decrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&a._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&a._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&a._decrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&a._decrementMeridian(e(t.target))},o=function(t){t.target.className.indexOf("hour")>=0&&a._incrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&a._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&a._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&a._incrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&a._incrementMeridian(e(t.target))},n=function(e,t){if(t.isEditing){var i=0;e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&void 0!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(0>i?s(e):o(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1}};this.addHandler(r,"wheel",function(e){n(e,a)}),this.addHandler(r,"keydown",function(t){e(t.target);if(t.ctrlKey)if(38==t.keyCode){if(a.isOpened())return a.hideCalendar("keyboard","keyboard"),a.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!a.isOpened())return a.showCalendar("keyboard","keyboard"),a.dateTimeInput.focus(),!1;40==t.keyCode?(s(t),t.preventDefault()):38==t.keyCode?(o(t),t.preventDefault()):13==t.keyCode?(t.preventDefault(),a.hideCalendar("keyboard","keyboard"),a.dateTimeInput.focus()):27==t.keyCode&&(t.preventDefault(),a.hideCalendar("cancel"),a.dateTimeInput.focus())}),this.hourInput=e(r[0]),this.minuteInput=e(r[1]),this.secondInput=e(r[2]),this.mssecondInput=e(r[3]),this.meridianInput=e(r[4]),this.hourInput2=e(r[5]),this.minuteInput2=e(r[6]),this.secondInput2=e(r[7]),this.mssecondInput2=e(r[8]),this.meridianInput2=e(r[9]);var a=this,l=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=e(l[0]),this.hourIncrement2=e(l[1]),this.addHandler(r,"change",function(t){var r=e(t.target);if(r.val().length<=1&&r.val("0"+e(t.target).val()),t.target.className.indexOf("hour")>=0){var s=parseInt(e(t.target).val());if(i.indexOf("HH")>=0)for(;s>24;)s-=24;else for(;s>12;)s-=12;10>s&&(s="0"+s),r.val()!=s&&r.val(s)}if(t.target.className.indexOf("minute")>=0||t.target.className.indexOf("second")>=0){for(var s=parseInt(e(t.target).val());s>59;)s--;10>s&&(s="0"+s),r.val()!=s&&r.val(s)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,i.indexOf("HH")>=0?t>23&&(t=0):t>12&&(t=1),10>t&&(t="0"+t),e.val(t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());t++,t>59&&(t=0),10>t&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());t++,t>999&&(t=0),10>t&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,i.indexOf("HH")>=0?0>t&&(t=23):1>t&&(t=12),10>t&&(t="0"+t),e.val(t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());t--,0>t&&(t=59),10>t&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());t--,0>t&&(t=999),10>t&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),a._incrementHour(a.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),a._incrementHour(a.hourInput2)});var d=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=e(d[0]),this.minuteIncrement2=e(d[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),a._incrementMinuteSecond(a.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),a._incrementMinuteSecond(a.minuteInput2)});var h=this.timePopupElement.find(".increment-second-column");this.secondIncrement=e(h[0]),this.secondIncrement2=e(h[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),a._incrementMinuteSecond(a.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),a._incrementMinuteSecond(a.secondInput2)});var c=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=e(c[0]),this.millisecondsIncrement2=e(c[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),a._incrementMillisecond(a.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),a._incrementMillisecond(a.mssecondInput2)});var u=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=e(u[0]),this.meridianIncrement2=e(u[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),a._incrementMeridian(a.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),a._incrementMeridian(a.meridianInput2)});var p=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=e(p[0]),this.hourDecrement2=e(p[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),a._decrementHour(a.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),a._decrementHour(a.hourInput2)});var f=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=e(f[0]),this.minuteDecrement2=e(f[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),a._decrementMinuteSecond(a.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),a._decrementMinuteSecond(a.minuteInput2)});var m=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=e(m[0]),this.secondDecrement2=e(m[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),a._decrementMinuteSecond(a.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),a._decrementMinuteSecond(a.secondInput2)});var g=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=e(g[0]),this.millisecondsDecrement2=e(g[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),a._decrementMillisecond(a.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),a._decrementMillisecond(a.mssecondInput2)});var v=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=e(v[0]),this.meridianDecrement2=e(v[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),a._decrementMeridian(a.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),a._decrementMeridian(a.meridianInput2)});var x=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});var w=function(t){var r=t.find("tr");-1==i.indexOf("ss")&&(a.secondInput.hide(),a.secondInput2.hide(),e(e(r[0]).children()[3]).hide(),e(e(r[0]).children()[4]).hide(),e(e(r[1]).children()[3]).hide(),e(e(r[1]).children()[4]).hide(),e(e(r[2]).children()[3]).hide(),e(e(r[2]).children()[4]).hide()),-1==i.indexOf("tt")&&-1==i.indexOf("hh")&&(a.meridianInput.hide(),a.meridianInput2.hide(),e(e(r[0]).children()[7]).hide(),e(e(r[0]).children()[8]).hide(),e(e(r[1]).children()[7]).hide(),e(e(r[1]).children()[8]).hide(),e(e(r[2]).children()[7]).hide(),e(e(r[2]).children()[8]).hide()),-1==i.indexOf("zz")&&(a.mssecondInput.hide(),a.mssecondInput2.hide(),e(e(r[0]).children()[5]).hide(),e(e(r[0]).children()[6]).hide(),e(e(r[1]).children()[5]).hide(),e(e(r[1]).children()[6]).hide(),e(e(r[2]).children()[5]).hide(),e(e(r[2]).children()[6]).hide())};1==x.length?w(x):(w(e(e(x)[1])),w(e(e(x)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),r=t.getMinutes(),s=t.getHours(),o=t.getSeconds(),n=t.getMilliseconds();else var i=0,r=0,s=0,o=0,n=0;i>=12?(s="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):s="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>r&&(r="0"+r),10>o&&(o="0"+o),10>n&&(n="0"+n),this.hourInput.val(i),this.minuteInput.val(r),this.secondInput.val(o),this.mssecondInput.val(n),this.meridianInput.val(s)}}else{var t=this.getRange().from;if(this.hourInput){if(t)var i=t.getHours(),r=t.getMinutes(),s=t.getHours(),o=t.getSeconds(),n=t.getMilliseconds();else var i=0,r=0,s=0,o=0,n=0;i>=12?(s="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):s="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>r&&(r="0"+r),10>o&&(o="0"+o),10>n&&(n="0"+n),this.hourInput.val(i),this.minuteInput.val(r),this.secondInput.val(o),this.mssecondInput.val(n),this.meridianInput.val(s)}var t=this.getRange().to;if(this.hourInput2){if(t)var i=t.getHours(),r=t.getMinutes(),s=t.getHours(),o=t.getSeconds(),n=t.getMilliseconds();else var i=0,r=0,s=0,o=0,n=0;i>=12?(s="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):s="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>r&&(r="0"+r),10>o&&(o="0"+o),10>n&&(n="0"+n),this.hourInput2.val(i),this.minuteInput2.val(r),this.secondInput2.val(o),this.mssecondInput2.val(n),this.meridianInput2.val(s)}}},showCalendar:function(){var t=this.calendarContainer,i=this._calendar;if(e.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var r=this.timeContainer.find("input"),s=0,o=0;o<r.length;o++)"none"!=r[o].style.display&&(s+=50);this.container.width(parseInt(s)),this.touch||setTimeout(function(){r[0].focus(),e(r[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,i.canRender||(i.canRender=!0,i.render());var n,a=(this.container,this),l=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));n=d+"px";var h=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=h&&h&&(n=e.jqx.mobile.getLeftPos(this.element),l=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)-this._getBodyOffset().left+"px")),this.container.css("left",n),this.container.css("top",l);var c=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==a.selectionMode){this._validateValue(),this._updateText();var u=null!=this.value?this.value.dateTime:new Date;i.setDate(u)}this.closeCalendarAfterSelection=c;var p=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var f=this.container.outerWidth(),m=Math.abs(f-this.host.outerWidth()+2);if(this.rtl||(m-=2),f>this.host.width()){var g=23;this.container.css("left",g+parseInt(Math.round(d))-m+"px")}else this.container.css("left",25+parseInt(Math.round(d))+m+"px")}if("top"==this.dropDownVerticalAlignment){var v=t.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),p=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"));var x=parseInt(this.host.outerHeight()),w=parseInt(l)-Math.abs(v+x+23);this.container.css("top",w)}if(this.enableBrowserBoundsDetection){var b=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=b.top?(p=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",b.top),parseInt(this.container.css("left"))!=b.left&&this.container.css("left",b.left)}if(this._raiseEvent(7,t),"none"!=this.animationType){this.container.css("display","block");var y=parseInt(t.outerHeight());t.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.timeContainer.focus()}))):(t.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),p?t.css("margin-top",y):t.css("margin-top",-y),this.timePopup&&(p?this.timeContainer.css("margin-top",y):this.timeContainer.css("margin-top",-y),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.timeContainer.focus()})),t.animate({"margin-top":0},this.openDelay,function(){a.isanimating=!1,a.opening=!1,e.data(document.body,"openedJQXCalendar"+a.id,t),a.calendarContainer.focus()}))}else t.stop(),a.isanimating=!1,a.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),e.data(document.body,"openedJQXCalendar"+a.id,t),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(t,i){i&&(this.changeType=i);var r=this.calendarContainer,s=this.container,o=this;if(e.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=t)if("range"!=this.selectionMode&&this.hourInput){var n=this.getDate(),a=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&12>a&&(a+=12),c.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12)),n||(n=new Date),n.setHours(a,l,d,h),this.setDate(n)}else if(this.hourInput&&"selected"!=t){var u=this.getRange(),a=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),d=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(a)&&(a=0),isNaN(l)&&(l=0),isNaN(d)&&(d=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&12>a&&(a+=12),c.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12));var p=u.from;p||(p=new Date),p.setHours(a,l,d,h);var a=parseInt(this.hourInput2.val()),l=parseInt(this.minuteInput2.val()),d=parseInt(this.secondInput2.val()),h=parseInt(this.mssecondInput2.val()),c=this.meridianInput2.val();""==l&&(l=0),""==d&&(d=0),""==h&&(h=0),"none"!=this.meridianInput2.css("display")&&(c.toLowerCase().indexOf("p")>=0&&12>a&&(a+=12),c.toLowerCase().indexOf("a")>=0&&a>=12&&(a-=12));var f=u.to;if(f||(f=new Date),f.setHours(a,l,d,h),f.valueOf()<p.valueOf())return!1;this.setRange(p,f)}else if("selected"==t)return;if(e.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var m=r.outerHeight();r.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var g=-m;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=m),"fade"==this.animationType?r.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1}):r.animate({"margin-top":g},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1}):this.timeContainer.animate({"margin-top":g},this.closeDelay,function(){s.css("display","none"),o.isanimating=!1}))}else s.css("display","none");
void 0!=t&&this._updateSelectedDate(t),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,r)},_updateSelectedDate:function(){var t=this.value;null==t&&(t=new e.jqx._jqxDateTimeInput.getDateTime(new Date),t._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0));var i=t.hour,r=t.minute,s=t.second,o=t.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var n=new e.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);n._setHours(i),n._setMinutes(r),n._setSeconds(s),n._setMilliseconds(o);var a=this.setDate(n.dateTime);if("range"==this.selectionMode&&!a&&this._oldDT){var l=this.getRange(),d=(this._oldDT,!1),h=!1,c=this._oldDT.from,n=l.from;null!=n&&c&&n.getFullYear()==c.getFullYear()&&n.getMonth()==c.getMonth()&&n.getDate()==c.getDate()&&n.getHours()==c.getHours()&&n.getMinutes()==c.getMinutes()&&n.getSeconds()==c.getSeconds()&&(d=!0);var n=l.to;if(null!=n&&(c=this._oldDT.to,c&&n.getFullYear()==c.getFullYear()&&n.getMonth()==c.getMonth()&&n.getDate()==c.getDate()&&n.getHours()==c.getHours()&&n.getMinutes()==c.getMinutes()&&n.getSeconds()==c.getSeconds()&&(h=!0)),d&&h)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}},_closeOpenedCalendar:function(t){var i=e(t.target),r=e.data(document.body,"openedJQXCalendar"+t.data.me.id),s=!1;if(e.each(i.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return s=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return s=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}}),e(t.target).ischildof(t.data.me.host))return!0;if(null!=t.target&&("B"==t.target.tagName||"b"==t.target.tagName)){var o=t.data.me.host.coord(),n=t.data.me.host.width(),a=t.data.me.host.height(),l=parseInt(o.top),d=parseInt(o.left);if(l<=t.pageY&&t.pageY<=l+a&&d<=t.pageX&&t.pageX<=d+n)return!0}if(null!=r&&!s&&r.length>0){var h=r[0].id.toString(),c=h.toString().substring(13),u=(e(document).find("#"+c),t.data.me.hideCalendar());u!==!1&&e.data(document.body,"openedJQXCalendar"+t.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var t=this,i="";if(0==t.items.length&&null!=t.value&&t._loadItems(),null!=t.value){t.items.length>=1&&(i=t.format(t.value,0,t.items.length));var r=t.dateTimeInput.val();r!=i&&t._raiseEvent(1,t.value)}if("range"==t.selectionMode){var s=t.getRange();if(fromText=t.format(t.value,0,t.items.length),s.to){var o=e.jqx._jqxDateTimeInput.getDateTime(s.from);fromText=t.format(o,0,t.items.length);var n=e.jqx._jqxDateTimeInput.getDateTime(s.to);toText=t.format(n,0,t.items.length);var i=fromText+" - "+toText;" - "==i&&(i="")}else i=""}t.dateTimeInput.val(i)},format:function(e,t,i){for(var r="",s=t;i>s;++s){var o=this.items[s].dateParser(e,this);if(this.isEditing&&"ReadOnly"!=this.items[s].type&&"range"!=this.selectionMode){var n="Day"==this.items[s].type&&this.items[s].format.length>2;if("FORMAT_AMPM"==this.items[s].type&&(n=!0,o=0==this.editors[s].value?this.editors[s].amString:this.editors[s].pmString),!n)for(o=this.items[s].dateParserInEditMode(new Number(this.editors[s].value),"d"+this.editors[s].maxEditPositions,this);o.length<this.editors[s].maxEditPositions;)o="0"+o}r+=o}return r},_getFormatValueGroupLength:function(e){for(i=1;i<e.toString().length;++i)if(e.substring(i,i+1)!=e.substring(0,1))return i;return e.length},_parseFormatValue:function(t){for(var i=new Array,r=t.toString(),s=0;r.length>0;){var o=this._getFormatValueGroupLength(r),n=null;switch(r.substring(0,1)){case":":case"/":o=1,n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var a=r.indexOf(r[0],1);n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(1,1+Math.max(1,a-1)),"ReadOnly",this.culture),o=Math.max(1,a+1);break;case"\\":r.length>=2&&(n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(1,1),"ReadOnly",this.culture),o=2);break;case"d":case"D":n=o>2?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Day",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Day",this.culture);break;case"f":case"F":o>7&&(o=7),n=o>3?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"ReadOnly",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Millisecond",this.culture);break;case"g":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"ReadOnly",this.culture);break;case"h":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"FORMAT_hh",this.culture);break;case"H":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"FORMAT_HH",this.culture);break;case"m":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Minute",this.culture);break;case"M":o>4&&(o=4),n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Month",this.culture);break;case"s":case"S":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Second",this.culture);break;case"t":case"T":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"FORMAT_AMPM",this.culture);break;case"y":case"Y":o>1?n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"Year",this.culture):(o=1,n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,o),"ReadOnly",this.culture);break;default:o=1,n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),"ReadOnly",this.culture)}i[s]=e.extend(!0,{},n),r=r.substring(o),s++}return i},_getFormatValue:function(e){if(null!=e&&0!=e.length||(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,r=e.hour,s=e.millisecond,o=e.second,n=e.minute,a=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":var d=r%12;0==d&&(d=12),r>=0&&12>r?this.editors[l].value=0:this.editors[l].value=1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var d=r%12;0==d&&(d=12),this.editors[l].value=d;break;case"FORMAT_HH":this.editors[l].value=r;break;case"Millisecond":this.editors[l].value=s;break;case"Minute":this.editors[l].value=n;break;case"Month":this.editors[l].value=a;break;case"Second":this.editors[l].value=o;break;case"Year":this.editors[l].value=t}}},updateValue:function(t){if(!(this.isEditing||this.items&&0==this.items.length)){for(var i=1,r=1,s=0,o=0,n=0,a=0,l=1,d=0,h=!1,c=!1,u=!1,p=!1,f=!1,m=!1,g=!1,v=new Array,x=null,w=0,b=0;b<this.items.length;b++)switch(this.items[b].type){case"FORMAT_AMPM":d=this.editors[b].value,x=this.editors[b];break;case"Character":break;case"Day":this.items[b].format.length<3&&(r=this.editors[b].value,v[w++]=this.editors[b],0==r&&(r=1),u=!0);break;case"FORMAT_hh":var y=this.editors[b];s=y.value,p=!0;break;case"FORMAT_HH":s=this.editors[b].value,p=!0;break;case"Millisecond":o=this.editors[b].value,g=!0;break;case"Minute":a=this.editors[b].value,f=!0;break;case"Month":l=this.editors[b].value,c=!0,0==l&&(l=1);break;case"ReadOnly":break;case"Second":n=this.editors[b].value,m=!0;break;case"Year":h=!0,i=this.editors[b].value;var _=this.editors[b].getDateTimeItem().format;if(_.length<3){var j="1900";if(4==j.Length){var q,T=""+j[0]+j[1];q=parseInt(T),i+=100*q}}0==i&&(i=1)}var C=null!=this.value?new Date(this.value.dateTime):null;if(i>0&&l>0&&r>0&&a>=0&&s>=0&&n>=0&&o>=0){var k=this.value;null!=k&&(h||(i=k.year),c||(l=k.month),u||(r=k.day));try{if(l>12&&(l=12),1>l&&(l=1),t&&k._daysInMonth(i,l)<=r&&(r=k._daysInMonth(i,l),null!=v&&v.length>0))for(b=0;b<v.length;b++)v[b].value=r;null!=x&&(0==x.value?s>=12&&(s-=12):24>s+12&&(s+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(i)),this.value._setDay(r),this.value._setMonth(l),p&&this.value._setHours(s),f&&this.value._setMinutes(a),m&&this.value._setSeconds(n),g&&this.value._setMilliseconds(o),this._validateTimeRange()}catch(S){this.value=k}if(null!=C){var D=this.value.dateTime.getFullYear()==C.getFullYear()&&this.value.dateTime.getDate()==C.getDate()&&this.value.dateTime.getMonth()==C.getMonth()&&this.value.dateTime.getHours()==C.getHours()&&this.value.dateTime.getMinutes()==C.getMinutes()&&this.value.dateTime.getSeconds()==C.getSeconds();if(!D){if(this.changing){var I=this.changing(C,this.value.dateTime);I&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(I))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}var P=this.editors.indexOf(this.activeEditor);this.items[P];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(t,i,r){var s=this.events[t],o={};o.owner=this,null==i&&(i={}),null==r&&(r=i);var n=i.charCode?i.charCode:i.keyCode?i.keyCode:0,a=!0,l=this.readonly,d=new e.Event(s);if(d.owner=this,d.args=o,d.args.date=this.getDate(),9==t&&(d.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==t&&"range"!=this.selectionMode){var h=d.args.date;if(this._oldDT){if(null!=h&&h.getFullYear()==this._oldDT.getFullYear()&&h.getMonth()==this._oldDT.getMonth()&&h.getDate()==this._oldDT.getDate()&&h.getHours()==this._oldDT.getHours()&&h.getMinutes()==this._oldDT.getMinutes()&&h.getSeconds()==this._oldDT.getSeconds())return!0;e.jqx.aria(this,"aria-valuenow",this.getDate()),e.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null")}d.args.oldValue=r,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(d.args.date=this.getRange(),this._oldDT){var h=d.args.date.from;if(9==t){var c=!1,u=!1,p=this._oldDT.from;null!=h&&p&&h.getFullYear()==p.getFullYear()&&h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getHours()==p.getHours()&&h.getMinutes()==p.getMinutes()&&h.getSeconds()==p.getSeconds()&&(c=!0);var h=d.args.date.to;if(null!=h&&(p=this._oldDT.to,p&&h.getFullYear()==p.getFullYear()&&h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getHours()==p.getHours()&&h.getMinutes()==p.getMinutes()&&h.getSeconds()==p.getSeconds()&&(u=!0)),c&&u)return!0;var c=d.args.date.from;c=null==c?"":c.toString();var u=d.args.date.to;u=null==u?"":u.toString(),e.jqx.aria(this,"aria-valuenow",c+"-"+u),e.jqx.aria(this,"aria-valuetext",this.getText()),c&&u&&e.jqx.aria(this,"aria-label","Current focused range is "+c.toLocaleString()+"-"+u.toLocaleString())}}d.args.oldValue=r,d.args.newValue=d.args.date,this._oldDT&&(d.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&(a=this.host.trigger(d),d.stopPropagation&&d.stopPropagation());var f=this;if(l||2!=t||this.disabled||setTimeout(function(){f.isEditing=!0,"range"==this.selectionMode?f._selectGroup(-1):f._selectGroup(-1)},25),4==t){if(l||this.disabled){if(8!=n&&46!=n||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==n)return!0;if(!i.altKey)return!1}a=this._handleKeyDown(i,n)}else if(5==t){if(9==n)return!0;if(l||this.disabled)return!1}else if(6==t){if(9==n)return!0;if(l||this.disabled)return!1;a=this._handleKeyPress(i,n)}return a},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),r=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||r>=0&&(this.activeEditor=this.editors[r]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),r=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;t=!0;break}return t||r>=0&&(this.activeEditor=this.editors[r]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var e=this._selection(),t="",r=this.dateTimeInput.val();if(e.start>0||e.length>0)for(i=e.start;i<e.end;i++)t+=r[i];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i){var r=i.positions==i.maxEditPositions;if(r){this.editorText="";var s=i.value,o=!1;switch(this.items[e].type){case"FORMAT_AMPM":0>s?s=0:s>1&&(s=1);break;case"Character":break;case"Day":1>s?s=1:s>31&&(s=31);break;case"FORMAT_hh":1>s?s=1:s>12&&(s=12);break;case"FORMAT_HH":0>s?s=0:s>23&&(s=23);break;case"Millisecond":0>s?s=0:s>99&&(s=99);break;case"Minute":0>s?s=0:s>59&&(s=59);break;case"Month":1>s?s=1:s>12&&(s=12);break;case"ReadOnly":break;case"Second":0>s?s=0:s>59&&(s=59);break;case"Year":s<this.minDate.year?s=this.minDate.year:s>this.maxDate.year&&(s=this.maxDate.year)}return i.value!=s&&(o=!0),o?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(e,t){var i=this._selection(),r=this,s=e.ctrlKey||e.metaKey;if(s&&97==t||s&&65==t)return!0;if(8==t)return i.start>0&&r._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&r._setSelectionStart(i.start),!1;if(i.start>=0){this.changeType="keyboard";var o=String.fromCharCode(t),n=parseInt(o);if("p"!=o&&"a"!=o&&"A"!=o&&"P"!=o||"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=o&&"P"!=o?1!=this.activeEditor.value||"a"!=o&&"A"!=o||this.spinDown():this.spinUp()),!isNaN(n)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var a=!1,l=this.editors.indexOf(this.activeEditor),d=null;if(this.isEditing=!0,"ReadOnly"!=l.type&&(d=this.activeEditor),null!=d&&0==d.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(o),null!=d&&this.editorText.length>=d.maxEditPositions&&(this.editorText=""),this.editorText+=o;var h=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var c=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==c&&h&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return a=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var u=this._isSpecialKey(t);return u},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(t,i){var r=this;if(this.timePopup=!1,84==i&&(this.timePopup=!0),115==t.keyCode){if(r.isOpened())return r.hideCalendar("keyboard","keyboard"),!1;if(!r.isOpened())return r.showCalendar("keyboard","keyboard"),!1}if(t.altKey){if(38==t.keyCode){if(r.isOpened())return r.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!r.isOpened())return r.showCalendar("keyboard","keyboard"),!1}else if(t.ctrlKey)if(this.timePopup=!0,38==t.keyCode){if(r.isOpened())return r.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!r.isOpened())return r.showCalendar("keyboard","keyboard"),!1;if(!r.isOpened()){var s=(r._selection(),t.ctrlKey||t.metaKey);if(s&&99==i||s&&67==i)return r._saveSelectedText(t),!0;if(s&&122==i||s&&90==i)return!1;if(s&&118==i||s&&86==i||t.shiftKey&&45==i){var o=(r.val(),this),n=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return e("body").append(n),n.select(),setTimeout(function(){var e=n.val();o.setDate(e),n.remove()},100),!0}if(8==i||46==i){if(t.altKey||s||46!=i){if(null!=r.activeEditor){var a=r.editors.indexOf(r.activeEditor);if(r.activeEditor.positions>=0){var l=r._format(Number(r.activeEditor.value),"d"+r.activeEditor.maxEditPositions,r.culture);if(tmp=l,tmp=tmp.substring(0,r.activeEditor.positions)+"0"+tmp.substring(r.activeEditor.positions+1),parseInt(tmp)<r.activeEditor.minValue&&(tmp=r._format(Number(r.activeEditor.minValue),"d"+r.activeEditor.maxEditPositions,r.culture)),r.enableAbsoluteSelection?r.activeEditor.value=tmp:r.activeEditor.value=r.activeEditor.minValue,r._validateValue(),r._updateText(),r.changeType="keyboard",8==i){var d=this;r.enableAbsoluteSelection&&r.activeEditor.positions>0?setTimeout(function(){d.activeEditor.positions=d.activeEditor.positions-1,d._selectGroup(a)},10):setTimeout(function(){d._doLeftKey()},10)}else r._selectGroup(a)}else r._doLeftKey()}}else r.isEditing=!1,r.allowKeyboardDelete&&(r.changeType="keyboard",r.allowNullDate?r.setDate(null):"range"!=r.selectionMode?r.setDate(r.getMinDate()):r.setRange(r.getMinDate(),r.getMinDate()));return!1}if(38==i)return this.spinUp(),r.changeType="keyboard",!1;if(40==i)return this.spinDown(),r.changeType="keyboard",!1;if(9==i){if(null==r.value)return!0;if(t.shiftKey)var h=this._doLeftKey();else var h=this._doRightKey();return!h}if(37==i){if(this._editor){var h=this._doLeftKey();return h||(this.isEditing=!1,this._validateValue()),!h}var h=this._doLeftKey();return!1}if(39==i||191==i){if(this._editor){var h=this._doRightKey();return h||(this.isEditing=!1,this._validateValue()),!h}var h=this._doRightKey();return!1}var c=this._isSpecialKey(i);return null==this.value&&(i>=48&&57>=i||i>=96&&105>=i)&&(r.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),e.jqx.browser.mozilla?e.jqx.browser.mozilla&&e.jqx.browser.version>24?!0:c:!0}return 9==t.keyCode?(r.hideCalendar("selected","keyboard"),!0):void 0},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var r=this.dateTimeInput[0].createTextRange(),s=r.duplicate();r.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",r);var t=i.text.length;return{start:s.text.length,end:s.text.length+i.text.length,length:t,text:i.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){if(!t)var t=this._selection();for(var i="",r="",s=null,o=0;o<this.items.length;o++){if(r=this.items[o].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[o].type){var n="Day"==this.items[o].type&&this.items[o].format.length>2;if(!n&&"FORMAT_AMPM"!=this.items[o].type)for(r=this.items[o].dateParserInEditMode(new Number(this.editors[o].value),"d"+this.editors[o].maxEditPositions,this);r.length<this.editors[o].maxEditPositions;)r="0"+r}if(i+=r,"ReadOnly"!=this.items[o].type&&!("Day"==this.items[o].type&&this.items[o].format.length>2))if(void 0!=e&&-1!=e){if(o>=e){var a=i.length-r.length,l=r.length;this.enableAbsoluteSelection&&!isNaN(parseInt(r))&&this.isEditing&&-1!=e&&(l=1,a+=this.editors[o].positions),a==this.dateTimeInput.val().length&&a--,this._setSelection(a,a+l),s=this.editors[o],this.activeEditor=s;break}}else if(i.length>=t.start){s=this.editors[o],this.activeEditor=s;var a=i.length-r.length,l=1;this.enableAbsoluteSelection?!isNaN(parseInt(r))&&this.isEditing&&-1!=e&&(l=1,a+=this.editors[o].positions):l=r.length,this._setSelection(a,a+l);break}}o<this.items.length&&-1==e&&"ReadOnly"!=this.items[o].type&&(this.activeEditor.positions=0);var d=this._selection();if(0==d.length&&d.start>0){this._getLastEditableEditorIndex()}}},_getLastEditableEditorIndex:function(){var e=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(e=i));return e},_setSelection:function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(r){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&("range"!=this.selectionMode?this._oldDT=null:this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateTimeFormatItem={},e.extend(e.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){if(null==e)return"";var i=t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return i},dateParserInEditMode:function(e,t,i){if(null==e)return"";var r=i._format(e.toString(),1==t.length?"%"+t:t,this.culture);return r},getDateTimeEditorByItemType:function(t,i){switch(this.type){case"FORMAT_AMPM":var r=e.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i),s=e.extend({},r);return s;case"Character":return null;case"Day":var o,n=t.year,a=t.month;o=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;var l=t.day;null!=o&&(l=t.dayOfWeek+1);var d=e.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(n,a),1==this.format.length?1:2,2,o,this,i),s=e.extend({},d);return s;case"FORMAT_hh":var h=t.hour%12;0==h&&(h=12);var c=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(h,1,12,1==this.format.length?1:2,2,this,i),s=e.extend({},c);return s;case"FORMAT_HH":var u=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,i),s=e.extend({},u);return s;case"Millisecond":var p=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i),s=e.extend({},p);return s;case"Minute":var f=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,i),s=e.extend({},f);return s;case"Month":var m;m=3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null;var g=e.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,m,this,i),s=e.extend({},g);return s;case"ReadOnly":return e.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":var v=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,i),s=e.extend({},v);return s;case"Year":var x=e.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,4,this,i),s=e.extend({},x);return s}return null}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateEditor=e.extend(e.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,r,s){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=r,this.updateActiveEditor(e),this.item=s},_createYearEditor:function(t,i,r,s){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(0,4>i?99:9999,2==i?2:1,i>3?4:2,r),this.initializeYearEditor(t,i,r.culture),this.handleYears=!0,this.that=s,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var r=e;r=Math.min(r,9999),r=Math.max(r,1),r=this.formatValueLength<4?r%100:r,this.updateActiveEditor(r),this.value=r},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(t,i,r,s,o,n,a,l,d){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(r,s,1,n,l),this.currentValue=t,this.value=i,this.days=a,this.handleDays=!0,this.that=d,this},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){var e=(this.value,this.minEditPositions),t=e,i=this.that._format(this.value,"d"+t,"");return i},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i,r=1,s=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return i=s,this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,r),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths&&null!=this.dateTimeMonths){var t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(i=0;i<6;++i){var r=(this.value+i)%7+1,s=this.days[r-1];if(s.substring(0,1)==e)return this.updateActiveEditor(r),t=!0}return t},insertLongString:function(e,t){if(e.length>0)for(i=0;i<6;++i){var r=(this.value+i)%7+1;if(this.days[r-1]==e)return this.updateActiveEditor(r),t=!0}return t},_createMonthEditor:function(t,i,r,s,o){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(1,12,i,2,s),this.dateTimeMonths=r,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=o,this},insertLongString2:function(e,t){if(e.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==e)return this.updateActiveEditor(month),t=!0;return t},insertShortString2:function(e,t){if(1==e.length)for(i=0;i<11;++i){var r=(this.value+i)%12+1,s=this.dateTimeMonths[r-1];if(s.substring(0,1)==e)return this.updateActiveEditor(r),t=!0}return t},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];
if(i=parseInt(i)+1,i>9&&(i=0),!e){var r=this.value+1;return r=this.correctMaximumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,0>i&&(i=9),!e){var r=this.value-1;return r=this.correctMinimumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.NumberEditor={},e.extend(e.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,i,r,s,o,n,a){return e.jqx._jqxDateTimeInput.NumberEditor=e.extend(!0,{},this),this.initializeFields(i,r,s,o,n),this.that=a,this},initializeFields:function(e,t,i,r,s){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=r,this.updateActiveEditor(e),this.item=s},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){var e=(this.value,this.minEditPositions),t=e,i=this.that._format(this.value,"d"+t,"");return i},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i,r=1,s=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return i=s,this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,r),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var r=this.value+1;return r=this.correctMaximumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,0>i&&(i=9),!e){var r=this.value-1;return r=this.correctMinimumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,r,s,o){return this.format=e,this.value=-1,this.item=s,this.that=o,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,r,s,o){return this.format=e,this.value=t,this.amString=i,this.pmString=r,this.item=s,this.that=o,i==r&&(this.amString="<"+i,this.pmString=">"+r),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&e.length>1&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var r=amString[0],s=t[0],o=pmString[0];r.toString()==s.toString()?(this.value=0,i=!0):o.toString()==s.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){var e=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return e},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.getDateTime=function(e){var t={dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){void 0!=e&&null!=e||(e=this.dateTime);var t=e.getDay()%6==0;return t},dayOfYear:function(e){void 0!=e&&null!=e||(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setSeconds(e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(1>e||e>9999)throw"invalid year";return e%4!=0?!1:e%100==0?e%400==0:!0},_dateToTicks:function(e,t,i){if(e>=1&&9999>=e&&t>=1&&12>=t){var r=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=r[t]-r[t-1]){var e=e-1,s=365*e+e/4-e/100+e/400+r[t-1]+i-1;return 864e9*s}}},_daysInMonth:function(e,t){if(1>t||t>12)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){var r=3600*e+60*t+i;return 1e7*r},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}};return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var r in i)this._addFn(e.jqx._jqxDraw.prototype,i[r])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t.renderer||(t.host.empty(),t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),i instanceof e.jqx.HTML5Renderer&&i.refresh()}}},_saveAsImage:function(t,i,r,s){return e.jqx._widgetToImage(this,t,i,r,s)},_render:function(e){var t=this;t.renderer;t._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var r=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+r[0]+r[1]+r[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var r=e.jqx.cssToRgb(t),s=e.jqx.rgbToHsl(r);s[2]=Math.min(1,s[2]*i),s[1]=Math.min(1,s[1]*i*1.1),r=e.jqx.hslToRgb(s);for(var t="#",o=0;3>o;o++){var n=Math.round(r[o]);n=e.jqx.decToHex(n),1==n.toString().length&&(t+="0"),t+=n}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,r){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(r)]},e.jqx.hexToRgb=function(t,i,r){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(r)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),o=parseFloat(t[2]);if(0==s)r=g=b=o;else{var n=.5>o?o*(1+s):o+s-o*s,a=2*o-n;r=e.jqx.hueToRgb(a,n,i+1/3),g=e.jqx.hueToRgb(a,n,i),b=e.jqx.hueToRgb(a,n,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,r=parseFloat(e[0])/255,s=parseFloat(e[1])/255,o=parseFloat(e[2])/255,n=Math.max(r,s,o),a=Math.min(r,s,o),l=(n+a)/2;if(n==a)t=i=0;else{var d=n-a;switch(i=l>.5?d/(2-n-a):d/(n+a),n){case r:t=(s-o)/d+(o>s?6:0);break;case s:t=(o-r)/d+2;break;case o:t=(r-s)/d+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,r,s){var o=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),n=Math.asin((e-i)/o),a=n+s;return e=i+Math.cos(a)*o,t=r+Math.sin(a)*o,{x:e,y:t}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),r=1;if(0!=i)for(;100>i*r;)r*=10;return e*=r,t*=r,e%t/r},e.jqx._rnd=function(t,i,r,s){if(isNaN(t))return t;void 0===s&&(s=!0);var o=t-(1==s?t%i:e.jqx._mod(t,i));return t==o?o:(r?t>o&&(o+=i):o>t&&(o-=i),1==i?Math.round(o):o)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,o,n){r||(r=1);var a=Math.abs(s-o),l=a>180?1:0;a>=360&&(o=s+359.99);var d=s*Math.PI*2/360,h=o*Math.PI*2/360,c=e,u=e,p=t,f=t,m=!isNaN(i)&&i>0;if(m&&(n=0),n+i>0){if(n>0){var g=a/2+s,v=g*Math.PI*2/360;e+=n*Math.cos(v),t-=n*Math.sin(v)}if(m){var x=i;c=e+x*Math.cos(d),p=t-x*Math.sin(d),u=e+x*Math.cos(h),f=t-x*Math.sin(h)}}var w=e+r*Math.cos(d),b=e+r*Math.cos(h),y=t-r*Math.sin(d),_=t-r*Math.sin(h),j="",q=Math.abs(Math.abs(o-s)-360)>.02;return m?(j="M "+u+","+f,j+=" a"+i+","+i,j+=" 0 "+l+",1 "+(c-u)+","+(p-f),j+=q?" L"+w+","+y:" M"+w+","+y,j+=" a"+r+","+r,j+=" 0 "+l+",0 "+(b-w)+","+(_-y),q&&(j+=" Z")):(j="M "+b+","+_,j+=" a"+r+","+r,j+=" 0 "+l+",1 "+(w-b)+","+(y-_),q&&(j+=" L"+e+","+t,j+=" Z")),j},measureText:function(t,i,r,s,o){var n=o._getTextParts(t,i,r),a=n.width,l=n.height;0==s&&(l/=.6);var d={};if(isNaN(i)&&(i=0),0==i)d={width:e.jqx._rup(a),height:e.jqx._rup(l)};else{var h=i*Math.PI*2/360,c=Math.abs(Math.sin(h)),u=Math.abs(Math.cos(h)),p=Math.abs(a*c+l*u),f=Math.abs(a*u+l*c);d={width:e.jqx._rup(f),height:e.jqx._rup(p)}}return s&&(d.textPartsInfo=n),d},alignTextInRect:function(t,i,r,s,o,n,a,l,d,h){var c=d*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=o*u,m=o*p;"center"==a||""==a||"undefined"==a?t+=r/2:"right"==a&&(t+=r),"center"==l||"middle"==l||""==l||"undefined"==l?i+=s/2:"bottom"==l?i+=s-n/2:"top"==l&&(i+=n/2),h=h||"";var g="middle";-1!=h.indexOf("top")?g="top":-1!=h.indexOf("bottom")&&(g="bottom");var v="center";return-1!=h.indexOf("left")?v="left":-1!=h.indexOf("right")&&(v="right"),"center"==v?(t-=m/2,i-=f/2):"right"==v&&(t-=m,i-=f),"top"==g?(t-=n*u,i+=n*p):"middle"==g&&(t-=n*u/2,i+=n*p/2),t=e.jqx._rup(t),i=e.jqx._rup(i),{x:t,y:i}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){var t="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>";e.append(t),this.host=e;var i=e.find(".chartContainer");i[0].style.width=e.width()+"px",i[0].style.height=e.height()+"px";try{var r=document.createElementNS(this._svgns,"svg");r.setAttribute("id","svgChart"),r.setAttribute("version","1.1"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("overflow","hidden"),i[0].appendChild(r),this.canvas=r}catch(s){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),r=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){for(var i=!0,r=!0,s=this.host,o=0,n=0;s&&s.position&&s[0].parentNode;){var a=s.position();o+=parseFloat(a.left)-parseInt(a.left),n+=parseFloat(a.top)-parseInt(a.top),s=s.parent()}i=parseFloat(o)==parseInt(o),r=parseFloat(n)==parseInt(n)}i||(this.host.find("#tdLeft")[0].style.width="0.5px"),r||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var e=this.host.find(".chartContainer");return e},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(void 0!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(t){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?(i=i.replace(/([\('\)])/g,"\\$1"),i=i.replace(/#.*$/,"")):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]};if(void 0===t)return s;var o=.6,n=t.toString().split("<br>"),a=this._activeParent(),l=document.createElementNS(this._svgns,"text");this.attr(l,r);for(var d=0;d<n.length;d++){var h=n[d],c=l.ownerDocument.createTextNode(h);l.appendChild(c),a.appendChild(l);var u;try{u=l.getBBox()}catch(p){}var f=e.jqx._rup(u.width),m=e.jqx._rup(u.height*o);l.removeChild(c),s.width=Math.max(s.width,f),s.height+=m+(d>0?4:0),s.parts.push({width:f,height:m,text:h})}return a.removeChild(l),s},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,o,n,a,l,d,h,c){var u,p=this._measureText(t,n,a,!0),f=p.textPartsInfo,m=f.parts;if(d||(d="center"),h||(h="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var g=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(r)-1,width:e.jqx._rup(s)+2,height:e.jqx._rup(o)+2});this.setClip(u,g)}var v=this._activeParent(),x=0,w=0;x=f.width,w=f.height,(isNaN(s)||0>=s)&&(s=x),(isNaN(o)||0>=o)&&(o=w);var b=s||0,y=o||0;if(!n||0==n){r+=w,"center"==h||"middle"==h?r+=(y-w)/2:"bottom"==h&&(r+=y-w),s||(s=x),o||(o=w);for(var v=this._activeParent(),_=0,j=m.length-1;j>=0;j--){var q=document.createElementNS(this._svgns,"text");this.attr(q,a),this.attr(q,{cursor:"default"});var T=q.ownerDocument.createTextNode(m[j].text);q.appendChild(T);var C=i,k=m[j].width,S=m[j].height;"center"==d?C+=(b-k)/2:"right"==d&&(C+=b-k),this.attr(q,{x:e.jqx._rup(C),y:e.jqx._rup(r+_),width:e.jqx._rup(k),height:e.jqx._rup(S)}),v.appendChild(q),_-=m[j].height+4}return u?(this.endGroup(),u):q}var D=e.jqx.commonRenderer.alignTextInRect(i,r,s,o,x,w,d,h,n,c);i=D.x,r=D.y;var I=this.shape("g",{transform:"translate("+i+","+r+")"}),P=this.shape("g",{transform:"rotate("+n+")"});I.appendChild(P);for(var _=0,j=m.length-1;j>=0;j--){var A=document.createElementNS(this._svgns,"text");this.attr(A,a),this.attr(A,{cursor:"default"});var T=A.ownerDocument.createTextNode(m[j].text);A.appendChild(T);var C=0,k=m[j].width,S=m[j].height;"center"==d?C+=(f.width-k)/2:"right"==d&&(C+=f.width-k),this.attr(A,{x:e.jqx._rup(C),y:e.jqx._rup(_),width:e.jqx._rup(k),height:e.jqx._rup(S)}),P.appendChild(A),_-=S+4}return v.appendChild(I),u&&this.endGroup(),I},line:function(e,t,i,r,s){var o=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(o,s),o},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,r,s,o){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=Math.max(1,e.jqx._rnd(r,1,!1)),s=Math.max(1,e.jqx._rnd(s,1,!1));var n=this.shape("rect",{x:t,y:i,width:r,height:s});return o&&this.attr(n,o),n},circle:function(e,t,i,r){var s=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,o,n,a){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,o,n,a)},pieslice:function(e,t,i,r,s,o,n,a){var l=this.pieSlicePath(e,t,i,r,s,o,n),d=this.shape("path");return d.setAttribute("d",l),a&&this.attr(d,a),d},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+(i?"v":"h"),o="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[o])return o;var n=document.createElementNS(this._svgns,"linearGradient");this.attr(n,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:s});for(var a=0;a<r.length;a++){var l=r[a],d=document.createElementNS(this._svgns,"stop"),h="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(d,{offset:l[0]+"%",style:h}),n.appendChild(d)}return this._defs.appendChild(n),this._gradients[o]=!0,o},_toRadialGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+"r"+(void 0!=r?r.key:""),o="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[o])return o;var n=document.createElementNS(this._svgns,"radialGradient");void 0==r?this.attr(n,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:s}):this.attr(n,{cx:r.x,cy:r.y,r:r.outerRadius,id:s,gradientUnits:"userSpaceOnUse"});for(var a=0;a<i.length;a++){var l=i[a],d=document.createElementNS(this._svgns,"stop"),h="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(d,{offset:l[0]+"%",style:h}),n.appendChild(d)}return this._defs.appendChild(n),this._gradients[o]=!0,o}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){var i="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";t.append(i),this.host=t;var r=t.find(".chartContainer");r[0].style.width=t.width()+"px",r[0].style.height=t.height()+"px";var s=!0;try{for(var o=0;o<document.namespaces.length;o++)if("v"==document.namespaces[o].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[o].urn){s=!1;break}}catch(n){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=r[0],this._width=Math.max(e.jqx._rup(r.width()),0),this._height=Math.max(e.jqx._rup(r.height()),0),r[0].style.width=this._width+2,r[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var e=this.host.find(".chartContainer");return e},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]},o=.6,n=t.toString().split("<br>"),a=this._activeParent(),l=document.createElement("v:textbox");this.attr(l,r),a.appendChild(l);for(var d=0;d<n.length;d++){var h=n[d],c=document.createElement("span");c.appendChild(document.createTextNode(h)),l.appendChild(c),r&&r["class"]&&(c.className=r["class"]);var u=e(l),p=e.jqx._rup(u.width()),f=e.jqx._rup(u.height()*o);if(0==f&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var m=u.css("font-size");m&&(f=parseInt(m),isNaN(f)&&(f=0))}l.removeChild(c),s.width=Math.max(s.width,p),s.height+=f+(d>0?2:0),s.parts.push({width:p,height:f,text:h})}return a.removeChild(l),s},_measureText:function(t,i,r,s){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,o,n,a,l,d,h){var c;a&&a.stroke&&(c=a.stroke),void 0==c&&(c="black");var u=this._measureText(t,n,a,!0),p=u.textPartsInfo,f=p.parts,m=u.width,g=u.height;(isNaN(s)||0==s)&&(s=m),(isNaN(o)||0==o)&&(o=g);var v;if(d||(d="center"),h||(h="center"),(f.length>0||l)&&(v=this.beginGroup()),l){var x=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(r),width:e.jqx._rup(s),height:e.jqx._rup(o)});this.setClip(v,x)}var w=this._activeParent(),b=s||0,y=o||0;n=Math.abs(n)>45?90:0;var _=0,j=0;"center"==d?_+=(b-m)/2:"right"==d&&(_+=b-m),"center"==h?j=(y-g)/2:"bottom"==h&&(j=y-g),0==n?(r+=g+j,i+=_):(i+=m+_,r+=j);for(var q,T=0,C=f.length-1;C>=0;C--){var k=f[C],S=(m-k.width)/2;0==n&&"left"==d?S=0:0==n&&"right"==d?S=m-k.width:90==n&&(S=(g-k.width)/2);var D=T-k.height;j=90==n?S:D,_=90==n?D:S,q=document.createElement("v:textbox"),q.style.position="absolute",q.style.left=e.jqx._rup(i+_),q.style.top=e.jqx._rup(r+j),q.style.width=e.jqx._rup(k.width),q.style.height=e.jqx._rup(k.height),90==n&&(q.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",q.style.height=e.jqx._rup(k.height)+5);var I=document.createElement("span");I.appendChild(document.createTextNode(k.text)),a&&a["class"]&&(I.className=a["class"]),q.appendChild(I),w.appendChild(q),T-=k.height+(C>0?2:0)}return v?(this.endGroup(),w):q},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){var o="M "+e+","+t+" L "+i+","+r+" X E",n=this.path(o);return this.attr(n,s),n},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,r,s,o){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=e.jqx._rup(r),s=e.jqx._rup(s);var n=this.shape("rect",o);return n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=r,n.style.height=s,n.strokeweight=0,o&&this.attr(n,o),n},circle:function(t,i,r,s){var o=this.shape("oval");return t=e.jqx._ptrnd(t-r),i=e.jqx._ptrnd(i-r),r=e.jqx._rup(r),o.style.position="absolute",o.style.left=t,o.style.top=i,o.style.width=2*r,o.style.height=2*r,s&&this.attr(o,s),o},updateCircle:function(t,i,r,s){void 0==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),void 0==r&&(r=parseFloat(t.style.top)+parseFloat(t.style.height)/2),void 0==s&&(s=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-s),r=e.jqx._ptrnd(r-s),s=e.jqx._rup(s),t.style.left=i,t.style.top=r,t.style.width=2*s,t.style.height=2*s},pieSlicePath:function(t,i,r,s,o,n,a){s||(s=1);var l=Math.abs(o-n);l>360&&(o=0,n=360);var d=o*Math.PI*2/360,h=n*Math.PI*2/360,c=t,u=t,p=i,f=i,m=!isNaN(r)&&r>0;if(m&&(a=0),a>0){var g=l/2+o,v=g*Math.PI*2/360;t+=a*Math.cos(v),i-=a*Math.sin(v)}if(m){var x=r;c=e.jqx._ptrnd(t+x*Math.cos(d)),p=e.jqx._ptrnd(i-x*Math.sin(d)),u=e.jqx._ptrnd(t+x*Math.cos(h)),f=e.jqx._ptrnd(i-x*Math.sin(h))}var w=(e.jqx._ptrnd(t+s*Math.cos(d)),e.jqx._ptrnd(t+s*Math.cos(h))),b=(e.jqx._ptrnd(i-s*Math.sin(d)),e.jqx._ptrnd(i-s*Math.sin(h)));s=e.jqx._ptrnd(s),r=e.jqx._ptrnd(r),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var y=Math.round(65535*o),_=Math.round(65536*(n-o));0>r&&(r=1);var j="";return m?(j="M"+c+" "+p,j+=" AE "+t+" "+i+" "+r+" "+r+" "+y+" "+_,j+=" L "+w+" "+b,y=Math.round(65535*(o-n)),_=Math.round(65536*n),j+=" AE "+t+" "+i+" "+s+" "+s+" "+_+" "+y,j+=" L "+c+" "+p):(j="M"+t+" "+i,j+=" AE "+t+" "+i+" "+s+" "+s+" "+y+" "+_),j+=" X E"},pieslice:function(e,t,i,r,s,o,n,a){var l=this.pieSlicePath(e,t,i,r,s,o,n),d=this.path(l,a);return a&&this.attr(d,a),d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);void 0!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,r){if(this._ie8mode)return t;var s="grd"+t.replace("#","")+(i?"v":"h"),o="#"+s;if(this._gradients[o])return o;var n=document.createElement(this._createElementMarkup("fill"));n.type="gradient",n.method="linear",n.angle=i?0:90;for(var a="",l=0;l<r.length;l++){var d=r[l];d>0&&(a+=", "),a+=d[0]+"% "+e.jqx.adjustColor(t,d[1])}n.colors=a;var h=document.createElement(this._createElementMarkup("shapetype"));return h.appendChild(n),h.id=s,this.canvas.appendChild(h),o}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return e>t&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),
this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(t){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){var e=this.host.find(".chartContainer");return e},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){void 0!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var r in t)i[r]=t[r];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';var o=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(o,s),o},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){var s=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,o,n,a){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,o,n,a)},pieslice:function(e,t,i,r,s,o,n,a){var l=this.path(this.pieSlicePath(e,t,i,r,s,o,n),a);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:o}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(s){}return{}},_getTextParts:function(t,i,r){var s="Arial",o="10pt",n="";if(r&&r["class"]){var a=this._getCSSStyle(r["class"]);a.fontSize&&(o=a.fontSize),a.fontFamily&&(s=a.fontFamily),a.fontWeight&&(n=a.fontWeight)}this.ctx.font=n+" "+o+" "+s;for(var l={width:0,height:0,parts:[]},d=.6,h=t.toString().split("<br>"),c=0;c<h.length;c++){var u=h[c],p=this.ctx.measureText(u).width,f=document.createElement("span.jqxchart");f.font=this.ctx.font,f.textContent=u,document.body.appendChild(f);var m=f.offsetHeight*d;document.body.removeChild(f),l.width=Math.max(l.width,e.jqx._rup(p)),l.height+=m+(c>0?4:0),l.parts.push({width:p,height:m,text:u})}return l},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,o,n,a,l,d,h){var c=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:o,clip:a,halign:l,valign:d,rotateAround:h});if(n&&this.attr(c,n),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",n&&n["class"]){var u=this._getCSSStyle(n["class"]);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,n,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(0>=r||isNaN(r))&&this.attr(c,{width:p.width}),(0>=s||isNaN(s))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,r){if(this._renderers._gradients[t])return t;for(var s=[],o=0;o<r.length;o++)s.push({percent:r[o][0]/100,color:e.jqx.adjustColor(t,r[o][1])});var n="gr"+this._gradientId++;return this.createGradient(n,i?"vertical":"horizontal",s),n},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:e.jqx.adjustColor(t,i[s][1])});var o="gr"+this._gradientId++;return this.createGradient(o,"radial",r),o},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,void 0!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var r=t.ctx;if(r.fillStyle="transparent",void 0!=i["fill-opacity"]?r.globalAlpha=i["fill-opacity"]:void 0!=i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var s,o="horizontal"!=t._gradients[i.fill].orientation,n="radial"==t._gradients[i.fill].orientation,a=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),d=e.jqx.ptrnd(i.x+(o?0:i.width)),h=e.jqx.ptrnd(i.y+(o?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!n||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),s=r.createRadialGradient(x,y,r1,x,y,r2)),n||((isNaN(a)||isNaN(d)||isNaN(l)||isNaN(h))&&(a=0,l=0,d=o?0:r.canvas.width,h=o?r.canvas.height:0),s=r.createLinearGradient(a,l,d,h));for(var c=t._gradients[i.fill].colorStops,u=0;u<c.length;u++)s.addColorStop(c[u].percent,c[u].color);r.fillStyle=s}else i.fill&&(r.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){var t=this._parseNumber(e),i=this._parseNumber(e);return{x:t,y:i}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));return isNaN(r)?void 0:(this._pos=i,r)},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var r=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var s=this._parseCmd(i);if(void 0==s)break;if("M"!=s&&"m"!=s)if("L"!=s&&"l"!=s)if("A"!=s&&"a"!=s)if("Z"!=s&&"z"!=s||void 0==r)if("C"!=s&&"c"!=s)if("Q"!=s&&"q"!=s);else{var o=this._parsePoint(i),n=this._parsePoint(i);e.quadraticCurveTo(o.x,o.y,n.x,n.y),this._currentPoint=n}else{var o=this._parsePoint(i),n=this._parsePoint(i),a=this._parsePoint(i);e.bezierCurveTo(o.x,o.y,n.x,n.y,a.x,a.y),this._currentPoint=a}else e.lineTo(r.x,r.y),this._currentPoint=r;else{var l=this._parseNumber(i),d=this._parseNumber(i),h=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(s)&&(p=this._toAbsolutePoint(p)),0==l||0==d)continue;var f=this._currentPoint,m={x:Math.cos(h)*(f.x-p.x)/2+Math.sin(h)*(f.y-p.y)/2,y:-Math.sin(h)*(f.x-p.x)/2+Math.cos(h)*(f.y-p.y)/2},g=Math.pow(m.x,2)/Math.pow(l,2)+Math.pow(m.y,2)/Math.pow(d,2);g>1&&(l*=Math.sqrt(g),d*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(d,2)-Math.pow(l,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(l,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var x={x:v*l*m.y/d,y:v*-d*m.x/l},w={x:(f.x+p.x)/2+Math.cos(h)*x.x-Math.sin(h)*x.y,y:(f.y+p.y)/2+Math.sin(h)*x.x+Math.cos(h)*x.y},b=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(b(e)*b(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},j=_([1,0],[(m.x-x.x)/l,(m.y-x.y)/d]),q=[(m.x-x.x)/l,(m.y-x.y)/d],T=[(-m.x-x.x)/l,(-m.y-x.y)/d],C=_(q,T);y(q,T)<=-1&&(C=Math.PI),y(q,T)>=1&&(C=0),0==u&&C>0&&(C-=2*Math.PI),1==u&&0>C&&(C+=2*Math.PI);var y=l>d?l:d,k=l>d?1:l/d,S=l>d?d/l:1;e.translate(w.x,w.y),e.rotate(h),e.scale(k,S),e.arc(0,0,y,j,j+C,1-u),e.scale(1/k,1/S),e.rotate(-h),e.translate(-w.x,-w.y)}else{var D=this._parsePoint(i);if(void 0==D)break;e.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(i);if(void 0==D)break;e.moveTo(D.x,D.y),this._currentPoint=D,void 0==r&&(r=D)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var r=e.jqx.ptrnd(i.x),s=e.jqx.ptrnd(i.y),o=e.jqx.ptrnd(i.width),n=e.jqx.ptrnd(i.height),a=i.halign,l=i.valign,d=i.angle,h=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;void 0==p&&(p=!0),t.save(),a||(a="center"),l||(l="center"),p&&(t.rect(r,s,o,n),t.clip());var f=i.textWidth,m=i.textHeight,g=o||0,v=n||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,!d||0==d){s+=m,"center"==l||"middle"==l?s+=(v-m)/2:"bottom"==l&&(s+=v-m),o||(o=f),n||(n=m);for(var x=0,w=u.length-1;w>=0;w--){var b=u[w],y=r,_=u[w].width;u[w].height;"center"==a?y+=(g-_)/2:"right"==a&&(y+=g-_),t.fillText(b.text,y,s+x),x-=b.height+(w>0?4:0)}return void t.restore()}var j=e.jqx.commonRenderer.alignTextInRect(r,s,o,n,f,m,a,l,d,h);r=j.x,s=j.y;var q=d*Math.PI*2/360;t.translate(r,s),t.rotate(q);for(var x=0,T=c.width,w=u.length-1;w>=0;w--){var y=0;"center"==a?y+=(T-u[w].width)/2:"right"==a&&(y+=T-u[w].width),t.fillText(u[w].text,y,x),x-=u[w].height+4}t.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var e in this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var r=t,s=r.renderer=null;if(document.createElementNS&&"HTML5"!=r.renderEngine&&"VML"!=r.renderEngine&&(s=new e.jqx.svgRenderer,!s.init(i))){if("SVG"==r.renderEngine)throw"Your browser does not support SVG";return null}if(null==s&&"HTML5"!=r.renderEngine){if(s=new e.jqx.vmlRenderer,!s.init(i)){if("VML"==r.renderEngine)throw"Your browser does not support VML";return null}r._isVML=!0}if(null==s&&("HTML5"==r.renderEngine||void 0==r.renderEngine)&&(s=new e.jqx.HTML5Renderer,!s.init(i)))throw"Your browser does not support HTML5 Canvas";return r.renderer=s,s},e.jqx._widgetToImage=function(t,i,r,s,o,n){var a=t;if(!a)return!1;void 0!=r&&""!=r||(r="image."+i);var l=a.renderEngine,d=a.enableAnimations;if(a.enableAnimations=!1,a.renderEngine="HTML5",a.renderEngine!=l)try{a.refresh()}catch(h){return a.renderEngine=l,a.refresh(),a.enableAnimations=d,!1}var c=a.renderer.getContainer().find("canvas")[0],u=!0;e.isFunction(n)&&(u=n(t,c));var p=!0;return u&&(p=e.jqx.exportImage(c,i,r,s,o)),a.renderEngine!=l&&(a.renderEngine=l,a.refresh(),a.enableAnimations=d),p},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&void 0==t;i++)void 0==t&&void 0!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,r,s,o){if(!t)return!1;var n="pdf"===i.toLowerCase();if(n&&(i="jpeg"),void 0!=r&&""!=r||(r="image."+i),void 0==s||""==s)throw"Please specifiy export server";var a=!0;try{if(t){var l=t.toDataURL("image/"+i);if(n){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var d=595;switch(e.jqx.pdfExport.paperSize){case"legal":var d=612;"portrait"!==e.jqx.pdfExport.orientation&&(d=1008);break;case"letter":var d=612;"portrait"!==e.jqx.pdfExport.orientation&&(d=792);break;case"a3":var d=841;"portrait"!==e.jqx.pdfExport.orientation&&(d=1190);break;case"a4":var d=595;"portrait"!==e.jqx.pdfExport.orientation&&(d=842);break;case"a5":var d=420;"portrait"!==e.jqx.pdfExport.orientation&&(d=595)}var h=e(t).width(),c=72*h/96;c>=d-20&&(c=d-20);var u=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return u.addImage(l,"JPEG",10,10,c,0),void u.save(r)}if(l=l.replace("data:image/"+i+";base64,",""),o)e.ajax({dataType:"string",url:s,type:"POST",data:{content:l,fname:r},async:!1,success:function(e,t,i){a=!0},error:function(e,t,i){a=!1}});else{var p=document.createElement("form");p.method="POST",p.action=s,p.style.display="none",document.body.appendChild(p);var f=document.createElement("input");f.name="fname",f.value=r,f.style.display="none";var m=document.createElement("input");m.name="content",m.value=l,m.style.display="none",p.appendChild(f),p.appendChild(m),p.submit(),document.body.removeChild(p),a=!0}}}catch(g){a=!1}return a}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||i>s)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s>i)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(t,i,r,s){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!s||s.ignore_range!==!0))return NaN;var o=NaN,n=1;if(void 0===i.type||"logarithmic"!=i.type){var a=Math.abs(i.max-i.min);a||(a=1),n=Math.abs(t-Math.min(i.min,i.max))/a}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var d=Math.min(i.min,i.max);0>=d&&(d=1);var h=Math.max(i.min,i.max);0>=h&&(h=1);var c=e.jqx.log(h,l);h=Math.pow(l,c);var u=e.jqx.log(d,l);d=Math.pow(l,u);var p=e.jqx.log(t,l);n=Math.abs(p-u)/(c-u)}if("logarithmic"===r.type){var l=r.base;isNaN(l)&&(l=10);var c=e.jqx.log(r.max,l),u=e.jqx.log(r.min,l);r.flip&&(n=1-n);var p=Math.min(u,c)+n*Math.abs(c-u);o=Math.pow(l,p)}else o=Math.min(r.min,r.max)+n*Math.abs(r.max-r.min),r.flip&&(o=Math.max(r.min,r.max)-o+r.min);return o},axis:function(t,i,r){if(1>=r)return[i,t];(isNaN(r)||2>r)&&(r=2);for(var s=0;Math.round(t)!=t&&Math.round(i)!=i&&10>s;)t*=10,i*=10,s++;for(var o=(i-t)/r;10>s&&Math.round(o)!=o;)t*=10,i*=10,o*=10,s++;for(var n=[1,2,5],a=0;;){var l=a%n.length,d=Math.floor(a/n.length),h=Math.pow(10,d)*n[l];l=(a+1)%n.length,d=Math.floor((a+1)/n.length);var c=Math.pow(10,d)*n[l];if(o>=h&&c>o)break;a++}for(var u=c,p=[],f=e.jqx._rnd(t,u,!1),m=0>=s?1:Math.pow(10,s);i+u>f;)p.push(f/m),f+=u;return p}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){e.extend(!0,this,this._defaultSettings),this._createColorsCache()},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,o=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=o.left,s-=o.top,i.onmousemove(r,s)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,r=i._mouseY,s=i._plotRect;s&&t>=s.x&&t<=s.x+s.width&&r>=s.y&&r<=s.y+s.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,o=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=o.left,s-=o.top,i._mouseX=r,i._mouseY=s,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],r=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,r,i._pointMarker.iidx)}},100))}});var r=i.element.style;if(r){var s=!1;null!=r.width&&(s|=-1!=r.width.toString().indexOf("%")),null!=r.height&&(s|=-1!=r.height.toString().indexOf("%")),s&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);var e=1;i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},e)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var r=i._options;(void 0==r||void 0!=r&&!r.autoBind)&&(i.autoSync=!1,i.dataBind());var s=this.element.id;if(0==i.records.length){var o=function(){t.ready&&t.ready(),t.refresh()};i.unbindDownloadComplete(s),i.bindDownloadComplete(s,o)}else t.ready&&t.ready();i.unbindBindingUpdate(s),i.bindBindingUpdate(s,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,r){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t._isVML=!1,t.host.empty(),t._measureDiv=void 0,t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),this._raiseEvent("refreshBegin",{instance:this}),i instanceof e.jqx.HTML5Renderer&&i.refresh(),t._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,r,s){for(var o=!1,n=0;n<this.seriesGroups.length&&!o;n++){var a=this._getXAxis(n);a&&a.rangeSelector&&(o=!0)}return e.jqx._widgetToImage(this,t,i,r,s,o?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var r=t,s=0;s<r.seriesGroups.length;s++){var o=r._getXAxis(s);if(o&&o.rangeSelector&&!o.rangeSelector.renderTo){var n=r._rangeSelectorInstances[s];if(n){var a=n.jqxChart("getInstance"),l=(a.renderEngine,a.renderer.getRect()),d=a.renderer.getContainer().find("canvas")[0],h=d.getContext("2d"),c=r._sliders[s],u="horizontal"==r.seriesGroups[s].orientation,p=u?"height":"width",f=u?"width":"height",m=u?"y":"x",g=u?"x":"y",v={};v[m]=c.startOffset+c.rect[m],v[g]=c.rect[g],v[p]=c.endOffset-c.startOffset,v[f]=c.rect[f];var x=o.rangeSelector.colorSelectedRange||"blue",w=(o.rangeSelector.colorUnselectedRange||"white",o.rangeSelector.colorRangeLine||"grey"),b=[];b.push(a.renderer.rect(v.x,v.y,v.width,v.height,{fill:x,opacity:.1})),u?(b.push(a.renderer.line(e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y),{stroke:w,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y+v.height),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:w,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(v.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y),{stroke:w,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(v.y+v.height),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y+v.height),{stroke:w,opacity:.5}))):(b.push(a.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y),{stroke:w,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y),{stroke:w,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:w,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:w,opacity:.5}))),a.renderer.refresh();var y=h.getImageData(l.x,l.y,l.width,l.height),_=i.getContext("2d");_.putImageData(y,parseInt(n.css("left")),parseInt(n.css("top")),1,1,l.width,l.height);for(var j=0;j<b.length;j++)a.renderer.removeElement(b[j]);a.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!e.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];if(!i.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!e.isArray(i.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(t){var i=this,r=i.renderer;i._validateSeriesGroups(),i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],r.clear(),i._unselect(),i._hideToolTip(0);var s=i.backgroundImage;void 0==s||""==s?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),i._rect=t;var o=i.padding||{left:5,top:5,right:5,bottom:5},n=r.createClipRect(t),a=r.beginGroup();r.setClip(a,n);var l=r.rect(t.x,t.y,t.width-2,t.height-2);if(void 0==s||""==s?r.attr(l,{fill:i.backgroundColor||i.background||"white"}):r.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var d=void 0==i.borderLineColor?i.borderColor:i.borderLineColor;void 0==d&&(d=i._defaultLineColor);var h=this.borderLineWidth;(isNaN(h)||0>h||h>10)&&(h=1),r.attr(l,{"stroke-width":h,stroke:d})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&r.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(r,t);var c={x:o.left,y:o.top,width:t.width-o.left-o.right,height:t.height-o.top-o.bottom};i._paddedRect=c;var u,p=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var f=i.toThemeProperty("jqx-chart-title-text",null);u=r.measureText(i.title,0,{"class":f}),r.text(i.title,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{"class":f},!0,"center","center"),c.y+=u.height,c.height-=u.height}if(i.description&&i.description.length>0){var m=i.toThemeProperty("jqx-chart-title-description",null);u=r.measureText(i.description,0,{"class":m}),r.text(i.description,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{"class":m},!0,"center","center"),c.y+=u.height,c.height-=u.height}(i.title||i.description)&&(c.y+=p.bottom+p.top,c.height-=p.bottom+p.top);var g={x:c.x,y:c.y,width:c.width,height:c.height};i._plotRect=g,i._buildStats(g);for(var v,x=i._isPieOnlySeries(),w=i.seriesGroups,b={xAxis:{},valueAxis:{}},y=0;y<w.length&&!x;y++)if("pie"!=w[y].type&&"donut"!=w[y].type){var _=i._getXAxis(y);if(!_)throw"seriesGroup["+y+"] is missing xAxis definition";var j=_==i._getXAxis()?-1:y;b.xAxis[j]=0}var q=i.axisPadding;isNaN(q)&&(q=5);var T={left:0,right:0,leftCount:0,rightCount:0},C=[];for(y=0;y<w.length;y++){var k=w[y];if("pie"!=k.type&&"donut"!=k.type&&1!=k.spider&&1!=k.polar){v="horizontal"==k.orientation;var _=i._getXAxis(y),j=_==i._getXAxis()?-1:y,S=i._getValueAxis(y),D=S==i._getValueAxis()?-1:y,I=v?_.axisSize:S.axisSize,P={x:0,y:g.y,width:g.width,height:g.height},A=v?i._getXAxis(y).position:S.position;I&&"auto"!=I||(v?(I=this._renderXAxis(y,P,!0,g).width,1==(1&b.xAxis[j])?I=0:I>0&&(b.xAxis[j]|=1)):(I=i._renderValueAxis(y,P,!0,g).width,1==(1&b.valueAxis[D])?I=0:I>0&&(b.valueAxis[D]|=1))),"left"!=A&&1==i.rtl&&(A="right"),"right"!=A&&(A="left"),T[A+"Count"]>0&&T[A]>0&&I>0&&(T[A]+=q),C.push({width:I,position:A,xRel:T[A]}),T[A]+=I,T[A+"Count"]++}else C.push({width:0,position:0,xRel:0})}var B=Math.max(1,Math.max(t.width,t.height)),M={top:0,bottom:0,topCount:0,bottomCount:0},H=[];for(y=0;y<w.length;y++){var k=w[y];if("pie"!=k.type&&"donut"!=k.type&&1!=k.spider&&1!=k.polar){v="horizontal"==k.orientation;var S=this._getValueAxis(y),D=S==i._getValueAxis()?-1:y,_=i._getXAxis(y),j=_==i._getXAxis()?-1:y,z=v?S.axisSize:_.axisSize,A=v?S.position:_.position;z&&"auto"!=z||(v?(z=i._renderValueAxis(y,{x:0,y:0,width:B,height:0},!0,g).height,2==(2&b.valueAxis[D])?z=0:z>0&&(b.valueAxis[D]|=2)):(z=i._renderXAxis(y,{x:0,y:0,width:B,height:0},!0).height,2==(2&b.xAxis[j])?z=0:z>0&&(b.xAxis[j]|=2))),"top"!=A&&(A="bottom"),M[A+"Count"]>0&&M[A]>0&&z>0&&(M[A]+=q),H.push({height:z,position:A,yRel:M[A]}),M[A]+=z,M[A+"Count"]++}else H.push({height:0,position:0,yRel:0})}i._createAnimationGroup("series");var E=0!=i.showLegend,O=E?i._renderLegend(i.legendLayout?i._rect:c,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(O={width:0,height:0}),c.height<M.top+M.bottom+O.height||c.width<T.left+T.right)return void r.endGroup();g.height-=M.top+M.bottom+O.height,g.x+=T.left,g.width-=T.left+T.right,g.y+=M.top;var L=[];if(!x){i._getXAxis().tickMarksColor||i._defaultLineColor;for(y=0;y<w.length;y++){var k=w[y];if(1!=k.polar&&1!=k.spider&&"pie"!=k.type&&"donut"!=k.type){v="horizontal"==k.orientation;var j=i._getXAxis(y)==i._getXAxis()?-1:y,D=i._getValueAxis(y)==i._getValueAxis()?-1:y,P={x:g.x,y:0,width:g.width,height:H[y].height};if("top"!=H[y].position?P.y=g.y+g.height+H[y].yRel:P.y=g.y-H[y].yRel-H[y].height,v){if(4==(4&b.valueAxis[D]))continue;if(!i._isGroupVisible(y))continue;i._renderValueAxis(y,P,!1,g),b.valueAxis[D]|=4}else{if(L.push(P),4==(4&b.xAxis[j]))continue;if(!i._isGroupVisible(y))continue;i._renderXAxis(y,P,!1,g),b.xAxis[j]|=4}}}}if(E){var N=i.legendLayout?i._rect:c,F=c.x+e.jqx._ptrnd((c.width-O.width)/2),R=g.y+g.height+M.bottom,I=c.width,z=O.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(F=i.legendLayout.left),isNaN(i.legendLayout.top)||(R=i.legendLayout.top),isNaN(i.legendLayout.width)||(I=i.legendLayout.width),isNaN(i.legendLayout.height)||(z=i.legendLayout.height)),F+I>N.x+N.width&&(I=N.x+N.width-F),R+z>N.y+N.height&&(z=N.y+N.height-R),i._renderLegend({x:F,y:R,width:I,height:z})}if(i._hasHorizontalLines=!1,!x)for(y=0;y<w.length;y++){var k=w[y];if(1!=k.polar&&1!=k.spider&&"pie"!=k.type&&"donut"!=k.type){v="horizontal"==w[y].orientation;var P={x:g.x-C[y].xRel-C[y].width,y:g.y,width:C[y].width,height:g.height};"left"!=C[y].position&&(P.x=g.x+g.width+C[y].xRel);var j=i._getXAxis(y)==i._getXAxis()?-1:y,D=i._getValueAxis(y)==i._getValueAxis()?-1:y;if(v){if(L.push(P),8==(8&b.xAxis[j]))continue;if(!i._isGroupVisible(y))continue;i._renderXAxis(y,P,!1,g),b.xAxis[j]|=8}else{if(8==(8&b.valueAxis[D]))continue;if(!i._isGroupVisible(y))continue;i._renderValueAxis(y,P,!1,g),b.valueAxis[D]|=8}}}if(!(g.width<=0||g.height<=0)){for(i._plotRect={x:g.x,y:g.y,width:g.width,height:g.height},y=0;y<w.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(y,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(y=0;y<w.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(y,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var W=!1;for(y=0;y<w.length&&!W;y++){var k=w[y];if(void 0!==k.annotations||e.isFunction(k.draw)||e.isFunction(k.drawBefore)){W=!0;break}}var V=r.beginGroup();if(!W){var G=r.createClipRect({x:g.x-2,y:g.y,width:g.width+4,height:g.height});r.setClip(V,G)}for(y=0;y<w.length;y++){var k=w[y],U=!1;for(var $ in i._seriesTypes)if(i._seriesTypes[$]==k.type){U=!0;break}if(!U)throw'Invalid serie type "'+k.type+'"';e.isFunction(k.drawBefore)&&k.drawBefore(r,t,y,this),1!=k.polar&&1!=k.spider||-1==k.type.indexOf("pie")&&-1==k.type.indexOf("donut")&&i._renderSpiderAxis(y,g),i._renderAxisBands(y,g,!0),i._renderAxisBands(y,g,!1)}for(y=0;y<w.length;y++){var k=w[y];if(i._isColumnType(k.type)?i._renderColumnSeries(y,g):-1!=k.type.indexOf("pie")||-1!=k.type.indexOf("donut")?i._renderPieSeries(y,g):-1!=k.type.indexOf("line")||-1!=k.type.indexOf("area")?i._renderLineSeries(y,g):-1!=k.type.indexOf("scatter")||-1!=k.type.indexOf("bubble")?i._renderScatterSeries(y,g):-1==k.type.indexOf("candlestick")&&-1==k.type.indexOf("ohlc")||i._renderCandleStickSeries(y,g,-1!=k.type.indexOf("ohlc")),k.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var Y=0;Y<k.annotations.length;Y++)i._renderAnnotation(y,k.annotations[Y],g)}e.isFunction(k.draw)&&i.draw(r,t,y,this)}if(r.endGroup(),0==i.enabled){var K=r.rect(t.x,t.y,t.width,t.height);r.attr(K,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(r,t),r.endGroup(),i._startAnimation("series");var X=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(X.substring(4))){var Z={"class":i.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},J=r.measureText(X,0,Z);r.text(X,t.x+t.width-J.width-5,t.y+t.height-J.height-5,J.width,J.height,0,Z)}for(var Q=!1,y=0;y<i.seriesGroups.length&&!Q;y++){var _=i._getXAxis(y);_&&_.rangeSelector&&(Q=!0)}if(Q){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var ee=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),
y=0;y<i.seriesGroups.length;y++){var te=this._getXAxis(y);-1==ee.indexOf(te)&&this._renderXAxisRangeSelector(y,L[y])&&ee.push(te)}}}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,r,s){var o=this,n=o.renderer,a={x:i.x,y:i.y,width:i.width,height:i.height},l=3;a.width>=2*l&&(a.x+=l,a.width-=2*l),a.height>=2*l&&(a.y+=l,a.height-=2*l);for(var d={width:a.width,height:0},h=0,c=0,u=20,p=0,f=10,m=10,g=0,v=0;v<t.length;v++){var x=t[v].css;x||(x=o.toThemeProperty("jqx-chart-legend-text",null)),u=20;var w=t[v].text,b=n.measureText(w,0,{"class":x});b.height>u&&(u=b.height),b.width>g&&(g=b.width),s?(0!=v&&(c+=u),c>a.height&&(c=0,h+=g+2*m+f,g=b.width,d.width=h+g)):(0!=h&&(h+=m),h+2*f+b.width>a.width&&b.width<a.width&&(h=0,c+=u,u=20,p=a.width,d.height=c+u));var y=!1;if(b.width>a.width){y=!0;for(var _=a.width,j=w,q=j.split(/\s+/),T=[],C="",k=0;k<q.length;k++){var S=C+(C.length>0?" ":"")+q[k],D=o.renderer.measureText(S,0,{"class":x});D.width>_&&S.length>0&&C.length>0?(T.push({text:C}),C=q[k]):C=S,k+1==q.length&&T.push({text:C})}b.width=0;for(var I=0,P=0;P<T.length;P++){var A=T[P].text,D=o.renderer.measureText(A,0,{"class":x});b.width=Math.max(b.width,D.width),I+=b.height}b.height=I}var B=h+b.width<a.width&&c+b.height<i.height;if(o.legendLayout)var B=a.x+h+b.width<o._rect.x+o._rect.width&&a.y+c+b.height<o._rect.y+o._rect.height;if(!r&&B){var M=t[v].seriesIndex,H=t[v].groupIndex,z=t[v].itemIndex,E=t[v].fillColor,O=t[v].lineColor,L=o._isSerieVisible(H,M,z),N=n.beginGroup(),F=L?t[v].opacity:.1;if(y){for(var j=w,_=a.width,q=j.split(/\s+/),R=0,T=[],C="",k=0;k<q.length;k++){var S=C+(C.length>0?" ":"")+q[k],D=o.renderer.measureText(S,0,{"class":x});D.width>_&&S.length>0&&C.length>0?(T.push({text:C,dy:R}),R+=D.height,C=q[k]):C=S,k+1==q.length&&T.push({text:C,dy:R})}for(var P=0;P<T.length;P++){var A=T[P].text;R=T[P].dy;var D=o.renderer.measureText(A,0,{"class":x});s?o.renderer.text(A,a.x+h+1.5*f,a.y+c+R,b.width,u,0,{"class":x},!1,"left","center"):o.renderer.text(A,a.x+h+1.5*f,a.y+c+R,b.width,u,0,{"class":x},!1,"center","center")}var W=n.rect(a.x+h,a.y+c+f/2+R/2,f,f);s&&(c+=R),o.renderer.attr(W,{fill:E,"fill-opacity":F,stroke:O,"stroke-width":1,"stroke-opacity":t[v].opacity})}else{var W=n.rect(a.x+h,a.y+c+f/2,f,f);o.renderer.attr(W,{fill:E,"fill-opacity":F,stroke:O,"stroke-width":1,"stroke-opacity":t[v].opacity}),s?o.renderer.text(w,a.x+h+1.5*f,a.y+c,b.width,b.height+f/2,0,{"class":x},!1,"left","center"):o.renderer.text(w,a.x+h+1.5*f,a.y+c,b.width,u,0,{"class":x},!1,"center","center")}o.renderer.endGroup(),o._setLegendToggleHandler(H,M,z,N)}s||(h+=b.width+2*f,h>p&&(p=h))}return r?(d.height=e.jqx._ptrnd(c+u+5),d.width=e.jqx._ptrnd(p),d):void 0},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,r){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[t];s.length<i+1;)s.push(isNaN(r)?!0:[]);var o=s[i];if(isNaN(r))return o;for(e.isArray(o)||(s[i]=o=[]);o.length<r+1;)o.push(!0);return o[r]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(t,i,r,s){var o=!this._isSerieVisible(t,i,r);void 0!=s&&(o=s);var n=this.seriesGroups[t],a=n.series[i];if(this._raiseEvent("toggle",{state:o,seriesGroup:n,serie:a,elementIndex:r}),isNaN(r))this._itemsToggleState[t][i]=o;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<r;)l.push(!0);l[r]=o}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,r){var s=this.seriesGroups[e],o=s.series[t],n=o.enableSeriesToggle;if(void 0==n&&(n=0!=s.enableSeriesToggle),n){var a=this;this.renderer.addHandler(r,"click",function(r){a._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var o=i.seriesGroups[s];if(0!=o.showLegend)for(var n=0;n<o.series.length;n++){var a=o.series[n];if(0!=a.showLegend){var l,d=i._getSerieSettings(s,n);if("pie"!=o.type&&"donut"!=o.type){var h=a.legendFormatSettings||o.legendFormatSettings,c=a.legendFormatFunction||o.legendFormatFunction;l=i._formatValue(a.displayText||a.dataField||"",h,c,s,n,NaN);var u=i._getSeriesColors(s,n),p=this._get([a.legendFillColor,a.legendColor,u.fillColor]),f=this._get([a.legendLineColor,a.legendColor,u.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:l,css:a.displayTextClass,fillColor:p,lineColor:f,opacity:d.opacity})}else for(var m=i._getXAxis(s),h=a.legendFormatSettings||o.legendFormatSettings||m.formatSettings||a.formatSettings||o.formatSettings,c=a.legendFormatFunction||o.legendFormatFunction||m.formatFunction||a.formatFunction||o.formatFunction,g=i._getDataLen(s),v=0;g>v;v++){l=i._getDataValue(v,a.displayText,s),l=i._formatValue(l,h,c,s,n,v);var u=i._getColors(s,n,v);r.push({groupIndex:s,seriesIndex:n,itemIndex:v,text:l,css:a.displayTextClass,fillColor:u.fillColor,lineColor:u.lineColor,opacity:d.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,o,n,a,l){var d=this._getInterval(s[e],a),h=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(h=this._generateIntervalValues(r,d,a,n,l));var c;if("labels"!=e){var u=n?o.left:0;if(!n&&a>1&&(u=o.left*(a+1)),1==h.length&&(u*=2),c=this._valuesToOffsets(h,t,r,i,o,!1,u),!n){var p=(o.left+o.right)*d/a;t.flip?c.unshift(c[0]+p):c.push(c[c.length-1]+p)}}else{var u=o.left;1==h.length&&(u*=2),c=this._valuesToOffsets(h,t,r,i,o,n,u)}var f=this._arraysToObjectsArray([h,c],["value","offset"]);if(t[e]&&t[e].custom)for(var m=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),v=this._valuesToOffsets(m,t,r,i,o,n,o.left),x=0;x<t[e].custom.length;x++)f.push({value:m[x],offset:isNaN(g[x])?v[x]:g[x]});return f},_renderXAxis:function(t,i,r,s){var o=this,n=o._getXAxis(t),a=o.seriesGroups[t],l="horizontal"==a.orientation,d={width:0,height:0},h=o._getAxisSettings(n);if(!n||!h.visible||"spider"==a.type)return d;if(!o._isGroupVisible(t)||this._isPieGroup(t))return d;for(var c=o._alignValuesWithTicks(t);o._renderData.length<t+1;)o._renderData.push({});o.rtl&&(n.flip=!0);var u=l?i.height:i.width,p=n.text,f=o._calculateXOffsets(t,u),m=f.axisStats,g=n.rangeSelector,v=0;if(g){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";v=this._selectorGetSize(n)}var x=l&&"right"==n.position||!l&&"top"==n.position;!r&&g&&(l?(i.width-=v,"right"!=n.position&&(i.x+=v)):(i.height-=v,"top"==n.position&&(i.y+=v)));var w={rangeLength:f.rangeLength,itemWidth:f.itemWidth,intervalWidth:f.intervalWidth,data:f,settings:h,isMirror:x,rect:i};o._renderData[t].xAxis=w;var b=m.interval;if(isNaN(b))return d;l&&(h.title.angle-=90,h.labels.angle-=90);var y,_=this._getInterval(h.gridLines,b),j=this._getInterval(h.tickMarks,b),q=this._getInterval(h.labels,b),T=m.min,C=m.max,k=f.padding,S=1==n.flip||o.rtl,D={min:T,max:C};m.logAxis.enabled&&(D.min=m.logAxis.minPow,D.max=m.logAxis.maxPow),"date"==n.type?(h.gridLines.offsets=this._generateDTOffsets(T,C,u,k,_,b,m.dateTimeUnit,c,NaN,!1,S),h.tickMarks.offsets=this._generateDTOffsets(T,C,u,k,j,b,m.dateTimeUnit,c,NaN,!1,S),y=this._generateDTOffsets(T,C,u,k,q,b,m.dateTimeUnit,c,NaN,!0,S)):(h.gridLines.offsets=this._getOffsets("gridLines",n,u,m,h,k,c,b),h.tickMarks.offsets=this._getOffsets("tickMarks",n,u,m,h,k,c,b),y=this._getOffsets("labels",n,u,m,h,k,c,b));var I,P=o.renderer.getRect();P.width-i.x-i.width,o._getDataLen(t);o._elementRenderInfo&&o._elementRenderInfo.length>t&&(I=o._elementRenderInfo[t].xAxis);var A,B=[];h.labels.formatFunction&&(A=h.labels.formatFunction);var M;h.labels.formatSettings&&(M=e.extend({},h.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!A?M?M.dateFormat=M.dateFormat||n.dateFormat:M={dateFormat:n.dateFormat}:A||M&&(!M||M.dateFormat)||(A=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var H=0;H<y.length;H++){var z=y[H].value,E=y[H].offset;if(!isNaN(E)){var O=void 0;"date"!=n.type&&m.useIndeces&&n.dataField&&(O=Math.round(z),z=o._getDataValue(O,n.dataField),void 0==z&&(z=""));var p=o._formatValue(z,M,A,t,void 0,O);void 0!=p&&""!=p.toString()||(isNaN(O)&&(O=H),O>=m.filterRange.min&&O<=m.filterRange.max&&(p=m.useIndeces?(m.min+O).toString():void 0==z?"":z.toString()));var L={key:z,text:p,targetX:E,x:E};I&&I.itemOffsets[z]&&(L.x=I.itemOffsets[z].x,L.y=I.itemOffsets[z].y),B.push(L)}}var N=o._getAnimProps(t),F=N.enabled&&B.length<500?N.duration:0;0==o.enableAxisTextAnimation&&(F=0);var R={items:B,renderData:w},W=o._renderAxis(l,x,h,{x:i.x,y:i.y,width:i.width,height:i.height},s,b,!1,!0,R,r,F);return l?W.width+=v:W.height+=v,W},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var o=i[s];if(o&&o.visible){var n=o.targetX,a=o.targetY;isNaN(o.x)||isNaN(o.y)||(n=o.x+(n-o.x)*t,a=o.y+(a-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,n,a,o.width,o.height,r.angle,{"class":r.style},!1,r.halign,r.valign,r.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var r=this.seriesGroups[t],s=i.x+e.jqx.getNum([r.offsetX,i.width/2]),o=i.y+e.jqx.getNum([r.offsetY,i.height/2]),n=Math.min(i.width,i.height),a=r.radius;this._isPercent(a)&&(a=parseFloat(a)/100*n/2),isNaN(a)&&(a=n/2*.6);var l=this._alignValuesWithTicks(t),d=this._get([r.startAngle,r.minAngle,0])-90;d=isNaN(d)?0:2*Math.PI*d/360;var h=this._get([r.endAngle,r.maxAngle,360])-90;if(h=isNaN(h)?2*Math.PI:2*Math.PI*h/360,d>h){var c=d;d=h,h=c}var u=e.jqx._rnd(Math.abs(d-h)/(2*Math.PI),.001,!0),p=2*Math.PI*a*u,f=this._calcGroupOffsets(t,i).xoffsets;if(f){var m=!(Math.abs(Math.abs(h-d)-2*Math.PI)>1e-5);if(r.spider){axisStats=this._getXAxisStats(t,this._getXAxis(t),p);var g=axisStats.interval;(isNaN(g)||0==g)&&(g=1);var v=(axisStats.max-axisStats.min)/g+(m?1:0);if(v=Math.round(v),v>2){var x=Math.cos(Math.abs(h-d)/2/v);x=e.jqx._rnd(x,.01),0==x&&(x=1);var w=a/x;w>a&&l&&(a=w)}}return a=e.jqx._ptrnd(a),{x:s,y:o,r:a,adjR:this._get([w,a]),itemWidth:f.itemWidth,rangeLength:f.rangeLength,valuesOnTicks:l,startAngle:d,endAngle:h,isClosedCircle:m,axisSize:p}}},_toPolarCoord:function(t,i,r,s){var o=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),n=2*(r-i.x)*Math.PI*o/Math.max(1,i.width)+t.startAngle,a=(i.height+i.y-s)*t.r/Math.max(1,i.height),l=t.x+a*Math.cos(n),d=t.y+a*Math.sin(n);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(d)}},_renderSpiderAxis:function(t,i){var r=this,s=r._getXAxis(t),o=this._getAxisSettings(s);if(s&&o.visible){var n=r.seriesGroups[t],a=r._getPolarAxisCoords(t,i);if(a){var l=e.jqx._ptrnd(a.x),d=e.jqx._ptrnd(a.y),h=a.adjR,c=a.startAngle,u=a.endAngle;if(!(1>h)){var p=e.jqx._rnd(Math.abs(c-u)/(2*Math.PI),.001,!0),f=2*Math.PI*h*p,m=a.isClosedCircle,g=this._renderData[t].xoffsets;if(g.rangeLength){var v=g.axisStats.interval;(isNaN(v)||1>v)&&(v=1);var x="horizontal"==n.orientation;for(x&&"right"==s.position||!x&&"top"==s.position;r._renderData.length<t+1;)r._renderData.push({});var w={rangeLength:g.rangeLength,itemWidth:g.itemWidth,data:g,rect:i,settings:o};r._renderData[t].xAxis=w,r._renderData[t].polarCoords=a;for(var b=!0,y=0;t>y;y++){var _=(r._renderData[y].xAxis,r._renderData[y].polarCoords),j=r._getXAxis(y),q=!1;for(var T in a)if(a[T]!=_[T]){q=!0;break}q&&j==s||(b=!1)}var C,k=o.gridLines,S=o.tickMarks,D=o.labels,I=this._getInterval(k,v),P=this._getInterval(S,v),A=this._getInterval(D,v),B=r._alignValuesWithTicks(t),M=r.renderer,H=g.axisStats,z=H.min,E=H.max,O=this._getPaddingSize(g.axisStats,s,B,f,!0,m,!1),L=1==s.flip||r.rtl;"date"==s.type?(k.offsets=this._generateDTOffsets(z,E,f,O,I,v,s.baseUnit,!0,0,!1,L),S.offsets=this._generateDTOffsets(z,E,f,O,P,v,s.baseUnit,!0,0,!1,L),C=this._generateDTOffsets(z,E,f,O,A,v,s.baseUnit,!0,0,!0,L)):(o.gridLines.offsets=this._getOffsets("gridLines",s,f,H,o,O,!0,v),o.tickMarks.offsets=this._getOffsets("tickMarks",s,f,H,o,O,!0,v),C=this._getOffsets("labels",s,f,H,o,O,!0,v));var N,F=r.renderer.getRect();F.width-i.x-i.width,r._getDataLen(t);r._elementRenderInfo&&r._elementRenderInfo.length>t&&(N=r._elementRenderInfo[t].xAxis);for(var R=[],W=this._getDataLen(t),y=0;y<C.length;y++){var V=C[y].offset,G=C[y].value;if("date"!=s.type&&H.useIndeces&&s.dataField){var U=Math.round(G);if(U>=W)continue;G=r._getDataValue(U,s.dataField),void 0==G&&(G="")}var $=r._formatValue(G,D.formatSettings,D.formatFunction,t,void 0,U);void 0!=$&&""!=$.toString()||($=H.useIndeces?(H.min+y).toString():void 0==G?"":G.toString());var Y={key:G,text:$,targetX:V,x:V};N&&N.itemOffsets[G]&&(Y.x=N.itemOffsets[G].x,Y.y=N.itemOffsets[G].y),R.push(Y)}var K={stroke:k.color,fill:"none","stroke-width":k.width,"stroke-dasharray":k.dashStyle||""};if(!n.spider)if(1==p)M.circle(l,d,h,K);else{var X=-c/Math.PI*180,Z=-u/Math.PI*180;this.renderer.pieslice(l,d,0,h,Math.min(X,Z),Math.max(X,Z),void 0,K)}var J=R.length,Q=(2*Math.PI/J,c);if(k.visible&&b){B||m||k.offsets.unshift({offset:-O.right});for(var y=0;y<k.offsets.length;y++){var ee=k.offsets[y].offset;B||(ee+=m?O.right/2:O.right);var te=Q+2*ee*Math.PI*p/Math.max(1,f);if(!(te-u>.01)){var ie=e.jqx._ptrnd(l+h*Math.cos(te)),re=e.jqx._ptrnd(d+h*Math.sin(te));M.line(l,d,ie,re,K)}}}if(S.visible&&b){var se=5,oe={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};B||m||S.offsets.unshift({offset:-O.right});for(var y=0;y<S.offsets.length;y++){var ee=S.offsets[y].offset;B||(ee+=m?O.right/2:O.right);var te=Q+2*ee*Math.PI*p/Math.max(1,f);if(!(te-u>.01)){var ne={x:l+h*Math.cos(te),y:d+h*Math.sin(te)},ae={x:l+(h+se)*Math.cos(te),y:d+(h+se)*Math.sin(te)};M.line(e.jqx._ptrnd(ne.x),e.jqx._ptrnd(ne.y),e.jqx._ptrnd(ae.x),e.jqx._ptrnd(ae.y),oe)}}}var le=[];if(n.spider){var de=[];de="date"==s.type?this._generateDTOffsets(z,E,f,O,v,v,s.baseUnit,!0,0,!1,L):this._getOffsets("",s,f,H,o,O,!0,v),B||m||de.unshift({offset:-O.right});for(var y=0;y<de.length;y++){var ee=de[y].offset;B||(ee+=m?O.right/2:O.right);var te=Q+2*ee*Math.PI*p/Math.max(1,f);te-u>.01||le.push(te)}w.offsetAngles=le}var he=r._renderSpiderValueAxis(t,i,B?a.adjR:a.r,le);if(he||(he=[]),n.spider){if(!B)for(var y=0;y<he.length;y++)he[y]=he[y]*a.adjR/a.r;he.push(h),this._renderSpiderLines(l,d,he,a,le,K)}if(b&&D.visible){w.polarLabels=[];for(var y=0;y<R.length;y++){var ee=R[y].x,te=Q+2*ee*Math.PI*p/Math.max(1,f);te=(360-te/(2*Math.PI)*360)%360,0>te&&(te=360+te);var ce,ue=M.measureText(R[y].text,0,{"class":o.labels.style}),pe=(B?a.adjR:a.r)+(S.visible?7:2),fe=o.labels;if(fe.autoRotate){var me=e.jqx._ptRotate(l-ue.width/2,d-pe-ue.height,l,d,-te/180*Math.PI),ge=e.jqx._ptRotate(l+ue.width/2,d-pe,l,d,-te/180*Math.PI);ue.width=Math.abs(me.x-ge.x),ue.height=Math.abs(me.y-ge.y),ce={x:Math.min(me.x,ge.x),y:Math.min(me.y,ge.y)}}else ce=this._adjustTextBoxPosition(l,d,ue,pe,te,!1,!1,!1);w.polarLabels.push({x:ce.x,y:ce.y,value:R[y].text}),M.text(R[y].text,ce.x,ce.y,ue.width,ue.height,fe.autoRotate?90-te:fe.angle,{"class":fe.style},!1,fe.halign,fe.valign)}}}}}}},_renderSpiderLines:function(t,i,r,s,o,n){for(var a=this.renderer,l=(s.startAngle,s.endAngle,s.isClosedCircle),d=0;d<r.length;d++){for(var h=r[d],c=void 0,u=void 0,p=0;p<o.length;p++){var f=o[p],m=e.jqx._ptrnd(t+h*Math.cos(f)),g=e.jqx._ptrnd(i+h*Math.sin(f));c&&a.line(c.x,c.y,m,g,n),c={x:m,y:g},u||(u={x:m,y:g})}u&&l&&a.line(c.x,c.y,u.x,u.y,n)}},_renderSpiderValueAxis:function(t,i,r,s){var o=this.seriesGroups[t],n=this._getPolarAxisCoords(t,i);if(n){var a=e.jqx._ptrnd(n.x),l=e.jqx._ptrnd(n.y);r=r||n.r;var d=n.startAngle,h=n.endAngle,c=e.jqx._rnd(Math.abs(d-h)/(2*Math.PI),.001,!0);if(!(1>r)){r=e.jqx._ptrnd(r);var u=this._getValueAxis(t);if(settings=this._getAxisSettings(u),u&&0!=settings.visible){var p=this._stats.seriesGroups[t].mu,f=settings.labels,m=f.formatSettings,g=-1!=o.type.indexOf("stacked")&&-1!=o.type.indexOf("100");g&&!m&&(m={sufix:"%"});var v=this._get([f.step,f.unitInterval/p]);isNaN(v)&&(v=1),v=Math.max(1,Math.round(v)),this._calcValueAxisItems(t,r,v);var x=settings.gridLines,w=settings.tickMarks,b=(this._getInterval(x,p),this._getInterval(w,p),settings.labels),y={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},_=this._renderData[t].valueAxis,j=_.items,q=d;if(j.length&&settings.line.visible){isNaN(settings.line.angle)||(q=2*Math.PI*settings.line.angle/360);var T=a+Math.cos(q)*r,C=l+Math.sin(q)*r;if(-1==s.indexOf(q)){var k=e.extend({},y);k["stroke-width"]=settings.line.lineWidth,k.stroke=settings.line.color,k["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(a,l,T,C,k)}}j=j.reverse();var S=this.renderer;_.polarLabels=[];for(var D=0;D<j.length-1;D++){var I=j[D];if(!isNaN(I)){var P=b.formatFunction?b.formatFunction(I):this._formatNumber(I,m),A=S.measureText(P,0,{"class":b.style}),B=a+(0!=u.showTickMarks?3:2),M=l-_.itemWidth*D-A.height/2,H=e.jqx._ptRotate(B,M,a,l,q),z=e.jqx._ptRotate(B+A.width,M+A.height,a,l,q);B=Math.min(H.x,z.x),M=Math.min(H.y,z.y),A.width=Math.abs(H.x-z.x),A.height=Math.abs(H.y-z.y),B+=settings.labels.textOffset.x,M+=settings.labels.textOffset.y,_.polarLabels.push({x:B,y:M,value:P}),S.text(P,B,M,A.width,A.height,b.autoRotate?90+180*d/Math.PI:b.angle,{"class":b.style},!1,b.halign,b.valign)}}var E=1==u.logarithmicScale,O=E?j.length:_.rangeLength;aIncrement=2*Math.PI/O;var L=0!=u.valuesOnTicks,N=this._stats.seriesGroups[t],F=N.mu,R=1==u.logarithmicScale;u.logarithmicScaleBase||10;R&&(F=1);var W={min:N.min,max:N.max,logAxis:{enabled:1==R,base:u.logarithmicScaleBase,minPow:N.minPow,maxPow:N.maxPow}};(x.visible||o.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(x.offsets=this._getOffsets("gridLines",u,r,W,settings,{left:0,right:0},L,F));var V=[];if(x.visible||o.spider)for(var y={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},D=0;D<x.offsets.length;D++){var M=e.jqx._ptrnd(x.offsets[D].offset);if(M!=r)if(o.spider)V.push(M);else if(1!=c){var G=-d/Math.PI*180,U=-h/Math.PI*180;this.renderer.pieslice(a,l,0,M,Math.min(G,U),Math.max(G,U),void 0,y)}else S.circle(a,l,M,y)}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(w.visible=!1),w.visible){w.offsets=this._getOffsets("tickMarks",u,r,W,settings,{left:0,right:0},L,F),tickMarkSize=2*w.size;for(var y={stroke:w.color,fill:"none","stroke-width":1,"stroke-dasharray":w.dashStyle||""},D=0;D<w.offsets.length;D++){var $=w.offsets[D].offset,H={x:a+$*Math.cos(q)-tickMarkSize/2*Math.sin(q+Math.PI/2),y:l+$*Math.sin(q)-tickMarkSize/2*Math.cos(q+Math.PI/2)},z={x:a+$*Math.cos(q)+tickMarkSize/2*Math.sin(q+Math.PI/2),y:l+$*Math.sin(q)+tickMarkSize/2*Math.cos(q+Math.PI/2)};S.line(e.jqx._ptrnd(H.x),e.jqx._ptrnd(H.y),e.jqx._ptrnd(z.x),e.jqx._ptrnd(z.y),y)}}return V}}}},_renderAxis:function(t,i,r,s,o,n,a,l,d,h,c){if(r.customDraw&&!h)return{width:NaN,height:NaN};var u=r.title,p=r.labels,f=(r.gridLines,r.tickMarks),m=r.padding,g=f.visible?f.size:0,v=2,x={width:0,height:0},w={width:0,height:0};t?x.height=w.height=s.height:x.width=w.width=s.width,!h&&i&&t&&(s.x-=s.width);var b=d.renderData,y=b.itemWidth;if(u.visible&&void 0!=u.text&&""!=u){var _=u.angle,j=this.renderer.measureText(u.text,_,{"class":u.style});w.width=j.width,w.height=j.height,h||this.renderer.text(u.text,s.x+u.offset.x+(t?i?-m.right-v+2*s.width-w.width:v+m.left:0),s.y+u.offset.y+(t?0:i?m.top+v:s.height-v-w.height-m.bottom),t?w.width:s.width,t?s.height:w.height,_,{"class":u.style},!0,u.halign,u.valign,u.rotationPoint)}var q=0,T=l?-y/2:0;l&&!t&&(p.halign="center");var C=s.x,k=s.y,S=p.textOffset;S&&(isNaN(S.x)||(C+=S.x),isNaN(S.y)||(k+=S.y)),t?(C+=m.left+v+(w.width>0?w.width+v:0)+(i?s.width-w.width:0),k+=T):(C+=T,i?(k+=w.height>0?w.height+3*v:2*v,k+=g-(l?g:g/4)):k+=l?g:g/4,k+=m.top);var D=0,I=0,P=d.items;b.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(c=0);for(var A=!1,B=0,M=0;M<P.length&&p.visible;M++,q+=y)if(P[M]&&!isNaN(y)){var H=P[M].text;isNaN(P[M].targetX)||(q=P[M].targetX);var j=this.renderer.measureText(H,p.angle,{"class":p.style});if(j.width>I&&(I=j.width),j.height>D&&(D=j.height),B+=t?D:I,!h){if(t&&q>s.height+2||!t&&q>s.width+2)continue;var z=t?C+(i?0==w.width?g:g-v:0):C+q,E=t?k+q:k;b.itemOffsets[P[M].key]={x:z,y:E},A||(!isNaN(P[M].x)||!isNaN(P[M].y)&&c)&&(A=!0),P[M].targetX=z,P[M].targetY=E,P[M].width=t?s.width-m.left-m.right-2*v-g-(w.width>0?w.width+v:0):y,P[M].height=t?y:s.height-m.top-m.bottom-2*v-g-(w.height>0?w.height+v:0),P[M].visible=!0}}if(b.avgWidth=0==P.length?0:B/P.length,!h){var O={items:P,textSettings:p};if(!isNaN(c)&&A||(c=0),this._animateAxisText(O,0==c?1:0),0!=c){var L=this;this._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){L._animateAxisText(t,i)},O)}}x.width+=2*v+g+w.width+I+(t&&w.width>0?v:0),x.height+=2*v+g+w.height+D+(!t&&w.height>0?v:0),t?x.width+=m.left+m.right:x.height+=m.top+m.bottom;if(!h&&r.line.visible){var N={stroke:r.line.color,"stroke-width":r.line.width,"stroke-dasharray":r.line.dashStyle||""};if(t){var z=s.x+s.width+(i?m.left:-m.right);z=e.jqx._ptrnd(z),this.renderer.line(z,s.y,z,s.y+s.height,N)}else{var E=e.jqx._ptrnd(s.y+(i?s.height-m.bottom:m.top));this.renderer.line(e.jqx._ptrnd(s.x),E,e.jqx._ptrnd(s.x+s.width+1),E,N)}}return x.width=e.jqx._rup(x.width),x.height=e.jqx._rup(x.height),x},_drawPlotAreaLines:function(t,i,r){var s=this.seriesGroups[t],o="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=t)){var n=i?"valueAxis":"xAxis",a=this._renderData[t][n];if(a){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var d,h="";i?(h="valueAxis_"+(s.valueAxis?t:"")+(o?"swap":""),d=this._getValueAxis(t)):(h="xAxis_"+(s.xAxis||s.categoryAxis?t:"")+(o?"swap":""),d=this._getXAxis(t)),l=l[h]?l[h]:l[h]={},i||(o=!o);var c=a.settings;if(c&&!c.customDraw){var u=c.gridLines,p=c.tickMarks,f=c.padding,m=a.rect,g=this._plotRect;if(u&&p){var v=.5,x={},w={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},b=i?m.y+m.height:m.x,y=u.offsets;if(i&&!d.flip&&(y=e.extend([],y),y=y.reverse()),y&&y.length>0)for(var _=NaN,j=(y.length,0);j<y.length;j++)if(o?(lineOffset=e.jqx._ptrnd(m.y+y[j].offset),lineOffset<m.y-v&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+y[j].offset),lineOffset>m.x+m.width+v&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(_)||!(Math.abs(lineOffset-_)<2))){if(_=lineOffset,r.gridLines&&0!=u.visible&&1!=l.gridLines&&(o?this.renderer.line(e.jqx._ptrnd(g.x),lineOffset,e.jqx._ptrnd(g.x+g.width),lineOffset,w):this.renderer.line(lineOffset,e.jqx._ptrnd(g.y),lineOffset,e.jqx._ptrnd(g.y+g.height),w)),x[lineOffset]=!0,r.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var q=j%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor;if(j>0&&q){var T;T=o?this.renderer.rect(e.jqx._ptrnd(g.x),b,e.jqx._ptrnd(g.width-1),lineOffset-b,w):this.renderer.rect(b,e.jqx._ptrnd(g.y),lineOffset-b,e.jqx._ptrnd(g.height),w),this.renderer.attr(T,{"stroke-width":0,fill:q,opacity:u.alternatingBackgroundOpacity||1})}}b=lineOffset}var w={stroke:p.color,"stroke-width":p.width,"stroke-dasharray":p.dashStyle||""};if(r.tickMarks&&p.visible&&1!=l.tickMarks)for(var C=p.size,y=p.offsets,_=NaN,j=0;j<y.length;j++)if(o?(lineOffset=e.jqx._ptrnd(m.y+y[j].offset),lineOffset<m.y-v&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+y[j].offset),lineOffset>m.x+m.width+v&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(_)||!(Math.abs(lineOffset-_)<2))){if(x[lineOffset-1]?lineOffset--:x[lineOffset+1]&&lineOffset++,o){if(lineOffset>m.y+m.height+v)break}else if(lineOffset>m.x+m.width+v)break;_=lineOffset;var k=a.isMirror?C:-C;if(o){var S=m.x+m.width+("right"==d.position?f.left:-f.right);i||(S=m.x+(a.isMirror?f.left:-f.right+m.width)),this.renderer.line(S,lineOffset,S+k,lineOffset,w)}else{var D=m.y+(a.isMirror?m.height:0);D+=a.isMirror?-f.bottom:f.top,D=e.jqx._ptrnd(D),this.renderer.line(lineOffset,D,lineOffset,D-k,w)}}l.tickMarks=l.tickMarks||r.tickMarks,l.gridLines=l.gridLines||r.gridLines,l.alternatingBackground=l.alternatingBackground||r.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],o=("horizontal"==s.orientation,this._getValueAxis(e)),n=0!=o.valuesOnTicks,a=(o.dataField,r.intervals),l=t/a,d=r.min,h=r.mu,c=1==o.logarithmicScale,u=o.logarithmicScaleBase||10,p=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(c&&(h=isNaN(o.unitInterval)?1:o.unitInterval),n||(a=Math.max(a-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var f=this._renderData[e].valueAxis;f.itemWidth=f.intervalWidth=l,f.items=[];for(var m=f.items,g=0;a>=g;g++){var v=0;v=c?p?r.max/Math.pow(u,a-g):d*Math.pow(u,g):n?d+g*h:d+(g+.5)*h,g%i==0?m.push(v):m.push(NaN)}return f.rangeLength=c&&!p?r.intervals:r.intervals*h,1!=o.flip&&(m=m.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var o=void 0===t?e[s]:e[s][t];if(!isNaN(o)){for(var n=o.toString(),a=0;a<n.length;a++)if((n[a]<"0"||n[a]>"9")&&(r=n.length-(a+1),r>=0))return Math.min(r,i);for(r>0&&(o*=Math.pow(10,r));Math.round(o)!=o&&i>r;)r++,o*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],o="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var a={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return a;var l=0!=n.valuesOnTicks,d=this._stats.seriesGroups[e],h=d.mu,c=1==n.logarithmicScale;n.logarithmicScaleBase||10;if(c&&(h=isNaN(n.unitInterval)?1:n.unitInterval),0==h&&(h=1),isNaN(h))return a;var u=this._getAxisSettings(n),p=u.title,f=u.labels,m=n.labels||{},g=this._get([n.horizontalTextAlignment,m.horizontalAlignment]);g||0!=f.angle||(f.halign=o?"center":"right"==n.position?"left":"right");var v=this._get([f.step,f.unitInterval/h]);if(isNaN(v)&&(v=1),v=Math.max(1,Math.round(v)),!this._calcValueAxisItems(e,o?t.width:t.height,v)||!u.visible)return a;o||(p.angle=this.rtl?90:-90,"centercenter"==p.rotationPoint&&("top"==p.valign?p.rotationPoint="rightcenter":"bottom"==p.valign&&(p.rotationPoint="leftcenter")));var x=this._renderData[e].valueAxis,w=f.formatSettings,b=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");b&&!w&&(w={sufix:"%"}),f.formatFunction||w&&w.decimalPlaces||(w=w||{},w.decimalPlaces=this._getDecimalPlaces([d.min,d.max,h],void 0,3));var y=u.gridLines,_=(c?h:this._getInterval(y,h),o?t.width:t.height),j=1==n.flip;n.flip=!j;var q={min:d.min,max:d.max,logAxis:{enabled:1==c,base:n.logarithmicScaleBase,minPow:d.minPow,maxPow:d.maxPow}};(y.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(y.offsets=this._getOffsets("gridLines",n,_,q,u,{left:0,right:0},l,h));var T=u.tickMarks;T.visible&&(T.offsets=this._getOffsets("tickMarks",n,_,q,u,{left:0,right:0},l,h)),labelOffsets=this._getOffsets("labels",n,_,q,u,{left:0,right:0},l,h,!l),n.flip=j;var C,k=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(C=this._elementRenderInfo[e].valueAxis);for(var S=0;S<labelOffsets.length;S++){var D=labelOffsets[S].value;if(isNaN(labelOffsets[S].offset))k.push(void 0);else{var I=f.formatFunction?f.formatFunction(D):isNaN(D)?D:this._formatNumber(D,w),P={key:D,text:I};C&&C.itemOffsets[D]&&(P.x=C.itemOffsets[D].x,P.y=C.itemOffsets[D].y),P.targetX=labelOffsets[S].offset,isNaN(P.targetX)||k.push(P)}}var A=o&&"top"==n.position||!o&&"right"==n.position||!o&&this.rtl&&"left"!=n.position,B={items:k,renderData:x},M=this._getAnimProps(e),H=M.enabled&&k.length<500?M.duration:0;return 0==this.enableAxisTextAnimation&&(H=0),x.settings=u,x.isMirror=A,x.rect=t,this._renderAxis(!o,A,u,t,r,h,c,!0,B,i,H)},_objectsArraysToArray:function(t,i){var r=[];if(!e.isArray(t))return r;for(var s=0;s<t.length;s++)r.push(t[s][i]);return r},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(t,i,r,s,o,n,a){var l=[];if(!i||!e.isArray(t))return l;var d=r.logAxis.base,h=r.logAxis.enabled?"logarithmic":"linear",c=i.flip,u=s,p=0,f=0;o&&!isNaN(o.left)&&(p=o.left),o&&!isNaN(o.right)&&(f=o.right),u=s-p-f,s=u;for(var m=0;m<t.length;m++)x=this._jqxPlot.scale(t[m],{min:r.min.valueOf(),max:r.max.valueOf(),type:h,base:d},{min:0,max:n?s:u,flip:c},{}),isNaN(x)?l.push(NaN):(isNaN(a)||(x+=a),x<=s+p+f+1?l.push(e.jqx._ptrnd(x)):l.push(NaN));return l},_generateIntervalValues:function(e,t,i,r,s){var o=[],n=e.min,a=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,a=e.logAxis.maxPow),void 0==n||void 0==a)return o;if(n==a)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;1>i&&(l=1e6,n*=l,a*=l,i*=l);for(var d=n;a>=d;d+=i)o.push(d/l+(s?i/2:0));if(t>i){for(var h=[],c=Math.round(t/i),d=0;d<o.length;d++)d%c==0&&h.push(o[d]);o=h}if(e.logAxis&&e.logAxis.enabled)for(var d=0;d<o.length;d++)o[d]=Math.pow(e.logAxis.base,o[d]);return o},_generateDTOffsets:function(t,i,r,s,o,n,a,l,d,h,c){a||(a="day");var u=[];if(t>i)return u;if(t==i)return h?u.push({offset:l?r/2:s.left,value:t}):l&&u.push({offset:r/2,value:t}),u;var p=r-s.left-s.right,f=t,m=s.left,g=m;n=Math.max(n,1);var v=n,x=Math.min(1,n);for(n>1&&"millisecond"!=a&&(n=1);e.jqx._ptrnd(g)<=e.jqx._ptrnd(s.left+p+(l?0:s.right));){u.push({offset:g,value:f});var w=new Date(f.valueOf());if("millisecond"==a)w.setMilliseconds(f.getMilliseconds()+n);else if("second"==a)w.setSeconds(f.getSeconds()+n);else if("minute"==a)w.setMinutes(f.getMinutes()+n);else if("hour"==a){var b=w.valueOf();w.setHours(f.getHours()+n),b==w.valueOf()&&w.setHours(f.getHours()+n+1)}else"day"==a?w.setDate(f.getDate()+n):"month"==a?w.setMonth(f.getMonth()+n):"year"==a&&w.setFullYear(f.getFullYear()+n);f=w,g=m+(f.valueOf()-t.valueOf())*x/(i.valueOf()-t.valueOf())*p}if(c)for(var y=0;y<u.length;y++)u[y].offset=r-u[y].offset;if(v>1&&"millisecond"!=a){for(var _=[],y=0;y<u.length;y+=v)_.push({offset:u[y].offset,value:u[y].value});u=_}if(!l&&!h&&u.length>1){var _=[];_.push({offset:0,value:void 0});for(var y=1;y<u.length;y++)_.push({offset:u[y-1].offset+(u[y].offset-u[y-1].offset)/2,value:void 0});var j=_.length;j>1?_.push({offset:_[j-1].offset+(_[j-1].offset-_[j-2].offset)}):_.push({offset:r,value:void 0}),u=_}if(o>n){for(var _=[],q=Math.round(o/v),y=0;y<u.length;y++)y%q==0&&_.push({offset:u[y].offset,value:u[y].value});u=_}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("stacked");if(!r)return!1;for(var s=-1!=i.type.indexOf("waterfall"),o=this._getDataLen(e),n=0,a=!1,l=[],d=0;d<i.series.length;d++)l[d]=this._isSerieVisible(e,d);for(var h=0;o>h;h++){var c=void 0;s||(a=!1);for(var u=0;u<i.series.length;u++)if(l[u]&&(val=this._getDataValueAsNumber(h,i.series[u].dataField,e),!isNaN(val))){if(i.series[u].summary){var p=this._getDataValue(h,i.series[u].summary,e);if(void 0!==p)continue}var f=a?val<0:val<t;if(a=!0,void 0==c&&(c=f),f!=c)return!0;c=f,n+=val}}return!1},_getValueAxis:function(e){var t=void 0==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),o=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height),a=t.seriesGroups[i];a.isValid=!0;var l="horizontal"==r.orientation?e.width:e.height,d=1==o.logarithmicScale,h=o.logarithmicScaleBase;
isNaN(h)&&(h=10);var c=-1!=r.type.indexOf("stacked"),u=c&&-1!=r.type.indexOf("100"),p=-1!=r.type.indexOf("range"),f=-1!=r.type.indexOf("waterfall");if(f&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";u&&(a.psums=[],a.nsums=[]);var m=NaN,g=NaN,v=NaN,x=NaN,w=o?o.baselineValue:NaN;isNaN(w)&&(w=d&&!u?1:0);var b=!1;0!=w&&c&&(b=this._hasStackValueReversal(i,w),b&&(w=0)),c&&f&&(b=this._hasStackValueReversal(i,w));var y=this._getDataLen(i),_=0,j=NaN,q=[];if(f)for(var T=0;T<r.series.length;T++)q.push(NaN);for(var C=NaN,k=0;y>k&&a.isValid;k++){if(s.rangeSelector){var S=s.dataField?this._getDataValue(k,s.dataField,i):k;if(S&&n.isDateTime&&(S=this._castAsDate(S,s.dateFormat)),n.useIndeces&&(S=k),S&&(S.valueOf()<n.min.valueOf()||S.valueOf()>n.max.valueOf()))continue}var D=o.minValue,I=o.maxValue;o.baselineValue&&(D=isNaN(D)?w:Math.min(w,D),I=isNaN(I)?w:Math.max(w,I));for(var P=0,A=0,T=0;r.series&&T<r.series.length;T++)if(this._isSerieVisible(i,T)){var B=NaN,M=NaN,H=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var z=["Open","Low","Close","High"];for(var E in z){var O=this._getDataValueAsNumber(k,r.series[T]["dataField"+z[E]],i);isNaN(O)||(H=isNaN(M)?O:Math.min(H,O),M=isNaN(M)?O:Math.max(M,O))}}else if(p){var L=this._getDataValueAsNumber(k,r.series[T].dataFieldFrom,i),N=this._getDataValueAsNumber(k,r.series[T].dataFieldTo,i);M=Math.max(L,N),H=Math.min(L,N)}else{if(B=this._getDataValueAsNumber(k,r.series[T].dataField,i),f){if(this._isSummary(i,k)){var F=this._getDataValue(k,r.series[T].summary,i);if(void 0!==F)continue}c?(isNaN(C)||(B+=C),C=B):(isNaN(q[T])?q[T]=B:B+=q[T],q[T]=B)}if(isNaN(B)||d&&0>=B)continue;H=M=B}(isNaN(I)||M>I)&&(isNaN(o.maxValue)?!0:M<=o.maxValue)&&(I=M),(isNaN(D)||D>H)&&(isNaN(o.minValue)?!0:H>=o.minValue)&&(D=H),isNaN(B)||!c||f||(B>w?P+=B:w>B&&(A+=B))}if(u||(isNaN(o.maxValue)||(P=Math.min(o.maxValue,P)),isNaN(o.minValue)||(A=Math.max(o.minValue,A))),d&&u)for(var T=0;T<r.series.length;T++)if(this._isSerieVisible(i,T)){var B=this._getDataValueAsNumber(k,r.series[T].dataField,i);if(isNaN(B)||0>=B)j=.01;else{var R=0==P?0:B/P;(isNaN(j)||j>R)&&(j=R)}}else j=.01;var W=P-A;W>_&&(_=W),u&&(a.psums[k]=P,a.nsums[k]=A),(I>g||isNaN(g))&&(g=I),(m>D||isNaN(m))&&(m=D),(P>v||isNaN(v))&&(v=P),(x>A||isNaN(x))&&(x=A)}u&&(v=0==v?0:Math.max(v,-x),x=0==x?0:Math.min(x,-v)),m==g&&(0==m?(m=-1,g=1):0>m?g=0:d?1==m&&(m/=h,g*=h):m=0);var V={gmin:m,gmax:g,gsumP:v,gsumN:x,gbase:w,isLogAxis:d,logBase:h,minPercent:j,gMaxRange:_,isStacked:c,isStacked100:u,isWaterfall:f,hasStackValueReversal:b,valueAxis:o,valueAxisSize:l};V.isStacked&&(V.gsumN<0&&(V.gmin=Math.min(V.gmin,V.gbase+V.gsumN)),V.gsumP>0&&(V.gmax=Math.max(V.gmax,V.gbase+V.gsumP))),a.context=V}this._mergeCommonValueAxisStats();for(var k=0;k<t.seriesGroups.length;k++){var a=t.seriesGroups[k];if(a.isValid){var G=this._calcOutputGroupStats(a.context);for(var E in G)a[E]=G[E];delete a.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(var t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var r=this._stats.seriesGroups[t].context;for(var s in e)r[s]=e[s]}},_calcOutputGroupStats:function(t){var i=t.gmin,r=t.gmax,s=t.gsumP,o=t.gsumN,n=t.gbase,a=t.isLogAxis,l=t.logBase,d=t.minPercent,h=t.gMaxRange,c=t.isStacked,u=t.isStacked100,p=t.isWaterfall,f=t.hasStackValueReversal,m=t.valueAxis,g=t.valueAxisSize,v=t.valueAxis.unitInterval;v||(v=this._calcInterval(i,r,Math.max(g/80,2))),i==r&&(i=n,r=2*r);var x=NaN,w=0,b=0;if(a){if(u){x=0;var y=1;for(w=b=e.jqx.log(100,l);y>d;)y/=l,w--,x++;i=Math.pow(l,w)}else c&&!p&&(r=Math.max(r,s)),b=e.jqx._rnd(e.jqx.log(r,l),1,!0),r=Math.pow(l,b),w=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,w);v=l}o>i&&(o=i),r>s&&(s=r);var _=a?i:e.jqx._rnd(i,v,!1),j=a?r:e.jqx._rnd(r,v,!0);if(u&&j>100&&(j=100),u&&!a&&(j=j>0?100:0,_=0>_?-100:0,v=m.unitInterval,(isNaN(v)||0>=v||v>=100)&&(v=10),100%v!=0))for(;v>=1&&100%v!=0;v--);if(isNaN(j)||isNaN(_)||isNaN(v))return{};if(isNaN(x)&&(x=parseInt(((j-_)/(0==v?1:v)).toFixed())),a&&!u&&(x=b-w,h=Math.pow(l,x)),1>x)return{};var q={min:_,max:j,logarithmic:a,logBase:l,base:a?_:n,minPow:w,maxPow:b,sumP:s,sumN:o,mu:v,maxRange:h,intervals:x,hasStackValueReversal:f};return q},_getDataLen:function(t){var i=this.source;return void 0!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,r){var s=this.source;return void 0!=r&&-1!=r&&(s=this.seriesGroups[r].source||s),s instanceof e.jqx.dataAdapter&&(s=s.records),!s||0>t||t>s.length-1?void 0:e.isFunction(i)?i(t,s):i&&""!=i?s[t][i]:s[t]},_getDataValueAsNumber:function(e,t,i){var r=this._getDataValue(e,t,i);return this._isDate(r)?r.valueOf():("number"!=typeof r&&(r=parseFloat(r)),"number"!=typeof r&&(r=void 0),r)},_isPieGroup:function(e){var t=this.seriesGroups[e];return t&&t.type?-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"):!1},_renderPieSeries:function(t,i){for(var r=this._getDataLen(t),s=this.seriesGroups[t],o=this._calcGroupOffsets(t,i).offsets,n=0;n<s.series.length;n++){var a=s.series[n];if(!a.customDraw){var l=this._getSerieSettings(t,n),d=(a.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(t,n)),h=d.enabled&&5e3>r&&!this._isToggleRefresh&&1!=this._isVML?d.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(h=0);var c=this._get([a.minAngle,a.startAngle]);(isNaN(c)||0>c||c>360)&&(c=0);var u=this._get([a.maxAngle,a.endAngle]);(isNaN(u)||0>u||u>360)&&(u=360);for(var p={rect:i,minAngle:c,maxAngle:u,groupIndex:t,serieIndex:n,settings:l,items:[]},f=0;r>f;f++){var m=o[n][f];if(m.visible){var g=m.fromAngle,v=m.toAngle,x=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,g,0==h?v:g,m.centerOffset);this._setRenderInfo(t,n,f,{element:x});var w={displayValue:m.displayValue,itemIndex:f,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:g,toAngle:v,centerOffset:m.centerOffset};p.items.push(w)}}this._animatePieSlices(p,0);var b=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){b._animatePieSlices(t,i)},p)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r=this.seriesGroups[e.groupIndex],s=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),o=s.visible,n=[],a=0;a<e.items.length;a++){var l=e.items[a];if(l.visible){var d=l.fromAngle,h=l.fromAngle+t*(l.toAngle-l.fromAngle);if(i&&i[l.displayValue]){var c=i[l.displayValue].fromAngle,u=i[l.displayValue].toAngle;d=c+(d-c)*t,h=u+(h-u)*t}n.push({index:a,from:d,to:h})}}i&&n.sort(this._sliceSortFunction);for(var p=NaN,a=0;a<n.length;a++){var l=e.items[n[a].index],f=this._getRenderInfo(e.groupIndex,e.serieIndex,l.itemIndex),d=n[a].from,h=n[a].to;i&&(!isNaN(p)&&d>p&&(d=p),p=h,a==n.length-1&&h!=n[0].from&&(h=e.maxAngle+n[0].from));var m=this.renderer.pieSlicePath(l.x,l.y,l.innerRadius,l.outerRadius,d,h,l.centerOffset);this.renderer.attr(f.element,{d:m});var g=this._getColors(e.groupIndex,e.serieIndex,l.itemIndex,"radialGradient",l.outerRadius),v=e.settings;f.colors=g,f.settings=v,this.renderer.attr(f.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":v.stroke,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-dasharray":"none"});r.series[e.serieIndex];o&&this._showPieLabel(e.groupIndex,e.serieIndex,l.itemIndex,s),1==t&&this._installHandlers(f.element,"pieslice",e.groupIndex,e.serieIndex,l.itemIndex)}},_showPieLabel:function(t,i,r,s,o){var n=this._renderData[t].offsets[i][r];if(n.elementInfo.labelElement&&this.renderer.removeElement(n.elementInfo.labelElement),s||(s=this._getLabelsSettings(t,i,NaN)),s.visible){var a=n.fromAngle,l=n.toAngle,d=Math.abs(a-l);d>360&&(a=0,l=360);var h=(a*Math.PI*2/360,l*Math.PI*2/360,d/2+a);h%=360;var c,u=h*Math.PI*2/360;1==s.autoRotate&&(c=90>h||h>270?360-h:180-h);var p=s.linesEnabled,f=this._showLabel(t,i,r,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,c),m=s.radius||n.outerRadius+Math.max(f.width,f.height);this._isPercent(m)&&(m=parseFloat(m)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),m+=n.centerOffset,isNaN(o)&&(o=0),m+=o;var g=this.seriesGroups[t],v=g.series[i],x=e.jqx.getNum([v.offsetX,g.offsetX,this._plotRect.width/2]),w=e.jqx.getNum([v.offsetY,g.offsetY,this._plotRect.height/2]),b=this._plotRect.x+x,y=this._plotRect.y+w,_=this._adjustTextBoxPosition(b,y,f,m,h,n.outerRadius>m,0!=s.linesAngles,1==s.autoRotate),j={};if(n.elementInfo.labelElement=this._showLabel(t,i,r,{x:_.x,y:_.y,width:f.width,height:f.height},"left","top",!1,!1,!1,c,j),m>n.outerRadius+5&&0!=p){var q={lineColor:n.elementInfo.colors.lineColor,stroke:n.elementInfo.settings.stroke,opacity:n.elementInfo.settings.opacity,dashStyle:n.elementInfo.settings.dashStyle};n.elementInfo.labelArrowPath=this._updateLebelArrowPath(n.elementInfo.labelArrowPath,b,y,m,n.outerRadius+o,u,0!=s.linesAngles,q,j)}}},_updateLebelArrowPath:function(t,i,r,s,o,n,a,l,d){var h=e.jqx._ptrnd(i+(s-0)*Math.cos(n)),c=e.jqx._ptrnd(r-(s-0)*Math.sin(n)),u=e.jqx._ptrnd(i+(o+2)*Math.cos(n)),p=e.jqx._ptrnd(r-(o+2)*Math.sin(n)),f=[];f.push({x:d.x+d.width/2,y:d.y}),f.push({x:d.x+d.width/2,y:d.y+d.height}),f.push({x:d.x,y:d.y+d.height/2}),f.push({x:d.x+d.width,y:d.y+d.height/2}),a||(f.push({x:d.x,y:d.y}),f.push({x:d.x+d.width,y:d.y}),f.push({x:d.x+d.width,y:d.y+d.height}),f.push({x:d.x,y:d.y+d.height})),f=f.sort(function(t,s){return e.jqx._ptdist(t.x,t.y,i,r)-e.jqx._ptdist(s.x,s.y,i,r)}),f=f.sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var m=0;m<f.length;m++)f[m].x=e.jqx._ptrnd(f[m].x),f[m].y=e.jqx._ptrnd(f[m].y);h=f[0].x,c=f[0].y;var g="M "+h+","+c+" L"+u+","+p;return a&&(g="M "+h+","+c+" L"+u+","+c+" L"+u+","+p),t?this.renderer.attr(t,{d:g}):t=this.renderer.path(g,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,r,s,o,n,a,l){var d=o*Math.PI*2/360,h=e.jqx._ptrnd(t+s*Math.cos(d)),c=e.jqx._ptrnd(i-s*Math.sin(d));if(l){var u=r.width,p=r.height,f=Math.atan(p/u)%(2*Math.PI),m=d%(2*Math.PI),g=0;f>=m?g=u/2*Math.cos(d):m>=f&&m<Math.PI-f?g=p/2*Math.sin(d):m>=Math.PI-f&&m<Math.PI+f?g=u/2*Math.cos(d):m>=Math.PI+f&&m<2*Math.PI-f?g=p/2*Math.sin(d):m>=2*Math.PI-f&&m<2*Math.PI&&(g=u/2*Math.cos(d)),s+=Math.abs(g)+3;var h=e.jqx._ptrnd(t+s*Math.cos(d)),c=e.jqx._ptrnd(i-s*Math.sin(d));return h-=r.width/2,c-=r.height/2,{x:h,y:c}}return n?(h-=r.width/2,c-=r.height/2):a?o>=90&&270>o?(c-=r.height/2,h-=r.width):c-=r.height/2:o>=0&&45>o||o>=315&&360>o?c-=r.height/2:o>=45&&135>o?(c-=r.height,h-=r.width/2):o>=135&&225>o?(c-=r.height/2,h-=r.width):o>=225&&315>o&&(h-=r.width/2),{x:h,y:c}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;e>r;r++){var s=this.seriesGroups[r],o=s.orientation||"vertical";this._isColumnType(s.type)&&o==i&&t++}return t},_renderAxisBands:function(t,i,r){var s=r?this._getXAxis(t):this._getValueAxis(t),o=this.seriesGroups[t],n=r?void 0:o.bands;if(!n){for(var a=0;t>a;a++){var l=r?this._getXAxis(a):this._getValueAxis(a);if(l==s)return}n=s.bands}if(e.isArray(n)){var d=i,h="horizontal"==o.orientation;h&&(d={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,d);for(var a=0;a<n.length;a++){var c,u=n[a],p=this._get([u.minValue,u.from]),f=this._get([u.maxValue,u.to]),m=r?this.getXAxisDataPointOffset(p,t):this.getValueAxisDataPointOffset(p,t),g=r?this.getXAxisDataPointOffset(f,t):this.getValueAxisDataPointOffset(f,t),v=Math.abs(m-g);if(o.polar||o.spider){var x=this._renderData[t],w=x.polarCoords;if(r)if(o.spider){p1=this.getPolarDataPointOffset(p,this._stats.seriesGroups[t].max,t),p2=this.getPolarDataPointOffset(f,this._stats.seriesGroups[t].max,t);var b="M "+w.x+","+w.y;b+=" L "+p1.x+","+p1.y,b+=" L "+p2.x+","+p2.y,c=this.renderer.path(b)}else{var y={},_={x:Math.min(m,g),y:i.y,width:v,height:i.height};this._columnAsPieSlice(y,i,w,_),c=y.element}else{var j=this._toPolarCoord(w,i,i.x,x.baseOffset),q=this._toPolarCoord(w,i,i.x,m),T=this._toPolarCoord(w,i,i.x,g),C=e.jqx._ptdist(j.x,j.y,q.x,q.y),k=e.jqx._ptdist(j.x,j.y,T.x,T.y),S=Math.round(360*-w.startAngle/(2*Math.PI)),D=Math.round(360*-w.endAngle/(2*Math.PI));if(S>D){var I=S;S=D,D=I}if(o.spider){var P=x.xAxis.offsetAngles,b="",A=[k,C],B=P;w.isClosedCircle&&(B=e.extend([],P),B.push(B[0]));for(var M in A){for(var H=0;H<B.length;H++){var z=0==M?H:P.length-H-1,E=w.x+A[M]*Math.cos(B[z]),O=w.y+A[M]*Math.sin(B[z]);b+=""==b?"M ":" L",b+=e.jqx._ptrnd(E)+","+e.jqx._ptrnd(O)}if(0==M){var E=w.x+A[1]*Math.cos(B[z]),O=w.y+A[1]*Math.sin(B[z]);b+=" L"+e.jqx._ptrnd(E)+","+e.jqx._ptrnd(O)}}b+=" Z",c=this.renderer.path(b)}else c=this.renderer.pieslice(w.x,w.y,C,k,S,D)}}else{var L={x:Math.min(m,g),y:d.y,width:v,height:d.height};if(r||(L={x:d.x,y:Math.min(m,g),width:d.width,height:v}),h){var I=L.x;L.x=L.y,L.y=I,I=L.width,L.width=L.height,L.height=I}c=0==v||1==v?this.renderer.line(e.jqx._ptrnd(L.x),e.jqx._ptrnd(L.y),e.jqx._ptrnd(L.x+(h?0:L.width)),e.jqx._ptrnd(L.y+(h?L.height:0))):this.renderer.rect(L.x,L.y,L.width,L.height)}var N=u.fillColor||u.color||"#AAAAAA",F=u.lineColor||N,R=u.lineWidth;isNaN(R)&&(R=1);var W=u.opacity;(isNaN(W)||0>W||W>1)&&(W=1),this.renderer.attr(c,{fill:N,"fill-opacity":W,stroke:F,"stroke-opacity":W,"stroke-width":R,"stroke-dasharray":u.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),o=(s?1:r.series.length,this._getColumnGroupsCount(r.orientation));(isNaN(o)||0==o)&&(o=1);var n=t.rangeLength>=1?t.itemWidth:.9*i,a=r.columnsMinWidth;isNaN(a)&&(a=1),isNaN(r.columnsMaxWidth)||(a=Math.min(r.columnsMaxWidth,a)),a>n&&t.length>0&&(n=Math.max(n,.9*i/t.length));var l=a;if(!s){var d=r.seriesGapPercent;(isNaN(d)||0>d)&&(d=10),d/=100;var h=a;h*=1+d,l+=r.series.length*h}var c=Math.max(n/o,l);return{requiredWidth:l,availableWidth:n,targetWidth:c}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var o=this._calcGroupOffsets(e,s);if(o&&0!=o.xoffsets.length){var n=!0,a=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(a=1);var l=this._getColumnGroupIndex(e),d=this._getColumnGroupWidth(e,o.xoffsets,r?s.height:s.width),h=0,c=d.targetWidth;(1==this.columnSeriesOverlap||Math.round(c)>Math.round(d.availableWidth/a))&&(a=1,l=0),n&&(h-=c*a/2),h+=c*l;var u=i.columnsGapPercent;0>=u&&(u=0),(isNaN(u)||u>=100)&&(u=25),u/=100;var p=c*u;p+d.requiredWidth>d.targetWidth&&(p=Math.max(0,d.targetWidth-d.requiredWidth)),Math.round(c)>Math.round(d.availableWidth)&&(p=0),c-=p,h+=p/2;var f=i.seriesGapPercent;(isNaN(f)||0>f)&&(f=10);var m=-1!=i.type.indexOf("stacked"),g=c;m||(g/=i.series.length);var v=this._get([i.seriesGap,c*f/100/(i.series.length-1)]);(1==i.polar||1==i.spider||m||i.series.length<=1)&&(v=0);var x=v*(i.series.length-1);i.series.length>1&&x>c-1*i.series.length&&(x=c-1*i.series.length,v=x/Math.max(1,i.series.length-1));var w=g-x/i.series.length,b=0,y=i.columnsMaxWidth;isNaN(y)||w>y&&(b=w-y,w=y);var _=0;if(m)_=b/2;else{var j=(c-w*i.series.length-x)/2,q=Math.max(0,t);_=j+w*t+q*v}return{width:w,offset:h+_}}},_renderColumnSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=(this._getDataLen(t),"horizontal"==r.orientation),o=i;s&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var n=this._calcGroupOffsets(t,o);if(n&&0!=n.xoffsets.length){var a;1!=r.polar&&1!=r.spider||(a=this._getPolarAxisCoords(t,o));var l={groupIndex:t,rect:i,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:a};l.columnGroupWidth=this._getColumnGroupWidth(t,n.xoffsets,s?o.height:o.width);for(var d=this._getGroupGradientType(t),h=0;h<r.series.length;h++){var c=r.series[h];if(!c.customDraw){var u=(c.dataField,this._getAnimProps(t,h)),p=u.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?u.duration:0,f=this._getColumnSerieWidthAndOffset(t,h),m=this._isSerieVisible(t,h),g=this._getSerieSettings(t,h),v=this._getColors(t,h,NaN,this._getGroupGradientType(t),4),x=[];if(e.isFunction(c.colorFunction)&&!a)for(var w=n.xoffsets.first;w<=n.xoffsets.last;w++)x.push(this._getColors(t,h,w,d,4));var b={seriesIndex:h,serieColors:v,itemsColors:x,settings:g,columnWidth:f.width,xAdjust:f.offset,isVisible:m};l.seriesCtx.push(b)}}this._animColumns(l,0==p?1:0);var y=this;this._enqueueAnimation("series",void 0,void 0,p,function(e,t,i){y._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&i>e&&(e=i),!isNaN(r)&&!isNaN(e)&&e>r&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,o){var n=this.seriesGroups[t],a=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==a&&0==l&&(l=100);for(var d=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,h=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,p=0;p<i.length;p++){var f,m=i[p],g=m.seriesIndex,v=(n.series[g],e.offsets[g][r].from),x=e.offsets[g][r].to,w=e.xoffsets.data[r],b=m.isVisible;b||(x=v);var y=this._elementRenderInfo;if(b&&y&&y.length>t&&y[t].series.length>g){var _=e.xoffsets.xvalues[r];f=y[t].series[g][_],!f||isNaN(f.from)||isNaN(f.to)||(v=f.from+(v-f.from)*o,x=f.to+(x-f.to)*o,w=f.xoffset+(w-f.xoffset)*o)}f||(x=v+(x-v)*(s?1:o)),isNaN(v)&&(v=isNaN(u)?e.baseOffset:u),u=!isNaN(x)&&s?x:v,isNaN(x)&&(x=v);var j={from:v,to:x,xOffset:w};100==a&&100==l||(j.funnel=!0,j.toWidthPercent=a,j.fromWidthPercent=l),c.push(j)}if(s&&c.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var q=0,T=0,C=-(1/0),k=1/0,S=1/0,D=-(1/0),I=0;I<c.length;I++){var m=i[I];m.isVisible&&(c[I].to>=c[I].from?(T+=c[I].to-c[I].from,S=Math.min(S,c[I].from),D=Math.max(D,c[I].to)):(q+=c[I].from-c[I].to,C=Math.max(C,c[I].from),k=Math.min(k,c[I].to)))}var P=q,A=T;q*=o,T*=o;for(var B=0,M=0,I=0;I<c.length;I++)if(c[I].to>=c[I].from){var H=c[I].to-c[I].from;H+M>T&&(H=Math.max(0,T-M),c[I].to=c[I].from+H),100==a&&100==l||(c[I].funnel=!0,!isNaN(d)&&A*d>=M?c[I].fromWidthPercent=100*h:c[I].fromWidthPercent=Math.abs(c[I].from-S)/A*(a-l)+l,!isNaN(d)&&A*d>=0+(M+H)?c[I].toWidthPercent=100*h:c[I].toWidthPercent=Math.abs(c[I].to-S)/A*(a-l)+l),M+=H}else{var H=c[I].from-c[I].to;H+B>q&&(H=Math.max(0,q-B),c[I].to=c[I].from-H),100==a&&100==l||(c[I].funnel=!0,!isNaN(d)&&P*d>=B?c[I].fromWidthPercent=100*h:c[I].fromWidthPercent=Math.abs(c[I].from-C)/P*(a-l)+l,!isNaN(d)&&P*d>=0+(B+H)?c[I].toWidthPercent=100*h:c[I].toWidthPercent=Math.abs(c[I].to-C)/P*(a-l)+l),B+=H}}return c},_columnAsPieSlice:function(t,i,r,s){var o=this._toPolarCoord(r,i,s.x,s.y),n=this._toPolarCoord(r,i,s.x,s.y+s.height),a=e.jqx._ptdist(r.x,r.y,n.x,n.y),l=e.jqx._ptdist(r.x,r.y,o.x,o.y),d=i.width,h=180*Math.abs(r.startAngle-r.endAngle)/Math.PI,c=-((s.x-i.x)*h)/d,u=-((s.x+s.width-i.x)*h)/d,p=r.startAngle;if(p=360*p/(2*Math.PI),c-=p,u-=p,t)if(void 0!=t.element){var f=this.renderer.pieSlicePath(r.x,r.y,a,l,u,c,0);f+=" Z",this.renderer.attr(t.element,{d:f})}else t.element=this.renderer.pieslice(r.x,r.y,a,l,u,c,0);return{fromAngle:u,toAngle:c,innerRadius:a,outerRadius:l}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var r=this,s=t.groupIndex,o=this.seriesGroups[s],n=t.renderData,a=-1!=o.type.indexOf("waterfall"),l=this._getXAxis(s),d=-1!=o.type.indexOf("stacked"),h=t.polarAxisCoords,c=(this._getGroupGradientType(s),t.columnGroupWidth.targetWidth,-1),u=0;u<o.series.length;u++)if(this._isSerieVisible(s,u)){c=u;break}for(var p=NaN,f=NaN,u=0;u<t.seriesCtx.length;u++){var m=t.seriesCtx[u];(isNaN(p)||p>m.xAdjust)&&(p=m.xAdjust),(isNaN(f)||f<m.xAdjust+m.columnWidth)&&(f=m.xAdjust+m.columnWidth)}var g=Math.abs(f-p),v=this._get([o.columnsGapPercent,25])/100;(isNaN(v)<0||v>=1)&&(v=.25);for(var x=v*g,w=t.renderData.xoffsets,b=-1,y={},_=1==o.skipOverlappingPoints,j=w.first;j<=w.last;j++){var q=w.data[j];if(!(isNaN(q)||-1!=b&&Math.abs(q-b)<g-1+x&&_)){b=q;var T=this._getColumnVOffsets(n,s,t.seriesCtx,j,d,i),C=!1;if(a)for(var k=0;k<o.series.length;k++)o.series[k].summary&&w.xvalues[j][o.series[k].summary]&&(C=!0);for(var k=0;k<t.seriesCtx.length;k++){var m=t.seriesCtx[k],S=m.seriesIndex,D=o.series[S],I=T[k].from,P=T[k].to,A=T[k].xOffset,B=(t.vertical?t.rect.x:t.rect.y)+m.xAdjust,M=m.settings,H=0!=m.itemsColors.length?m.itemsColors[j-n.xoffsets.first]:m.serieColors,z=this._isSerieVisible(s,S);if(z){var q=e.jqx._ptrnd(B+A),E={x:q,width:m.columnWidth};T[k].funnel&&(E.fromWidthPercent=T[k].fromWidthPercent,E.toWidthPercent=T[k].toWidthPercent);var O=!0;t.vertical?(E.y=I,E.height=P-I,E.height<0&&(E.y+=E.height,E.height=-E.height,O=!1)):(E.x=P>I?I:P,E.width=Math.abs(I-P),O=0>I-P,E.y=q,E.height=m.columnWidth);var L=I-P;if(!isNaN(L)){L=Math.abs(L);var N=void 0,F=r._getRenderInfo(s,S,j),R=F.element,W=F.labelElement,V=void 0==R;if(W&&(r.renderer.removeElement(W),W=void 0),h){var G={element:R};N=this._columnAsPieSlice(G,t.rect,h,E),R=G.element;var H=this._getColors(s,S,void 0,"radialGradient",N.outerRadius)}else if(T[k].funnel){var U=this._getTrapezoidPath(e.extend({},E),t.vertical,O);V?R=this.renderer.path(U,{}):this.renderer.attr(R,{d:U})}else V?R=this.renderer.rect(E.x,E.y,t.vertical?E.width:0,t.vertical?0:E.height):1==t.vertical?this.renderer.attr(R,{x:E.x,y:E.y,height:L}):this.renderer.attr(R,{x:E.x,y:E.y,width:L});if(1>L&&(1!=i||h)?this.renderer.attr(R,{display:"none"}):this.renderer.attr(R,{display:"block"}),V&&this.renderer.attr(R,{fill:H.fillColor,"fill-opacity":M.opacity,"stroke-opacity":M.opacity,stroke:H.lineColor,"stroke-width":M.stroke,"stroke-dasharray":M.dashStyle}),W&&this.renderer.removeElement(W),!z||0==L&&1>i)F={element:R,labelElement:W},r._setRenderInfo(s,S,j,F);else{if(a&&0!=this._get([D.showWaterfallLines,o.showWaterfallLines])){if(!d||d&&k==c){var $=d?-1:k;if(1==i&&!isNaN(n.offsets[k][j].from)&&!isNaN(n.offsets[k][j].to)){var Y=y[$];if(void 0!=Y){var K={x:Y.x,y:e.jqx._ptrnd(Y.y)},X={x:q,y:K.y},Z=o.columnsTopWidthPercent/100;isNaN(Z)?Z=1:(Z>1||0>Z)&&(Z=1);var J=o.columnsBottomWidthPercent/100;isNaN(J)?J=1:(J>1||0>J)&&(J=1);var Q=t.vertical?E.width:E.height;if(K.x=K.x-Q/2+Q/2*Z,C){var ee=Q*Z/2;X.x=X.x+Q/2-(l.flip?-ee:ee)}else{var ee=Q*J/2;X.x=X.x+Q/2-(l.flip?-ee:ee)}t.vertical||(this._swapXY([K]),this._swapXY([X])),this.renderer.line(K.x,K.y,X.x,X.y,{stroke:Y.color,"stroke-width":M.stroke,"stroke-opacity":M.opacity,"fill-opacity":M.opacity,"stroke-dasharray":M.dashStyle})}}}1==i&&0!=L&&(y[d?-1:k]={y:P,x:t.vertical?E.x+E.width:E.y+E.height,color:H.lineColor})}if(h){var Q=(this._toPolarCoord(h,t.rect,E.x+E.width/2,E.y),this._showLabel(s,S,j,E,void 0,void 0,!0)),te=N.outerRadius+10;labelOffset=this._adjustTextBoxPosition(h.x,h.y,Q,te,(N.fromAngle+N.toAngle)/2,!0,!1,!1),W=this._showLabel(s,S,j,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else W=this._showLabel(s,S,j,E,void 0,void 0,!1,!1,O);F={element:R,labelElement:W},r._setRenderInfo(s,S,j,F),1==i&&this._installHandlers(R,"column",s,S,j)}}}}}}},_getTrapezoidPath:function(t,i,r){var s="",o=t.fromWidthPercent/100,n=t.toWidthPercent/100;if(!i){var a=t.width;t.width=t.height,t.height=a,a=t.x,t.x=t.y,t.y=a}var l=t.x+t.width/2,d=[{x:l-t.width*(r?n:o)/2,y:t.y+t.height},{x:l-t.width*(r?o:n)/2,y:t.y},{x:l+t.width*(r?o:n)/2,y:t.y},{x:l+t.width*(r?n:o)/2,y:t.y+t.height}];i||this._swapXY(d),s+="M "+e.jqx._ptrnd(d[0].x)+","+e.jqx._ptrnd(d[0].y);for(var h=1;h<d.length;h++)s+=" L "+e.jqx._ptrnd(d[h].x)+","+e.jqx._ptrnd(d[h].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,r){var s=this,o=s.seriesGroups[t];if(o.series&&0!=o.series.length){var n="horizontal"==o.orientation,a=i;n&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var l=s._calcGroupOffsets(t,a);if(l&&0!=l.xoffsets.length){var d,h=a.width;(o.polar||o.spider)&&(d=s._getPolarAxisCoords(t,a),h=2*d.r);for(var c=(s._alignValuesWithTicks(t),s._getGroupGradientType(t)),u=[],p=0;p<o.series.length;p++)u[p]=s._getColumnSerieWidthAndOffset(t,p);for(var p=0;p<o.series.length;p++)if(this._isSerieVisible(t,p)){var f=s._getSerieSettings(t,p),m=o.series[p];if(!m.customDraw){var g=e.isFunction(m.colorFunction)?void 0:s._getColors(t,p,NaN,c),v={rect:i,inverse:n,groupIndex:t,seriesIndex:p,symbolType:m.symbolType,symbolSize:m.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-dasharray":f.dashStyle,gradientType:c,colors:g,renderData:l,polarAxisCoords:d,columnsInfo:u,isOHLC:r,items:[],self:s},x=s._getAnimProps(t,p),w=x.enabled&&!s._isToggleRefresh&&l.xoffsets.length<5e3?x.duration:0;s._animCandleStick(v,0);s._enqueueAnimation("series",void 0,void 0,w,function(e,t,i){s._animCandleStick(t,i)},v)}}}}},_animCandleStick:function(t,i){var r=["Open","Low","Close","High"],s=t.columnsInfo[t.seriesIndex].width,o=t.self.seriesGroups[t.groupIndex],n=t.renderData.xoffsets,a=-1,l=Math.abs(n.data[n.last]-n.data[n.first]);l*=i;for(var d=NaN,h=NaN,c=0;c<t.columnsInfo.length;c++){var u=t.columnsInfo[c];(isNaN(d)||d>u.offset)&&(d=u.offset),(isNaN(h)||h<u.offset+u.width)&&(h=u.offset+u.width)}for(var p=Math.abs(h-d),f=0!=o.skipOverlappingPoints,m=n.first;m<=n.last;m++){var g=n.data[m];if(!(isNaN(g)||-1!=a&&Math.abs(g-a)<p&&f)){var v=Math.abs(n.data[m]-n.data[n.first]);if(v>l)break;a=g;var x=t.items[m]=t.items[m]||{};for(var c in r){var w=t.self._getDataValueAsNumber(m,o.series[t.seriesIndex]["dataField"+r[c]],t.groupIndex);if(isNaN(w))break;var b=t.renderData.offsets[t.seriesIndex][m][r[c]];if(isNaN(b))break;x[r[c]]=b}if(g+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var y=this._toPolarCoord(t.polarAxisCoords,this._plotRect,g,b);g=y.x,b=y.y}g=e.jqx._ptrnd(g);for(var _ in r)x[_]=e.jqx._ptrnd(x[_]);var j=t.colors;if(j||(j=t.self._getColors(t.groupIndex,t.seriesIndex,m,t.gradientType)),t.isOHLC){var q="M"+g+","+x.Low+" L"+g+","+x.High+" M"+(g-s/2)+","+x.Open+" L"+g+","+x.Open+" M"+(g+s/2)+","+x.Close+" L"+g+","+x.Close;t.inverse&&(q="M"+x.Low+","+g+" L"+x.High+","+g+" M"+x.Open+","+(g-s/2)+" L"+x.Open+","+g+" M"+x.Close+","+g+" L"+x.Close+","+(g+s/2));var T=x.lineElement;T||(T=this.renderer.path(q,{}),this.renderer.attr(T,{fill:j.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:j.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),x.lineElement=T),1==i&&this._installHandlers(T,"column",t.groupIndex,t.seriesIndex,m)}else{var T=x.lineElement;T||(T=t.inverse?this.renderer.line(x.Low,g,x.High,g):this.renderer.line(g,x.Low,g,x.High),this.renderer.attr(T,{fill:j.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:j.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),x.lineElement=T);var C=x.stickElement;if(g-=s/2,!C){var k=j.fillColor;x.Close<=x.Open&&j.fillColorAlt&&(k=j.fillColorAlt),C=t.inverse?this.renderer.rect(Math.min(x.Open,x.Close),g,Math.abs(x.Close-x.Open),s):this.renderer.rect(g,Math.min(x.Open,x.Close),s,Math.abs(x.Close-x.Open)),this.renderer.attr(C,{fill:k,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:j.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),x.stickElement=C}1==i&&this._installHandlers(C,"column",t.groupIndex,t.seriesIndex,m)}}}},_renderScatterSeries:function(t,i,r){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var o=-1!=s.type.indexOf("bubble"),n="horizontal"==s.orientation,a=i;n&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,a);if(l&&0!=l.xoffsets.length){var d,h=a.width;(s.polar||s.spider)&&(d=this._getPolarAxisCoords(t,a),h=2*d.r);var c=(this._alignValuesWithTicks(t),this._getGroupGradientType(t));r||(r="to");for(var u=0;u<s.series.length;u++){var p=this._getSerieSettings(t,u),f=s.series[u];if(!f.customDraw){var m=f.dataField,g=e.isFunction(f.colorFunction),v=this._getColors(t,u,NaN,c),x=NaN,w=NaN;if(o)for(var b=l.xoffsets.first;b<=l.xoffsets.last;b++){var y=this._getDataValueAsNumber(b,f.radiusDataField||f.sizeDataField,t);if("number"!=typeof y)throw"Invalid radiusDataField value at ["+b+"]";isNaN(y)||((isNaN(x)||x>y)&&(x=y),(isNaN(w)||y>w)&&(w=y))}var _=f.minRadius||f.minSymbolSize;isNaN(_)&&(_=h/50);var j=f.maxRadius||f.maxSymbolSize;isNaN(j)&&(j=h/25),_>j&&(j=_);var q=f.radius;q=isNaN(q)&&!isNaN(f.symbolSize)?"circle"==f.symbolType?f.symbolSize/2:f.symbolSize:5;for(var T=this._getAnimProps(t,u),C=T.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?T.duration:0,k={groupIndex:t,seriesIndex:u,symbolType:f.symbolType,symbolSize:f.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-width-symbol":p.strokeSymbol,"stroke-dasharray":p.dashStyle,items:[],polarAxisCoords:d},S=void 0,b=l.xoffsets.first;b<=l.xoffsets.last;b++){var y=this._getDataValueAsNumber(b,m,t);if("number"==typeof y){var D=l.xoffsets.data[b],I=l.xoffsets.xvalues[b],P=l.offsets[u][b][r];if(!(P<a.y||P>a.y+a.height||isNaN(D)||isNaN(P))){if(n){var A=D;D=P,P=A+i.y}else D+=i.x;if(!(!g&&S&&this.enableSampling&&e.jqx._ptdist(S.x,S.y,D,P)<1)){S={x:D,y:P};var B=q;if(o){var M=this._getDataValueAsNumber(b,f.radiusDataField||f.sizeDataField,t);if("number"!=typeof M)continue;B=_+(j-_)*(M-x)/Math.max(1,w-x),isNaN(B)&&(B=_)}l.offsets[u][b].radius=B;var H=NaN,z=NaN,E=0,O=this._elementRenderInfo;if(void 0!=I&&O&&O.length>t&&O[t].series.length>u){var L=O[t].series[u][I];if(L&&!isNaN(L.to)){if(H=L.to,z=L.xoffset,E=q,n){var A=z;z=H,H=A+i.y}else z+=i.x;o&&(E=_+(j-_)*(L.valueRadius-x)/Math.max(1,w-x),isNaN(E)&&(E=_))}}g&&(v=this._getColors(t,u,b,c)),k.items.push({from:E,to:B,itemIndex:b,fill:v.fillColor,stroke:v.lineColor,x:D,y:P,xFrom:z,yFrom:H})}}}}this._animR(k,0);var N=this;this._enqueueAnimation("series",void 0,void 0,C,function(e,t,i){N._animR(t,i)},k)}}}}},_animR:function(t,i){for(var r=t.items,s=t.symbolType||"circle",o=t.symbolSize,n=0;n<r.length;n++){var a=r[n],l=a.x,d=a.y,h=Math.round((a.to-a.from)*i+a.from);if(isNaN(a.yFrom)||(d=a.yFrom+(d-a.yFrom)*i),isNaN(a.xFrom)||(l=a.xFrom+(l-a.xFrom)*i),t.polarAxisCoords){var c=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,d);l=c.x,d=c.y}l=e.jqx._ptrnd(l),d=e.jqx._ptrnd(d),h=e.jqx._ptrnd(h);var u=this._getRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex),p=u.element,f=u.labelElement;"circle"==s?(p||(p=this.renderer.circle(l,d,h),this.renderer.attr(p,{fill:a.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:a.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(p,void 0,void 0,h):this.renderer.attr(p,{r:h,cy:d,
cx:l})):(p&&this.renderer.removeElement(p),p=this._drawSymbol(s,l,d,a.fill,t["fill-opacity"],a.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],o||h)),f&&this.renderer.removeElement(f),f=this._showLabel(t.groupIndex,t.seriesIndex,a.itemIndex,{x:l-h,y:d-h,width:2*h,height:2*h}),i>=1&&this._installHandlers(p,"circle",t.groupIndex,t.seriesIndex,a.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex,{element:p,labelElement:f})}},_showToolTip:function(t,i,r,s,o){var n=this,a=n._getXAxis(r),l=n._getValueAxis(r);if(!n._ttEl||r!=n._ttEl.gidx||s!=n._ttEl.sidx||o!=n._ttEl.iidx){var d=n.seriesGroups[r],h=d.series[s],c=n.enableCrosshairs;n._pointMarker?(t=parseInt(n._pointMarker.x+5),i=parseInt(n._pointMarker.y-5)):c=!1;var u=c&&0==n.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);void 0==n._ttEl;if(0!=d.showToolTips&&0!=h.showToolTips){var p=n._get([h.toolTipFormatSettings,d.toolTipFormatSettings,l.toolTipFormatSettings,n.toolTipFormatSettings]),f=n._get([h.toolTipFormatFunction,d.toolTipFormatFunction,l.toolTipFormatFunction,n.toolTipFormatFunction]),m=n._getColors(r,s,o),g=n._getDataValue(o,a.dataField,r);void 0!=a.dataField&&""!=a.dataField||(g=o),"date"==a.type&&(g=n._castAsDate(g,(p?p.dateFormat:void 0)||a.dateFormat));var v="";if(e.isFunction(f)){var x={},w=0;for(var b in h)0==b.indexOf("dataField")&&(x[b.substring(9,b.length).toLowerCase()]=n._getDataValue(o,h[b],r),w++);0==w?x=n._getDataValue(o,void 0,r):1==w&&(x=x[""]),v=f(x,o,h,d,g,a)}else{v=n._getFormattedValue(r,s,o,p,f);var y=this._getAxisSettings(a),_=y.toolTipFormatSettings,j=y.toolTipFormatFunction;j||_||"date"!=a.type||(j=this._getDefaultDTFormatFn(a.baseUnit||"day"));var q=n._formatValue(g,_,j,r,s,o);if(n._isPieGroup(r))g=n._getDataValue(o,h.displayText||h.dataField,r),q=n._formatValue(g,_,j,r,s,o),v=q+": "+v;else{var T=a.displayText||a.dataField||"";v=T.length>0?T+": "+q+"<br>"+v:q+"<br>"+v}}if(n._ttEl||(n._ttEl={}),n._ttEl.sidx=s,n._ttEl.gidx=r,n._ttEl.iidx=o,rect=n.renderer.getRect(),c){var C=e.jqx._ptrnd(n._pointMarker.x),k=e.jqx._ptrnd(n._pointMarker.y),S=n.crosshairsColor||n._defaultLineColor;if(d.polar||d.spider){var D=this._getPolarAxisCoords(r,this._plotRect),I=e.jqx._ptdist(C,k,D.x,D.y);if(I>D.r)return;var P=Math.atan2(k-D.y,C-D.x),A=Math.cos(P)*D.r+D.x,B=Math.sin(P)*D.r+D.y;n._ttEl.vLine?n.renderer.attr(n._ttEl.vLine,{x1:D.x,y1:D.y,x2:A,y2:B}):n._ttEl.vLine=n.renderer.line(D.x,D.y,A,B,{stroke:S,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""})}else n._ttEl.vLine&&n._ttEl.hLine?(n.renderer.attr(n._ttEl.vLine,{x1:C,x2:C}),n.renderer.attr(n._ttEl.hLine,{y1:k,y2:k})):(n._ttEl.vLine=n.renderer.line(C,n._plotRect.y,C,n._plotRect.y+n._plotRect.height,{stroke:S,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}),n._ttEl.hLine=n.renderer.line(n._plotRect.x,k,n._plotRect.x+n._plotRect.width,k,{stroke:S,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}))}if(!u&&0!=n.showToolTips){var M=h.toolTipClass||d.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),H=h.toolTipBackground||d.toolTipBackground||"#FFFFFF",z=h.toolTipLineColor||d.toolTipLineColor||m.lineColor,E=this._get([h.toolTipOpacity,d.toolTipOpacity,1]),O=this.getItemCoord(r,s,o),L=0;n._pointMarker&&n._pointMarker.element&&(L=h.symbolSizeSelected,isNaN(L)&&(L=h.symbolSize),(isNaN(L)||L>50||0>L)&&(L=d.symbolSize),(isNaN(L)||L>50||0>L)&&(L=8)),n._createTooltip(O,d,v,{css:M,fill:H,stroke:z,fillOpacity:E,symbolSize:L})}}}},_fitTooltip:function(e,t,i,r,s){var o={},n=2+s/2,a=7;if(t.x-i.width-a-n>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(o.left={arrowLocation:"right",x:t.x-i.width-a-n,y:t.y+t.height/2-i.height/2,width:i.width+a,height:i.height}),t.x+t.width+i.width+a+n<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(o.right={arrowLocation:"left",x:t.x+t.width+n,y:t.y+t.height/2-i.height/2,width:i.width+a,height:i.height}),t.y-i.height-n-a>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(o.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-n-a,width:i.width,height:i.height+a}),t.y+t.height+i.height+a+n<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(o.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+n,width:i.width,height:i.height+a}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(o.left)return o.left;if(o.right)return o.right}else{if(o.top)return o.top;if(o.bottom)return o.bottom}for(var l in o)if(o[l])return o[l];return{arrowLocation:""}},_createTooltip:function(t,i,r,s){var o=this,n=i.type,a=!1,l=o._ttEl.box;if(!l){a=!0,l=o._ttEl.box=document.createElement("div");var d=1e7;l.style.position="absolute",l.style.cursor="default",e(h).css({"z-index":d,"box-sizing":"content-box"}),e(document.body).append(l);var h=document.createElement("div");h.id="arrowOuterDiv",h.style.width="0px",h.style.height="0px",h.style.position="absolute",e(h).css({"z-index":d+1,"box-sizing":"content-box"});var c=document.createElement("div");c.id="arrowInnerDiv",c.style.width="0px",c.style.height="0px",c.style.position="absolute";var u=document.createElement("div");u.id="contentDiv",u.style.position="absolute",e(u).css({"box-sizing":"content-box"}),e(u).addClass("jqx-rc-all jqx-button"),e(u).appendTo(e(l)),e(h).appendTo(e(l)),e(c).appendTo(e(l)),e(c).css({"z-index":d+2,"box-sizing":"content-box"})}if(!r||0==r.length)return void e(l).fadeTo(0,0);u=e(l).find("#contentDiv")[0],h=e(l).find("#arrowOuterDiv")[0],c=e(l).find("#arrowInnerDiv")[0],c.style.opacity=h.style.opacity=s.fillOpacity,u.style.backgroundColor=s.fill,u.style.borderColor=s.stroke,u.style.opacity=s.fillOpacity;var p="<span class='"+s.css+"'>"+r+"</span>";e(u).html(p);var f=this._measureHtml(p,"jqx-rc-all jqx-button");if(rect=o._plotRect,!(f.width>rect.width||f.height>rect.height)){var m={width:f.width,height:f.height};arrowLocation="";var g=7,v=o._isColumnType(n);if(x=Math.max(t.x,rect.x),y=Math.max(t.y,rect.y),"dataPoint"==o.toolTipAlignment){if(-1!=n.indexOf("pie")||-1!=n.indexOf("donut")){var w=(t.fromAngle+t.toAngle)/2;w*=Math.PI/180;var b=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;x=t.x=t.center.x+Math.cos(w)*b,y=t.y=t.center.y-Math.sin(w)*b,t.width=t.height=1}else v&&(i.polar||i.spider)&&(t.width=t.height=1);var _=this._fitTooltip(this._plotRect,t,m,i,s.symbolSize);""!=_.arrowLocation&&(arrowLocation=_.arrowLocation,x=_.x,y=_.y,m.width=_.width,m.height=_.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(m.height+=g,x-=g/2,"bottom"==arrowLocation&&(y-=g)):"left"!=arrowLocation&&"right"!=arrowLocation||(m.width+=g,y-=g/2,"right"==arrowLocation&&(x-=g)),x+m.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-m.width),y+m.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-m.height);var j={x:0,y:0};e(u).css({width:f.width,height:f.height,left:0,top:0}),h.style["margin-top"]=h.style["margin-left"]=0,c.style["margin-top"]=c.style["margin-left"]=0,u.style["margin-top"]=u.style["margin-left"]=0;var q=g+"px solid",T=g+"px solid transparent";switch(arrowLocation){case"left":j={x:0,y:(f.height-g)/2},contentPostion={x:g,y:0},u.style["margin-left"]=g+"px",h.style["margin-left"]="0px",h.style["margin-top"]=j.y+"px",h.style["border-left"]="",h.style["border-right"]=q+" "+s.stroke,h.style["border-top"]=T,h.style["border-bottom"]=T,c.style["margin-left"]="1px",c.style["margin-top"]=j.y+"px",c.style["border-left"]="",c.style["border-right"]=q+" "+s.fill,c.style["border-top"]=T,c.style["border-bottom"]=T;break;case"right":j={x:m.width-g,y:(f.height-g)/2},contentPostion={x:0,y:0},h.style["margin-left"]=j.x+"px",h.style["margin-top"]=j.y+"px",h.style["border-left"]=q+" "+s.stroke,h.style["border-right"]="",h.style["border-top"]=T,h.style["border-bottom"]=T,c.style["margin-left"]=j.x-1+"px",c.style["margin-top"]=j.y+"px",c.style["border-left"]=q+" "+s.fill,c.style["border-right"]="",c.style["border-top"]=T,c.style["border-bottom"]=T;break;case"top":j={x:m.width/2-g/2,y:0},contentPostion={x:0,y:g},u.style["margin-top"]=contentPostion.y+"px",h.style["margin-left"]=j.x+"px",h.style["border-top"]="",h.style["border-bottom"]=q+" "+s.stroke,h.style["border-left"]=T,h.style["border-right"]=T,c.style["margin-left"]=j.x+"px",c.style["margin-top"]="1px",c.style["border-top"]="",c.style["border-bottom"]=q+" "+s.fill,c.style["border-left"]=T,c.style["border-right"]=T;break;case"bottom":j={x:m.width/2-g/2,y:m.height-g},contentPostion={x:0,y:0},h.style["margin-left"]=j.x+"px",h.style["margin-top"]=j.y+"px",h.style["border-top"]=q+" "+s.stroke,h.style["border-bottom"]="",h.style["border-left"]=T,h.style["border-right"]=T,c.style["margin-left"]=j.x+"px",c.style["margin-top"]=j.y-1+"px",c.style["border-top"]=q+" "+s.fill,c.style["border-bottom"]="",c.style["border-left"]=T,c.style["border-right"]=T}""==arrowLocation?(e(h).hide(),e(c).hide()):(e(h).show(),e(c).show()),e(l).css({width:m.width+"px",height:m.height+"px"});var C=o.host.coord();a&&(e(l).fadeOut(0,0),l.style.left=x+C.left+"px",l.style.top=y+C.top+"px"),e(l).clearQueue(),e(l).animate({left:x+C.left,top:y+C.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),e(l).fadeTo(400,1)}},_measureHtml:function(t,i){var r=this._measureDiv;r||(this._measureDiv=r=document.createElement("div"),r.style.position="absolute",r.style.cursor="default",r.style.overflow="hidden",r.style.display="none",e(r).addClass(i),this.host.append(r)),e(r).html(t);var s={width:e(r).width()+2,height:e(r).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(s.height+=3),s},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},o={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},a={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n["class"],t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},l=e.line||{},d={visible:t._get([l.visible,!0]),color:t._get([l.color,r.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,r.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},h=e.padding||{};h={left:h.left||0,right:h.right||0,top:h.top||0,bottom:h.bottom||0};var c=this._getAxisLabelsSettings(e),u={visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:o,line:d,title:a,labels:c,padding:h,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,c.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,c.formatSettings])};return u},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{},r={visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e["class"],i["class"],t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])};return r},_getLabelsSettings:function(t,i,r,s){for(var o=this.seriesGroups[t],n=o.series[i],a=isNaN(r)?void 0:this._getDataValue(r,n.dataField,t),l=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],d={},h=0;h<l.length;h++){var c=l[h],u="labels"+c,p="label"+c,f=c.substring(0,1).toLowerCase()+c.substring(1),m=void 0;o.labels&&"object"==typeof o.labels&&(m=o.labels[f]),n.labels&&"object"==typeof n.labels&&void 0!=n.labels[f]&&(m=n.labels[f]),m=this._get([n[u],n[p],m,o[u],o[p]]),e.isFunction(m)?d[f]=m(a,r,n,o):d[f]=m}d["class"]=d["class"]||this.toThemeProperty("jqx-chart-label-text",null),d.visible=this._get([d.visible,n.showLabels,o.showLabels,void 0!=n.labels?!0:void 0,void 0!=o.labels?!0:void 0]);var g=d.padding||1;return d.padding={left:this._get([g.left,isNaN(g)?1:g]),right:this._get([g.right,isNaN(g)?1:g]),top:this._get([g.top,isNaN(g)?1:g]),bottom:this._get([g.bottom,isNaN(g)?1:g])},d},_showLabel:function(e,t,i,r,s,o,n,a,l,d,h){var c,u=this.seriesGroups[e],p=(u.series[t],{width:0,height:0});if(!isNaN(i)){var f=this._getLabelsSettings(e,t,i);if(!f.visible)return n?p:void 0;if(r.width<0||r.height<0)return n?p:void 0;var m=f.angle;isNaN(d)||(m=d);var g=f.offset||{},v={x:g.x,y:g.y};isNaN(v.x)&&(v.x=0),isNaN(v.y)&&(v.y=0),s=s||f.horizontalAlignment||"center",o=o||f.verticalAlignment||"center";var x=this._getFormattedValue(e,t,i,void 0,void 0,!0),w=r.width,b=r.height;if(1==a&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=o&&"middle"!=o&&(o="top"==o?"bottom":"top",v.y*=-1),p=this.renderer.measureText(x,m,{"class":f["class"]}),n)return p;var y=0,_=0;w>0&&(""==s||"center"==s?y+=(w-p.width)/2:"right"==s&&(y+=w-p.width)),b>0&&(""==o||"center"==o?_+=(b-p.height)/2:"bottom"==o&&(_+=b-p.height)),y+=r.x+v.x,_+=r.y+v.y;var j=this._plotRect;y<=j.x&&(y=j.x+2),_<=j.y&&(_=j.y+2);var q={width:Math.max(p.width,1),height:Math.max(p.height,1)};_+q.height>=j.y+j.height&&(_=j.y+j.height-(c?(q.height+c.height)/2:q.height)-2),y+q.width>=j.x+j.width&&(y=j.x+j.width-q.width-2);var T,C=f.backgroundColor,k=f.borderColor,S=f.padding;if(C||k){T=this.renderer.beginGroup();var r=this.renderer.rect(y-S.left,_-S.top,p.width+S.left+S.right,p.height+S.bottom+S.bottom,{fill:C||"transparent","fill-opacity":f.backgroundOpacity||1,stroke:k||"transparent","stroke-opacity":f.borderOpacity,"stroke-width":1})}var D=this.renderer.text(x,y,_,p.width,p.height,m,{"class":f["class"],opacity:f.opacity||1},!1,"center","center");return h&&(h.x=y-S.left,h.y=_-S.top,h.width=p.width+S.left+S.right,h.height=p.height+S.bottom+S.bottom),this._isVML&&(this.renderer.removeElement(D),this.renderer.getContainer()[0].appendChild(D)),T&&this.renderer.endGroup(),T||D}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],s=1==this.enableAnimations;i.enableAnimations&&(s=1==i.enableAnimations),r&&r.enableAnimations&&(s=1==r.enableAnimations);var o=this.animationDuration;isNaN(o)&&(o=1e3);var n=i.animationDuration;if(isNaN(n)||(o=n),r){var a=r.animationDuration;isNaN(a)||(o=a)}return o>5e3&&(o=1e3),{enabled:s,duration:o}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;var s=this._getColors(e,t,r,this._getGroupGradientType(e)),o=this._getColors(e,t,r-1,this._getGroupGradientType(e));return s.fillColor!=o.fillColor},_renderLineSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("area"),o=-1!=r.type.indexOf("stacked"),n=o&&-1!=r.type.indexOf("100"),a=-1!=r.type.indexOf("spline"),l=-1!=r.type.indexOf("step"),d=-1!=r.type.indexOf("range"),h=1==r.polar||1==r.spider;if(h&&(l=!1),!l||!a){var c=this._getDataLen(t),u=(i.width/c,"horizontal"==r.orientation),p=1==this._getXAxis(t).flip,f=i;u&&(f={x:i.y,y:i.x,width:i.height,height:i.width});var m=this._calcGroupOffsets(t,f);if(m&&0!=m.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var g=r.series.length-1;g>=0;g--){var v=this._getSerieSettings(t,g),x={groupIndex:t,rect:f,serieIndex:g,swapXY:u,isArea:s,isSpline:a,isRange:d,isPolar:h,settings:v,segments:[],pointsLength:0},w=this._isSerieVisible(t,g);if(w){var b=r.series[g];if(!b.customDraw){var y,_=e.isFunction(b.colorFunction),j=m.xoffsets.first,q=j,T=this._getColors(t,g,NaN,this._getGroupGradientType(t));do{var C=[],k=[],S=[],D=0,I=0,P=NaN,A=NaN,B=NaN;if(!(m.xoffsets.length<1)){var M=this._getAnimProps(t,g),H=M.enabled&&!this._isToggleRefresh&&m.xoffsets.length<1e4&&1!=this._isVML?M.duration:0,z=j;y=!1;for(var E=(this._getColors(t,g,j,this._getGroupGradientType(t)),void 0),O=j;O<=m.xoffsets.last;O++){j=O;var L=m.xoffsets.data[O],N=m.xoffsets.xvalues[O];if(!(isNaN(L)||(L=Math.max(L,1),D=L,I=m.offsets[g][O].to,!_&&E&&this.enableSampling&&e.jqx._ptdist(E.x,E.y,D,I)<1))){E={x:D,y:I};var F=m.offsets[g][O].from;if(isNaN(I)||isNaN(F)){if("connect"==b.emptyPointsDisplay)continue;if("zero"!=b.emptyPointsDisplay){y=!0;break}isNaN(I)&&(I=m.baseOffset),isNaN(F)&&(F=m.baseOffset)}if(_&&this._isColorTransition(t,g,m,j)&&C.length>1){j--;break}var R=this._elementRenderInfo;if(R&&R.length>t&&R[t].series.length>g){var W=R[t].series[g][N],B=e.jqx._ptrnd(W?W.to:void 0),V=e.jqx._ptrnd(f.x+(W?W.xoffset:void 0));S.push(u?{y:V,x:B,index:O}:{x:V,y:B,index:O})}q=O,v.stroke<2&&(I-f.y<=1&&(I=f.y+1),F-f.y<=1&&(F=f.y+1),f.y+f.height-I<=1&&(I=f.y+f.height-1),f.y+f.height-F<=1&&(F=f.y+f.height-1)),!s&&n&&(I<=f.y&&(I=f.y+1),I>=f.y+f.height&&(I=f.y+f.height-1),F<=f.y&&(F=f.y+1),F>=f.y+f.height&&(F=f.y+f.height-1)),L=Math.max(L,1),D=L+f.x,1==r.skipOverlappingPoints&&!isNaN(P)&&Math.abs(P-D)<=1||(!l||isNaN(P)||isNaN(A)||A!=I&&C.push(u?{y:D,x:e.jqx._ptrnd(A)}:{x:D,y:e.jqx._ptrnd(A)}),C.push(u?{y:D,x:e.jqx._ptrnd(I),index:O}:{x:D,y:e.jqx._ptrnd(I),index:O}),k.push(u?{y:D,x:e.jqx._ptrnd(F),index:O}:{x:D,y:e.jqx._ptrnd(F),index:O}),P=D,A=I,isNaN(B)&&(B=I))}}if(0!=C.length){var G=C[C.length-1].index;_&&(T=this._getColors(t,g,G,this._getGroupGradientType(t)));var U=f.x+m.xoffsets.data[z],$=f.x+m.xoffsets.data[q];if(s&&1==r.alignEndPointsWithIntervals){if(U>f.x&&(U=f.x),$<f.x+f.width&&($=f.x+f.width),p){var Y=U;U=$,$=Y}}$=e.jqx._ptrnd($),U=e.jqx._ptrnd(U);var K=m.baseOffset;B=e.jqx._ptrnd(B);var X=e.jqx._ptrnd(I)||K;d&&(C=C.concat(k.reverse())),x.pointsLength+=C.length;var Z={lastItemIndex:G,colorSettings:T,pointsArray:C,pointsStart:S,left:U,right:$,pyStart:B,pyEnd:X,yBase:K,labelElements:[],symbolElements:[]};x.segments.push(Z)}else j++}}while(j<m.xoffsets.length-1||y);this._linesRenderInfo[t][g]=x}}else this._linesRenderInfo[t][g]=x}var J=this._linesRenderInfo[t],Q=[];for(var O in J)Q.push(J[O]);Q=Q.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&o&&Q.reverse();for(var O=0;O<Q.length;O++){var x=Q[O];this._animateLine(x,0==H?1:0);var ee=this;this._enqueueAnimation("series",void 0,void 0,H,function(e,t,i){ee._animateLine(t,i)},x)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,o=this.seriesGroups[r],n=o.series[s],a=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,d=!0;e.isPolar&&(isNaN(o.endAngle)||360==Math.round(Math.abs((isNaN(o.startAngle)?0:o.startAngle)-o.endAngle))||(d=!1));for(var h=0,c=0;c<e.segments.length;c++){var u=e.segments[c],p=this._calculateLine(r,e.pointsLength,h,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(h+=u.pointsArray.length,""!=p){var f=p.split(" "),m=(f.length,p);m=""!=m?this._buildLineCmd(p,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,d,e.isSpline,e.swapXY):"M 0 0";var g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",r,s,u.lastItemIndex)),u.labelElements){for(var v=0;v<u.labelElements.length;v++)this.renderer.removeElement(u.labelElements[v]);u.labelElements=[]}if(u.symbolElements){for(var v=0;v<u.symbolElements.length;v++)this.renderer.removeElement(u.symbolElements[v]);u.symbolElements=[]}if(u.pointsArray.length==f.length&&("none"!=a||l))for(var x=n.symbolSize,w=this._plotRect,v=0;v<f.length;v++){var b=f[v].split(",");if(b={x:parseFloat(b[0]),y:parseFloat(b[1])},!(b.x<w.x||b.x>w.x+w.width||b.y<w.y||b.y>w.y+w.height)){if("none"!=a){var y=this._getColors(r,s,u.pointsArray[v].index,this._getGroupGradientType(r)),_=this._drawSymbol(a,b.x,b.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x);u.symbolElements.push(_)}if(l){var j=(v>0?f[v-1]:f[v]).split(",");j={x:parseFloat(j[0]),y:parseFloat(j[1])};var q=(v<f.length-1?f[v+1]:f[v]).split(",");if(q={x:parseFloat(q[0]),y:parseFloat(q[1])},b=this._adjustLineLabelPosition(r,s,u.pointsArray[v].index,b,j,q)){var T=this._showLabel(r,s,u.pointsArray[v].index,{x:b.x,y:b.y,width:0,height:0});u.labelElements.push(T)}}}}if(1==t&&"none"!=a)for(var v=0;v<u.symbolElements.length;v++)isNaN(u.pointsArray[v].index)||this._installHandlers(u.symbolElements[v],"symbol",r,s,u.pointsArray[v].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,o){var n=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(n){var a={x:r.x-n.width/2,y:0};return a.y=r.y-1.5*n.height,a}},_calculateLine:function(t,i,r,s,o,n,a,l,d){var h,c=this.seriesGroups[t];1!=c.polar&&1!=c.spider||(h=this._getPolarAxisCoords(t,this._plotRect));var u="",p=s.length;if(!l&&0==o.length){var f=i*a;p=f-r}for(var m=NaN,g=0;p+1>g&&g<s.length;g++){g>0&&(u+=" ");var v=s[g].y,x=s[g].x,w=l?n:v,b=x;if(o&&o.length>g&&(w=o[g].y,b=o[g].x,(isNaN(w)||isNaN(b))&&(w=v,b=x)),m=b,p<=s.length&&g>0&&g==p&&(b=s[g-1].x,w=s[g-1].y),d?(x=e.jqx._ptrnd((x-w)*(l?a:1)+w),v=e.jqx._ptrnd(v)):(x=e.jqx._ptrnd((x-b)*a+b),v=e.jqx._ptrnd((v-w)*a+w)),h){var y=this._toPolarCoord(h,this._plotRect,x,v);x=y.x,v=y.y}u+=x+","+v}return u},_buildLineCmd:function(e,t,i,r,s,o,n,a,l,d,h,c){var u=e,p=c?n+","+i:i+","+n,f=c?n+","+r:r+","+n;!a||l||t||(u=p+" "+e+" "+f),h&&(u=this._getBezierPoints(u));var m=u.split(" ");if(0==m.length)return"";if(1==m.length){var g=m[0].split(",");return"M "+m[0]+" L"+(parseFloat(g[0])+1)+","+(parseFloat(g[1])+1)}var v=m[0].replace("M","");return a&&!l?u=t?"M "+v+" L "+v+(h?"":" L "+v+" ")+u:"M "+p+" L "+v+" "+u:h||(u="M "+v+" L "+v+" "+u),(l&&d||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),o=i.series[t],n=o.dashStyle||i.dashStyle||"",a=o.opacity||i.opacity;(isNaN(a)||0>a||a>1)&&(a=1);var l=o.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||0>l||l>15)&&(l=r?2:s?3:1);var d=o.lineWidthSymbol;return isNaN(d)&&(d=1),{stroke:l,strokeSymbol:d,opacity:a,dashStyle:n}},_getColors:function(t,i,r,s,o){var n=this.seriesGroups[t],a=n.series[i],l=this._get([a.useGradientColors,n.useGradientColors,n.useGradient,!0]),d=this._getSeriesColors(t,i,r);d.fillColor||(d.fillColor=w,d.fillColorSelected=e.jqx.adjustColor(w,1.1),d.fillColorAlt=e.jqx.adjustColor(w,4),d.fillColorAltSelected=e.jqx.adjustColor(w,3),d.lineColor=d.symbolColor=e.jqx.adjustColor(w,.9),d.lineColorSelected=d.symbolColorSelected=e.jqx.adjustColor(w,.9));var h=[[0,1.4],[100,1]],c=[[0,1],[25,1.1],[50,1.4],[100,1]],u=[[0,1.3],[90,1.2],[100,1]],p=NaN;if(isNaN(o)||(p=2==o?h:c),l){var f={};for(var m in d)f[m]=d[m];if(d=f,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var g="verticalLinearGradient"==s?p||h:p||c,v=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var x in v){var w=d[v[x]];w&&(d[v[x]]=this.renderer._toLinearGradient(w,"verticalLinearGradient"==s,g))}}else if("radialGradient"==s){var b,p=h;("pie"==n.type||"donut"==n.type||n.polar)&&void 0!=r&&this._renderData[t]&&this._renderData[t].offsets[i]&&(b=this._renderData[t].offsets[i][r],p=u),d.fillColor=this.renderer._toRadialGradient(d.fillColor,p,b),d.fillColorSelected=this.renderer._toRadialGradient(d.fillColorSelected,p,b)}}return d},_installHandlers:function(e,t,i,r,s){if(!this.enableEvents)return!1;var o=this,n=this.seriesGroups[i],a=this.seriesGroups[i].series[r],l=-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area");l||0==n.enableSelection||0==a.enableSelection||(this.renderer.addHandler(e,"mousemove",function(e){var t=o._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==r){var n=e.pageX||e.clientX||e.screenX,a=e.pageY||e.clientY||e.screenY,l=o.host.offset();n-=l.left,a-=l.top,o._mouseX==n&&o._mouseY==a||o._ttEl&&o._ttEl.gidx==i&&o._ttEl.sidx==r&&o._ttEl.iidx==s||o._startTooltipTimer(i,r,s)}}),this.renderer.addHandler(e,"mouseout",function(e){return})),0!=n.enableSelection&&0!=a.enableSelection&&this.renderer.addHandler(e,"mouseover",function(n){var a=o._selected;a&&a.isLineType&&"click"==a.linesUnselectMode&&(a.group!=i||a.series!=r)||o._select(e,t,i,r,s,s)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(o._hostClickTimer),o._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(o._isColumnType(n.type)&&o._unselect(),isNaN(s)||(e.stopImmediatePropagation(),o._raiseItemEvent("click",n,a,s)))})},_getHorizontalOffset:function(t,i,r,s){var o=this._plotRect,n=this._getDataLen(t);if(0==n)return{index:void 0,value:r};var a=this._calcGroupOffsets(t,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};var l,d=r,h=s,c=this.seriesGroups[t];(c.polar||c.spider)&&(l=this._getPolarAxisCoords(t,o));for(var u,p,f,m,g=(1==this._getXAxis(t).flip,a.xoffsets.first);g<=a.xoffsets.last;g++){var v=a.xoffsets.data[g],x=a.offsets[i][g].to,w=0;if(l){var b=this._toPolarCoord(l,o,v+o.x,x);v=b.x,x=b.y,w=e.jqx._ptdist(d,h,v,x)}else if("horizontal"==c.orientation){v+=o.y;var y=x;x=v,v=y,w=e.jqx._ptdist(d,h,v,x)}else v+=o.x,w=Math.abs(d-v);(isNaN(u)||u>w)&&(u=w,p=g,f=v,m=x)}return{index:p,value:a.xoffsets.data[p],polarAxisCoords:l,x:f,y:m}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var r=this._selected.group,s=this._selected.series,o=this.seriesGroups[r],n=o.series[s],a=this._plotRect;if(this.renderer&&(a=this.renderer.getRect(),a.x+=5,a.y+=5,a.width-=10,a.height-=10),t<a.x||t>a.x+a.width||i<a.y||i>a.y+a.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==o.orientation,a=this._plotRect;if(-1!=o.type.indexOf("line")||-1!=o.type.indexOf("area")){var d=this._getHorizontalOffset(r,this._selected.series,t,i),h=d.index;if(void 0==h)return;if(this._selected.item!=h){for(var c=this._linesRenderInfo[r][s].segments,u=0;h>c[u].lastItemIndex;)if(u++,u>=c.length)return;var p=c[u].pathElement,f=c[u].lastItemIndex;this._unselect(!1),this._select(p,"path",r,s,h,f)}var m=this._getSymbol(this._selected.group,this._selected.series);"none"==m&&(m="circle");var g=this._calcGroupOffsets(r,a),v=g.offsets[this._selected.series][h].to,x=v;-1!=o.type.indexOf("range")&&(x=g.offsets[this._selected.series][h].from);var w=l?t:i;if(i=!isNaN(x)&&Math.abs(w-x)<Math.abs(w-v)?x:v,isNaN(i))return;if(t=d.value,l){var b=t;t=i,i=b+a.y}else t+=a.x;if(d.polarAxisCoords&&(t=d.x,i=d.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var y=this._getSeriesColors(r,s,h),_=this._getSerieSettings(r,s),j=n.symbolSizeSelected;isNaN(j)&&(j=n.symbolSize),(isNaN(j)||j>50||0>j)&&(j=o.symbolSize),(isNaN(j)||j>50||0>j)&&(j=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:m,x:t,y:i,gidx:r,sidx:s,iidx:h},this._pointMarker.element=this._drawSymbol(m,t,i,y.fillColorSymbolSelected,_.opacity,y.lineColorSymbolSelected,_.opacity,_.strokeSymbol,_.dashStyle,j),this._installHandlers(this._pointMarker.element,"pointMarker",r,s,h)),this._startTooltipTimer(r,this._selected.series,h)}}},_drawSymbol:function(e,t,i,r,s,o,n,a,l,d){var h,c=d||6,u=c/2;switch(e){case"none":return;case"circle":h=this.renderer.circle(t,i,c/2);break;case"square":c-=1,u=c/2,h=this.renderer.rect(t-u,i-u,c,c);break;case"diamond":var p="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";h=this.renderer.path(p);break;case"triangle_up":case"triangle":var p="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_down":var p="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_left":var p="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";h=this.renderer.path(p);break;case"triangle_right":var p="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";h=this.renderer.path(p);break;default:h=this.renderer.circle(t,i,c)}return this.renderer.attr(h,{fill:r,"fill-opacity":s,stroke:o,"stroke-width":a,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(h,{r:c/2}),"square"!=e&&this.renderer.attr(h,{x:t,y:i})),h},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],o=s.series[t];return void 0!=o.symbolType&&(i=o.symbolType),void 0==i&&(i=s.symbolType),"default"==i?r[t%r.length]:void 0!=i?i:"none"},_startTooltipTimer:function(e,t,i,r,s,o,n){this._cancelTooltipTimer();var a=this,l=(a.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||0>l)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(o)||(l=o),clearTimeout(this._tttimerHide),isNaN(r)&&(r=a._mouseX),isNaN(s)&&(s=a._mouseY-3),0==l&&a._showToolTip(r,s,e,t,i),this._tttimer=setTimeout(function(){0!=l&&a._showToolTip(r,s,e,t,i);var o=a.toolTipHideDelay;isNaN(n)||(o=n),isNaN(o)&&(o=4e3),a._tttimerHide=setTimeout(function(){a._hideToolTip(),a._unselect()},o)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,o){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n=this.seriesGroups[i],a=n.series[r];if(0!=n.enableSelection&&0!=a.enableSelection){var l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area");this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:o,isLineType:l,linesUnselectMode:a.linesUnselectMode||n.linesUnselectMode};var d=this._getColors(i,r,o||s,this._getGroupGradientType(i)),h=d.fillColorSelected;
l&&(h="none");var c=this._getSerieSettings(i,r),u="symbol"==t?d.lineColorSymbolSelected:d.lineColorSelected;h="symbol"==t?d.fillColorSymbolSelected:h;var p="symbol"==t?1:c.stroke;this.renderer.getAttr(e,"fill")==d.fillColorAlt&&(h=d.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:h,"stroke-width":p}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",n,a,s)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var r=this._getRenderInfo(t.group,t.series,t.item),s={element:r,coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,r,s){var o=r.coord,n=o.selectedRadiusChange*s,a=e.renderer.pieSlicePath(o.center.x,o.center.y,0==o.innerRadius?0:o.innerRadius+n,o.outerRadius+n,o.fromAngle,o.toAngle,o.centerOffset);e.renderer.attr(r.element.element,{d:a}),e._showPieLabel(t.group,t.series,t.item,void 0,n)},s),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,r=e._selected.item,s=e._selected.iidxBase,o=e._selected.type,n=e.seriesGroups[t],a=n.series[i],l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area"),d=e._getColors(t,i,s||r,e._getGroupGradientType(t)),h=d.fillColor;l&&(h="none");var c=e._getSerieSettings(t,i),u="symbol"==o?d.lineColorSymbol:d.lineColor;h="symbol"==o?d.fillColorSymbol:h,this.renderer.getAttr(e._selected.element,"fill")==d.fillColorAltSelected&&(h=d.fillColorAlt);var p="symbol"==o?1:c.stroke;e.renderer.attr(e._selected.element,{stroke:u,fill:h,"stroke-width":p}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(r)||e._raiseItemEvent("mouseout",n,a,r)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(t,i,r,s){for(var o=r[t]||i[t],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=i;n++);if(n!=this.seriesGroups.length){var a={event:t,seriesGroup:i,serie:r,elementIndex:s,elementValue:this._getDataValue(s,r.dataField,n)};o&&e.isFunction(o)&&o(a),this._raiseEvent(t,a)}},_raiseEvent:function(t,i){var r=new e.Event(t);r.owner=this,i.event=t,r.args=i;var s=this.host.trigger(r);return s},_calcInterval:function(e,t,i){var r=Math.abs(t-e),s=r/i,o=[1,2,3,4,5,10,15,20,25,50,100],n=[.5,.25,.125,.1],a=.1,l=o;1>s&&(l=n,a=10);var d=0;do{d=0,s>=1?a*=10:a/=10;for(var h=1;h<l.length&&Math.abs(l[d]*a-s)>Math.abs(l[h]*a-s);h++)d=h}while(d==l.length-1);return l[d]*a},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis){i.valueAxis={itemOffsets:{}};for(var s in r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s]}if(r.xAxis){i.xAxis={itemOffsets:{}};for(var s in r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s]}i.series=[];for(var o=i.series,n=this._isPieGroup(t),a=0;a<r.offsets.length;a++){o.push({});for(var l=0;l<r.offsets[a].length;l++)if(n){var d=r.offsets[a][l];o[a][d.displayValue]={value:d.value,x:d.x,y:d.y,fromAngle:d.fromAngle,toAngle:d.toAngle}}else o[a][r.xoffsets.xvalues[l]]={value:r.offsets[a][l].value,valueRadius:r.offsets[a][l].valueRadius,xoffset:r.xoffsets.data[l],from:r.offsets[a][l].from,to:r.offsets[a][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};var s=this.getValueAxisDataPointOffset(t,i),o=this.getXAxisDataPointOffset(e,i),n=this._toPolarCoord(r.polarCoords,r.xAxis.rect,o,s);return{x:n.x,y:n.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,o,n){var a=this._getDataPointOffset(e,i,r,s,o,n),l=this._getDataPointOffset(t,i,r,s,o,n);return Math.abs(a-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(void 0==t.xAxis){for(var r=0;e>=r&&void 0!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var r=renderData.data.axisStats,s=r.min.valueOf(),o=r.max.valueOf(),n=o-s;if(0==n&&(n=1),e.valueOf()>o||e.valueOf()<s)return NaN;var a=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",d="horizontal"==i.orientation?"y":"x",h=(e.valueOf()-s)/n,c=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;if(i.polar||i.spider){var u=this._renderData[t].polarCoords;u.isClosedCircle&&(c=renderData.data.axisSize)}return this._plotRect[d]+renderData.data.padding.left+c*(a.flip?1-h:h)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,o=r.logBase,n=r.scale,a=r.gbase,l=r.baseOffset;return this._getDataPointOffset(e,a,o,n,l,s)},_getDataPointOffset:function(t,i,r,s,o,n){var a;return isNaN(t)&&(t=i),a=isNaN(r)?(t-i)*s:(e.jqx.log(t,r)-e.jqx.log(i,r))*s,this._isVML&&(a=Math.round(a)),a=n?o+a:o-a},_calcGroupOffsets:function(t,i){for(var r=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&void 0!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var s=this._getValueAxis(t);if(!s||!r.series||0==r.series.length)return this._renderData[t];var o=1==s.flip,n=1==s.logarithmicScale,a=s.logarithmicScaleBase||10,l=[],d=-1!=r.type.indexOf("stacked"),h=d&&-1!=r.type.indexOf("100"),c=-1!=r.type.indexOf("range"),u=this._isColumnType(r.type),p=-1!=r.type.indexOf("waterfall"),f=this._getDataLen(t),m=r.baselineValue||s.baselineValue||0;h&&(m=0);var g=this._stats.seriesGroups[t];if(g&&g.isValid){var v=g.hasStackValueReversal;if(v&&(m=0),p&&d){if(v)return;m=g.base}m>g.max&&(m=g.max),m<g.min&&(m=g.min);var x=h||n?g.maxRange:g.max-g.min,w=g.min,b=g.max,y=i.height/(n?g.intervals:x),_=0;h?0>w*b?(x/=2,_=-(x+m)*y):_=-m*y:_=-(m-w)*y,o?_=i.y-_:_+=i.y+i.height;var j,q,T=[],C=[],k=[];n&&(j=e.jqx.log(b,a)-e.jqx.log(m,a),d&&(j=g.intervals,m=h?0:w),q=g.intervals-j,o||(_=i.y+j/g.intervals*i.height)),_=e.jqx._ptrnd(_);var S=0>w*b?i.height/2:i.height,D=[],I=[],P=d&&(u||n),A=[];l=new Array(r.series.length);for(var B=0;B<r.series.length;B++)l[B]=new Array(f);for(var M=0;f>M;M++){!p&&d&&(I=[]);for(var B=0;B<r.series.length;B++){!d&&n&&(D=[]);var H=r.series[B],z=H.dataField,E=H.dataFieldFrom,O=H.dataFieldTo,L=H.radiusDataField||H.sizeDataField;l[B][M]={};var N=this._isSerieVisible(t,B);if(-1==r.type.indexOf("candle")&&-1==r.type.indexOf("ohlc")){if(d)for(;I.length<=M;)I.push(0);var F=NaN;c&&(F=this._getDataValueAsNumber(M,E,t),isNaN(F)&&(F=m));var R=NaN;R=c?this._getDataValueAsNumber(M,O,t):this._getDataValueAsNumber(M,z,t);var W=this._getDataValueAsNumber(M,L,t);if(d&&(I[M]+=N?R:0),N||(R=NaN),isNaN(R)||n&&0>=R)l[B][M]={from:void 0,to:void 0};else{var V;d&&(P?V=R>=m?T:C:R=I[M]);var G=y*(R-m);if(c&&(G=y*(R-F)),d&&P&&(A[M]?G=y*R:(A[M]=!0,G=y*(R-m))),n){for(;D.length<=M;)D.push({p:{value:0,height:0},n:{value:0,height:0}});var U=c||c?F:m,$=R>U?D[M].p:D[M].n;$.value+=R,h?(R=$.value/(g.psums[M]+g.nsums[M])*100,G=(e.jqx.log(R,a)-g.minPow)*y):(G=e.jqx.log($.value,a)-e.jqx.log(U,a),G*=y),G-=$.height,$.height+=G}var Y=_;if(c){var K=0;K=n?(e.jqx.log(F,a)-e.jqx.log(m,a))*y:(F-m)*y,Y+=o?K:-K}if(d){if(h&&!n){var X=g.psums[M]-g.nsums[M];R>m?(G=g.psums[M]/X*S,0!=g.psums[M]&&(G*=R/g.psums[M])):(G=g.nsums[M]/X*S,0!=g.nsums[M]&&(G*=R/g.nsums[M]))}P&&(isNaN(V[M])&&(V[M]=Y),Y=V[M])}isNaN(k[M])&&(k[M]=0);var Z=k[M];G=Math.abs(G);var J=G;if(G>=1&&(h_new=this._isVML?Math.round(G):e.jqx._ptrnd(G)-1,G=Math.abs(G-h_new)>.5?Math.round(G):h_new),Z+=G-J,d||(Z=0),Math.abs(Z)>.5&&(Z>0?(G-=1,Z-=1):(G+=1,Z+=1)),k[M]=Z,B==r.series.length-1&&h){for(var Q=0,ee=0;B>ee;ee++)Q+=Math.abs(l[ee][M].to-l[ee][M].from);if(Q+=G,S>Q)if(G>.5)G=e.jqx._ptrnd(G+S-Q);else for(var ee=B-1;ee>=0;){var te=Math.abs(l[ee][M].to-l[ee][M].from);if(te>1){l[ee][M].from>l[ee][M].to&&(l[ee][M].from+=S-Q);break}ee--}}o&&(G*=-1);var ie=m>R;c&&(ie=F>R);var re=isNaN(F)?R:{from:F,to:R};ie?(P&&(V[M]+=G),l[B][M]={from:Y,to:Y+G,value:re,valueRadius:W}):(P&&(V[M]-=G),l[B][M]={from:Y,to:Y-G,value:re,valueRadius:W})}}else{var se=["Open","Close","High","Low"];for(var oe in se){var ne="dataField"+se[oe];H[ne]&&(l[B][M][se[oe]]=this._getDataPointOffset(this._getDataValueAsNumber(M,H[ne],t),m,n?a:NaN,y,_,o))}}}}var ae=this._renderData[t];return ae.baseOffset=_,ae.gbase=m,ae.logBase=n?a:NaN,ae.scale=y,ae.offsets=p?this._applyWaterfall(l,f,t,_,m,n?a:NaN,y,o,d):l,ae.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){for(var r=this,s=this._getDataLen(t),o=this.seriesGroups[t],n=this._renderData[t]={},a=n.offsets=[],l=0;l<o.series.length;l++){var d=o.series[l],h=this._get([d.minAngle,d.startAngle]);(isNaN(h)||0>h||h>360)&&(h=0);var c=this._get([d.maxAngle,d.endAngle]);(isNaN(c)||0>c||c>360)&&(c=360);var u=c-h,p=d.initialAngle||0;h>p&&(p=h),p>c&&(p=c);var f=d.centerOffset||0,m=e.jqx.getNum([d.offsetX,o.offsetX,i.width/2]),g=e.jqx.getNum([d.offsetY,o.offsetY,i.height/2]),v=Math.min(i.width,i.height)/2,x=p,w=d.radius;r._isPercent(w)&&(w=parseFloat(w)/100*v),isNaN(w)&&(w=.4*v);var b=d.innerRadius;r._isPercent(b)&&(b=parseFloat(b)/100*v),(isNaN(b)||b>=w)&&(b=0);var y=d.selectedRadiusChange;r._isPercent(y)&&(y=parseFloat(y)/100*(w-b)),isNaN(y)&&(y=.1*(w-b)),a.push([]);for(var _=0,j=0,q=0;s>q;q++){var T=this._getDataValueAsNumber(q,d.dataField,t);isNaN(T)||(this._isSerieVisible(t,l,q)||1==d.hiddenPointsDisplay)&&(T>0?_+=T:j+=T)}var C=_-j;0==C&&(C=1);for(var q=0;s>q;q++){var T=this._getDataValueAsNumber(q,d.dataField,t);if(isNaN(T))a[l].push({});else{var k=d.displayText||d.displayField,S=this._getDataValue(q,k,t);void 0==S&&(S=q);var D=0,I=this._isSerieVisible(t,l,q);(I||1==d.hiddenPointsDisplay)&&(D=Math.abs(T)/C*u);var P=i.x+m,A=i.y+g,B=f;e.isFunction(f)&&(B=f({seriesIndex:l,seriesGroupIndex:t,itemIndex:q})),isNaN(B)&&(B=0);var M={key:t+"_"+l+"_"+q,value:T,displayValue:S,x:P,y:A,fromAngle:x,toAngle:x+D,centerOffset:B,innerRadius:b,outerRadius:w,selectedRadiusChange:y,visible:I};a[l].push(M),x+=D}}}return n},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var r in e)if(-1!=i.type.indexOf(e[r]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),s=void 0==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(s=!0),void 0==e?s:void 0==i.valuesOnTicks?s:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,r,s){var o=0;switch("year"!=r&&"month"!=r&&(o=i.valueOf()-t.valueOf()),r){case"year":o=this._getYearsDiff(t,i);break;case"month":o=this._getMonthsDiff(t,i);break;case"day":o/=864e5;break;case"hour":o/=36e5;break;case"minute":o/=6e4;break;case"second":o/=1e3;break;case"millisecond":}return"year"!=r&&"month"!=r&&0!=s&&(o=e.jqx._rnd(o,1,!0)),o},_getBestDTUnit:function(e,t,i,r,s){var o="day",n=t.valueOf()-e.valueOf();o=1e3>n?"second":36e5>n?"minute":864e5>n?"hour":2592e6>n?"day":31104e6>n?"month":"year";for(var a=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,d=0;d<a.length;d++)if(a[d].key==o){l=d;break}for(var h=-1,c=-1;l<a.length&&!(a[l].cnt/100>r);l++){var u=this._estAxisInterval(e,t,i,r,a[l].key,s),p=this._getDTIntCnt(e,t,u,a[l].key);(-1==h||p>h)&&(h=p,c=l)}return o=a[c].key},_getXAxisStats:function(t,i,r){var s=this._getDataLen(t),o="date"==i.type||"time"==i.type;if(o&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var n=this._testXAxisDateFormat();n&&this._autoDateFormats.push(n)}var a=o?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=o?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var d=this._selectorRange[t].min;isNaN(d)||(a=o?this._castAsDate(d,i.dateFormat):this._castAsNumber(d));var h=this._selectorRange[t].max;isNaN(h)||(l=o?this._castAsDate(h,i.dateFormat):this._castAsNumber(h))}for(var c,u,p=a,f=l,m=void 0==i.type||"auto"==i.type,g=m||"basic"==i.type,v=0,x=0,w=0;s>w&&i.dataField;w++){var b=this._getDataValue(w,i.dataField,t);b=o?this._castAsDate(b,i.dateFormat):this._castAsNumber(b),isNaN(b)||(o?v++:x++,(isNaN(c)||c>b)&&(c=b),(isNaN(u)||b>=u)&&(u=b))}m&&(!o&&x==s||o&&v==s)&&(g=!1),g&&(c=0,u=Math.max(0,s-1)),isNaN(p)&&(p=c),isNaN(f)&&(f=u),o?(this._isDate(p)||(p=this._isDate(f)?f:new Date),this._isDate(f)||(f=this._isDate(p)?p:new Date)):(isNaN(p)&&(p=0),isNaN(f)&&(f=g?Math.max(0,s-1):p)),void 0==c&&(c=p),void 0==u&&(u=f);var y=i.rangeSelector;if(y){var _=y.minValue||p;_&&o&&(_=this._castAsDate(_,y.dateFormat||i.dateFormat));var j=y.maxValue||f;j&&o&&(j=this._castAsDate(j,y.dateFormat||i.rangeSelector)),_>p&&(p=_),_>f&&(f=j),p>j&&(p=_),f>j&&(f=j)}var q,T,C=i.unitInterval;o&&(q=i.baseUnit,q||(q=this._getBestDTUnit(p,f,t,r)),T="hour"==q||"minute"==q||"second"==q||"millisecond"==q);var k=1==i.logarithmicScale,S=i.logarithmicScaleBase;(isNaN(S)||1>=S)&&(S=10);var C=i.unitInterval;k?C=1:(isNaN(C)||0>=C)&&(C=this._estAxisInterval(p,f,t,r,q));var D={min:p,max:f},I=this.seriesGroups[t];if(k){p||(p=1,f&&p>f&&(p=f)),f||(f=p),D={min:p,max:f};var P=e.jqx._rnd(e.jqx.log(p,S),1,!1),A=e.jqx._rnd(e.jqx.log(f,S),1,!0);f=Math.pow(S,A),p=Math.pow(S,P)}else o||!I.polar&&!I.spider||(p=e.jqx._rnd(p,C,!1),f=e.jqx._rnd(f,C,!0));return{min:p,max:f,logAxis:{enabled:k,base:S,minPow:P,maxPow:A},dsRange:{min:c,max:u},filterRange:D,useIndeces:g,isDateTime:o,isTimeUnit:T,dateTimeUnit:q,interval:C}},_getDefaultDTFormatFn:function(e){var t,i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+i[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+i[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,r){var s=0,o=new Date(e),n=new Date(t);if(n=n.valueOf(),0>=i)return 1;for(;o.valueOf()<n;)"millisecond"==r?o=new Date(o.valueOf()+i):"second"==r?o=new Date(o.valueOf()+1e3*i):"minute"==r?o=new Date(o.valueOf()+6e4*i):"hour"==r?o=new Date(o.valueOf()+6e4*i*24):"day"==r?o.setDate(o.getDate()+i):"month"==r?o.setMonth(o.getMonth()+i):"year"==r&&o.setFullYear(o.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,o){if(isNaN(e)||isNaN(t))return NaN;var n=[1,2,5,10,15,20,50,100,200,500],a=0,l=r/(!isNaN(o)&&o>0?o:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var d=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=d&&isNaN(o)&&(l=.9*r/d)}if(1>=l)return Math.abs(t-e);for(var h=0;;){var c=a>=n.length?Math.pow(10,3+a-n.length):n[a];if(h=this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,c,s):(t-e)/c,l>=h)break;a++}var u=this.seriesGroups[i];return(u.spider||u.polar)&&2*c>t-e&&(c=t-e),c},_getPaddingSize:function(e,t,i,r,s,o,n){var a=e.min,l=e.max;e.logAxis.enabled&&(a=e.logAxis.minPow,l=e.logAxis.maxPow);var d=e.interval,h=e.dateTimeUnit;if(s){var c=r/Math.max(1,l-a+d)*d;return o?{left:0,right:c}:i?{left:0,right:0}:{left:c/2,right:c/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(a)&&this._isDate(l)){var u=this._getDTIntCnt(a,l,Math.min(d,l-a),h),p=r/Math.max(2,u);return{left:p/2,right:p/2}}var u=Math.max(1,l-a);if(1==u)return sz=r/4,{left:sz,right:sz};var p=r/(u+1);return{left:p/2,right:p/2}},_calculateXOffsets:function(t,i){var r=this.seriesGroups[t],s=this._getXAxis(t),o=[],n=[],a=this._getDataLen(t),l=this._getXAxisStats(t,s,i),d=l.min,h=l.max,c=l.isDateTime,u=l.isTimeUnit,p=this._hasColumnSeries(),f=r.polar||r.spider,m=this._get([r.startAngle,r.minAngle,0]),g=this._get([r.endAngle,r.maxAngle,360]),v=f&&!(Math.abs(Math.abs(g-m)-360)>1e-4),x=this._alignValuesWithTicks(t),w=this._getPaddingSize(l,s,x,i,f,v,p),b=h-d,y=l.filterRange;0==b&&(b=1);var _=i-w.left-w.right;f&&x&&!v&&(w.left=w.right=0);for(var j=-1,q=-1,T=0;a>T;T++){var C=void 0===s.dataField?T:this._getDataValue(T,s.dataField,t);if(l.useIndeces){if(T<y.min||T>y.max){o.push(NaN),n.push(void 0);continue}if(S=w.left+(T-d)/b*_,1==l.logAxis.enabled){var k=l.logAxis.base;S=this._jqxPlot.scale(C,{min:d.valueOf(),max:h.valueOf(),type:"logarithmic",base:k},{min:0,max:_,flip:!1})}o.push(e.jqx._ptrnd(S)),n.push(C),-1==j&&(j=T),(-1==q||T>q)&&(q=T)}else if(C=c?this._castAsDate(C,s.dateFormat):this._castAsNumber(C),isNaN(C)||C<y.min||C>y.max)o.push(NaN),n.push(void 0);else{var S=0;if(1==l.logAxis.enabled){var k=l.logAxis.base;S=this._jqxPlot.scale(C,{min:d.valueOf(),max:h.valueOf(),type:"logarithmic",base:k},{min:0,max:_,flip:!1})}else!c||c&&u?(diffFromMin=C-d,S=(C-d)*_/b):S=(C.valueOf()-d.valueOf())/(h.valueOf()-d.valueOf())*_;S=e.jqx._ptrnd(w.left+S),o.push(S),n.push(C),-1==j&&(j=T),(-1==q||T>q)&&(q=T)}}if(1==s.flip)for(var T=0;T<o.length;T++)isNaN(o[T])||(o[T]=i-o[T]);(u||c)&&(b=this._getDateDiff(d,h,s.baseUnit),b=e.jqx._rnd(b,1,!1));var D=Math.max(1,b),I=_/D;return j==q&&1==D&&(o[j]=w.left+_/2),{axisStats:l,data:o,xvalues:n,first:j,last:q,length:-1==q?0:q-j+1,itemWidth:I,intervalWidth:I*l.interval,rangeLength:b,useIndeces:l.useIndeces,padding:w,axisSize:_}},_getXAxis:function(e){return void 0==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],r=i.series[t];return 1==r.greyScale?!0:0==r.greyScale?!1:1==i.greyScale?!0:0==i.greyScale?!1:1==this.greyScale},_getSeriesColors:function(t,i,r){var s=this._getSeriesColorsInternal(t,i,r);if(this._isGreyScale(t,i))for(var o in s)s[o]=e.jqx.toGreyScale(s[o]);return s},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],o=s.series[t];if(this._isPieGroup(e)){var n=this._getDataLen(e);r=this._getItemColorFromScheme(o.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t)}else{for(var a=0,l=0;e>=l;l++)for(var d in this.seriesGroups[l].series){if(l==e&&d==t)break;a++}var h=this.colorScheme;if(s.colorScheme&&(h=s.colorScheme,sidex=seriesIndex),void 0!=h&&""!=h||(h=this.colorSchemes[0].name),!h)return r;for(var l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==h){for(;a>c.colors.length;)a-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];r=c.colors[a%c.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){return this._store[e]?this._store[e]:void 0},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,r){var s=this.seriesGroups[t],o=s.series[i];e.isFunction(o.colorFunction)||"pie"==s.type||"donut"==s.type||(r=NaN);var n=t+"_"+i+"_"+(isNaN(r)?"NaN":r);if(this._colorsCache.get(n))return this._colorsCache.get(n);var a,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(o.colorFunction)){var d=isNaN(r)?NaN:this._getDataValue(r,o.dataField,t);if(-1!=s.type.indexOf("range")&&!isNaN(r)){var h=this._getDataValue(r,o.dataFieldFrom,t),c=this._getDataValue(r,o.dataFieldTo,t);d={from:h,to:c}}if(a=o.colorFunction(d,r,o,s),"object"==typeof a)for(var u in a)l[u]=a[u];else l.fillColor=a}else{for(var u in l)o[u]&&(l[u]=o[u]);o.fillColor||o.color?o.fillColor=o.fillColor||o.color:l.fillColor=this._getColorFromScheme(t,i,r)}var p={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var u in l)"object"==typeof a&&a[u]||o[u]&&(l[u]=o[u]);for(var u in l)"object"==typeof a&&a[u]||o[u]||(l[u]=e.jqx.adjustColor(l[p[u].baseColor],p[u].adjust));return this._colorsCache.set(n,l),l},_getItemColorFromScheme:function(t,i,r,s){void 0!=t&&""!=t||(t=this.colorSchemes[0].name);for(var o=0;o<this.colorSchemes.length&&t!=this.colorSchemes[o].name;o++);for(var n=0;i>=n;){o==this.colorSchemes.length&&(o=0);var a=this.colorSchemes[o].colors.length;if(!(i>=n+a)){var l=this.colorSchemes[o].colors[i-n];return this._isGreyScale(r,s)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}n+=a,o++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,r,s,o,n){if(void 0==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!r)return"";if(r){if(!e.isFunction(r))return t.toString();try{return r(t,n,o,s)}catch(a){return a.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,r,s,o,n){var a=this.seriesGroups[t],l=a.series[i],d="",h=s,c=o;c||(c=l.formatFunction||a.formatFunction),h||(h=l.formatSettings||a.formatSettings),!l.formatFunction&&l.formatSettings&&(c=void 0);var u={},p=0;for(var f in l)0==f.indexOf("dataField")&&(u[f.substring(9).toLowerCase()]=this._getDataValue(r,l[f],t),p++);if(0==p&&(u=this._getDataValue(r,void 0,t)),-1!=a.type.indexOf("waterfall")&&this._isSummary(t,r)&&(u=this._renderData[t].offsets[i][r].value,p=0),c&&e.isFunction(c))try{return c(1==p?u[""]:u,r,l,a)}catch(m){return m.message}if(1==p&&this._isPieGroup(t))return this._formatValue(u[""],h,c,t,i,r);if(p>0){var g=0;for(var f in u){g>0&&""!=d&&(d+="<br>");var v="dataField"+(f.length>0?f.substring(0,1).toUpperCase()+f.substring(1):""),x="displayText"+(f.length>0?f.substring(0,1).toUpperCase()+f.substring(1):""),w=l[x]||l[v],b=u[f];void 0!=b&&(b=this._formatValue(b,h,c,t,i,r),d+=n===!0?b:w+": "+b,g++)}}else void 0!=u&&(d=this._formatValue(u,h,c,t,i,r));return d||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var r=t.charAt(i);if(!(r>="0"&&"9">=r||","==r||"."==r||"-"==r&&0==i||"("==r&&0==i||")"==r&&i==t.length-1))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var r;if(i&&(r=e.jqx.dataFormat.parsedate(t,i),this._isDate(r)))return r;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(r=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[s]),this._isDate(r))return r;var o=this._detectDateFormat(t);return o&&(r=e.jqx.dataFormat.parsedate(t,o),this._isDate(r))?(this._autoDateFormats.push(o),r):(r=new Date(t),this._isDate(r)&&-1==t.indexOf(":")&&r.setHours(0,0,0,0),r)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);void 0!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var r=t.toString();return i&&(i.dateFormat&&(r=e.jqx.dataFormat.formatDate(t,i.dateFormat)),r=(i.prefix||"")+r+(i.sufix||"")),r},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var o=t.prefix||"",n=t.sufix||"",a=t.decimalPlaces;isNaN(a)&&(a=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,d=0>e;d&&l&&(e*=-1);var h,c=e.toString(),u=Math.pow(10,a);if(c=(Math.round(e*u)/u).toString(),isNaN(c)&&(c=""),h=c.lastIndexOf("."),a>0)for(0>h?(c+=i,h=c.length-1):"."!==i&&(c=c.replace(".",i));c.length-1-h<a;)c+="0";h=c.lastIndexOf(i),h=h>-1?h:c.length;for(var p=c.substring(h),f=0,m=h;m>0;m--,f++)f%3===0&&m!==h&&(!d||m>1||d&&l)&&(p=r+p),p=c.charAt(m-1)+p;return c=p,d&&l&&(c="("+c+")"),o+c+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],o=e[t+3],n=e[t+4],a=e[t+5],l=.4,d=Math.sqrt(Math.pow(s-i,2)+Math.pow(o-r,2)),h=Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2)),c=d+h;0==c&&(c=1);var u=l*d/c,p=l-u;return[s+u*(i-n),o+u*(r-a),s-p*(i-n),o-p*(r-a)]},_getBezierPoints:function(t){for(var i="",r=[],s=[],o=t.split(" "),n=0;n<o.length;n++){var a=o[n].split(",");r.push(parseFloat(a[0])),r.push(parseFloat(a[1])),!isNaN(r[r.length-1])&&!isNaN(r[r.length-2])}var l=r.length;if(1>=l)return"";if(2==l)return i="M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[0]+1)+","+e.jqx._ptrnd(r[1]+1)+" ";for(var n=0;l-4>n;n+=2)s=s.concat(this._calculateControlPoints(r,n));for(var n=2;l-5>n;n+=2)i+=" C"+e.jqx._ptrnd(s[2*n-2])+","+e.jqx._ptrnd(s[2*n-1])+" "+e.jqx._ptrnd(s[2*n])+","+e.jqx._ptrnd(s[2*n+1])+" "+e.jqx._ptrnd(r[n+2])+","+e.jqx._ptrnd(r[n+3])+" ";return i=4>=l||Math.abs(r[0]-r[2])<3||Math.abs(r[1]-r[3])<3||this._isVML?"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i:"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" Q"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" "+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i,l>=4&&(Math.abs(r[l-2]-r[l-4])<3||Math.abs(r[l-1]-r[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(s[2*l-10])+","+e.jqx._ptrnd(s[2*l-9])+" "+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=new Date,i=t.getTime();this._animGroups[e].startTick=i,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,o,n){0>r&&(r=0),void 0==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:o,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=new Date,r=i.getTime(),s={};for(var o in this._animGroups){for(var n=this._animGroups[o].animations,a=this._animGroups[o].startTick,l=0,d=0;d<n.length;d++){var h=n[d],c=r-a;h.duration>l&&(l=h.duration);var u=h.duration>0?c/h.duration:1,p=u;if(h.easing&&0!=h.duration&&(p=e.easing[h.easing](u,c,0,1,h.duration)),u>1&&(u=1,p=1),h.fn)h.fn(h.key,h.context,p);else{for(var f={},o=0;o<h.properties.length;o++){var m=h.properties[o],g=0;g=1==u?m.to:easeParecent*(m.to-m.from)+m.from,f[m.key]=g}this.renderer.attr(h.key,f)}}a+l>r&&(s[o]={startTick:a,animations:n})}this._animGroups=s,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var o in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){var i="horizontal"==this.seriesGroups[t].orientation;if(!i)return e;var r=e.x;e.x=e.y,e.y=r+this._plotRect.y-this._plotRect.x;var r=e.width;return e.width=e.height,e.height=r,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s=r.seriesGroups[e],o=s.series[t],n=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(n.x)||isNaN(n.y)||isNaN(n.fromAngle)||isNaN(n.toAngle))return{
x:NaN,y:NaN};var a=this._plotRect,l=n.fromAngle*(Math.PI/180),d=n.toAngle*(Math.PI/180);x1=a.x+n.center.x+Math.cos(l)*n.outerRadius,x2=a.x+n.center.x+Math.cos(d)*n.outerRadius,y1=a.y+n.center.y-Math.sin(l)*n.outerRadius,y2=a.y+n.center.y-Math.sin(d)*n.outerRadius;var h=Math.min(x1,x2),c=Math.abs(x2-x1),u=Math.min(y1,y2),p=Math.abs(y2-y1);return n={x:h,y:u,width:c,height:p,center:n.center,centerOffset:n.centerOffset,innerRadius:n.innerRadius,outerRadius:n.outerRadius,selectedRadiusChange:n.selectedRadiusChange,fromAngle:n.fromAngle,toAngle:n.toAngle}}if(-1!=s.type.indexOf("column")||-1!=s.type.indexOf("waterfall")){var f=this._getColumnSerieWidthAndOffset(e,t);n.height=Math.abs(n.y.to-n.y.from),n.y=Math.min(n.y.to,n.y.from),n.x+=f.offset,n.width=f.width}else if(-1!=s.type.indexOf("ohlc")||-1!=s.type.indexOf("candlestick")){var f=this._getColumnSerieWidthAndOffset(e,t),u=n.y,m=Math.min(u.Open,u.Close,u.Low,u.High),g=Math.max(u.Open,u.Close,u.Low,u.High);n.height=Math.abs(g-m),n.y=m,n.x+=f.offset,n.width=f.width}else if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area"))n.width=n.height=0,n.y=n.y.to;else if(-1!=s.type.indexOf("bubble")||-1!=s.type.indexOf("scatter")){n.center={x:n.x,y:n.y.to};var v=n.y.radius;"circle"!=o.symbolType&&void 0!=o.symbolType&&(v/=2),n.y=n.y.to,n.radius=v,n.width=2*v,n.height=2*v}if(n=this._fixCoords(n,e),s.polar||s.spider){var x=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.x,n.y);n.x=x.x,n.y=x.y,n.center&&(n.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.center.x,n.center.y))}return-1==s.type.indexOf("bubble")&&-1==s.type.indexOf("scatter")||(n.x-=v,n.y-=v),n},_getItemCoord:function(e,t,i){var r,s,o=this.seriesGroups[e];if(!o||!this._renderData)return{x:NaN,y:NaN};var n=o.series[t];if(!n)return{x:NaN,y:NaN};var a=this._plotRect;if(this._isPieGroup(e)){var l=this._renderData[e].offsets[t][i];if(!l)return{x:NaN,y:NaN};var d=(l.fromAngle+l.toAngle)/2*(Math.PI/180);return r=a.x+l.x+Math.cos(d)*l.outerRadius,s=a.y+l.y-Math.sin(d)*l.outerRadius,{x:r,y:s,center:{x:l.x,y:l.y},centerOffset:l.centerOffset,innerRadius:l.innerRadius,outerRadius:l.outerRadius,selectedRadiusChange:l.selectedRadiusChange,fromAngle:l.fromAngle,toAngle:l.toAngle}}if(r=a.x+this._renderData[e].xoffsets.data[i],s=this._renderData[e].offsets[t][i],isNaN(r)||!s)return{x:NaN,y:NaN};var h={};for(var c in s)h[c]=s[c];return{x:r,y:h}},getXAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getXAxis(i),o=this._plotRect,n=0,a=NaN,l=this._renderData[0].xoffsets.axisStats,d=0,h=0;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var c=this._getPolarAxisCoords(i,o),u=e.jqx._ptdist(t.x,t.y,c.x,c.y);if(u>c.r)return NaN;var p=Math.atan2(c.y-t.y,t.x-c.x);p=Math.PI/2-p,0>p&&(p=2*Math.PI+p),a=p*c.r;var f=c.startAngle+Math.PI/2,m=c.endAngle+Math.PI/2;d=f*c.r,h=m*c.r,n=(m-f)*c.r;var g=this._getPaddingSize(l,s,s.valuesOnTicks,n,!0,c.isClosedCircle,this._hasColumnSeries());c.isClosedCircle?(n-=g.left+g.right,h-=g.left+g.right):s.valuesOnTicks||(d+=g.left,h-=g.right)}else{if("horizontal"!=r.orientation){if(t<o.x||t>o.x+o.width)return NaN;a=t-o.x,n=o.width}else{if(t<o.y||t>o.y+o.height)return NaN;a=t-o.y,n=o.height}if(this._renderData[i]&&this._renderData[i].xoffsets){var g=this._renderData[i].xoffsets.padding;n-=g.left+g.right,a-=g.left}h=n}var v=this._jqxPlot.scale(a,{min:d,max:h},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:s.flip});return v}},getValueAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getValueAxis(i),o=this._plotRect,n=0,a=NaN;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,o);a=e.jqx._ptdist(t.x,t.y,l.x,l.y),n=l.r,a=n-a}else if("horizontal"==r.orientation){if(t<o.x||t>o.x+o.width)return NaN;a=t-o.x,n=o.width}else{if(t<o.y||t>o.y+o.height)return NaN;a=t-o.y,n=o.height}var d=this._stats.seriesGroups[i],h=this._jqxPlot.scale(a,{min:0,max:n},{min:d.min.valueOf(),max:d.max.valueOf(),type:d.logarithmic?"logarithmic":"linear",base:d.logBase,flip:!s.flip});return h}},_detectDateFormat:function(t,i){var r={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(r=e.extend({},r,i));var s=[];e.isArray(t)?s=t:s.push(t);for(var o in r)r[o]={format:r[o],count:0};for(var n=0;n<s.length;n++)if(value=s[n],null!=value&&void 0!=value)for(var o in r){var a=e.jqx.dataFormat.parsedate(value,r[o].format);null!=a&&r[o].count++}var l={key:void 0,count:0};for(var o in r)r[o].count>l.count&&(l.key=o,l.count=r[o].count);return l.key?r[l.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var o in t.localization.patterns)s["local_"+o]=t.localization.patterns[o];for(var n=[],a=0;r>a&&10>a;a++)value=t._getDataValue(a,i.dataField,e),null!=value&&void 0!=value&&n.push(value);var l=t._detectDateFormat(n,s);return l}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var r=this._renderData;if(!i||!r||r.length<=e)return 0;var s=i.series[t];return s?r[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(i=i[e].xAxis,!i)return t;var r=this.seriesGroups[e];if(r.polar||r.spider){for(var s=0;s<i.polarLabels.length;s++){var o=i.polarLabels[s];t.push({offset:{x:o.x,y:o.y},value:o.value})}return t}for(var n=this._getXAxis(e),a=this.getXAxisRect(e),l="top"==n.position||"right"==n.position,d="horizontal"==r.orientation,s=0;s<i.data.length;s++)d?t.push({offset:{x:a.x+(l?0:a.width),y:a.y+i.data.data[s]},value:i.data.xvalues[s]}):t.push({offset:{x:a.x+i.data.data[s],y:a.y+(l?a.height:0)},value:i.data.xvalues[s]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(i=i[e].valueAxis,!i)return t;var r=this._getValueAxis(e),s="top"==r.position||"right"==r.position,o=this.seriesGroups[e],n="horizontal"==o.orientation;if(o.polar||o.spider){for(var a=0;a<i.polarLabels.length;a++){var l=i.polarLabels[a];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(var a=0;a<i.items.length;a++)n?t.push({offset:{x:i.itemOffsets[i.items[a]].x+i.itemWidth/2,y:i.rect.y+(s?i.rect.height:0)},value:i.items[a]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[a]].y+i.itemWidth/2},value:i.items[a]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,r,s){var o=this.getItemCoord(e,t,i);isNaN(o.x)||isNaN(o.y)||this._startTooltipTimer(e,t,i,o.x,o.y,r,s)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(t,i){var r=this;r._isTouchDevice=e.jqx.mobile.isTouchDevice();var s=r.seriesGroups[t],o=r._getXAxis(t),n=o?o.rangeSelector:void 0;if(!r._isSelectorRefresh){var a=n&&n.renderTo?n.renderTo:r.host;a.find(".rangeSelector").remove()}if(!o||0==o.visible||"spider"==s.type)return!1;if(!r._isGroupVisible(t))return!1;if(!n)return!1;var l="horizontal"==s.orientation;n.renderTo&&(l=!1),r.rtl&&(o.flip=!0);var d=l?this.host.height():this.host.width();d-=4;var h=this._getXAxisStats(t,o,d),c=o.position;if(n.renderTo&&n.position&&(c=n.position),!this._isSelectorRefresh){var u=n.renderTo,p="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>",f=e(p).appendTo(u?u:this.renderer.getContainer());if(u)f.css({width:u.width(),height:u.height()}),i.width=u.width(),i.height=u.height();else{var m=this.host.coord();m.top=0,m.left=0,selectorSize=this._selectorGetSize(o),l?(f.css("left",m.left+1+i.x+("right"!=c?-selectorSize:i.width)),f.css("top",m.top),f.css("height",d),f.css("width",selectorSize),i.height=selectorSize):(f.css("left",m.left+1),f.css("top",m.top+i.y+("top"!=c?i.height:-selectorSize)),f.css("height",selectorSize),f.css("width",d))}this._refreshSelector(t,o,h,f,i,l)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(t,i,r,s,o,n){var a={},l=i.rangeSelector;this.seriesGroups[t];for(var d in l)a[d]=l[d];delete a.padding;var h=a.minValue,c=a.maxValue;void 0==h&&(h=Math.min(r.min.valueOf(),r.dsRange.min.valueOf())),void 0==c&&(c=Math.max(r.max.valueOf(),r.dsRange.max.valueOf())),this._isDate(r.min)&&(h=new Date(h)),this._isDate(r.max)&&(c=new Date(c));var u=i.position;l.renderTo&&l.position&&(u=l.position),a.dataField=i.dataField,delete a.rangeSelector,a.type=i.type,a.baseUnit=l.baseUnit||i.baseUnit,a.minValue=h,a.maxValue=c,a.flip=i.flip,a.position=u;var p=5,f=2,m=2,g=2,v=2;l.renderTo||(f=n?0:o.x,m=n?0:this._rect.width-o.x-o.width,g=n?o.y:p,v=n?this._paddedRect.height-this._plotRect.height:p);var x=l.padding;x=void 0!=x||l.renderTo?{left:x&&x.left?x.left:f,top:x&&x.top?x.top:g,right:x&&x.right?x.right:m,bottom:x&&x.bottom?x.bottom:v}:{left:f,top:g,right:m,bottom:v};for(var w=i.rangeSelector.dataField,d=0;void 0==w&&d<this.seriesGroups.length;d++)for(var b=0;void 0==w&&b<this.seriesGroups[d].series.length;b++)w=this.seriesGroups[d].series[b].dataField;var y={padding:x,_isRangeSelectorInstance:!0,title:l.title||"",description:l.description||"",titlePadding:l.titlePadding,colorScheme:l.colorScheme||this.colorScheme,backgroundColor:l.backgroundColor||this.backgroundColor||"transparent",backgroundImage:l.backgroundImage||"",showBorderLine:l.showBorderLine||!!l.renderTo,borderLineWidth:l.borderLineWidth||this.borderLineWidth,borderLineColor:l.borderLineColor||this.borderLineColor,rtl:l.rtl||this.rtl,greyScale:l.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:a,seriesGroups:[{orientation:n?"horizontal":"vertical",valueAxis:{visible:!1},type:i.rangeSelector.serieType||"area",skipOverlappingPoints:e.jqx.getByPriority([i.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:e.jqx.getByPriority([i.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:e.jqx.getByPriority([i.rangeSelector.columnsGapPercent,25]),seriesGapPercent:e.jqx.getByPriority([i.rangeSelector.seriesGapPercent,25]),series:[{dataField:w,opacity:.8,lineWidth:1}]}]};y.showBorderLine||(y.borderLineWidth=1,y.borderLineColor=e.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),y.showBorderLine=!0);var _=this;_._supressBindingRefresh=!0,s.empty(),s.jqxChart(y),_._rangeSelectorInstances[t]=s,_._supressBindingRefresh=!1,s.on(_._getEvent("mousemove"),function(){_._unselect(),_._hideToolTip()});var j=s.jqxChart("getInstance");if(j._plotRect){var q=j._paddedRect;if(q.height=j._plotRect.height,n||"top"!=u){if(n){var T=j._renderData[0].xAxis.rect.width;q.width-=T,"right"!=u&&(q.x+=T)}}else q.y+=j._renderData[0].xAxis.rect.height;_._createSliderElements(t,s,q,l),_.removeHandler(e(document),_._getEvent("mousemove")+"."+this.element.id,_._onSliderMouseMove),_.removeHandler(e(document),_._getEvent("mousedown"),_._onSliderMouseDown),_.removeHandler(e(document),_._getEvent("mouseup")+"."+this.element.id,_._onSliderMouseUp),_.addHandler(e(document),_._getEvent("mousemove")+"."+this.element.id,_._onSliderMouseMove,{self:this,groupIndex:t,renderTo:s,swapXY:n}),_.addHandler(e(s),_._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:t,renderTo:s,swapXY:n}),_.addHandler(e(document),_._getEvent("mouseup")+"."+this.element.id,_._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:t,renderTo:s,swapXY:n})}},_createSliderElements:function(t,i,r,s){i.find(".slider").remove();var o=s.selectedRangeColor||"blue",n=e.jqx.getByPriority([s.selectedRangeOpacity,.1]),a=e.jqx.getByPriority([s.unselectedRangeOpacity,.5]),l=s.unselectedRangeColor||"white",d=s.rangeLineColor||"grey",h=e("<div class='slider' style='position: absolute;'></div>");for(h.css({background:o,opacity:n,left:r.x,top:r.y,width:r.width,height:r.height}),h.appendTo(i);this._sliders.length<t+1;)this._sliders.push({});var c="<div class='slider' style='position: absolute;  background: "+l+"; opacity: "+a+";'></div>",u="<div class='slider' style='position: absolute; background:"+d+"; opacity: "+a+";'></div>",p="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+d+";'></div>";this._sliders[t]={element:h,host:i,_sliderInitialAbsoluteRect:{x:h.coord().left,y:h.coord().top,width:r.width,height:r.height},_hostInitialAbsolutePos:{x:i.coord().left,y:i.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:r,left:e(c),right:e(c),leftTop:e(u),rightTop:e(u),leftBorder:e(u),leftBar:e(p),rightBorder:e(u),rightBar:e(p)},this._sliders[t].left.appendTo(i),this._sliders[t].right.appendTo(i),this._sliders[t].leftTop.appendTo(i),this._sliders[t].rightTop.appendTo(i),this._sliders[t].leftBorder.appendTo(i),this._sliders[t].rightBorder.appendTo(i),this._sliders[t].leftBar.appendTo(i),this._sliders[t].rightBar.appendTo(i);var f=this._renderData[t].xAxis,m=f.data.axisStats,g=m.min.valueOf(),v=m.max.valueOf(),x=this._valueToOffset(t,g),w=this._valueToOffset(t,v);if(x>w){var b=w;w=x,x=b}"horizontal"!=this.seriesGroups[t].orientation?h.css({left:Math.round(r.x+x),top:r.y,width:Math.round(w-x),height:r.height}):h.css({top:Math.round(r.y+x),left:r.x,height:Math.round(w-x),width:r.width}),this._setSliderPositions(t,x,w)},_setSliderPositions:function(e,t,i){var r=this.seriesGroups[e],s=this._getXAxis(e),o=s.rangeSelector,n="horizontal"==r.orientation;s.rangeSelector.renderTo&&(n=!1);var a=s.position;o.renderTo&&o.position&&(a=o.position);var l=this._sliders[e],d=n?"top":"left",h=n?"left":"top",c=n?"height":"width",u=n?"width":"height",p=n?"y":"x",f=n?"x":"y",m=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(d,m[p]),l.left.css(h,m[f]),l.left.css(c,t),l.left.css(u,m[u]),l.right.css(d,m[p]+i),l.right.css(h,m[f]),l.right.css(c,m[c]-i+1),l.right.css(u,m[u]),l.leftTop.css(d,m[p]),l.leftTop.css(h,m[f]+(n&&"right"==a||!n&&"top"!=a?0:m[u])),l.leftTop.css(c,t),l.leftTop.css(u,1),l.rightTop.css(d,m[p]+i),l.rightTop.css(h,m[f]+(n&&"right"==a||!n&&"top"!=a?0:m[u])),l.rightTop.css(c,m[c]-i+1),l.rightTop.css(u,1),l.leftBorder.css(d,m[p]+t),l.leftBorder.css(h,m[f]),l.leftBorder.css(c,1),l.leftBorder.css(u,m[u]);var g=m[u]/4;g>20&&(g=20),3>g&&(g=3),l.leftBar.css(d,m[p]+t-3),l.leftBar.css(h,m[f]+m[u]/2-g/2),l.leftBar.css(c,5),l.leftBar.css(u,g),l.rightBorder.css(d,m[p]+i),l.rightBorder.css(h,m[f]),l.rightBorder.css(c,1),l.rightBorder.css(u,m[u]),l.rightBar.css(d,m[p]+i-3),l.rightBar.css(h,m[f]+m[u]/2-g/2),l.rightBar.css(c,5),l.rightBar.css(u,g)},_resizeState:{},_onSliderMouseDown:function(t){t.stopImmediatePropagation(),t.stopPropagation();var i=t.data.self,r=i._sliders[t.data.groupIndex];r&&(void 0==i._resizeState.state&&i._testAndSetReadyResize(t),"ready"==i._resizeState.state&&(e.jqx._rangeSelectorTarget=i,i._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],r=this._sliders[e],s=r.host.jqxChart("getInstance"),o=s._renderData[0].xAxis,n=o.data.axisStats,a=n.min.valueOf(),l=n.max.valueOf(),d=l-a;0==d&&(d=1);var h=this._getXAxis(e),c="horizontal"==i.orientation?"height":"width",u=(t.valueOf()-a)/d;return r.getRect()[c]*(h.flip?1-u:u)},_offsetToValue:function(e,t){var i=this._sliders[e],r=this.seriesGroups[e],s=this._getXAxis(e),o="horizontal"==r.orientation?"height":"width",n=i.getRect()[o];0==n&&(n=1);var a=i.host.jqxChart("getInstance"),l=a._renderData[0].xAxis,d=l.data.axisStats,h=d.min.valueOf(),c=d.max.valueOf(),u=t/n*(c-h)+h;return 1==s.flip&&(u=c-t/n*(c-h)),this._isDate(d.min)||this._isDate(d.max)?u=new Date(u):((void 0==s.dataField||d.useIndeces)&&(u=Math.round(u)),u<d.min&&(u=d.min),u>d.max&&(u=d.max)),u},_onSliderMouseUp:function(t){var i=e.jqx._rangeSelectorTarget;if(i){var r=t.data.groupIndex,s=t.data.swapXY,o=i._sliders[r];if(o&&"resizing"==i._resizeState.state){t.stopImmediatePropagation(),t.stopPropagation(),i._resizeState={},i.host.css("cursor","default");var n=s?"top":"left",a=s?"y":"x",l=o.element.coord()[n],d=l+(s?o.element.height():o.element.width()),h=o.getRect(),c=i._offsetToValue(r,l-h[a]),u=i._offsetToValue(r,d-h[a]),p=o.host.jqxChart("getInstance"),f=p._renderData[0].xAxis,m=f.data.axisStats;!m.isTimeUnit&&u.valueOf()-c.valueOf()>864e5&&(c.setHours(0,0,0,0),u.setDate(u.getDate()+1),u.setHours(0,0,0,0));var g=i._getXAxis(r);if(g.flip){var v=c;c=u,u=v}for(var x=0;x<i.seriesGroups.length;x++){var w=i._getXAxis(x);w==g&&(i._selectorRange[x]={min:c,max:u})}i._isSelectorRefresh=!0;var b=i.enableAnimations;i._raiseEvent("rangeSelectionChanging",{instance:i,minValue:c,maxValue:u}),i.enableAnimations=!1,i.update(),i.enableAnimations=b,i._raiseEvent("rangeSelectionChanged",{instance:i,minValue:c,maxValue:u})}}},_onSliderMouseMove:function(t){var i=t.data.self,r=(t.data.renderTo,t.data.groupIndex),s=i._sliders[r],o=t.data.swapXY;if(s){var n=s.getRect(),a=s.element,l=e.jqx.position(t),d=a.coord(),h=o?"top":"left",c=o?"height":"width",u=o?"y":"x";if("resizing"==i._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"==i._resizeState.side){var p=Math.round(l[h]-d[h]),f=n[u];if(d[h]+p>=f&&d[h]+p<=f+n[c]){var m=parseInt(a.css(h)),g=Math.max(2,(o?a.height():a.width())-p);a.css(c,g),a.css(h,m+p)}}else if("right"==i._resizeState.side){var v=o?a.height():a.width(),p=Math.round(l[h]-d[h]-v),f=n[u];if(d[h]+v+p>=f&&d[h]+p+v<=f+n[c]){var g=Math.max(2,v+p);a.css(c,g)}}else if("move"==i._resizeState.side){var v=o?a.height():a.width(),m=parseInt(a.css(h)),p=Math.round(l[h]-i._resizeState.startPos);d[h]+p>=n[u]&&d[h]+p+v<=n[u]+n[c]&&(i._resizeState.startPos=l[h],a.css(h,m+p))}var x=parseInt(a.css(h))-s.rect[u],w=x+(o?a.height():a.width());i._setSliderPositions(r,x,w)}else i._testAndSetReadyResize(t)}},_testAndSetReadyResize:function(t){var i=t.data.self,r=t.data.renderTo,s=t.data.groupIndex,o=i._sliders[s],n=t.data.swapXY,a=o.getRect(),l=o.element,d=e.jqx.position(t),h=l.coord(),c=n?"left":"top",u=n?"top":"left",p=n?"width":"height",f=i._isTouchDevice?30:5;d[c]>=h[c]&&d[c]<=h[c]+a[p]?Math.abs(d[u]-h[u])<=f?(r.css("cursor",n?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"left"}):Math.abs(d[u]-h[u]-(n?l.height():l.width()))<=f?(r.css("cursor",n?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"right"}):d[u]+f>h[u]&&d[u]-f<h[u]+(n?l.height():l.width())?(r.css("cursor","pointer"),i._resizeState={state:"ready",side:"move",startPos:d[u]}):(r.css("cursor","default"),i._resizeState={}):(r.css("cursor","default"),i._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var r=this.seriesGroups[e],s=this.renderer;if(!isNaN(e)){var o=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),n=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),a=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if(r.polar||r.spider){var d=this.getPolarDataPointOffset(t.xValue,t.yValue,e);!d||isNaN(d.x)||isNaN(d.y)?(o=t.x,n=t.y):(o=d.x,n=d.y)}if(isNaN(n)||isNaN(o))return!1;if("horizontal"==r.orientation){var h=o;o=n,n=h,h=a,a=l,l=h}t.offset&&(isNaN(t.offset.x)||(o+=t.offset.x,a+=t.offset.x),isNaN(t.offset.y)||(n+=t.offset.y,l+=t.offset.y));var c,u=this._get([t.width,a-o]),p=this._get([t.height,l-n]);switch(t.type){case"rect":c=s.rect(o,n,u,p);break;case"circle":c=s.rect(o,n,t.radius);break;case"line":c=s.rect(o,n,a,l);break;case"path":c=s.path(t.path)}s.attr(c,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"});var f;if(t.text){var m=t.text,g=0,v=0;m.offset&&(isNaN(m.offset.x)||(g+=m.offset.x),isNaN(m.offset.y)||(v+=m.offset.y)),f=s.text(m.value,o+g,n+v,NaN,NaN,m.angle,{},m.clip===!0,m.horizontalAlignment||"center",m.verticalAlignment||"center",m.rotationPoint||"centermiddle"),s.attr(f,{fill:m.fillColor,stroke:m.lineColor,"class":m["class"]})}for(var x=["click","mouseenter","mouseleave"],w=this,b=0;b<x.length;b++){var y=this._getEvent(x[b])||x[b];c&&this.renderer.addHandler(c,y,function(){w._raiseAnnotationEvent(t,y)}),f&&this.renderer.addHandler(f,y,function(){w._raiseAnnotationEvent(t,y)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],r=0;r<i.series.length;r++)if(void 0!==i.series[r].summary&&(summaryValue=this._getDataValue(t,i.series[r].summary,e),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(e,t,i,r,s,o,n,a,l){var d=this.seriesGroups[i];if(0==e.length)return e;for(var h=r,c={},u=[],p=void 0,f=[],m=0;m<d.series.length;m++)f.push(this._isSerieVisible(i,m));for(var g={},v=0;t>v;v++)for(var x=r,w=0,b=this._isSummary(i,v),m=0;m<e.length;m++)if(f[m]){var y=0;if(b){y=x==r?s:0,e[m][v].value=c[m],e[m][v].summary=!0,p=e[m][v].value<y,a&&(p=!p);var _=0;_=isNaN(o)?this._getDataPointOffsetDiff(e[m][v].value,y,y,NaN,n,r,a):this._getDataPointOffsetDiff(e[m][v].value+w,0==w?s:w,y||s,o,n,r,a),e[m][v].to=x+(p?_:-_),e[m][v].from=x,l&&(w+=e[m][v].value,x=e[m][v].to)}else{var j=l?-1:m;if(!isNaN(e[m][v].value)){void 0===g[j]&&(y=s,g[j]=!0),p=e[m][v].value<y,a&&(p=!p);var q=NaN,_=NaN;q=l?h:0==v?r:e[m][u[m]].to;var _=0;_=isNaN(o)?this._getDataPointOffsetDiff(e[m][v].value,y,y,NaN,n,r,a):this._getDataPointOffsetDiff(e[m][v].value+(isNaN(c[j])?0:c[j]),isNaN(c[j])?s:c[j],y||s,o,n,q,a),e[m][v].to=h=q+(p?_:-_),e[m][v].from=q,isNaN(c[j])?c[j]=e[m][v].value:c[j]+=e[m][v].value,-1==j&&(isNaN(c[m])?c[m]=e[m][v].value:c[m]+=e[m][v].value),l||(u[m]=v)}}}return e}})}(jqxBaseFramework),function(e){var t={defineInstance:function(){var t={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(i.that=this,e.jqx.aria(i),i._radius=i.radius,i.endAngle=i.endAngle*Math.PI/180+Math.PI/2,i.startAngle=i.startAngle*Math.PI/180+Math.PI/2,"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxdata.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10)}else if("u"===i.int64){try{BigNumber}catch(r){throw new Error("jqxGauge: Missing reference to bignumber.js")}i._value64=new BigNumber(i.value),i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max)}else i.value=new Number(i.value);i._refresh(),i.renderer.getContainer().css("overflow","hidden"),i.int64!==!1?i.setValue(i._value64,0):i.setValue(i.value,0),e.jqx.utilities.resize(i.host,function(){i._refresh(!0)}),i.host.addClass(i.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!e.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=new this._rangeConstructor(this.ranges[e],this)},_hostInit:function(e){var t,i=this._getScale(this.width,"width",this.host.parent()),r=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),o=this.host;o.width(i),o.height(r),this.radius=t=0;var n=(this._getScale(this._radius,"width",this.host)||i/2)-s,a=(this._getScale(this._radius,"height",this.host)||r/2)-s;if(this.radius=t=Math.min(n,a),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e||(o[0].innerHTML="<div />"),this._gaugeParent=o.children(),this._gaugeParent.width(i),this._gaugeParent.height(r),e){var l=this.renderer.getContainer();l[0].style.width=i+"px",l[0].style.height=r+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},_refresh:function(t){var i=this;if(t)return i._ticksIterator=0,i._labelsIterator=0,i._ranges&&e(i._ranges).remove(),i._pointer&&e(i._pointer).remove(),i._pointer=null,i._ranges=[],i.niceInterval&&(i._labels&&e(i._labels).remove(),i._labels=[],i._ticks&&(e(i._ticks).remove(),i._ticks=[])),i._hostInit(t),void i._render(t);i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host));var r=i.renderer;r&&(i._ranges&&e(i._ranges).remove(),i._pointer&&e(i._pointer).remove(),i._labels&&e(i._labels).remove(),i._cap&&e(i._cap).remove(),i._ticks&&e(i._ticks).remove(),i._border&&e(i._border).remove(),i._caption&&e(i._caption).remove(),i._caption=null,i._labels=[],i._cap=null,i._ticks=[],i._ranges=[],i._border=null,i._pointer=null,i._validateProperties(),i._removeElements(),i._hostInit(),i._render(),i.setValue(this.value,0))},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:void this.setValue(e,0)},refresh:function(e){e!==!0&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){var e=parseInt(this.border.style["stroke-width"],10)||1;return e/2},_removeCollection:function(t){for(var i=0;i<t.length;i+=1)e(t[i]).remove();t=[]},_render:function(e){this._addBorder(e),this._addGauge(e),this._addRanges(e),this.niceInterval?this._addTicks():(this._addTicks(e),this._addLabels(e)),this._styleLabels(),this._addCaption(e),this._addPointer(e),this._addCap(e)},_addBorder:function(e){if(this.border.visible){if(e){var t=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+t),this._border.setAttribute("cy",this._originalRadius+t),void this._border.setAttribute("r",this._originalRadius)}var i=this.border.style.fill,t=this._outerBorderOffset();i||(i="#BABABA"),this.border.showGradient&&(i.indexOf("url")<0&&i.indexOf("#grd")<0?this._originalColor=i:i=this._originalColor,i=this.renderer._toLinearGradient(i,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+t,this._originalRadius+t,this._originalRadius),this.border.style.fill=i,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(e){var t=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());e?(this._gauge.setAttribute("cx",t+i),this._gauge.setAttribute("cy",t+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(t+i,t+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(t){var i="visible",r=this._outerBorderOffset();this.cap.visible||(i="hidden");var s,o=this._originalRadius,n=this._getSize(this.cap.size);t?(this._cap.setAttribute("cx",o+r),this._cap.setAttribute("cy",o+r),this._cap.setAttribute("r",n),this._capCenter=[o,o]):(s=this.renderer.circle(o+r,o+r,n),this._capCenter=[o,o],this.renderer.attr(s,this.cap.style),
e(s).css("visibility",i),this._cap=s)},_addTicks:function(t){function i(e){d.visible&&a._drawTick({angle:a._getAngleByValue(e),distance:a._getDistance(a.ticksDistance),style:d.style,size:a._getSize(d.size),type:"major"},t)}function r(e){l.visible&&a._drawTick({angle:a._getAngleByValue(e),distance:a._getDistance(a.ticksDistance),style:l.style,size:a._getSize(l.size),type:"minor"},t)}function s(e){a.labels.visible&&a._addLabel({angle:a._getAngleByValue(e),value:n>=1?e:new Number(e).toFixed(2),distance:a._getDistance(a._getLabelsDistance()),style:a.labels.className},t)}var o,n,a=this,l=this.ticksMinor,d=this.ticksMajor,h={};if(d.visible!==!1||l.visible!==!1||this.labels.visible!==!1){var c=0;if("s"===a.int64)if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),o=this._getNiceInterval("radial",!0)):(n=(new e.jqx.math).fromString(d.interval.toString(),10),o=(new e.jqx.math).fromString(l.interval.toString(),10)):(startToEnd=this._max64.subtract(this._min64),o=startToEnd.div((new e.jqx.math).fromString(l.number.toString(),10)),n=startToEnd.div((new e.jqx.math).fromString(d.number.toString(),10))),this.niceInterval){i(this._min64),s(this._min64);for(var u,p=this._min64.subtract(this._min64.modulo(n)).add(n),f=p;f.greaterThanOrEqual(this._min64);f=f.subtract(o))u=f;for(var m=u,g=p;(m.lessThan(this._max64)||g.lessThan(this._max64))&&(c+=1,!(c>250))&&(g.lessThanOrEqual(this._max64)&&(i(g),h[g.toString()]=!0,m.equals(p)?Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&s(g):g.add(n).lessThan(this._max64)?s(g):Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&s(g)),!h[m.toString()]&&m.lessThanOrEqual(a._max64)&&r(m),!a._checkForOverflow(m,o)&&!a._checkForOverflow(g,n));m=m.add(o),g=g.add(n));i(this._max64),s(this._max64)}else for(var m=(new e.jqx.math).fromString(a.min.toString(),10),g=(new e.jqx.math).fromString(a.min.toString(),10);(m.lessThanOrEqual(a._max64)||g.lessThanOrEqual(a._max64))&&(c+=1,!(c>250));m=m.add(o),g=g.add(n))g.lessThanOrEqual(a._max64)&&d.visible&&(i(g),h[g.toString()]=!0),!h[m.toString()]&&l.visible&&m.lessThanOrEqual(a._max64)&&r(m);else if("u"===a.int64)if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),o=this._getNiceInterval("radial",!0)):(n=new BigNumber(d.interval),o=new BigNumber(l.interval)):(startToEnd=this._max64.subtract(this._min64),o=startToEnd.divide(new BigNumber(l.number)),n=startToEnd.divide(new BigNumber(d.number))),this.niceInterval){i(this._min64),s(this._min64);for(var u,p=this._min64.subtract(this._min64.mod(n)).add(n),f=p;-1!==f.compare(this._min64);f=f.subtract(o))u=f;for(var m=u,g=p;(-1===m.compare(this._max64)||-1===g.compare(this._max64))&&(c+=1,!(c>250));m=m.add(o),g=g.add(n))1!==g.compare(this._max64)&&(i(g),h[g.toString()]=!0,0===m.compare(p)?Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&s(g):-1===g.add(n).compare(this._max64)?s(g):Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&s(g)),h[m.toString()]||1===m.compare(a._max64)||r(m);i(this._max64),s(this._max64)}else for(var m=new BigNumber(a.min),g=new BigNumber(a.min);(1!==m.compare(a._max64)||1!==g.compare(a._max64))&&(c+=1,!(c>250));m=m.add(o),g=g.add(n))1!==g.compare(a._max64)&&d.visible&&(i(g),h[g.toString()]=!0),!h[m.toString()]&&l.visible&&1!==m.compare(a._max64)&&r(m);else if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),o=this._getNiceInterval("radial",!0)):(n=d.interval,o=l.interval):(startToEnd=this.max-this.min,o=startToEnd/l.number,n=startToEnd/d.number),this.niceInterval){i(this.min),s(this.min);for(var u,p=this.min-this.min%n+n,f=p;f>=this.min;f-=o)u=f;for(var m=u,g=p;(m<this.max||g<this.max)&&(c+=1,!(c>250));m+=o,g+=n)g<=this.max&&(i(g),h[g.toFixed(5)]=!0,m===p?Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&s(g):g+n<this.max?s(g):Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&s(g)),!h[m.toFixed(5)]&&m<=this.max&&r(m);i(this.max),s(this.max)}else for(var m=this.min,g=this.min;(m<=this.max||g<=this.max)&&(c+=1,!(c>250));m+=o,g+=n)g<=this.max&&d.visible&&(i(g),h[g.toFixed(5)]=!0),!h[m.toFixed(5)]&&l.visible&&m<=this.max&&r(m);this._handleTicksVisibility()}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(e){return e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this._innerRadius),e=parseInt(e,10)},_getDistance:function(e){return this._getSize(e)+(this._originalRadius-this._innerRadius)},_drawTick:function(e,t){var i,r=this.that,s=e.angle,o=e.distance,n=e.size,a=r._outerBorderOffset(),l=r._originalRadius,d=l-o,h=d-n,c=l+a+d*Math.sin(s),u=l+a+d*Math.cos(s),p=l+a+h*Math.sin(s),f=l+a+h*Math.cos(s);if(e.style["class"]=r.toThemeProperty("jqx-gauge-tick-"+e.type),r._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),f=Math.round(f)),t&&!r.niceInterval){var i=r._ticks[r._ticksIterator];i.setAttribute("x1",c),i.setAttribute("x2",p),i.setAttribute("y1",u),i.setAttribute("y2",f),r._ticksIterator++}else i=r.renderer.line(c,u,p,f,e.style),r._ticks.push(i)},_addRanges:function(e){var t="visible";if(this.showRanges)for(var i=this.ranges,r=0;r<i.length;r+=1)this._addRange(i[r],t,e);else t="hidden"},_getMaxRangeSize:function(){for(var e,t,i=-1,r=0;r<this.ranges.length;r+=1)e=this.ranges[r].startWidth,t=this.ranges[r].endWidth,e>i&&(i=e),t>i&&(i=t);return i},_getRangeDistance:function(e,t){var i=this._getLabelsDistance(),r=this._getDistance(e),s=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<r+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+s/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<r)return this._getSize(this.border.size)+this._originalRadius/20;return r},_addRange:function(e,t,i){var r=this.that;if(!("s"===r.int64&&(e._startValue64.lessThan(r._min64)||e._endValue64.greaterThan(r._max64))||"u"===r.int64&&(-1===e._startValue64.compare(r._min64)||1===e._endValue64.compare(r._max64))||r.int64===!1&&(e.startValue<r.min||e.endValue>r.max))){var s,e,o=r.int64?r._getAngleByValue(e._startValue64):r._getAngleByValue(e.startValue),n=r.int64?r._getAngleByValue(e._endValue64):r._getAngleByValue(e.endValue),a=r._originalRadius,l=a-r._getRangeDistance(e.startDistance,e.startWidth),d=a-r._getRangeDistance(e.endDistance,e.endWidth),h=e.startWidth,c=e.endWidth,u=r._outerBorderOffset(),p={x:a+u+l*Math.sin(o),y:a+u+l*Math.cos(o)},f={x:a+u+d*Math.sin(n),y:a+u+d*Math.cos(n)},m=r._getProjectionPoint(o,a+u,l,h),g=r._getProjectionPoint(n,a+u,d,c),v="default";Math.abs(n-o)>Math.PI&&(v="opposite"),s=r._isVML?r._rangeVMLRender(p,f,a,m,g,c,h,l,d,v):r._rangeSVGRender(p,f,a,m,g,c,h,l,d,v),e.style.visibility=t,e.style["class"]=r.toThemeProperty("jqx-gauge-range"),e=r.renderer.path(s,e.style),r._ranges.push(e)}},_rangeSVGRender:function(e,t,i,r,s,o,n,a,l,d){var h="",a=i-a,c=["0,1","0,0"];return"opposite"===d&&(c=["1,1","1,0"]),h="M"+e.x+","+e.y+" ",h+="A"+(i-a)+","+(i-a)+" 100 "+c[0]+" "+t.x+","+t.y+" ",h+="L "+s.x+","+s.y+" ",h+="A"+(i-o-a)+","+(i-o-a)+" 100 "+c[1]+" "+r.x+","+r.y+" ",h+="L "+e.x+","+e.y+" ",h+="z"},_rangeVMLRender:function(e,t,i,r,s,o,n,a,l,d){i-=i-a+10;var h="",c=Math.floor(i+(n+o)/2),a=Math.floor(i-a),l=Math.floor(l),u={x:(r.x+s.x)/2,y:(r.y+s.y)/2},p=Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)),f=Math.floor(u.x+Math.sqrt(i*i-p/2*(p/2))*(r.y-s.y)/p),m=Math.floor(u.y+Math.sqrt(i*i-p/2*(p/2))*(s.x-r.x)/p),g={x:(e.x+t.x)/2,y:(e.y+t.y)/2},v=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),x=Math.floor(g.x+Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(e.y-t.y)/v),w=Math.floor(g.y+Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(t.x-e.x)/v);return"opposite"===d&&(f=Math.floor(u.x-Math.sqrt(i*i-p/2*(p/2))*(r.y-s.y)/p),m=Math.floor(u.y-Math.sqrt(i*i-p/2*(p/2))*(s.x-r.x)/p),x=Math.floor(g.x-Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(e.y-t.y)/v),w=Math.floor(g.y-Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(t.x-e.x)/v)),i=Math.floor(i),t={x:Math.floor(t.x),y:Math.floor(t.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},h="m "+t.x+","+t.y,h+="at "+(x-c)+" "+(w-c)+" "+(c+x)+" "+(c+w)+" "+t.x+","+t.y+" "+e.x+","+e.y,h+="l "+r.x+","+r.y,h+="m "+t.x+","+t.y,h+="l "+s.x+","+s.y,h+="at "+(f-i)+" "+(m-i)+" "+(i+f)+" "+(i+m)+" "+s.x+","+s.y+" "+r.x+","+r.y,h+="qx "+r.x+" "+r.y},_getProjectionPoint:function(e,t,i,r){var s={x:t+(i-r)*Math.sin(e),y:t+(i-r)*Math.cos(e)};return s},_addLabels:function(t){var i=this,r=i._getLabelInterval();if(i.labels.visible&&"0"!==i.labels.interval.toString()){var s=this._getDistance(this._getLabelsDistance()),o=0;if("s"===i.int64)for(var n=(new e.jqx.math).fromNumber(i.min.toString(),10);n.lessThanOrEqual(i._max64)&&(o+=1,!(o>250))&&(!n.lessThan(i._min64)&&!n.greaterThan(i._max64));n=n.add(r))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else if("u"===i.int64)for(var n=new BigNumber(i.min);1!==n.compare(i._max64)&&(o+=1,!(o>250))&&(-1!==n.compare(i._min64)&&1!==n.compare(i._max64));n=n.add(r))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else for(var n=this.min;n<=this.max&&(o+=1,!(o>250));n+=r)this._addLabel({angle:this._getAngleByValue(n),value:r>=1?n:new Number(n).toFixed(2),distance:s,style:this.labels.className},t)}},_getLabelsDistance:function(){var e=this._getMaxLabelSize(),t=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance);return e=e.width,"inside"===this.labels.position?i+e-5:"outside"===this.labels.position?i-1.5*e>t?t:Math.max(i-1.5*e,.6*e):this.labels.distance},_addLabel:function(e,t){var i,r,s=this.that,o=e.angle,n=s._originalRadius,a=n-e.distance,l=s.labels.offset,d=s._outerBorderOffset(),h=n+d+a*Math.sin(o)+l[0],c=n+d+a*Math.cos(o)+l[1],u=e.value,p=e.style||"",f=s.labels.fontSize;u=s._formatLabel(u.toString());var m={"class":p};if(f&&(m["font-size"]=f),s.labels.fontFamily&&(m["font-family"]=s.labels.fontFamily),s.labels.fontWeight&&(m["font-weight"]=s.labels.fontWeight),t&&!s.niceInterval){var r=s._labels[s._labelsIterator],g=s.renderer._measureText(u,0,m,!0),v=g.textPartsInfo,x=(v.parts,v.width,v.height);r.setAttribute("x",Math.round(h)-g.width/2+(g.width-v.width)/2),r.setAttribute("y",Math.round(c)+x+(g.height-x)/2),s._labelsIterator++}else{var i=s.renderer.measureText(u,0,m),w=0;void 0!==f&&Math.PI>o&&(w=-i.width/2*(parseInt(f)/25),parseInt(f)<=10&&(w*=-1)),r=s.renderer.text(u,Math.round(h)-i.width/2+w,Math.round(c),i.width,i.height,0,m),s._labels.push(r)}},_addCaption:function(e){if(this.caption.visible!==!1){var t=this.that,i=t.caption.value,r=t.toThemeProperty("jqx-gauge-caption"),s=t.caption.offset,o=t.renderer.measureText(i,0,{"class":r}),n=t._getPosition(this.caption.position,o,s),a=(t.caption.style,t._outerBorderOffset());if(e)this._caption.setAttribute("x",n.left+a),this._caption.setAttribute("y",n.top+a);else{var l=t.renderer.text(i,n.left+a,n.top+a,o.width,o.height,0,{"class":r});this._caption=l}}},_getPosition:function(e,t,i){var r=0,s=0,o=this._originalRadius;switch(e){case"left":r=(o-t.width)/2,s=o-t.height/2;break;case"right":r=o+(o-t.width)/2,s=o-t.height/2;break;case"bottom":r=(2*o-t.width)/2,s=(o+2*o-t.height)/2;break;default:r=(2*o-t.width)/2,s=(o+t.height)/2}return{left:r+i[0],top:s+i[1]}},_addPointer:function(t){var i="visible";this.pointer.visible||(i="hidden");var r,s=(this._originalRadius,this._getSize(this.pointer.length)),o=this._getAngleByValue(this.value),n=this.pointer.pointerType;r=this._computePointerPoints(this._getSize(this.pointer.width),o,s,"default"!==n),this._pointer=this.renderer.path(r,this.pointer.style),e(this._pointer).css("visibility",i)},_computePointerPoints:function(e,t,i,r){return r?this._computeRectPoints(e,t,i):this._computeArrowPoints(e,t,i)},_computeArrowPoints:function(e,t,i){var r,s=this._originalRadius-.5,o=Math.sin(t),n=Math.cos(t),a=this._outerBorderOffset(),l=s+a+i*o,d=s+a+i*n,h=s+a+e*n,c=s+a-e*o,u=s+a-e*n,p=s+a+e*o;return this._isVML&&(h=Math.round(h),u=Math.round(u),c=Math.round(c),p=Math.round(p),l=Math.round(l),d=Math.round(d)),r="M "+h+","+c+" L "+u+","+p+" L "+l+","+d},_computeRectPoints:function(e,t,i){var r,s=this._originalRadius,o=Math.sin(t),n=Math.cos(t),a=this._outerBorderOffset(),l=s+a-e*n+i*o,d=s+a+e*o+i*n,h=s+a+e*n+i*o,c=s+a-e*o+i*n,u=s+a+e*n,p=s+a-e*o,f=s+a-e*n,m=s+a+e*o;return this._isVML&&(u=Math.round(u),f=Math.round(f),p=Math.round(p),m=Math.round(m),l=Math.round(l),d=Math.round(d),h=Math.round(h),c=Math.round(c)),r="M "+u+","+p+" L "+f+","+m+" L "+l+","+d+" "+h+","+c},_getAngleByValue:function(t){var i,r,s,o,n,a=this,l=a.startAngle,d=l-a.endAngle;if(a.int64!==!1){t="s"===a.int64?(new e.jqx.math).fromString(t.toString(),10):new BigNumber(t),i=a._min64,r=a._max64,s=r.subtract(i),o=t.subtract(i),"u"===a.int64&&(o=o.intPart());var h,c,u=s.toString(),p=o.toString();if(u.length>15){var f=u.length-15;if(u=u.slice(0,15)+"."+u.slice(15),h=parseFloat(u),p.length>f){var m=p.length-f;p=p.slice(0,m)+"."+p.slice(m)}else if(p.length===f)p="0."+p;else{for(var g="0.",v=0;v<f-p.length;v++)g+="0";p=g+""+p}c=parseFloat(p)}else h=parseFloat(s.toString()),c=parseFloat(o.toString());n=d*c/h+l+Math.PI}else i=a.min,r=a.max,s=r-i,o=t-i,n=d*o/s+l+Math.PI;return n},_setValue:function(t){var i=this;if("s"===i.int64&&t.lessThanOrEqual(i._max64)&&t.greaterThanOrEqual(i._min64)||"u"===i.int64&&1!==t.compare(i._max64)&&-1!==t.compare(i._min64)||i.int64===!1&&t<=i.max&&t>=i.min){var r=i._getAngleByValue(t),s=i.pointer.pointerType,o=i._computePointerPoints(i._getSize(i.pointer.width),r,i._getSize(i.pointer.length),"default"!==s);i._isVML?(i._pointer&&e(i._pointer).remove(),i._pointer=i.renderer.path(o,i.pointer.style)):i.renderer.attr(i._pointer,{d:o}),i.int64!==!1?(i.value=t.toString(),"s"===i.int64?i._value64=(new e.jqx.math).fromString(i.value,10):i._value64=new BigNumber(i.value)):i.value=t,e.jqx.aria(i,"aria-valuenow",t.toString())}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh(!0)},propertyChangedHandler:function(t,i,r,s){s!=r&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("min"==i&&(t.int64===!0?t._min64=(new e.jqx.math).fromString(s.toString(),10):this.min=parseInt(s),e.jqx.aria(t,"aria-valuemin",s)),"max"==i&&(t.int64===!0?t._max64=(new e.jqx.math).fromString(s.toString(),10):this.max=parseInt(s),e.jqx.aria(t,"aria-valuemax",s)),"disabled"===i?(s?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",s)):"value"===i?(this.value=r,this.setValue(s)):("startAngle"===i?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===i?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===i?(this.pointer.style=null,this.cap.style=null):"radius"===i&&(this._radius=s),"animationDuration"!==i&&"easing"!==i&&this._refresh()),this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(e,t){function i(i,r){t.int64===!1?i[r]=parseFloat(e[r]):i[r]=e[r],i[r]||(i[r]=5)}return this.host?new this._tickConstructor(e,t):(e=e||{},this.size=t._validatePercentage(e.size,"10%"),i(this,"interval"),i(this,"number"),this.style=e.style||{stroke:"#898989","stroke-width":1},void("undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible))},_capConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];return this.host?new this._capConstructor(e,t):(e=e||{},"undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible,this.size=t._validatePercentage(e.size,"4%"),void(this.style=e.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}))},_pointerConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];return this.host?new this._pointerConstructor(e,t):(e=e||{},"undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible,this.pointerType=e.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=t._validatePercentage(e.length,"70%"),void(this.width=t._validatePercentage(e.width,"2%")))},_labelsConstructor:function(t,i){return this.host?new this._labelsConstructor(t,i):(t=t||{},"undefined"==typeof t.visible?this.visible=!0:this.visible=t.visible,this.offset=t.offset,this.offset instanceof Array||(this.offset=[0,-10]),t.interval||(t.interval=20),i.int64!==!1?(this.interval=t.interval,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(t.interval.toString(),10):this._interval64=new BigNumber(t.interval)):this.interval=parseFloat(t.interval),t.number||(t.number=5),this.number=t.number,this.distance=i._validatePercentage(t.distance,"38%"),this.position=t.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,void(this.fontStyle=t.fontStyle))},_captionConstructor:function(e,t){return this.host?new this._captionConstructor(e,t):(e=e||{},"undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible,this.value=e.value||"",this.position=e.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=e.offset,void(this.offset instanceof Array||(this.offset=[0,0])))},_rangeConstructor:function(t,i){return this.host?new this._rangeConstructor(t,i):(t=t||{},this.startDistance=i._validatePercentage(t.startDistance,"5%"),this.endDistance=i._validatePercentage(t.endDistance,"5%"),this.style=t.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(t.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(t.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===t.startValue&&(t.startValue=0),void 0===t.endValue&&(t.endValue=100),void(i.int64!==!1?(this.startValue=t.startValue,this.endValue=t.endValue,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(t.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(t.endValue.toString(),10)):(this._startValue64=new BigNumber(t.startValue),this._endValue64=new BigNumber(t.endValue))):(this.startValue=parseFloat(t.startValue,10),this.endValue=parseFloat(t.endValue,10))))},_borderConstructor:function(e,t){return this.host?new this._borderConstructor(e,t):(e=e||{},this.size=t._validatePercentage(e.size,"10%"),this.style=e.style||{stroke:"#cccccc"},"undefined"==typeof e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient,void("undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible))}},i={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(e,t,i){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,i[t]()*e):parseInt(e,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var t,i=this,r=i.labels;if("default"===i.tickMode)i.niceInterval?t=i._getNiceInterval("jqxGauge"===i.widgetName?"radial":"linear"):i.int64===!1?t=r.interval:(r._interval64||(r._interval64="s"===i.int64?(new e.jqx.math).fromNumber(r.interval):new BigNumber(r.interval)),t=r._interval64);else if(i.int64===!1){var s=i.max-i.min;t=s/r.number}else{var s=i._max64.subtract(i._min64);t="s"===i.int64?s.div((new e.jqx.math).fromNumber(r.number)):s.divide(new BigNumber(r.number))}return t},_getMaxLabelSize:function(){var t=this,i=this.max,r=this.min;r=t._formatLabel(r),i=t._formatLabel(i);var s=e('<div style="position: absolute; visibility: hidden;" class="'+t.toThemeProperty("jqx-gauge-label")+'"></div>');s.css({"font-size":t.labels.fontSize,"font-family":t.labels.fontFamily,"font-weight":t.labels.fontWeight,"font-style":t.labels.fontStyle}),e("body").append(s),s.html(r);var o={width:s.width(),height:s.height()};s.html(i);var n={width:s.width(),height:s.height()};return s.remove(),o.width>n.width?o:n},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var t=this;t._timeout&&clearTimeout(this._timeout),t._timeout=null,e.jqx.utilities.resize(t.host,null,!0),t._removeElements(),t.renderer.clear(),t.renderer=null;var i=e.data(t.element,"jqxGauge");i&&delete i.instance,t.host.children().remove(),t._caption=null,t._caption=null,t._pointer=null,t._labels=[],t._cap=null,t._ticks=[],t._ranges=[],t._border=null,t._gauge=null,t._caption=null,t.renderer=null,t._animations=[],t.host.removeData(),t.host.removeClass(),t.host.remove(),t.that=null,t.element=null,t._gaugeParent=null,delete t._gaugeParent,delete t.element,delete t.host},_validatePercentage:function(e,t){return 0===parseFloat(e)||e&&parseInt(e,10)||(e=t),e},_getColorScheme:function(e){for(var t,i=0;i<this._schemes.length;i+=1)if(t=this._schemes[i],t.name===e)return t.colors;return null},setValue:function(t,i){var r=this;r.disabled||(i=i||r.animationDuration||0,"s"===r.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(r._max64)&&(t=(new e.jqx.math).fromString(r._max64.toString(),10)),t.lessThan(r._min64)&&(t=(new e.jqx.math).fromString(r._min64.toString(),10)),r._animate(r._value64,t,i)):"u"===r.int64?(t=new BigNumber(t),1===t.compare(r._max64)&&(t=new BigNumber(r._max64)),-1===t.compare(r._min64)&&(t=new BigNumber(r._min64)),r._animate(r._value64,t,i)):(t>r.max&&(t=r.max),t<r.min&&(t=r.min),r._animate(r.value,t,i)),e.jqx.aria(r,"aria-valuenow",t.toString()))},_animate:function(e,t,i){var r=this;return r._timeout&&r._endAnimation(r.int64?r._value64:r.value,!1),i?void r._animateHandler(e,t,0,i):void r._endAnimation(t,!0)},_animateHandler:function(t,i,r,s){var o=this;s>=r?this._timeout=setTimeout(function(){if(o.int64!==!1){var n=i.subtract(t);if("s"===o.int64){var a=(new e.jqx.math).fromNumber(100*e.easing[o.easing](r/s,r,0,1,s),10);o._value64=t.add(n.multiply(a).div((new e.jqx.math).fromNumber(100,10)))}else{var a=new BigNumber(100*e.easing[o.easing](r/s,r,0,1,s));o._value64=t.add(n.multiply(a).divide(100))}o.value=o._value64.toString(),o._setValue(o._value64)}else o.value=t+(i-t)*e.easing[o.easing](r/s,r,0,1,s),o._setValue(o.value);o._raiseEvent(0,{value:o.value.toString()}),o._animateHandler(t,i,r+o._animationTimeout,s)},this._animationTimeout):this._endAnimation(i,!0)},_endAnimation:function(e,t){clearTimeout(this._timeout),this._timeout=null,this._setValue(e),t&&this._raiseEvent(1,{value:e.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(t,i){var r,s=e.Event(this._events[t]);return s.args=i||{},r=this.host.trigger(s)},_getNiceInterval:function(t,i){function r(e){return Math.log(parseFloat(e))/Math.LN10}function s(){var e=Math.abs(o.startAngle-o.endAngle)*o._innerRadius;return Math.round(e)}var o=this,n="width";"linear"===t&&"vertical"===o.orientation&&(n="height");var a,l=e.jqx.browser.msie?0:1,d=e('<span class="'+o.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),h=o._formatLabel(o.min),c=o._formatLabel(o.max);d.css({"font-size":o.labels.fontSize,"font-family":o.labels.fontFamily,"font-weight":o.labels.fontWeight,"font-style":o.labels.fontStyle}),e("body").append(d),d.text(h);var u=d[n]()+l;d.text(c);var p=d[n]()+l;d.remove();var a=Math.max(p,u),f=1;if("radial"===t){var m;m=o._innerRadius<50?.3:o._innerRadius<150?.6:o._innerRadius<250?.7:1,f=8/Math.max(1,r(o._innerRadius))*m}else{var g=0;a>105&&(g=(a-105)/100),f=1.5+g}a*=f;var v;v="radial"===t?s():o._getScaleLength();var x,w,b,y,_,j,q=Math.ceil(v/a);return i===!0&&(q*="radial"===t?4:3),o.int64===!1?(x=o.max-o.min,w=Math.floor(r(x)-r(q)),b=Math.pow(10,w),y=q*b,_=2*y>x?1:3*y>x?2:7*y>x?5:10,j=_*b):(x=new BigNumber(o.max).subtract(new BigNumber(o.min)),w=Math.floor(r(x.toString())-r(q)),b=new BigNumber(10).pow(new BigNumber(w)),y=new BigNumber(q).multiply(b),_=-1===x.compare(new BigNumber(2*y))?1:-1===x.compare(new BigNumber(3*y))?2:-1===x.compare(new BigNumber(7*y))?5:10,j=new BigNumber(_).multiply(b),-1===j.compare(1)&&(j=new BigNumber(1)),"s"===o.int64&&(j=(new e.jqx.math).fromString(j.toString()))),j},_styleLabels:function(){return},_checkForOverflow:function(e,t){var i=new BigNumber("9223372036854775807"),r=new BigNumber(e.toString()),s=new BigNumber(t.toString());return 1===r.add(s).compare(i)},_formatLabel:function(t,i){var r,s=this,o=s.labels.formatValue,n=s.labels.formatSettings;return o?r=o(t,i):n?void 0!==n.radix?r=(new e.jqx.math).getRadixValue(t,s.int64,n.radix):void 0!==n.outputNotation&&"default"!==n.outputNotation&&"decimal"!==n.outputNotation?r=(new e.jqx.math).getDecimalNotation(t,n.outputNotation,n.decimalDigits,n.digits):void 0!==n.decimalDigits?r=Number(t).toFixed(n.decimalDigits):void 0!==n.digits&&(r=Number(t).toPrecision(n.digits)):r=t,r}},r={defineInstance:function(){var t={int64:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_originalColor:"",_width:null,_height:null,renderer:null};e.extend(!0,this,t)},createInstance:function(){e.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget"));var t=this;if("s"===t.int64){if(!e.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxdata.js");e.jqx.longInt(t),t._value64=(new e.jqx.math).fromString(t.value.toString(),10),t._min64=(new e.jqx.math).fromString(t.min.toString(),10),t._max64=(new e.jqx.math).fromString(t.max.toString(),10)}else if("u"===t.int64){try{BigNumber}catch(i){throw new Error("jqxLinearGauge: Missing reference to bignumber.js")}t._value64=new BigNumber(t.value),t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max)}e.jqx.utilities.resize(this.host,function(){t.refresh(!1,!1)})},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:void this.setValue(e,0)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},refresh:function(e,t){var i=this;i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host));var r=i.renderer;r&&(i._validateProperties(),i._reset(),i._init(),i._performLayout(),i._render(),t!==!1&&i.setValue(i.value,1))},_getBorderSize:function(){var e,t=1;return this._isVML&&(t=0),this.background?(e=(parseInt(this.background.style["stroke-width"],10)||t)/2,this._isVML?Math.round(e):e):t},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=this._rangeConstructor(this.ranges[e],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?e.extend(this,linearVerticalGauge):e.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var e=parseInt(this.background.style["stroke-width"],10)||1;this._width-=e,this._height-=e,this.host.css("padding",e/2)},_init:function(){var e;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),e=this.renderer.getContainer(),e.width(this._width),e.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var t,i=this.background.style,r=e.jqx._rup(this._getBorderSize()),s="rect";i=this._handleShapeOptions(i),
"roundedRectangle"===this.background.backgroundType&&this._isVML&&(s="roundrect"),this._Vml||(i.x=r,i.y=r),t=this.renderer.shape(s,i),this._isVML&&this._fixVmlRoundrect(t,i)}},_handleShapeOptions:function(e){var t=this.background.style.fill;this._getBorderSize();return t||(t="#cccccc"),this.background.showGradient&&(t.indexOf("url")<0&&t.indexOf("#grd")<0?this._originalColor=t:t=this._originalColor,t=this.renderer._toLinearGradient(t,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=t,"roundedRectangle"===this.background.backgroundType&&(this._isVML?e.arcsize=this.background.borderRadius+"%":(e.rx=this.background.borderRadius,e.ry=this.background.borderRadius)),e.width=this._width-1,e.height=this._height-1,e},_fixVmlRoundrect:function(e,t){var i=this._getBorderSize();e.style.position="absolute",e.style.left=i,e.style.top=i,e.style.width=this._width-1,e.style.height=this._height-1,e.strokeweight=0,delete t.width,delete t.height,delete t.arcsize,this.renderer.attr(e,t)},_renderTicks:function(){var t,i,r,s,o,n=this.ticksMinor,a=this.ticksMajor;"s"===this.int64?(t=this._max64.subtract(this._min64),t.isNegative()&&(t=t.negate()),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),r=this._getNiceInterval("linear",!0)):(i=a._interval64,r=n._interval64):(i=t.div((new e.jqx.math).fromNumber(a.number)),r=t.div((new e.jqx.math).fromNumber(n.number)))):"u"===this.int64?(t=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),r=this._getNiceInterval("linear",!0)):(i=a._interval64,r=n._interval64):(i=t.divide(new BigNumber(a.number)),r=t.divide(new BigNumber(n.number)))):(t=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),r=this._getNiceInterval("linear",!0)):(i=a.interval,r=n.interval):(i=t/a.number,r=t/n.number)),s={size:this._getSize(a.size),style:a.style,visible:a.visible,interval:i,type:"major"},o={size:this._getSize(n.size),style:n.style,visible:n.visible,interval:r,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(s),this._ticksRenderHandler(o)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(s.isFar=!0,o.isFar=!0,this._ticksRenderHandler(s),this._ticksRenderHandler(o)),this._renderConnectionLine()},_ticksRenderHandler:function(e){if(e.visible||"minor"!==e.type){var t=(this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height"),this._getBorderSize()),i=this._calculateTickOffset()+this._getMaxTickSize();e.isFar&&(i+=e.size),this._drawTicks(e,t,i+t)}},_drawTicks:function(t,i,r){function s(e){if(o=n._valueToCoordinates(e),(!t.checkOverlap||!n._overlapTick(e,u,p))&&(t.visible&&n._renderTick(t.size,o,t.style,r),n.niceInterval&&n.labels.visible)){var s;s="vertical"===n.orientation?n._getSize(n.ticksOffset[1],"height"):n._getSize(n.ticksOffset[0],"width"),s+=i;var a,l=t.isFar?"far":"near";if(a="near"===l?n._calculateTickOffset()-h+i+n._getSize(n.labels.offset):n._calculateTickOffset()+2*n._getMaxTickSize()+h+i+n._getSize(n.labels.offset),n.int64===!1){if(e!==n.min&&Math.abs(n._valueToCoordinates(n.min)-o)<c)return;if(e!==n.max&&Math.abs(n._valueToCoordinates(n.max)-o)<c)return}else if("s"===n.int64){if(e.equals(n._min64)===!1&&Math.abs(n._valueToCoordinates(n._min64)-o)<c)return!1;if(e.equals(n._max64)===!1&&Math.abs(n._valueToCoordinates(n._max64)-o)<c)return}else if("u"===n.int64){if(0!==e.compare(n._min64)&&Math.abs(n._valueToCoordinates(n._min64)-o)<c)return!1;if(0!==e.compare(n._max64)&&Math.abs(n._valueToCoordinates(n._max64)-o)<c)return}"major"===t.type&&n._renderLabel(o,l,a,h,e)}}var o,n=this,a=t.interval,l="vertical"===n.orientation?"width":"height",d="vertical"===n.orientation?"height":"width",h=n._getMaxLabelSize()[l],c=n._getMaxLabelSize()[d],u=n._getInterval("ticksMajor"),p=n._getInterval("ticksMinor");if(n.niceInterval){var f;if("s"===n.int64){if(s(n._min64),f=n._min64.subtract(n._min64.modulo(a)).add(a),"minor"===t.type)for(var m=f;m.greaterThanOrEqual(n._min64);m=m.subtract(a))f=m;for(var g=f;g.lessThan(n._max64)&&!n._checkForOverflow(g,a);g=g.add(a))s(g);s(n._max64)}else if("u"===n.int64){if(s(n._min64),f=n._min64.subtract(n._min64.mod(a)).add(a),"minor"===t.type)for(var m=f;-1!==m.compare(n._min64);m=m.subtract(a))f=m;for(var g=f;-1===g.compare(n._max64);g=g.add(a))s(g);s(n._max64)}else{if(s(n.min),f=n.min-n.min%a+a,"minor"===t.type)for(var m=f;m>=n.min;m-=a)f=m;for(var g=f;g<=n.max;g+=a)s(g);s(n.max)}}else if("s"===n.int64)for(var g=(new e.jqx.math).fromString(n._min64.toString(),10);g.lessThanOrEqual(n._max64);g=g.add(a))s(g);else if("u"===n.int64)for(var g=new BigNumber(n._min64);1!==g.compare(n._max64);g=g.add(a))s(g);else for(var g=n.min;g<=n.max;g+=a)s(g)},_calculateTickOffset:function(){var e=this._getSize(this.ticksOffset[0],"width"),t=this._getSize(this.ticksOffset[1],"height"),i=t;return"vertical"===this.orientation&&(i=e),i},_getInterval:function(t){var i,r=this;if("default"===r.tickMode)i=r.niceInterval===!0?r._getNiceInterval("linear","ticksMinor"===t):r.int64!==!1?r[t]._interval64:r[t].interval;else{var s,o=r[t].number;r.int64!==!1?(s=r._max64.subtract(r._min64),i="s"===r.int64?s.div((new e.jqx.math).fromNumber(o)):s.divide(new BigNumber(o))):(s=r.max-r.min,i=s/r[t].number)}return i},_overlapTick:function(e,t,i){return"s"===this.int64?(e=e.add(this._min64),!!e.modulo(i).equals(e.modulo(t))):"u"===this.int64?(e=e.add(this._min64),0===e.mod(i).compare(e.mod(t))):(e+=this.min,e%i===e%t)},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){var e,t,i=(this._getScaleLength(),this._getBorderSize()),r=this._getMaxTickSize(),s=r+i;if(this.int64!==!1?(e=this._valueToCoordinates(this._max64),t=this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),t=this._valueToCoordinates(this.min)),"vertical"===this.orientation)s+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(s,e,s,t,this.scaleStyle);else{s+=this._getSize(this.ticksOffset[1],"height");var o=this._getSize(this.ticksOffset[0],"width");this.renderer.line(o+e-t,s,o,s,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(e,t,i,r){var s=this._handleTickCoordinates(e,t,r);this.renderer.line(Math.round(s.x1),Math.round(s.y1),Math.round(s.x2),Math.round(s.y2),i)},_handleTickCoordinates:function(e,t,i){return"vertical"===this.orientation?{x1:i-e,x2:i,y1:t,y2:t}:{x1:t,x2:t,y1:i-e,y2:i}},_getTickCoordinates:function(e,t){var i=this._handleTickCoordinates(e,0,this._calculateTickOffset());return i="vertical"===this.orientation?i.x1:i.y1,i+=e},_renderLabels:function(){if(this.labels.visible){var e,t=this._getSize(this.ticksOffset[0],"width"),i=this._getMaxTickSize(),r=this.labels.position,s="height",o=this._getBorderSize(),n=this._calculateTickOffset()+i;"vertical"===this.orientation&&(t=this._getSize(this.ticksOffset[1],"height"),s="width"),e=this._getMaxLabelSize()[s],"near"!==r&&"both"!==r||this._labelListRender(n-i-e+o,t+o,e,"near"),"far"!==r&&"both"!==r||this._labelListRender(n+i+e+o,t+o,e,"far")}},_labelListRender:function(t,i,r,s){var o,n,a,l,d,h=this._getScaleLength();t+=this._getSize(this.labels.offset),this.int64!==!1?(d=this._max64.subtract(this._min64),"default"===this.tickMode?(o=this.labels._interval64,n="s"===this.int64?d.div(o).toNumber():parseFloat(d.divide(o).toString())):(n=this.labels.number,o="s"===this.int64?d.div((new e.jqx.math).fromNumber(n)):d.divide(n)),l="vertical"===this.orientation?this._max64:this._min64):(d=Math.abs(this.max-this.min),"default"===this.tickMode?(o=this.labels.interval,n=d/o):(n=this.labels.number,o=d/n),l="vertical"===this.orientation?this.max:this.min),a=h/n;for(var c=0;n>=c;c+=1)this._renderLabel(i,s,t,r,l),this.int64!==!1?l="vertical"===this.orientation?l.subtract(o):l.add(o):l+="vertical"===this.orientation?-o:o,i+=a},_renderLabel:function(e,t,i,r,s){var o,n,a,l={"class":this.toThemeProperty("jqx-gauge-label")};this.labels.interval;a=this._formatLabel(s.toString(),t),n=this.renderer.measureText(a,0,l),"vertical"===this.orientation?(o="near"===t?r-n.width:0,this.renderer.text(a,Math.round(i)+o-r/2,Math.round(e-n.height/2),n.width,n.height,0,l)):(o="near"===t?r-n.height:0,this.renderer.text(a,Math.round(e-n.width/2),Math.round(i)+o-r/2,n.width,n.height,0,l))},_renderRanges:function(){if(this.showRanges)for(var e,t="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,t),r=this._getSize(this.rangeSize,t),s=0;s<this.ranges.length;s+=1)e=this.ranges[s],e.size=r,this._renderRange(e,i)},_renderRange:function(t,i){var r,s,o=(this._getScaleLength(),this._getBorderSize()),n=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height"),l=this._getMaxTickSize(),d=this._getSize(t.size);this.int64!==!1?(r=this._valueToCoordinates(t._endValue64),s=t._startValue64,"s"===this.int64&&s.lessThan(this._min64)?s=(new e.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===s.compare(this._min64)&&(s=new BigNumber(this._min64))):(r=this._valueToCoordinates(t.endValue),s=t.startValue,s<this.min&&(s=this.min));var h,c,u=Math.abs(this._valueToCoordinates(s)-r);"vertical"===this.orientation?h=this.renderer.rect(n+l+i-d+o,r,t.size,u,t.style):(c=u,h=this.renderer.rect(this._valueToCoordinates(s),a+l+o,c,t.size,t.style)),this.renderer.attr(h,t.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),this.int64!==!1?this._setValue(this._value64):this._setValue(this.value)},_renderArrowPointer:function(){var e=this._getArrowPathByValue(0);this._pointer=this.renderer.path(e,this.pointer.style)},_renderArrowPointerByValue:function(e){var t=this._getArrowPathByValue(e);this._pointer=this.renderer.path(t,this.pointer.style)},_getArrowPathByValue:function(e){var t,i,r,s=this._getBorderSize(),o=Math.ceil(this._valueToCoordinates(e))+s,n=s,a=Math.ceil(this._getSize(this.ticksOffset[0],"width")),l=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),d=Math.ceil(this._getMaxTickSize()),h=Math.ceil(this._getSize(this.pointer.size)),c=Math.ceil(Math.sqrt(h*h/3));if("vertical"===this.orientation)n+=a+d+l,i=l>=0?n+h:n-h,t="M "+n+" "+o+" L "+i+" "+(o-c)+" L "+i+" "+(o+c);else{var u=this._getMaxLabelSize().height;n+=a+d+l+u,this._isVML&&(n-=2),r=o,o=n,n=r,i=o-h,t="M "+n+" "+o+" L "+(n-c)+" "+i+" L "+(n+c)+" "+i}return t},_setValue:function(e){"default"===this.pointer.pointerType?this._performColumnPointerLayout(e):this._performArrowPointerLayout(e),this.value=e},_performColumnPointerLayout:function(e){var t,i,r,s=this._valueToCoordinates(e),o=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height"),l=this._getMaxTickSize(),d=this._getSize(this.pointer.size),h=this._getSize(this.pointer.offset),c={};t=this.int64!==!1?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),r=Math.abs(t-s),"vertical"===this.orientation?(i=n+l,c={left:i+h+1+o,top:s,height:r,width:d}):(i=a+l,c={left:t,top:i+h-d-1+o,height:d,width:r}),this._setRectAttrs(c)},_performArrowPointerLayout:function(t){var i=this._getArrowPathByValue(t);this._isVML?(this._pointer&&e(this._pointer).remove(),this._renderArrowPointerByValue(t)):this.renderer.attr(this._pointer,{d:i})},_setRectAttrs:function(e){this._isVML?(this._pointer.style.top=e.top,this._pointer.style.left=e.left,this._pointer.style.width=e.width,this._pointer.style.height=e.height):(this.renderer.attr(this._pointer,{x:e.left}),this.renderer.attr(this._pointer,{y:e.top}),this.renderer.attr(this._pointer,{width:e.width}),this.renderer.attr(this._pointer,{height:e.height}))},_valueToCoordinates:function(e){var t,i,r,s=this._getBorderSize(),o=this._getScaleLength(),n=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height");if(this.int64!==!1){t=e.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(t.isNegative()&&t.negate(),i.isNegative()&&i.negate()):(t=t.intPart().abs(),i=i.abs());var l,d,h=t.toString(),c=i.toString();if(c.length>15){var u=c.length-15;if(c=c.slice(0,15)+"."+c.slice(15),d=parseFloat(c),h.length>u){var p=h.length-u;h=h.slice(0,p)+"."+h.slice(p)}else if(h.length===u)h="0."+h;else{for(var f="0.",m=0;m<u-h.length;m++)f+="0";h=f+""+h}l=parseFloat(h)}else"s"===this.int64?(l=t.toNumber(),d=i.toNumber()):(l=parseFloat(t.toString()),d=parseFloat(i.toString()));r=l/d*o}else t=Math.abs(this.min-e),i=Math.abs(this.max-this.min),r=t/i*o;return"vertical"===this.orientation?this._height-r-(this._height-a-o)+s:r+n},_getSize:function(e,t){return t=t||("vertical"===this.orientation?"width":"height"),e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this["_"+t]),e=parseInt(e,10)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,r,s){if(s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("min"==i&&("s"===t.int64?t._min64=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64?t._min64=new BigNumber(s):this.min=parseInt(s),e.jqx.aria(this,"aria-valuemin",s)),"max"==i&&("s"===t.int64?t._max64=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64?t._max64=new BigNumber(s):this.max=parseInt(s),e.jqx.aria(this,"aria-valuemax",s)),"disabled"===i)s?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",s);else if("value"===i)void 0!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=r,this.setValue(s);else{if("colorScheme"===i)this.pointer.style=null;else if("orientation"===i&&r!==s){var o=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=o}"animationDuration"!==i&&"easing"!==i&&this.refresh()}this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(e,t){if(this.host)return new this._backgroundConstructor(e,t);var i={rectangle:!0,roundedRectangle:!0};e=e||{},this.style=e.style||{stroke:"#cccccc",fill:null},e.visible||"undefined"==typeof e.visible?this.visible=!0:this.visible=!1,i[e.backgroundType]?this.backgroundType=e.backgroundType:this.backgroundType="roundedRectangle","roundedRectangle"===this.backgroundType&&("number"==typeof e.borderRadius?this.borderRadius=e.borderRadius:this.borderRadius=15),"undefined"==typeof e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_tickConstructor:function(t,i){return this.host?new this._tickConstructor(t,i):(this.size=i._validatePercentage(t.size,"10%"),t.interval?this.interval=t.interval:this.interval=5,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=5,this.style=t.style||{stroke:"#A1A1A1","stroke-width":"1px"},void("undefined"==typeof t.visible?this.visible=!0:this.visible=t.visible))},_labelsConstructor:function(t,i){return this.host?new this._labelsConstructor(t,i):(this.position=t.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.visible=t.visible,this.visible!==!1&&this.visible!==!0&&(this.visible=!0),t.interval?this.interval=t.interval:this.interval=10,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=10,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,this.fontStyle=t.fontStyle,void(this.offset=i._validatePercentage(t.offset,0)))},_rangeConstructor:function(t,i){return this.host?new this._rangeConstructor(t,i):(t.startValue?this.startValue=t.startValue:this.startValue=i.min,t.endValue?this.endValue=t.endValue:this.endValue=i.max,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new e.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===i.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),void(this.style=t.style||{fill:"#dddddd",stroke:"#dddddd"}))},_pointerConstructor:function(e,t){if(this.host)return new this._pointerConstructor(e,t);var i=t._getColorScheme(t.colorScheme)[0];this.pointerType=e.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{fill:i,stroke:i,"stroke-width":1},this.size=t._validatePercentage(e.size,"7%"),this.visible=e.visible,this.visible!==!0&&this.visible!==!1&&(this.visible=!0),this.offset=t._validatePercentage(e.offset,0)}};e.extend(t,i),e.extend(r,i),e.jqx.jqxWidget("jqxLinearGauge","",{}),e.jqx.jqxWidget("jqxGauge","",{}),e.extend(e.jqx._jqxGauge.prototype,t),e.extend(e.jqx._jqxLinearGauge.prototype,r)}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return e.extend(!0,this,t),t},createInstance:function(e){var t=this;t._createFromInput("CheckBox"),t.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};i.field.value&&(r.value=i.field.value),i.field.checked&&(r.checked=!0),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var s=i.element.nextSibling,o=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(o=!0);var n=0,a=e("<div></div>",r);if(o){a.append(s);var l=e("<span>"+e(s).text()+"</span>");l.appendTo(e(document.body)),n+=l.width(),l.remove()}a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+n+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(a);var d=i.host.data();if(i.host=a,i.host.data(d),i.element=a[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,r,s){t.setSize()},this.propertyChangeMap.height=function(e,i,r,s){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",r="13px",s=Math.floor((parseInt(this.boxSize)-13)/2),o=s;s+="px",o+="px","13px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+s+"; top: "+o+"; width: "+r+"; height: "+r+';"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var n=this.element.getAttribute("checked");"checked"!=n&&"true"!=n&&1!=n||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i=e.jqx.mobile.isTouchDevice(),r="mousedown";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,r,function(e){return t.disabled||t.enableContainerClick||t.locked?void 0:(t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){return t.disabled||t.locked||!t.keyboardCheck||32!=e.keyCode?void 0:t._canFocus?(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1):!0}),this.addHandler(this.host,r,function(e){return t.disabled||!t.enableContainerClick||t.locked?void 0:(t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1)}),this.addHandler(this.host,"selectstart",function(e){return!t.disabled&&t.enableContainerClick?(e.preventDefault&&e.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(e){return t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(e){return t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t=e.jqx.mobile.isTouchDevice(),i="mousedown";t&&(i="touchend"),this.box&&(this.removeHandler(this.box,i),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,i),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),t!==!1&&t!==!0||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){var i=e(this).jqxCheckBox("groupName");i==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this.checked&&(this.checked=!0,this.updateStates()));this.oldChecked=this.checked,1==this.checked?this.checked=this.hasThreeStates?null:!1:this.checked=null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var r=this.events[t],s=new e.Event(r);s.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,s.args=i;try{var o=this.host.trigger(s)}catch(n){}return o}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(s?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(s?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host),"checked"==i&&s!=r)switch(s){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&s!=r&&(s?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxButtonGroup","",{}),e.extend(e.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var t={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;i._isTouchDevice=e.jqx.mobile.isTouchDevice(),
e.jqx.aria(i),i.addHandler(i.host,"selectstart",function(e){i.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&e.width.indexOf("%")>=0?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;if(t._isTouchDevice){var i=t._eventsMap[e]||e;return i+="."+t.element.id}return e+="."+t.element.id},_refreshButtons:function(){var t=this;t.lastElement&&t.lastElement.remove(),t.lastElement=e("<div style='clear: both;'></div>");var i,r=t.host.children(),s=r.length;switch(t.mode){case"radio":t.host.attr("role","radiogroup");break;case"checkbox":case"default":t.host.attr("role","group")}for(var o=new Number(100/s).toFixed(2),n=0;s>n;n+=1)i=e(r[n]),t.width&&("horizontal"===t.orientation?(i.css("width",o+"%"),i.css("box-sizing","border-box"),i.css("-moz-box-sizing","border-box"),i.css("white-space","nowrap"),i.css("text-overflow","ellipsis"),i.css("overflow","hidden")):(i.css("box-sizing","border-box"),i.css("-moz-box-sizing","border-box"),i.css("width","100%"))),t._refreshButton(i,n,s);t.lastElement.appendTo(t.host)},_refreshButton:function(e,t,i){(function(e){var r=this;e=r._render(e),r._removeStyles(e),r._addStyles(e,t,i),r._performLayout(e),r._removeButtonListeners(e),r._addButtonListeners(e),r._handleButtonId(e,t),"radio"==r.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",r.disabled),r.disabled?e.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(r.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(t){for(var i,r=this,s=r.host.children(),o=s.length,n=0;o>n;n+=1)i=e(s[n]),r._removeStyles(i),r._removeButtonListeners(i);0!=t&&r.host.remove()},_render:function(e){var t=this;return"button"===e[0].tagName.toLowerCase()?t._renderFromButton(e):t._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,i=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(i.call(this,"jqx-fill-state-normal")),e.removeClass(i.call(this,"jqx-group-button-normal")),e.removeClass(i.call(this,"jqx-rc-tl")),e.removeClass(i.call(this,"jqx-rc-bl")),e.removeClass(i.call(this,"jqx-rc-tr")),e.removeClass(i.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var r=this,s=this.toThemeProperty;r.host.addClass(s.call(this,"jqx-widget")),r.host.addClass(s.call(this,"jqx-rc-all")),r.host.addClass(s.call(this,"jqx-buttongroup")),e.addClass(s.call(this,"jqx-button")),e.addClass(s.call(this,"jqx-group-button-normal")),e.addClass(s.call(this,"jqx-fill-state-normal")),r.template&&e.addClass(s.call(this,"jqx-"+r.template)),r.roundedCorners&&(0===t?r._addRoundedCorners(e,!0):t===i-1&&r._addRoundedCorners(e,!1)),"horizontal"==r.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this,r=i.toThemeProperty;"horizontal"==i.orientation?t?(e.addClass(r.call(this,"jqx-rc-tl")),e.addClass(r.call(this,"jqx-rc-bl"))):(e.addClass(r.call(this,"jqx-rc-tr")),e.addClass(r.call(this,"jqx-rc-br"))):t?(e.addClass(r.call(this,"jqx-rc-tl")),e.addClass(r.call(this,"jqx-rc-tr"))):(e.addClass(r.call(this,"jqx-rc-bl")),e.addClass(r.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(t){var i=t.val();""==i&&(i=t.html());var r,s=t[0].id;return t.wrap("<div/>"),r=t.parent(),r.attr("style",t.attr("style")),t.remove(),e.jqx.utilities.html(r,i),r[0].id=s,r},_performLayout:function(t){"horizontal"==this.orientation?this.rtl?t.css("float","right"):t.css("float","left"):t.css("float","none"),this._centerContent(e(t.children()),t)},_mouseEnterHandler:function(t){var i=t.data.self,r=e(t.currentTarget);if(!i._isDisabled(r)&&i.enableHover){var s=i.toThemeProperty;r.addClass(s.call(i,"jqx-group-button-hover")),r.addClass(s.call(i,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(t){var i=t.data.self,r=e(t.currentTarget);if(!i._isDisabled(r)&&i.enableHover){var s=i.toThemeProperty;r.removeClass(s.call(i,"jqx-group-button-hover")),r.removeClass(s.call(i,"jqx-fill-state-hover"))}},_mouseDownHandler:function(t){var i=t.data.self,r=e(t.currentTarget);if(!i._isDisabled(r)){i._pressed=r;var s=i.toThemeProperty;r.addClass(s.call(i,"jqx-group-button-pressed")),r.addClass(s.call(i,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(t){var i=t.data.self,r=e(t.currentTarget);i._isDisabled(r)||(i._handleSelection(r),i._pressed=null,r=i._buttonId[r[0].id],i._raiseEvent(2,{index:r.num,button:r.btn}))},_isDisabled:function(e){return e&&e[0]?this._buttonId[e[0].id].disabled:!1},_documentUpHandler:function(e){var t=e.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(t){var i=this,r=i.addHandler,s=i._getEvent;r(t,s.call(i,"mouseenter"),i._mouseEnterHandler,{self:i}),r(t,s.call(i,"mouseleave"),i._mouseLeaveHandler,{self:i}),r(t,s.call(i,"mousedown"),i._mouseDownHandler,{self:i}),r(t,s.call(i,"mouseup"),i._mouseUpHandler,{self:i}),r(e(document),s.call(i,"mouseup"),i._documentUpHandler,{self:i})},_removeButtonListeners:function(t){var i=this,r=i.removeHandler,s=i._getEvent;r(t,s.call(i,"mouseenter"),i._mouseEnterHandler),r(t,s.call(i,"mouseleave"),i._mouseLeaveHandler),r(t,s.call(i,"mousedown"),i._mouseDownHandler),r(t,s.call(i,"mouseup"),i._mouseUpHandler),r(e(document),s.call(i,"mouseup"),i._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,i=t._getSelectedButton();i&&i.btn[0].id!==e[0].id&&t._unselectButton(i.btn,!0);for(var r in t._buttonId)t._buttonId[r].selected=!0,t._unselectButton(t._buttonId[r].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this,i=t._buttonId[e[0].id];i.selected?t._unselectButton(i.btn,!0):t._selectButton(e,!0)},_handleDefault:function(e){var t=this;t._selectButton(e,!1);for(var i in t._buttonId)t._buttonId[i].selected=!0,t._unselectButton(t._buttonId[i].btn,!1)},_getSelectedButton:function(){var e=this;for(var t in e._buttonId)if(e._buttonId[t].selected)return e._buttonId[t];return null},_getSelectedButtons:function(){var e=this,t=[];for(var i in e._buttonId)e._buttonId[i].selected&&t.push(e._buttonId[i].num);return t},_getButtonByIndex:function(e){var t=this;for(var i in t._buttonId)if(t._buttonId[i].num===e)return t._buttonId[i];return null},_selectButton:function(t,i){var r=this,s=r._buttonId[t[0].id];if(!s.selected){var o=r.toThemeProperty;s.btn.addClass(o.call(this,"jqx-group-button-pressed")),s.btn.addClass(o.call(this,"jqx-fill-state-pressed")),s.selected=!0,i&&r._raiseEvent(0,{index:s.num,button:s.btn}),e.jqx.aria(s.btn,"aria-checked",!0)}},_unselectButton:function(t,i){var r=this,s=r._buttonId[t[0].id];if(s.selected){var o=r.toThemeProperty;s.btn.removeClass(o.call(this,"jqx-group-button-pressed")),s.btn.removeClass(o.call(this,"jqx-fill-state-pressed")),s.selected=!1,i&&r._raiseEvent(1,{index:s.num,button:s.btn}),e.jqx.aria(s.btn,"aria-checked",!1)}},setSelection:function(e){var t=this;if(-1===e)return void t.clearSelection();if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var i=0;i<e.length;i+=1)t._setSelection(e[i]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e)},_setSelection:function(e){var t=this,i=t._getButtonByIndex(e);i&&t._handleSelection(i.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var t=this;t.disabled=!0;var i;for(var r in t._buttonId)i=t._buttonId[r],t.disableAt(i.num);e.jqx.aria(t,"aria-disabled",!0)},enable:function(){var t=this;t.disabled=!1;var i;for(var r in t._buttonId)i=t._buttonId[r],t.enableAt(i.num);e.jqx.aria(t,"aria-disabled",!1)},disableAt:function(e){var t=this,i=t._getButtonByIndex(e);i.disabled||(i.disabled=!0,i.btn.addClass(t.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this,i=t._getButtonByIndex(e);i.disabled&&(i.disabled=!1,i.btn.removeClass(t.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var i=e[0].id,r={btn:e,num:t,selected:!1};return i||(i=this._baseId+e.index()),e[0].id=i,this._buttonId[i]=r,i},_raiseEvent:function(t,i){var r=e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(t,i,r,s){return"theme"==i&&null!=s&&e.jqx.utilities.setTheme(r,s,t.host),"template"==i&&t.refresh(),"mode"===i?(t._unselectAll(),void t.refresh()):void("disabled"===i?s?t.disable():t.enable():t.refresh())}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.renderListBox();var r=i;e.jqx.utilities.resize(i.host,function(){r._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};t.field.id.length?r.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":r.id=e.jqx.utilities.createId()+"_jqxListBox";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(s);var o=t.host.data();if(t.host=s,t.host.data(o),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}}t.element.innerHTML="";var t=t,a=t.element.className;a+=" "+t.toThemeProperty("jqx-listbox"),a+=" "+t.toThemeProperty("jqx-reset"),a+=" "+t.toThemeProperty("jqx-rc-all"),a+=" "+t.toThemeProperty("jqx-widget"),a+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=a;var l=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.width(t.width),l=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200),l=!0),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.width(t.width):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.height(t.height):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var d="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";t.host.attr("role","listbox"),t.element.innerHTML=d,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=e(t.element.firstChild.firstChild.firstChild),t.filterInput=e(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var h=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!h.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(t.host.height())/2;0==c&&(c=10),t.vScrollBar=h.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:c});var u=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(t.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=e(t.element.firstChild.firstChild.firstChild.nextSibling),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(p),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&r!=s&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var o=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(o,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=o),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",s),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==s&&r&&r.unbindBindingUpdate&&(r.unbindBindingUpdate(t.element.id),r.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||s!=r&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var n=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(n),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&s?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||s||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&r!=s&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(s,!0)),"displayMember"==i||"valueMember"==i){if(r!=s){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(r!=s?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,r=e(i);if(r.length>0){var s=e.jqx.parseSourceTag(r[0]),o=s.items,n=s.index;this.source=o,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var r=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void r(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),r(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight,0>t&&(t=0));var i=parseInt(this.vScrollInstance.value),r=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[r]&&this.renderedVisibleItems[r].isGroup)return null;if(this.renderedVisibleItems.length>0){var s=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(s.height+s.top<t+i)return null}return r=this._searchFirstVisibleIndex(t+i),this.visibleItems[r]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.visibleItems);for(var r=t.length;r>=i;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.initialTop>e&&s.initialTop+s.height>e)r=mid-1;else{if(!(s.initialTop<e&&s.initialTop+s.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,r=this.hScrollInstance,s=parseInt(i.value),o=parseInt(r.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(o=r.max-o);var n=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),a=n+parseInt(r.max),l=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(l=0),"visible"!=this.hScrollBar[0].style.visibility&&(a=n);var d=(this._getVirtualItemsCount(),new Array),h=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,p=0,f=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){var g=this.items[m];if(g.visible){g.top=-s,g.initialTop=-s,!g.isGroup&&g.visible&&(this.visibleItems[p++]=g,g.visibleIndex=p-1),this.renderedVisibleItems[f++]=g,g.left=-o;var v=g.top+g.height;v>=0&&g.top-g.height<=c&&(d[h++]={index:m,item:g}),s-=g.height,s--}}var x=s>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,w=0;h=0;for(var b=this.vScrollInstance.value,y=0;100+c>w;){var g=this.renderedVisibleItems[x];if(void 0==g)break;if(g.visible){g.left=-o;var v=g.top+g.height-b;v>=0&&g.initialTop-b-g.height<=2*c&&(d[h++]={index:x,item:g})}if(x++,g.visible&&(w+=g.initialTop-b+g.height-w),y++,y>this.items.length-1)break}if(!this._renderOnDemand)for(var _=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),j=this.toThemeProperty("jqx-listitem-state-group"),q=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),T=0,C=this,m=0;m<this.visualItems.length;m++){var k=this.visualItems[m],S=function(){var e=k[0].firstChild;if(C.checkboxes&&(e=k[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),C.checkboxes){var t=k.find(".chkbox");t.css({visibility:"hidden"})}};if(m<d.length){var g=d[m].item;if(g.initialTop-b>=c){S();continue}var D=e(k[0].firstChild);if(this.checkboxes&&(D=e(k[0].lastChild)),0==D.length)continue;if(null==D[0])continue;D[0].className="",D[0].style.display="block",D[0].style.visibility="inherit";var I="";if(I=!g.isGroup&&!this.selectedIndexes[g.index]>=0?_:j,(g.disabled||this.disabled)&&(I+=" "+q),this.roundedcorners&&(I+=" "+this.toThemeProperty("jqx-rc-all")),t&&(I+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),D[0].className=I,this.renderer)if(g.key||(g.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[g.key])D[0].innerHTML!=this._cachedItemHtml[g.key]&&(D[0].innerHTML=this._cachedItemHtml[g.key]);else{var P=this.renderer(g.index,g.label,g.value);D[0].innerHTML=P,this._cachedItemHtml[g.key]=D[0].innerHTML}else{if(-1!==this.itemHeight){var A=2+2*parseInt(D.css("padding-top"));D[0].style.lineHeight=g.height-A+"px",D.css("vertical-align","middle")}null!=g.html&&g.html.toString().length>0?D[0].innerHTML=g.html:null!=g.label||null!=g.value?null!=g.label?(D[0].innerHTML!==g.label&&(D[0].innerHTML=g.label),""==e.trim(g.label)&&(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=g.height-8+"px")),this.incrementalSearch||g.disabled||void 0!=this.searchString&&""!=this.searchString&&(D[0].innerHTML=this._highlight(g.label.toString(),this.searchString))):null===g.label?(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=g.height-8+"px")):D[0].innerHTML!==g.value?D[0].innerHTML=g.value:""==g.label&&(D[0].innerHTML=" "):""!=g.label&&null!=g.label||(D[0].innerHTML="",D[0].style.height=g.height-8+"px")}if(k[0].style.left=g.left+"px",k[0].style.top=g.initialTop-b+"px",g.element=D[0],g.title&&(D[0].title=g.title),this.equalItemsWidth&&!g.isGroup){if(0==u){var B=parseInt(a),M=parseInt(D.outerWidth())-parseInt(D.width());B-=M;var H=1;H=null!=H?parseInt(H):0,B-=2*H,u=B,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}n>this.virtualSize.width?(D[0].style.width=u+"px",g.width=u):(D[0].style.width=-4+this.virtualSize.width+"px",g.width=this.virtualSize.width-4)}else D.width()<this.host.width()&&D.width(this.host.width()-2);if(this.rtl&&(D[0].style.textAlign="right"),this.autoItemsHeight&&(D[0].style.whiteSpace="pre-line",D.width(u),g.width=u),T=0,this.checkboxes&&!g.isGroup){0==T&&(T=(g.height-16)/2,T++);var z=e(k.children()[0]);z[0].item=g,this.rtl?"0px"!=D[0].style.left&&(D[0].style.left="0px"):"18px"!=D[0].style.left&&(D[0].style.left="18px"),this.rtl&&z.css("left",8+g.width+"px"),z[0].style.top=T+"px",z[0].style.display="block",z[0].style.visibility="inherit";var E=g.checked,O=g.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";z[0].firstChild&&z[0].firstChild.firstChild&&z[0].firstChild.firstChild.firstChild&&z[0].firstChild.firstChild&&(E?z[0].firstChild.firstChild.firstChild.className=O:E===!1?z[0].firstChild.firstChild.firstChild.className="":null===E&&(z[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(E?k[0].setAttribute("aria-selected",!0):k[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var z=e(k.children()[0]);z.css({display:"none",visibility:"inherit"})}!g.disabled&&(!this.filterable&&this.selectedIndexes[g.visibleIndex]>=0||g.selected&&this.filterable)?(D.addClass(this.toThemeProperty("jqx-listitem-state-selected")),D.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(k[0].setAttribute("aria-selected",!0),this._activeElement=k[0])):this.checkboxes||e.jqx.ariaEnabled&&k[0].removeAttribute("aria-selected")}else S()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,r=2,s=0,o=document.createElement("span");this.equalItemsWidth&&e(o).css("float","left"),o.style.whiteSpace="pre";var n=0,a=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(o);var l=this.items.length,d=this.host.width();if(this.autoItemsHeight&&(d-=10,"hidden"!=this.vScrollBar.css("visibility")&&(d-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var s=0;l>s;s++){var h=this.items[s];if((!h.isGroup||""!=h.label||""!=h.html)&&h.visible){var c="";if(c+=h.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),o.className=c,this.autoItemsHeight){o.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;o.style.width=u+d+"px"}if(this.renderer){var p=this.renderer(h.index,h.label,h.value);o.innerHTML=p}else null!=h.html&&h.html.toString().length>0?o.innerHTML=h.html:null==h.label&&null==h.value||(null!=h.label?(o.innerHTML=h.label,""==h.label&&(o.innerHTML="Empty")):o.innerHTML=h.value);var f=o.offsetHeight,m=o.offsetWidth;this.itemHeight>-1&&(f=this.itemHeight),h.height=f,h.width=m,f++,r+=f,i=Math.max(i,m),a>=r&&n++}}else{for(var r=0,g=0,v="",x=0,w=0,b=-1,s=0;l>s;s++){var h=this.items[s];if((!h.isGroup||""!=h.label||""!=h.html)&&h.visible){b++;var c="";if(0==b){if(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),c+=" "+this.toThemeProperty("jqx-widget"),c+=" "+this.toThemeProperty("jqx-listbox"),c+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch"),c+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),o.className=c,this.autoItemsHeight){o.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;o.style.width=u+d+"px"}null==h.html||""==h.label||null==h.label?o.innerHTML="Item":null!=h.html&&h.html.toString().length>0?o.innerHTML=h.html:null==h.label&&null==h.value||(null!=h.label?null!=h.label.toString().match(new RegExp("\\w"))||null!=h.label.toString().match(new RegExp("\\d"))?o.innerHTML=h.label:o.innerHTML="Item":o.innerHTML=h.value);
var f=1+o.offsetHeight;this.itemHeight>-1&&(f=this.itemHeight),g=f}void 0!=x&&(w=x),null!=h.html&&h.html.toString().length>0?(x=Math.max(x,h.html.toString().length),w!=x&&(v=h.html)):null!=h.label?(x=Math.max(x,h.label.length),w!=x&&(v=h.label)):null!=h.value&&(x=Math.max(x,h.value.length),w!=x&&(v=h.value)),h.height=g,r+=g,r++,a>=r&&n++}}o.innerHTML=v,i=o.offsetWidth}return r+=2,10>n&&(n=10),this.filterable&&(r+=this.filterHeight),o.parentNode.removeChild(o),{width:i,height:r,itemsPerPage:n}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());var r=i.host.height();if(0==t){var s=i._calculateVirtualSize(r),o=2*s.itemsPerPage;i.autoHeight&&(o=i.items.length),i.virtualItemsCount=Math.min(o,i.items.length);s.width;return i.virtualSize=s,void i._updatescrollbars()}var n=this,a=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper[0].style.height=2*r+"px",i.content[0].appendChild(i.itemswrapper[0]));var s=i._calculateVirtualSize(r),o=2*s.itemsPerPage;i.autoHeight&&(o=i.items.length),i.virtualItemsCount=Math.min(o,i.items.length);var i=this;s.width;i.virtualSize=s;var l=Math.max(i.host.width(),17+s.width);i.itemswrapper[0].style.width=l+"px";for(var d=0,h="",c=e.jqx.browser.msie&&e.jqx.browser.version<9,u=c?' unselectable="on"':"",p=d;p<i.virtualItemsCount;p++){var f=i.items[p],m="listitem"+p+i.element.id;if(h+="<div"+u+" role='option' id='"+m+"' class='jqx-listitem-element'>",i.checkboxes){h+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var g='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',v=f.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"";g+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+v+'"></span>',g+="</div></div>",h+=g,h+="</div>"}h+="<span"+u+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}n.WinJS?i.itemswrapper.html(h):i.itemswrapper[0].innerHTML=h;for(var x=i.itemswrapper.children(),p=d;p<i.virtualItemsCount;p++){var f=i.items[p],w=e(x[p]);if(i.allowDrag&&i._enableDragDrop&&w.addClass("draggable"),i.checkboxes){e(w.children()[0]);w.css("float","left");var b=e(w[0].firstChild);b.css("float","left")}w[0].style.height=f.height+"px",w[0].style.top=a+"px",a+=f.height+1,i.visualItems[p]=w}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var s=i._calculateVirtualSize(r),o=2*s.itemsPerPage;i.autoHeight&&(o=i.items.length),i.virtualItemsCount=Math.min(o,i.items.length);var i=this;s.width;i.virtualSize=s,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,r=t.virtualSize.width,s=t.vScrollInstance,o=t.hScrollInstance;t._arrange(!1);var n=!1,a=t.host.outerWidth(),l=t.host.outerHeight(),d=0;if(r>a&&(d=t.hScrollBar.outerHeight()+2),i+d>l){var h=s.max;s.max=2+parseInt(i)+d-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",n=!0),h!=s.max&&s._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",n=!0,s.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(r>=a-c-u){var p=o.max;"inherit"==t.vScrollBar[0].style.visibility?o.max=u+c+parseInt(r)-t.host.width()+4:o.max=u+parseInt(r)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",n=!0),p!=o.max&&o._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(s.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",n=!0);o.setPosition(0),n&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+r))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");var f=t.isTouchDevice();f&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,r=0;r<this.selectedIndexes.length;r++){var s=this.selectedIndexes[r];-1!=s&&void 0!=s&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var o=this.getVisibleItem(e);o&&this.selectedValues[o.value]&&(this.selectedValues[o.value]=null)}void 0!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),r=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var r=new Array,s=0;s<i.length;s++){var o=i[s];if(o){var n=o.initialTop,a=o.height,l=!0;(0>n+a-t||n-t>=e.host.height())&&(l=!1),l&&r.push(o)}}return r}();return{items:t,visibleItems:i,viewItems:r}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){e(s.checkBoxElement);s.checked=!0,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=r&&1!=r||this._raiseEvent(3,{label:s.label,value:s.value,checked:!0,item:s})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){e(s.checkBoxElement);s.checked=!1,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=r&&1!=r||this._raiseEvent(3,{label:s.label,value:s.value,checked:!1,item:s})}},indeterminateIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){e(s.checkBoxElement);s.checked=null,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=r&&1!=r||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var r in t)-1!=t[r]&&(i[i.length]=e[r]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,r=0;r<i.length;r++)if(i[r].value==t)return i[r]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,r,s,o){if(!isNaN(e)){var n=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(!(this.multiple||this.multipleextended||this.selectedIndex!=e||r||this.checkboxes))return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)));if(this.checkboxes){this._updateCheckedItems();var a=n;this.selectedIndex!=e||this.multiple||(a=-1),void 0==s&&(s="none");var l=this.getItem(e),d=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:s,item:d,originalEvent:o}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:s,item:l,originalEvent:o}),void this._renderItems()}this.focused=!0;var h=!1;this.selectedIndex!=e&&(h=!0);var a=n;this.selectedIndex!=e||this.multiple||(a=-1),void 0==s&&(s="none");var l=this.getItem(e),d=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(a)),void 0!=r&&r)this._raiseEvent("1",{index:a,type:s,item:d,originalEvent:o}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:s,item:l,originalEvent:o});else{var c=this,u=function(e,t,i,r,s,o){c._raiseEvent("1",{index:t,type:i,item:r,originalEvent:o}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,s&&(c.selectedValues[s.value]=s.value),c._raiseEvent("0",{index:e,type:i,item:s,originalEvent:o})},p=function(e,t,i,r,s,o){void 0==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,s&&(c.selectedValues[s.value]=s.value,c._raiseEvent("0",{index:e,type:i,item:s,originalEvent:o}))):(t=c.selectedIndexes[e],r=c.getVisibleItem(t),r&&(c.selectedValues[r.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:r,originalEvent:o}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==s&&(this.clearSelection(!1),c._clickedIndex=e),p(e,a,s,d,l,o);else if(this._shiftKey){void 0==c._clickedIndex&&(c._clickedIndex=a);var f=Math.min(c._clickedIndex,e),m=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=f;m>=g;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:s,item:this.getVisibleItem(g),originalEvent:o});"keyboard"!=s?c.selectedIndex=c._clickedIndex:c.selectedIndex=e}}else"keyboard"!=s&&"mouse"!=s?(p(e,a,s,d,l,o),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,a,s,d,l,o));else this.multiple?p(e,a,s,d,l,o):(l&&(this.selectedValue=l.value),u(e,a,s,d,l,o))}return void 0!=i&&1!=i||this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:s,originalEvent:o}),this._updateInputSelection(),h}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),r="";if(i){for(var s=0;s<i.length;s++)void 0!=i[s]&&(r+=s==i.length-1?i[s].value:i[s].value+",",t.push(i[s].value));this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,r){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,r){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var r=this.visibleItems[e];if(void 0==r)return!0;var s=r.initialTop,o=r.height;return!(i>s-t||s-t+i+o>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();return 9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode?37==e.keyCode||39==e.keyCode?!1:void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i)):void 0},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var r=this,s=-1,o=new Array,n=0;e.each(i,function(i){var a="";if(!this.isGroup){a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",a=a.toString();var l=!1;switch(r.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":l=e.jqx.string.contains(a,t);break;case"equals":l=e.jqx.string.equals(a,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":l=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":l=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(a,t)}l||(this.visible=!1),l&&(o[n++]=this,this.visible=!0,s=this.visibleIndex),""==t&&(this.visible=!0,l=!1)}}),r.renderedVisibleItems=new Array,r.visibleItems=new Array,r.vScrollInstance.setPosition(0,!0),r._addItems(!1),r._renderItems();for(var a=0;a<r.items.length;a++)r.selectedIndexes[a]=-1;r.selectedIndex=-1;for(var l in r.selectedValues){var t=r.selectedValues[l],d=r.getItemByValue(t);d&&d.visible&&(r.selectedIndex=d.visibleIndex,r.selectedIndexes[d.visibleIndex]=d.visibleIndex)}r._syncSelection(),r.filterChange&&r.filterChange(t)},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var r=this.getItems(),s=this,o=-1;return e.each(r,function(r){var n="";if(!this.isGroup){n=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":a=e.jqx.string.contains(n,t);break;case"equals":a=e.jqx.string.equals(n,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":a=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":a=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(n,t)}if(a&&this.visibleIndex>=i)return o=this.visibleIndex,!1}}),o},findItems:function(t){var i=this.getItems(),r=this,s=0,o=new Array;return e.each(i,function(i){var n="";if(!this.isGroup){n=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":a=e.jqx.string.contains(n,t);break;case"equals":a=e.jqx.string.equals(n,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":a=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":a=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(n,t)}a&&(o[s++]=this)}}),o},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,r=i.selectedIndex,s=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var o=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes){var n=this.getItem(r);return null!=n&&(i._updateItemCheck(n,r),e.preventDefault()),i._searchString="",i.selectIndex(n.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems()}if(i.incrementalSearch){var a=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),d=!isNaN(parseInt(l)),h=!1;if(t>=65&&97>=t||d||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?(c=1+i.selectedIndex,i._searchString+=l):i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if(a=u,a==i._lastMatchIndex||-1==a){var u=this._getMatches(i._searchString,0);a=u}if(i._lastMatchIndex=a,a>=0){var p=function(){o(),i.selectIndex(a,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(a);t?i._renderItems():i.ensureVisible(a)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){p()},i.incrementalSearchKeyDownDelay)}h=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),a>=0)return;if(h)return!1}if(33==t){var f=i._itemsInPage();i.selectedIndex-f>=0?(o(),i.selectIndex(s-f,!1,!1,!1,"keyboard",e)):(o(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var n=this.getItem(r);null!=n&&(i._updateItemCheck(n,r),e.preventDefault()),i._searchString=""}if(36==t&&(o(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(o(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var f=i._itemsInPage();i.selectedIndex+f<i.visibleItems.length?(o(),i.selectIndex(s+f,!1,!1,!1,"keyboard",e)):(o(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var m=i._prevItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;o(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m=i._nextItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;o(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var g=i.isIndexInView(i.selectedIndex);return g?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=e.hasThreeStates&&this.hasThreeStates?null:!1:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width()!=e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var r=e.data(t.element,"hoveredItem");null!=r&&(e(r).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(r).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var r=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var s=t.isTouchDevice()&&this.touchMode!==!0,o=s?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var r=e.jqx.mobile.getTouches(i),o=r[0];if(void 0!=o){var n=t.host.offset(),a=parseInt(o.pageX),l=parseInt(o.pageY);1==t.touchMode&&void 0!=o._pageX&&(a=parseInt(o._pageX),l=parseInt(o._pageY)),a-=n.left,l-=n.top;var d=t._hitTest(a,l);if(null!=d&&!d.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(d,d.visibleIndex);if(-1==d.html.indexOf("href"))return t.selectIndex(d.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(d.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var n=!1;this.addHandler(this.content,o,function(i){if(!t.enableSelection)return!0;if(n=!0,s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var a=i.target,l=e(a).offset(),d=t.host.offset();if(r){var h=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);l.left=h,l.top=c,h=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),d.left=h,d.top=c}var u=parseInt(l.top)-parseInt(d.top),p=parseInt(l.left)-parseInt(d.left),f=t._hitTest(p,u);if(null!=f&&!f.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||n||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||n||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout(function(){m(f,i)},100):m(f,i))}if("mousedown"==o){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),n=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(s){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==s.target)return!0;if(t.disabled)return!0;t.focused=!0;var o=t.vScrollInstance.isScrolling();if(!o&&s.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=s.target){var n=s.target,a=e(n).offset(),l=t.host.offset();if(r){var d=e.jqx.mobile.getLeftPos(n),h=e.jqx.mobile.getTopPos(n);a.left=d,a.top=h,d=e.jqx.mobile.getLeftPos(t.element),h=e.jqx.mobile.getTopPos(t.element),l.left=d,l.top=h}var c=parseInt(a.top)-parseInt(l.top),u=parseInt(a.left)-parseInt(l.left),p=t._hitTest(u,c);if(null!=p&&!p.isGroup&&!p.disabled){var f=e.data(t.element,"hoveredItem");null!=f&&(e(f).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(f).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",p.element);var m=e(p.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,r=null,s=t.filterable?t.filterHeight:0,o=function(e){return e=t.host.height(),0==e&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?r=t.height:void 0==t.height||isNaN(t.height)||(r=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),r=o(r)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),
t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,r=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,r=t.virtualSize.height)):null!=r&&(r=parseInt(r),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),o(r)));var n=t.scrollBarSize;isNaN(n)&&(n=parseInt(n),isNaN(n)?n="17px":n+="px"),n=parseInt(n);var a=4,l=2,d=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?d=n+a:t.vScrollInstance.setPosition(0),0==n&&(d=1,l=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?l=n+a:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",l=0),null==r&&(r=0);var h=parseInt(r)-a-n;0>h&&(h=0),parseInt(t.hScrollBar[0].style.height)!=n&&(parseInt(n)<0&&(n=0),t.hScrollBar[0].style.height=parseInt(n)+"px"),t.hScrollBar[0].style.top!=h+"px"&&(t.hScrollBar[0].style.top=h+"px",t.hScrollBar[0].style.left="0px");var c=i-n-a;0>c&&(c=0);var u=c+"px";if(t.hScrollBar[0].style.width!=u&&(t.hScrollBar[0].style.width=u),1>=d&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),n!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(n)+"px"),parseInt(r)-l!=parseInt(t.vScrollBar[0].style.height)){var p=parseInt(r)-l;0>p&&(p=0),t.vScrollBar[0].style.height=p+"px"}null==i&&(i=0);var f=parseInt(i)-parseInt(n)-a+"px";f!=t.vScrollBar[0].style.left&&(parseInt(f)>=0&&(t.vScrollBar[0].style.left=f),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var g=t.hScrollInstance;if(g.disabled=t.disabled,e&&g._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(n)+3+"px",t.bottomRight[0].style.height=parseInt(n)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-d){var v=parseInt(i)-d;0>v&&(v=0),t.content[0].style.width=v+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(r)-l){var x=parseInt(r)-l;0>x&&(x=0),t.content[0].style.height=x+"px",t.content[0].style.top="0px"}s>0&&(t.content[0].style.top=s+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-s+"px"),t.filterable?(t.filterInput[0].style.height=s-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-d),t.overlayContent.height(parseInt(r)-l))}},ensureVisible:function(t,i){if(isNaN(t)){var r=this.getItemByValue(t);r&&(t=r.index)}var s=this.isIndexInView(t);if(s){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var r=this.visibleItems[indx];if(r.visibleIndex==t&&!r.isGroup){var o=this.vScrollInstance.value,n=r.initialTop;this.filterable&&(n=this.filterHeight+2+r.initialTop),o+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(n)}}}else{if(0>t)return;if(this.autoHeight){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance;a.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var r=this.visibleItems[indx];if(r.visibleIndex==t&&!r.isGroup){var a=e.data(this.vScrollBar[0],"jqxScrollBar").instance,o=a.value,l=this.filterable?this.filterHeight+2:0,d="hidden"===this.hScrollBar.css("visibility"),h=d?0:this.scrollBarSize+4;if(r.initialTop<o)a.setPosition(r.initialTop),0==indx&&a.setPosition(0);else if(r.initialTop+r.height>o+this.host.height()-l){var c=this.host.height();if(this.filterable?a.setPosition(this.filterHeight+2+r.initialTop+r.height+2-c+h):(a.setPosition(r.initialTop+r.height+2-c+h),indx===this.visibleItems.length-1&&a.setPosition(a.max)),i){var o=a.value,n=r.initialTop;this.filterable&&(n=this.filterHeight+2+r.initialTop),o+c<a.max&&a.setPosition(n)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t,i){this.records=new Array;var r=!!t._source,s=new e.jqx.dataAdapter(t,{autoBind:!1});r&&(s=t,t=t._source);var o=function(e){void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async)},n=function(t,i){var r=function(i){var r=null;if("string"==typeof i)var s=i,o=i,n="";else if(void 0!=t.displayMember&&""!=t.displayMember)var o=i[t.valueMember],s=i[t.displayMember];var n="";if(t.groupMember?n=i[t.groupMember]:i&&void 0!=i.group&&(n=i.group),t.searchMember?r=i[t.searchMember]:i&&void 0!=i.searchLabel&&(r=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(s=o=i.toString()),i&&void 0!=i.label)var s=i.label;if(i&&void 0!=i.value)var o=i.value;var a=!1;i&&void 0!=i.checked&&(a=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var d=!0;i&&void 0!=i.visible&&(d=i.visible);var h=!1;i&&void 0!=i.disabled&&(h=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=s,u.value=o,u.searchLabel=r,u.html=l,u.visible=d,u.originalItem=i,u.group=n,u.groupHtml="",u.disabled=h,u.checked=a,u.hasThreeStates=c,u};if(void 0!=i){var o=s._changedrecords[0];if(o)return void e.each(s._changedrecords,function(){var e=this.index,s=this.record;if("remove"!=i)var o=r(s);switch(i){case"update":t.updateAt(o,e);break;case"add":t.insertAt(o,e);break;case"remove":t.removeAt(e)}})}t.records=s.records;for(var n=t.records.length,a=new Array,l=0;n>l;l++){var d=t.records[l],h=r(d);h.index=l,a[l]=h}t.items=t.loadItems(a,!0),t._render(),t._raiseEvent("6")};o(this);var a=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(s.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&s.dataBind(),n(this),s.bindBindingUpdate(this.element.id,function(e){n(a,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&s.dataBind(),n(this),void s.bindBindingUpdate(this.element.id,function(){n(a)});var l={};s._options.data?e.extend(s._options.data,l):(t.data&&e.extend(l,t.data),s._options.data=l);var d=function(){n(a)};s.unbindDownloadComplete(a.element.id),s.bindDownloadComplete(a.element.id,d),(this.autoBind||!this.autoBind&&!i)&&s.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var r=this,s=0,o=0,n=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,d=t.group,h=t.groupHtml,c=t.title,u=null;if(r.searchMember?u=t[r.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),null!=c&&void 0!=c||(c=""),null!=d&&void 0!=d||(d=""),r.groupMember&&(d=t[r.groupMember]),null!=h&&void 0!=h||(h=""),!r.groups[d]){r.groups[d]={items:new Array,index:-1,caption:d,captionHtml:h},s++;var p=s+"jqxGroup";r.groups[p]=r.groups[d],o++,r.groups.length=o}var f=r.groups[d];return f.index++,f.items[f.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=r.displayMember&&(void 0!=t[r.displayMember]?l.label=t[r.displayMember]:l.label=""),void 0===t.value&&""!=r.valueMember&&(l.value=t[r.valueMember])),l.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&""!=t.html,l.group=d,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0!=t.visible?t.visible:!0,l.searchLabel=u,l.index=n,a[n]=l,n++,l});var l=new Array,d=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var h=0;o>h;h++){var s=h+1,c=s+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==h&&""==u.caption&&""==u.captionHtml&&1>=o){for(var p=0;p<u.items.length;p++){var f=u.items[p].value;void 0!=u.items[p].value&&null!=u.items[p].value||(f=p),this.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[p]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[d]=m,d++;for(var g=0;g<u.items.length;g++){l[d]=u.items[g];var f=u.items[g].value;""!=u.items[g].value&&null!=u.items[g].value||(f=d),r.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[g],d++}}else{var d=0,v=new Array;e.each(a,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[d]=t,d++,v[this.group]=!0}l[d]=this;var i=this.value;""!=this.value&&null!=this.value||(i=d-1),r.itemsByValue[e.trim(i).split(" ").join("?")]=this,d++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var r=this._mapItem(t);this.itemsByValue[e.trim(r.value).split(" ").join("?")]=this.items[i],this.items[i].value=r.value,this.items[i].label=r.label,this.items[i].html=r.html,this.items[i].disabled=r.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var r=this._mapItem(t);r.index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var s=r.value;return""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,!1}var r=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var o=new Array,n=0,a=!1,l=0,d=0;d<this.items.length;d++)0==this.items[d].isGroup&&l>=i&&!a&&(o[n++]=r,r.index=i,l++,a=!0),o[n]=this.items[d],this.items[d].isGroup||(o[n].index=l,l++),n++;this.items=o}var s=r.value;""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=h.value;return h.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),h.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,r=this.items[t].value;if(""!=r&&null!=r||(r=t),this.itemsByValue[e.trim(r).split(" ").join("?")]=null,this.groups.length>1){for(var s=new Array,o=0;o<this.items.length;o++)this.items[o].isGroup||s.push({item:this.items[o],key:o});if(!s[t])return!1;this.items.splice(s[t].key,1)}else this.items.splice(t,1);for(var n=new Array,a=0,l=0,o=0;o<this.items.length;o++)n[a]=this.items[o],this.items[o].isGroup||(n[a].index=l,l++),a++;this.items=n;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=d.value;if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?d.setPosition(h):d.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var r=this.items[u].value;""!=this.items[u].value&&null!=this.items[u].value||(r=u),this.itemsByValue[e.trim(r).split(" ").join("?")]=this.items[u]}return this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),r=-1;if(i&&void 0!=i.index&&t!==!0){for(var s=0;s<this.items.length;s++)if(this.items[s].label==i.label&&this.items[s].value==i.value){r=s;break}if(-1!=r)return this.removeAt(r)}return-1==r?this.removeAt(i.index):void 0},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this,this._updateInputSelection();var s=new e.Event(r);if(s.owner=this,s.args=args,null!=this.host)var o=this.host.trigger(s);return o}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,r=e(t).find("option"),s=e(t).find("optgroup"),o=!1;0===r.length&&(r=e(t).find("li"),r.length>0&&(o=!0));var n=null,n=-1,a=new Array;if(e.each(r,function(t){var r=s.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),o===!0&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var d={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},h=e.jqx.browser.msie&&e.jqx.browser.version<8;h&&!o&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),r&&(l=s.find(this).parent()[0].label,d.group=l,a[l]||(a[l]=new Array,a.length++),a[l].push(d)),this.selected&&(n=t),d.checked=this.selected,void 0!==d.label&&i.push(d)}),a.length>0){var l=new Array;for(var d in a)if("indexOf"!==d){for(var h=null,c=0;c<s.length;c++)if(d===s[c].label||s[c].text){h=s[c];break}e.each(a[d],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:n}:{items:i,index:n}},e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTree","",{}),e.extend(e.jqx._jqxTree.prototype,{defineInstance:function(){var t={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(t,r,s,o){i.disabled?i.host.addClass(i.toThemeProperty("jqx-tree-disabled")):i.host.removeClass(i.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(i,"aria-disabled",o)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&(this.createTree(r[0]),this.createdTree=!0)}if(null!=this.source){var s=this.loadItems(this.source);this.element.innerHTML=s;var r=this.host.find("ul:first");r.length>0&&(this.createTree(r[0]),this.createdTree=!0)}if(this._itemslength=this.items.length,!this.createdTree&&0==this.host.find("ul").length){this.host.append(e("<ul></ul>"));var r=this.host.find("ul:first");r.length>0&&(this.createTree(r[0]),this.createdTree=!0),this.createdTree=!0}1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(t,i){var r=this;if(null!=t){var s=0,o=!1,n=0,a=e(t.element).find("li");if(n=a.length,e.each(a,function(e){var t=r.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&(o=!0),s++)}),t!=i)s==n?this.checkItem(t.element,!0,"tree"):s>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree");else{var l=i.checked,a=e(i.element).find("li");e.each(a,function(){r.itemMapping["id"+this.id].item;r.checkItem(this,l,"tree")})}this.checkItems(this._parentItem(t),i)}else{var l=i.checked,a=e(i.element).find("li");e.each(a,function(){r.itemMapping["id"+this.id].item;r.checkItem(this,l,"tree")})}},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;for(var r=this.items,s=new Array,o=0;o<r.length;o++)this._isVisible(r[o])&&!r[o].disabled&&s.push(r[o]);r=s,void 0!=i&&(r=r.slice(i));var n=new Array;return e.each(r,function(i){var r=this.label;r||(r="");var s=e.jqx.string.startsWithIgnoreCase(r.toString(),t);s&&n.push({id:this.id,element:this.element})}),n},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",function(i){var r=i.keyCode;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&null!=t.selectedItem){var s=t.selectedItem.element;if(t.incrementalSearch&&!(r>=33&&40>=r)){var o=-1;t._searchString||(t._searchString=""),(8==r||46==r)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var n=String.fromCharCode(r),a=!isNaN(parseInt(n)),l=!1;if(r>=65&&97>=r||a||8==r||32==r||46==r){i.shiftKey||(n=n.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(t._searchString.length>0&&t._searchString.substr(0,1)==n||(t._searchString+=n)),32==r&&(t._searchString+=" "),t._searchTime=new Date;var d=t.selectedItem;if(d){for(var h=d.id,c=-1,u=0;u<t.items.length;u++)if(t.items[u].id==h){c=u+1;break}var p=t._getMatches(t._searchString,c);if(0==p.length||p.length>0&&p[0].id==h)var p=t._getMatches(t._searchString)}else var p=t._getMatches(t._searchString);if(p.length>0){var d=t.selectedItem;t.selectedItem&&t.selectedItem.id!=p[0].id&&(t.clearSelection(),t.selectItem(p[0].element,"keyboard")),t._lastSearchString=t._searchString}}if(void 0!=t._searchTimer&&clearTimeout(t._searchTimer),27!=r&&13!=r||(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout(function(){t._searchString="",t._lastSearchString=""},500),o>=0)return;if(l)return!1}switch(r){case 32:if(t.checkboxes){t.fromKey=!0;var f=e(t.selectedItem.checkBoxElement).jqxCheckBox("checked");return t.checkItem(t.selectedItem.element,!f,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1}return!0;case 33:for(var m=t._getItemsOnPage(),g=t.selectedItem,u=0;m>u;u++)g=t._prevVisibleItem(g);return null!=g?(t.selectItem(g.element,"keyboard"),t.ensureVisible(g.element)):(t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element)),!1;case 34:for(var m=t._getItemsOnPage(),v=t.selectedItem,u=0;m>u;u++)v=t._nextVisibleItem(v);return null!=v?(t.selectItem(v.element,"keyboard"),t.ensureVisible(v.element)):(t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:if(37==r&&!t.rtl||39==r&&t.rtl)if(t.selectedItem.hasItems&&t.selectedItem.isExpanded)t.collapseItem(s);else{var x=t._parentItem(t.selectedItem);null!=x&&(t.selectItem(x.element,"keyboard"),t.ensureVisible(x.element))}if((39==r&&!t.rtl||37==r&&t.rtl)&&t.selectedItem.hasItems)if(t.selectedItem.isExpanded){var v=t._nextVisibleItem(t.selectedItem);null!=v&&(t.selectItem(v.element,"keyboard"),t.ensureVisible(v.element))}else t.expandItem(s);return!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(s):t.expandItem(s)),!1;case 36:return t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element),!1;case 38:var g=t._prevVisibleItem(t.selectedItem);return null!=g&&(t.selectItem(g.element,"keyboard"),t.ensureVisible(g.element)),!1;case 40:var v=t._nextVisibleItem(t.selectedItem);return null!=v&&(t.selectItem(v.element,"keyboard"),t.ensureVisible(v.element)),!1}}})},_firstItem:function(){var t=null,r=this,s=this.host.find("ul:first"),o=e(s).find("li");for(i=0;i<=o.length-1;i++){var n=o[i];if(t=this.itemMapping["id"+n.id].item,r._isVisible(t))return t}return null},_lastItem:function(){var t=null,r=this,s=this.host.find("ul:first"),o=e(s).find("li");for(i=o.length-1;i>=0;i--){var n=o[i];if(t=this.itemMapping["id"+n.id].item,r._isVisible(t))return t}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var r=null;return e.each(this.items,function(){return this.element==i?(r=this,!1):void 0}),r},_nextVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var t=0,i=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),r=0,s=this._firstItem();if(parseInt(e(s.element).height())>0)for(;i>=r;)r+=parseInt(e(s.element).outerHeight()),t++;return t},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")},refresh:function(t){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var i=this;this.panel.jqxPanel("width","100%"),i.removeHandler(e(window),"resize.jqxtree"+i.element.id),i.addHandler(e(window),"resize.jqxtree"+i.element.id,function(){i._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),e.jqx.isHidden(this.host)){var i=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){e.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())},100)}1!=t&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(t){if(null!=t){var i=this;this.items=new Array;var r="<ul>";return e.map(t,function(e){return void 0==e?null:void(r+=i._parseItem(e))}),r+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;void 0!=e.expanded&&e.expanded&&(r=!0);var s=!1;void 0!=e.locked&&e.locked&&(s=!0);var o=!1;void 0!=e.selected&&e.selected&&(o=!0);var n=!1;void 0!=e.disabled&&e.disabled&&(n=!0);var a=!1;void 0!=e.checked&&e.checked&&(a=!0);var l=e.icon,d=e.iconsize;t+="<li",r&&(t+=' item-expanded="true" '),s&&(t+=' item-locked="true" '),n&&(t+=' item-disabled="true" '),o&&(t+=' item-selected="true" '),d&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=l&&void 0!=l&&(t+=' item-icon="'+l+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.checked&&(t+=' item-checked="'+a+'" ');var h="";return void 0!=e.id?(h=e.id,t+=' id="'+h+'" '):(h=this.createID(),t+=' id="'+h+'" '),t+=">"+i,e.items&&(t+=this.loadItems(e.items)),this._valueList||(this._valueList=new Array),this._valueList[h]=e.value,t+="</li>"},ensureVisible:function(t){if(null!=t&&void 0!=t){var i=this.panel.jqxPanel("getVScrollPosition"),r=this.panel.jqxPanel("getHScrollPosition"),s=parseInt(this.host.height()),o=e(t).position().top;(i>=o||o>=s+i)&&this.panel.jqxPanel("scrollTo",r,o-s+e(t).outerHeight())}},_syncItems:function(t){this._visibleItems=new Array;var i=this;e.each(t,function(){var t=e(this);if("none"!=t.css("display")){var r=t.outerHeight();if(t.height()>0){var s=parseInt(t.offset().top);i._visibleItems[i._visibleItems.length]={element:this,top:s,height:r,bottom:s+r}}}})},hitTest:function(t,i){var r=this,s=null,o=this.host.find(".jqx-item");if(this._syncItems(o),r._visibleItems){var n=parseInt(r.host.offset().left),a=r.host.outerWidth();e.each(r._visibleItems,function(o){if(t>=n&&n+a>t&&this.top+5<i&&i<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&(s=r.getItem(l[0]),null!=s))return s.height=this.height,s.top=this.top,!1}})}return s},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(t,i,r,s){var o=this,n=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var a="",l=this;e.each(n,function(){a+=l._parseItem(this)});var d=e(a);if(o.element.innerHTML.indexOf("UL"))var h=o.host.find("ul:first");void 0==i&&null==i?h.append(d):r?e(i).before(d):e(i).after(d);for(var c=d,u=0;u<c.length;u++){this._createItem(c[u]);var p=e(c[u]).find("li");if(p.length>0)for(var f=0;f<p.length;f++)this._createItem(p[f])}var m=function(t){l._refreshMapping(!1),l._updateItemsNavigation(),t&&l.allowDrag&&l._enableDragDrop&&l._enableDragDrop(),null!=l.selectedItem&&(e(l.selectedItem.titleElement).addClass(l.toThemeProperty("jqx-fill-state-pressed")),e(l.selectedItem.titleElement).addClass(l.toThemeProperty("jqx-tree-item-selected")))};return 0==s?(m(!0),void this._raiseEvent("4",{items:this.getItems()})):(m(!1),l._render(),this._raiseEvent("4",{items:this.getItems()}),void(l.checkboxes&&l._updateCheckLayout(null)))},addTo:function(t,i,r){var s=this,o=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?o=t:o[0]=t;var n="",a=this;e.each(o,function(){n+=a._parseItem(this)});var l=e(n);if(s.element.innerHTML.indexOf("UL"))var d=s.host.find("ul:first");if(void 0==i&&null==i)d.append(l);else{i=e(i);var h=i.find("ul:first");if(0==h.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),h=i.find("ul:first");var c=s.itemMapping["id"+i[0].id].item;c.subtreeElement=h[0],c.hasItems=!0,h.addClass(s.toThemeProperty("jqx-tree-dropdown")),a.rtl&&h.addClass(s.toThemeProperty("jqx-tree-dropdown-rtl")),h.append(l);var u=h.find("li:first");c.parentElement=u}else h.append(l)}for(var p=l,f=0;f<p.length;f++){this._createItem(p[f]);var m=e(p[f]).find("li");if(m.length>0)for(var g=0;g<m.length;g++)this._createItem(m[g])}var v=function(t){a._refreshMapping(!1),a._updateItemsNavigation(),t&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))};return 0==r?(v(!0),void this._raiseEvent("4",{items:this.getItems()})):(v(!1),
a._render(),a.checkboxes&&a._updateCheckLayout(null),void this._raiseEvent("4",{items:this.getItems()}))},updateItem:function(t,i){var r=void 0!=t.treeInstance?t:this.getItem(t);if(!r){var s=t;t=i,i=s;var r=void 0!=t.treeInstance?t:this.getItem(t)}if(r){if("string"==typeof i&&(i={label:i}),i.value&&(r.value=i.value),i.label){r.label=i.label,e.jqx.utilities.html(e(r.titleElement),i.label);var o=e.jqx.browser.msie&&e.jqx.browser.version<8;if(o){e(document.body).append(this._measureItem),this._measureItem.html(e(r.titleElement).text());var n=this._measureItem.width();r.icon&&(n+=20),e(e(r.titleElement).find("img")).length>0&&(n+=20),e(r.titleElement).css("max-width",n+"px"),this._measureItem.remove()}}if(i.icon)if(e(r.element).children(".itemicon").length>0)e(r.element).find(".itemicon")[0].src=i.icon;else{var a=i.iconsize;a||(a=16);var l=e('<img width="'+a+'" height="'+a+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>');e(r.titleElement).prepend(l),l.css("margin-right","4px"),this.rtl&&(l.css("margin-right","0px"),l.css("margin-left","4px"),l.css("float","right"))}return i.expanded&&this.expandItem(r),i.disabled&&this.disableItem(r),i.selected&&this.selectItem(r),!0}return!1},removeItem:function(t,i){if(void 0!=t&&null!=t){void 0!=t.treeInstance&&(t=t.element);var r=this,s=(t.id,-1),o=this.getItem(t);if(o&&(s=this.items.indexOf(o),-1!=s&&function n(t){var i=-1;i=this.items.indexOf(t),-1!=i&&this.items.splice(i,1);var r=e(t.element).find("li"),s=r.length,o=this,a=new Array;if(s>0){e.each(r,function(e){var t=o.itemMapping["id"+this.id].item;a.push(t)});for(var l=0;l<a.length;l++)n.apply(this,[a[l]])}}.apply(this,[o])),this.host.find("#"+t.id).length>0&&e(t).remove(),0==i)return void this._raiseEvent("5");r._updateItemsNavigation(),r.allowDrag&&r._enableDragDrop?r._render(!0,!1):r._render(),null!=r.selectedItem&&r.selectedItem.element==t&&(e(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-fill-state-pressed")),e(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-selected")),r.selectedItem=null),this._raiseEvent("5"),r.checkboxes&&r._updateCheckLayout(null)}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");e.length>0&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var r=this;return r.element==t?(r.disabled=!0,e(r.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),e(r.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({disabled:!0}),!1):void 0})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",r=0;r<t.length;r++){var s=t[r].value;null==s&&(s=t[r].label),i+=r==t.length-1?s:s+","}this.input.val(i)}}}},getCheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked&&t.push(e)}),t},getUncheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked||t.push(e)}),t},checkAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!0,e(t.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!1,e(t.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,r){if(null==t)return!1;void 0===i&&(i=!0),void 0!=t.treeInstance&&(t=t.element);var s=this,o=!1,n=null;e.each(s.items,function(){var r=this;return r.element!=t||r.disabled?void 0:(o=!0,r.checked=i,n=r,e(r.checkBoxElement).jqxCheckBox({checked:i}),!1)}),o&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),void 0==r&&n&&this.hasThreeStates&&this.checkItems(n,n)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var r=this;return r.element==t?(r.disabled=!1,e(r.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),e(r.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({disabled:!1}),!1):void 0})},enableAll:function(){var t=this;e.each(t.items,function(){var i=this;i.disabled=!1,e(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),e(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&i.checkBoxElement&&e(i.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;return e.element==t?(e.locked=!0,!1):void 0})},unlockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;return e.element==t?(e.locked=!1,!1):void 0})},getItems:function(){return this.items},getItem:function(e){if(null==e||void 0==e)return null;if(this.itemMapping["id"+e.id]){var t=this.itemMapping["id"+e.id].item;return t}return null},isExpanded:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t?t.isExpanded:!1},isSelected:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t?t==this.selectedItem:!1},getPrevItem:function(e){var t=this.getItem(e);void 0!=e.treeInstance&&(t=e);var i=this._prevVisibleItem(t);return i},getNextItem:function(e){var t=this.getItem(e);void 0!=e.treeInstance&&(t=e);var i=this._nextVisibleItem(t);return i},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(t.length>0){var i=this.getItem(t[0]);this.selectItem(i)}}else{var i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t,i){if(!this.disabled){var r=this;if(t&&void 0!=t.treeInstance&&(t=t.element),null==t||void 0==t)return void(null!=r.selectedItem&&(e(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-fill-state-pressed")),e(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-selected")),r.selectedItem=null));if(null==this.selectedItem||this.selectedItem.element!=t){var s=null!=this.selectedItem?this.selectedItem.element:null;s&&e(s).removeAttr("aria-selected"),e.each(r.items,function(){var i=this;this.selected=!1,i.disabled||i.element==t&&(null==r.selectedItem||null!=r.selectedItem&&r.selectedItem.titleElement!=i.titleElement)&&(null!=r.selectedItem&&(e(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-fill-state-pressed")),e(r.selectedItem.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-selected"))),e(i.titleElement).addClass(r.toThemeProperty("jqx-fill-state-pressed")),e(i.titleElement).addClass(r.toThemeProperty("jqx-tree-item-selected")),r.selectedItem=i,this.selected=!0,e(i.element).attr("aria-selected","true"),e.jqx.aria(r,"aria-activedescendant",i.element.id))}),this._updateInputSelection(),i||(i=null),this._raiseEvent("2",{element:t,prevElement:s,type:i})}}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,r=this.animationHideDuration;this.animationHideDuration=0,e.each(i,function(){var e=this;1==e.isExpanded&&t._collapseItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationHideDuration),this.animationHideDuration=r},expandAll:function(){var t=this;this.isUpdating=!0;var i=this.animationShowDuration;this.animationShowDuration=0,e.each(this.items,function(){var e=this;e.hasItems&&t._expandItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationShowDuration),this.animationShowDuration=i},collapseItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(this.items,function(){var e=this;return 1==e.isExpanded&&e.element==t?(i._collapseItem(i,e),!1):void 0}),!0},expandItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(i.items,function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))}),!0},_getClosedSubtreeOffset:function(t){var i=e(t.subtreeElement),r=-i.outerHeight(),s=-i.outerWidth();return s=0,{left:s,top:r}},_collapseItem:function(t,i,r,s){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;var o=e(i.subtreeElement),n=this._getClosedSubtreeOffset(i);n.top,n.left;$treeElement=e(i.element);var a=t.animationHideDelay;a=0,null!=o.data("timer").show&&(clearTimeout(o.data("timer").show),o.data("timer").show=null);var l=function(){if(i.isExpanded=!1,t.checkboxes){var r=o.find(".chkbox");r.stop(),r.css("opacity",1),o.find(".chkbox").animate({opacity:0},50)}var s=e(i.arrow);t._arrowStyle(s,"",i.isExpanded),o.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1,t._calculateWidth();var r=e(i.arrow);t._arrowStyle(r,"",i.isExpanded),o.hide(),t._raiseEvent("1",{element:i.element})})};a>0?o.data("timer").hide=setTimeout(function(){l()},a):l()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=e(i.subtreeElement);null!=r.data("timer")&&null!=r.data("timer").hide&&clearTimeout(r.data("timer").hide);var s=(e(i.element),0);if(parseInt(r.css("top"))==s)return void(i.isExpanded=!0);var o=e(i.arrow);if(t._arrowStyle(o,"",i.isExpanded),t.checkboxes){var n=r.find(".chkbox");n.stop(),n.css("opacity",0),n.animate({opacity:1},t.animationShowDuration)}if(r.slideDown(t.animationShowDuration,t.easing,function(){var r=e(i.arrow);i.isExpanded=!0,t._arrowStyle(r,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var a=e(i.subtreeElement).find("li");e.each(a,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})}},_calculateWidth:function(){var t=this,i=this.checkboxes?20:0,r=0;if(!this.isUpdating){if(e.each(this.items,function(){var t=e(this.element).height();if(0!=t){var s=e(this.titleElement).outerWidth()+10+i+20*(1+this.level);if(r=Math.max(r,s),this.hasItems){var o=parseInt(e(this.titleElement).css("padding-top"));isNaN(o)&&(o=0),o=2*o,o+=2;var n=(o+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?e(this.arrow).css("margin-top","3px"):parseInt(n)>=0&&e(this.arrow).css("margin-top",parseInt(n)+"px")}}}),this.toggleIndicatorSize>16&&(r=r+this.toggleIndicatorSize-16),t.panel)if(r>this.host.width()){var s=r-this.host.width(),o="hidden"!==t.panel.jqxPanel("vScrollBar").css("visibility")?10:0;s+=o,t.panel.jqxPanel({horizontalScrollBarMax:s})}else t.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(r);var n=this.host.width()-30;n>0&&this.host.find("ul:first").css("min-width",n),t.panel&&t.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){var r=this;if(e.length>0){e.removeClass();var s="";"hover"==t&&(s="-"+t);var o=i?"-expand":"-collapse",n="jqx-tree-item-arrow"+o+s;if(e.addClass(r.toThemeProperty(n)),!this.rtl){var o=i?"-down":"-right";e.addClass(r.toThemeProperty("jqx-icon-arrow"+o))}if(this.rtl){e.addClass(r.toThemeProperty(n+"-rtl"));var o=i?"-down":"-left";e.addClass(r.toThemeProperty("jqx-icon-arrow"+o))}}},_initialize:function(t,i){var r=this;this.host.addClass(r.toThemeProperty("jqx-widget")),this.host.addClass(r.toThemeProperty("jqx-widget-content")),this.host.addClass(r.toThemeProperty("jqx-tree")),this._updateDisabledState();var s=e.jqx.browser.msie&&e.jqx.browser.version<8;e.each(this.items,function(){var t=this;$element=e(t.element);var i=null;if(r.checkboxes&&!t.hasItems&&t.checkBoxElement&&e(t.checkBoxElement).css("margin-left","0px"),s)!t.hasItems&&e(t.element).find("ul").length>0&&e(t.element).find("ul").remove();else{if(!t.hasItems){r.rtl?t.element.style.marginRight=parseInt(r.toggleIndicatorSize)+"px":t.element.style.marginLeft=parseInt(r.toggleIndicatorSize)+"px";var o=e(t.arrow);return o.length>0&&(o.remove(),t.arrow=null),!0}r.rtl?t.element.style.marginRight="0px":t.element.style.marginLeft="0px"}var o=e(t.arrow);o.length>0&&o.remove(),i=e('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),i.prependTo($element),r.rtl?i.css("float","right"):i.css("float","left"),i.css("clear","both"),i.width(r.toggleIndicatorSize),r._arrowStyle(i,"",t.isExpanded);var n=parseInt(e(this.titleElement).css("padding-top"));isNaN(n)&&(n=0),n=2*n,n+=2;var a=(n+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?i.css("margin-top","3px"):parseInt(a)>=0&&i.css("margin-top",parseInt(a)+"px"),$element.addClass(r.toThemeProperty("jqx-disableselect")),i.addClass(r.toThemeProperty("jqx-disableselect"));var l="click",d=r.isTouchDevice();d&&(l=e.jqx.mobile.getTouchEventName("touchend")),r.addHandler(i,l,function(){return t.isExpanded?r._collapseItem(r,t):r._expandItem(r,t),!1}),r.addHandler(i,"selectstart",function(){return!1}),r.addHandler(i,"mouseup",function(){return d?void 0:!1}),t.hasItems=e(t.element).find("li").length>0,t.arrow=i[0],t.hasItems||i.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(t){var i=e(window).scrollTop(),r=e(window).scrollLeft(),s=e.jqx.mobile.isSafariMobileBrowser(),o=e(t).offset(),n=o.top,a=o.left;return null!=s&&s?{left:a-r,top:n-i}:e(t).offset()},_renderHover:function(t,i,r){var s=this;if(!r){var o=e(i.titleElement);s.addHandler(o,"mouseenter",function(){i.disabled||!s.enableHover||s.disabled||(o.addClass(s.toThemeProperty("jqx-fill-state-hover")),o.addClass(s.toThemeProperty("jqx-tree-item-hover")))}),s.addHandler(o,"mouseleave",function(){i.disabled||!s.enableHover||s.disabled||(o.removeClass(s.toThemeProperty("jqx-fill-state-hover")),o.removeClass(s.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(t,i){if(e.jqx.browser.msie&&e.jqx.browser.version<8){var r=this;e.each(this.items,function(){var t=e(this.element),i=t.parent(),r=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;t.css("min-width",r);var s=parseInt(i.css("min-width"));isNaN(s)&&(s=0);var o=t.css("min-width");s<parseInt(t.css("min-width"))&&i.css("min-width",o),this.titleElement[0].style.width=null})}var r=this;e.data(r.element,"animationHideDelay",r.animationHideDelay),e.data(document.body,"treeel",this),this._initialize();var s=this.isTouchDevice();if(s&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),void 0!=t&&1!=t||e.each(this.items,function(){r._updateItemEvents(r,this)}),this.allowDrag&&this._enableDragDrop&&(void 0==i||1==i)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var o=this.host.find("div:first"),n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),o.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:n}),e.jqx.browser.msie&&e.jqx.browser.version<8&&o.jqxPanel("content").css("left","0px"),o.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(o,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(o,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(o,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var a=e.data(o[0],"jqxPanel").instance;null!=a&&(this.vScrollInstance=a.vScrollInstance,this.hScrollInstance=a.hScrollInstance),this.panelInstance=a,e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),o[0].className="",this.panel=o}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var r=this.isTouchDevice();r&&(this.toggleMode=e.jqx.mobile.getTouchEventName("touchend"));var s=e(i.element);t.enableRoundedCorners&&s.addClass(t.toThemeProperty("jqx-rc-all"));var o=r?e.jqx.mobile.getTouchEventName("touchend"):"mousedown";t.touchMode===!0&&t.removeHandler(e(i.checkBoxElement),"mousedown"),t.removeHandler(e(i.checkBoxElement),o),t.addHandler(e(i.checkBoxElement),o,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var n=e(i.titleElement);t.removeHandler(s);var a=this.allowDrag&&this._enableDragDrop;a?(t.removeHandler(n,"mousedown.item"),t.removeHandler(n,"click"),t.removeHandler(n,"dblclick"),t.removeHandler(n,"mouseenter"),t.removeHandler(n,"mouseleave")):t.removeHandler(n),t._renderHover(s,i,r);var l=e(i.subtreeElement);if(l.length>0){var d=i.isExpanded?"block":"none";l.css({overflow:"hidden",display:d}),l.data("timer",{})}t.addHandler(n,"selectstart",function(e){return!1}),e.jqx.browser.opera&&t.addHandler(n,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(n,"click",function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),n.focus(),t._raiseEvent("9",{element:i.element})}),t.addHandler(n,t.toggleMode,function(e){return l.length>0&&clearTimeout(l.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),void 0==i.isExpanding&&(i.isExpanding=!1),void 0==i.isCollapsing&&(i.isCollapsing=!1),l.length>0?(i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1):void 0})},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),this._isTouchDevice=t,t},createID:function(){return e.jqx.utilities.createId()},createTree:function(t){if(null!=t){var i=this,r=e(t).find("li");this.items=new Array,this.itemMapping=new Array,e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),e(document.body).append(this._measureItem)),e.jqx.browser.msie&&e.jqx.browser.version<8;for(var s=0;s<r.length;s++)this._createItem(r[s]);(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&e.each(this.items,function(){this.level!=t&&void 0!=t||i._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(t){if(this.checkboxes&&"none"!=e(t.titleElement).css("display")){var i=e(t.checkBoxElement),r=e(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",r),this.rtl||(e.jqx.browser.msie&&e.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?e.each(this.items,function(){t._updateCheckState(this)}):e.each(this.items,function(){null==this.checked&&t.checkItem(this.element,!1,"tree")})},_updateCheckState:function(t){if(null!=t&&void 0!=t){var i=this,r=0,s=!1,o=0,n=e(t.element).find("li");o=n.length,t.checked&&o>0&&e.each(n,function(e){var t=i.itemMapping["id"+this.id].item,r=t.element.getAttribute("item-checked");void 0!=r&&null!=r&&"true"!=r&&1!=r||i.checkItem(t.element,!0,"tree")}),e.each(n,function(e){var t=i.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&(s=!0),r++)}),o>0&&(r==o?this.checkItem(t.element,!0,"tree"):r>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var t=this.host.find("ul:first"),i=e(t).find("li"),r=0;r<i.length;r++){var s=i[r];if(this.itemMapping["id"+s.id]){var o=this.itemMapping["id"+s.id].item;if(!o)continue;o.prevItem=null,o.nextItem=null,r>0&&this.itemMapping["id"+i[r-1].id]&&(o.prevItem=this.itemMapping["id"+i[r-1].id].item),r<i.length-1&&this.itemMapping["id"+i[r+1].id]&&(o.nextItem=this.itemMapping["id"+i[r+1].id].item)}}},_applyTheme:function(t,i){var r=this;this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(r.toThemeProperty("jqx-tree")),this.host.addClass(r.toThemeProperty("jqx-widget"));var s=this.host.find("ul:first");e(s).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-"+t)),e(s).addClass(r.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(e(s).removeClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),e(s).addClass(r.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var o=e(s).find("li"),n=0;n<o.length;n++){var a=o[n];e(a).children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(e(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-"+t)),e(this).addClass(r.toThemeProperty("jqx-tree-dropdown")),r.rtl&&(e(this).removeClass(r.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),e(this).addClass(r.toThemeProperty("jqx-tree-dropdown-rtl"))),!1):void 0})}e.each(this.items,function(){var s=this,o=e(s.element);o.removeClass(r.toThemeProperty("jqx-tree-item-li-"+t)),o.addClass(r.toThemeProperty("jqx-tree-item-li")),this.rtl&&(o.removeClass(r.toThemeProperty("jqx-tree-item-li-"+t)),o.addClass(r.toThemeProperty("jqx-tree-item-li"))),e(s.titleElement).removeClass(r.toThemeProperty("jqx-tree-item-"+t)),e(s.titleElement).addClass(r.toThemeProperty("jqx-tree-item")),e(s.titleElement).removeClass("jqx-item-"+t),e(s.titleElement).addClass(r.toThemeProperty("jqx-item"));var n=e(s.arrow);n.length>0&&r._arrowStyle(n,"",s.isExpanded),s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({theme:i}),r.enableRoundedCorners&&(o.removeClass("jqx-rc-all-"+t),o.addClass(r.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t,i){for(var r=this.host.find("li"),s=new Array,o=new Array,n=e.data(document.body,"treeItemsStorage"),a=this,l=0;l<r.length;l++){var d=r[l],h=e(d),c=n[d.id];if(null!=c){o[o.length]=c,void 0!=t&&1!=t||this._updateItemEvents(this,c),c.level=h.parents("li").length,c.treeInstance=this;var u=null,p=null;-1!=c.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(e(c.titleElement).removeClass(a.toThemeProperty("jqx-fill-state-pressed")),e(c.titleElement).removeClass(a.toThemeProperty("jqx-tree-item-selected")));var f=h.children();f.each(function(){return"ul"==this.tagName||"UL"==this.tagName?(c.subtreeElement=this,e(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&e(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),!1):void 0});var m=h.parents();m.each(function(){return"li"==this.tagName||"LI"==this.tagName?(p=this.id,u=this,!1):void 0}),c.parentElement=u,c.parentId=p,c.hasItems=e(c.element).find("li").length>0,null!=c&&(s[l]={element:d,item:c},s["id"+d.id]=s[l])}}this.itemMapping=s,this.items=o},_createItem:function(t){if(null!=t&&void 0!=t){var i=t.id;i||(i=this.createID());var r=t,s=e(t);r.id=i;var o=e.data(document.body,"treeItemsStorage");void 0==o&&(o=new Array);var n=this.items.length;this.items[n]=new e.jqx._jqxTree.jqxTreeItem,this.treeElements[i]=this.items[n],o[r.id]=this.items[n],e.data(document.body,"treeItemsStorage",o),n=this.items.length;var a=0,l=this,d=null;s.attr("role","treeitem"),s.children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(l.items[n-1].subtreeElement=this,e(this).addClass(l.toThemeProperty("jqx-tree-dropdown")),l.rtl&&(e(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl")),e(this).css("clear","both")),!1):void 0}),s.parents().each(function(){return"li"==this.tagName||"LI"==this.tagName?(a=this.id,d=this,!1):void 0});var h=t.getAttribute("item-expanded");h=null!=h&&void 0!=h&&("true"==h||1==h),r.removeAttribute("item-expanded");var c=t.getAttribute("item-locked");c=null!=c&&void 0!=c&&("true"==c||1==c),r.removeAttribute("item-locked");var u=t.getAttribute("item-selected");u=null!=u&&void 0!=u&&("true"==u||1==u),r.removeAttribute("item-selected");var p=t.getAttribute("item-disabled");p=null!=p&&void 0!=p&&("true"==p||1==p),r.removeAttribute("item-disabled");var f=t.getAttribute("item-checked");f=null!=f&&void 0!=f&&("true"==f||1==f);var m=t.getAttribute("item-title");(null==m||void 0==m||"true"!=m&&1!=m)&&(m=!1),r.removeAttribute("item-title");var g=t.getAttribute("item-icon"),v=t.getAttribute("item-iconsize"),x=t.getAttribute("item-label"),w=t.getAttribute("item-value");r.removeAttribute("item-icon"),r.removeAttribute("item-iconsize"),r.removeAttribute("item-label"),r.removeAttribute("item-value");var b=this.items[n-1];b.id=i,void 0==b.value&&(this._valueList&&this._valueList[i]?b.value=this._valueList[i]:b.value=w),b.icon=g,b.iconsize=v,b.parentId=a,b.disabled=p,b.parentElement=d,b.element=t,b.locked=c,b.selected=u,b.checked=f,b.isExpanded=h,b.treeInstance=this,this.itemMapping[n-1]={element:r,item:b},this.itemMapping["id"+r.id]=this.itemMapping[n-1];var y=!1,_=!1;if(y=!1,this.rtl&&(e(b.element).css("float","right"),e(b.element).css("clear","both")),!y||!_)if(e(r.firstChild).length>0){if(b.icon){var v=b.iconsize;v||(v=16);var g=e('<img width="'+v+'" height="'+v+'" style="float: left;" class="itemicon" src="'+b.icon+'"/>');e(r).prepend(g),g.css("margin-right","4px"),this.rtl&&(g.css("margin-right","0px"),g.css("margin-left","4px"),g.css("float","right"))}var j=r.innerHTML.indexOf("<ul");if(-1==j&&(j=r.innerHTML.indexOf("<UL")),-1==j)b.originalTitle=r.innerHTML,r.innerHTML='<div style="display: inline-block;">'+r.innerHTML+"</div>",b.titleElement=e(e(r)[0].firstChild);else{var q=r.innerHTML.substring(0,j);q=e.trim(q),b.originalTitle=q,q=e('<div style="display: inline-block;">'+q+"</div>");var T=e(r).find("ul:first");T.remove(),r.innerHTML="",e(r).prepend(q),e(r).append(T),b.titleElement=q,this.rtl&&(q.css("float","right"),T.css("padding-right","10px"))}if(e.jqx.browser.msie&&e.jqx.browser.version<8){e(e(r)[0].firstChild).css("display","inline-block");var C=!1;0==this._measureItem.parents().length&&(e(document.body).append(this._measureItem),C=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=e(b.titleElement).text();var k=this._measureItem.width();b.icon&&(k+=20),e(e(item.titleElement).find("img")).length>0&&(k+=20),e(e(r)[0].firstChild).css("max-width",k+"px"),C&&this._measureItem.remove()}}else b.originalTitle="Item",e(r).append(e("<span>Item</span>")),e(r.firstChild).wrap("<span/>"),b.titleElement=e(r)[0].firstChild,e.jqx.browser.msie&&e.jqx.browser.version<8&&e(r.firstChild).css("display","inline-block");var S=e(b.titleElement),D=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&S.addClass("draggable"),null==x||void 0==x?(x=b.titleElement,b.label=e.trim(S.text())):b.label=x,e(r).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&e(r).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),D+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(D+=" "+this.toThemeProperty("jqx-tree-item-rtl")),S[0].className=S[0].className+" "+D,b.level=e(t).parents("li").length,b.hasItems=e(t).find("li").length>0,this.rtl&&b.parentElement&&!this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var I=e('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(I.width(parseInt(this.checkSize)),I.height(parseInt(this.checkSize)),e(r).prepend(I),this.rtl&&(I.css("float","right"),I.css("position","static")),I.jqxCheckBox({hasInput:!1,checked:b.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:p,theme:this.theme}),this.rtl){var P=5;b.parentElement?I.css("margin-right",P+5+"px"):I.css("margin-right",P+"px")}else S.css("margin-left",parseInt(this.checkSize)+6);b.checkBoxElement=I[0],I[0].treeItem=b;var A=S.outerHeight()/2-1-parseInt(this.checkSize)/2;I.css("margin-top",A),e.jqx.browser.msie&&e.jqx.browser.version<8?(S.css("width","1%"),S.css("margin-left",parseInt(this.checkSize)+25)):b.hasItems&&(this.rtl||I.css("margin-left",this.toggleIndicatorSize))}else e.jqx.browser.msie&&e.jqx.browser.version<8&&S.css("width","1%");p&&this.disableItem(b.element),u&&this.selectItem(b.element),e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(r).css("margin","0px"),e(r).css("padding","0px"))}},destroy:function(){this.removeHandler(e(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();e.each(this.items,function(){var r=this,s=e(this.element),o=i?e.jqx.mobile.getTouchEventName("touchend"):"click";t.removeHandler(e(r.checkBoxElement),o);var n=e(r.titleElement);t.removeHandler(s);var a=t.allowDrag&&t._enableDragDrop;a?(t.removeHandler(n,"mousedown.item"),t.removeHandler(n,"click"),t.removeHandler(n,"dblclick"),t.removeHandler(n,"mouseenter"),t.removeHandler(n,"mouseleave")):t.removeHandler(n),$arrowSpan=e(r.arrow),$arrowSpan.length>0&&(t.removeHandler($arrowSpan,o),t.removeHandler($arrowSpan,"selectstart"),t.removeHandler($arrowSpan,"mouseup"),i||(t.removeHandler($arrowSpan,"mouseenter"),t.removeHandler($arrowSpan,"mouseleave")),t.removeHandler(n,"selectstart")),e.jqx.browser.opera&&t.removeHandler(n,"mousedown.item"),"click"!=t.toggleMode&&t.removeHandler(n,"click"),t.removeHandler(n,t.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);s.owner=this,s.args=args;var o=this.host.trigger(s);return o},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==i&&t._updateInputSelection(),"disabled"==i&&t._updateDisabledState(),"theme"==i&&t._applyTheme(r,s),"keyboardNavigation"==i&&(t.enableKeyboardNavigation=s),("width"==i||"height"==i)&&(t.refresh(),
t._initialize(),t._calculateWidth(),t.host.jqxPanel)){var o="fixed";null!=this.height&&"auto"!=this.height||(o="verticalwrap"),null!=this.width&&"auto"!=this.width||(o="fixed"==o?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:o})}if("touchMode"==i&&(t._isTouchDevice=null,s&&(t.enableHover=!1),t._render()),("source"==i||"checkboxes"==i)&&null!=this.source){var n=[];e.each(t.items,function(){this.isExpanded&&(n[n.length]={label:this.label,level:this.level})});var a=t.loadItems(t.source);t.host.jqxPanel?t.panel.jqxPanel("setcontent",a):t.element.innerHTML=a;var l=t.disabled,d=t.host.find("ul:first");d.length>0&&(t.createTree(d[0]),t._render());var h=t,c=h.animationShowDuration;h.animationShowDuration=0,t.disabled=!1,n.length>0&&e.each(t.items,function(){for(var e=0;e<n.length;e++)if(n[e].label==this.label&&n[e].level==this.level){var t=h.getItem(this.element);h._expandItem(h,t)}}),t.disabled=l,h.animationShowDuration=c}"hasThreeStates"==i&&(t._render(),t._updateCheckStates()),"toggleIndicatorSize"==i&&(t._updateCheckLayout(),t._render())}}})}(jqxBaseFramework),function(e){e.jqx._jqxTree.jqxTreeItem=function(e,t,i){var r={label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return r}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDragDrop","",{}),e.extend(e.jqx._jqxDragDrop.prototype,{defineInstance:function(){var t={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return e.extend(!0,this,t),t},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var t=e.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var i=this._getRelativeOffset(this.host),r=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(r={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=r.left+i.left+"px",this.element.style.top=r.top+i.top+"px"}this._validateProperties(),this._idHandler(t),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=e(this.dropTarget)),this._refresh(),t+=1,e.data(document.body,"jqx-draggables",t),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var t=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":t=this.host.parent();break;case"document":t=e(document);break;case"body":t=e(document.body);break;default:t=e(this.appendTo)}return t},_idHandler:function(e){if(!this.element.id){var t="jqx-draggable-"+e;this.element.id=t}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this;this.addHandler(this.host,"dragstart",function(i){if(t.disabled)return!0;var r=e.jqx.mobile.isTouchDevice();return r?void 0:(i.preventDefault(),!1)}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i="";if(window.parent&&document.referrer&&(i=document.referrer),-1!=i.indexOf(document.location.host)){var r=function(e){t._mouseUp(t)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(s){}},_mouseDown:function(e){var t=e.data.self,i=t._getMouseCoordinates(e),r=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;var s=!1;return t._mouseStarted||(t._mouseUp(e),s=!0),r&&(t._mouseDownEvent=e),t._isTouchDevice?!0:1===e.which&&r?void e.preventDefault():!0},_mouseMove:function(e){var t=e.data.self;return t.disabled?!0:t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStart(t._mouseDownEvent,e)?t._mouseStarted=!0:t._mouseStarted=!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted)},_mouseUp:function(e){var t;return t=e.data&&e.data.self?e.data.self:this,t.disabled?!0:(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),t._isTouchDevice?void 0:!1)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){var t=this._getMouseCoordinates(e);return this._movedDistance?!0:t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance?(this._movedDistance=!0,!0):!1},_getMouseCoordinates:function(t){if(this._isTouchDevice){var i=e.jqx.position(t);return{left:i.left,top:i.top}}return{left:t.pageX,top:t.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(t){t.each(function(){e(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(t){t.each(function(){e(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return this.disabled?!1:this._getHandle(e)?(this._disableSelection(this.host),!0):!1},_getScrollParent:function(t){var i;return i=e.jqx.browser.msie&&/(static|relative)/.test(t.css("position"))||/absolute/.test(t.css("position"))?t.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position",1))&&/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0):t.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0),/fixed/.test(t.css("position"))||!i.length?e(document):i},_mouseStart:function(t){var i=this._getMouseCoordinates(t);this._getParentOffset(this.host);this.feedback=this._createFeedback(t),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},e.extend(this._offset,{click:{left:i.left-this._offset.left,top:i.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(t),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,t);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(t,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host),t=this.position;return t={left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e,t){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(t,i,r){if(this.dropTarget){var s=!1,o=this;e.each(this.dropTarget,function(e,n){return s=o._overItem(n,t,i,r),s.over?!1:void 0})}return s},_overItem:function(t,i,r,s){t=e(t);var o,n=t.offset(),a=t.outerHeight(),l=t.outerWidth();if(t&&t[0]!==this.element){var o=!1;switch(this.tolerance){case"intersect":i.left+r>n.left&&i.left<n.left+l&&i.top+s>n.top&&i.top<n.top+a&&(o=!0);break;case"fit":r+i.left<=n.left+l&&i.left>=n.left&&s+i.top<=n.top+a&&i.top>=n.top&&(o=!0)}return{over:o,target:t}}},_handleTarget:function(){if(this.dropTarget){var e=this.feedback.offset(),t=this.feedback.outerWidth(),i=this.feedback.outerHeight(),r=this._over(e,t,i);r.over?(this._targetEnterFired&&r.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&r.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||r.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&r.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:r.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(r.target)),this._oldtarget=r.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||r.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||r.target))}},_mouseStop:function(e){var t=!1,i=this._fixPosition(),r={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(t=this.dropped,this.dropped=!1),this.element&&this.element.parentNode||"original"!==this.feedback?(this._dropElement(i),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(i,r.width,r.height).over&&this.onTargetDrop(this._over(i,r.width,r.height).target),this._revertHandler(),!1):!1},_dropElement:function(e){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);e=this.position,e.left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}},_revertHandler:function(){if(this.revert||e.isFunction(this.revert)&&this.revert()){var t=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?e(this.feedback).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()}):t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,e(this.host).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.element.style.zIndex=t._zIndexBackup}))}},_getHandle:function(t){var i;return this.handle?e(this.handle,this.host).find("*").andSelf().each(function(){this==t.target&&(i=!0)}):i=!0,i},_createFeedback:function(e){var t;if(t="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(t.css("position"))||t.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||t[0]!==this.element){t.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(t).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(t).top}),t.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(t),t},_getParentOffset:function(t){var t=t||this.feedback;this._offsetParent=t.offsetParent();var i=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&e.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:i.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){this._scrollParent||e.parent();if(e=e||this.feedback,"relative"===e.css("position")){var t=this.host.position();return{top:t.top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),"document"!=this.restricter&&"window"!=this.restricter||this._handleNativeRestricter(),"undefined"!=typeof this.restricter.left&&"undefined"!=typeof this.restricter.top&&"undefined"!=typeof this.restricter.height&&"undefined"!=typeof this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:e(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:e(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:e(window).scrollLeft())+e("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:e(window).scrollTop())+(e("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var t=e(this.restricter),i=t[0];if(i){var r="hidden"!==e(i).css("overflow");this._restricter=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(r?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(r?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=t}},_convertPositionTo:function(t,i){i||(i=this.position);var r,s,o;return r="absolute"===t?1:-1,s="absolute"!==this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,o=/(html|body)/i.test(s[0].tagName),this._getPosition(i,r,o,s)},_getPosition:function(t,i,r,s){return{top:t.top+this._offset.relative.top*i+this._offset.parent.top*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():r?0:s.scrollTop())*i),left:t.left+this._offset.relative.left*i+this._offset.parent.left*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():r?0:s.scrollLeft())*i)}},_generatePosition:function(t){var i="absolute"!=this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,r=/(html|body)/i.test(i[0].tagName),s=this._getMouseCoordinates(t),o=s.left,n=s.top;if(this.originalPosition){var a;if(this.restricter){if(this._restrictiveContainer){var l=this._restrictiveContainer.offset();a=[this._restricter[0]+l.left,this._restricter[1]+l.top,this._restricter[2]+l.left,this._restricter[3]+l.top]}else a=this._restricter;s.left-this._offset.click.left<a[0]&&(o=a[0]+this._offset.click.left),s.top-this._offset.click.top<a[1]&&(n=a[1]+this._offset.click.top),s.left-this._offset.click.left>a[2]&&(o=a[2]+this._offset.click.left),s.top-this._offset.click.top>a[3]&&(n=a[3]+this._offset.click.top)}}return{top:n-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():r?0:i.scrollLeft())}},_raiseEvent:function(t,i){if(void 0==this.triggerEvents||0!=this.triggerEvents){var r=this._events[t],s=e.Event(r),i=i||{};return i.position=this.position,i.element=this.element,e.extend(i,this.data),i.feedback=this.feedback,s.args=i,this.host.trigger(s)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(t,i,r,s){"dropTarget"===i?"string"==typeof s&&(t.dropTarget=e(s)):"disabled"==i?s&&t._enableSelection(t.host):"cursor"==i&&t.host.css("cursor",t.cursor)}})}(jqxBaseFramework),function(e){jqxListBoxDragDrop=function(){e.extend(e.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var r=e.host.offset(),s=i-parseInt(r.top),o=t-parseInt(r.left),n=e._hitTest(o,s);if(0>s)return null;if(null!=n){var a=parseInt(r.left),l=a+e.host.width();return a<=t+n.width/2&&l>=t?n:null}if(e.items&&e.items.length>0){var d=e.items[e.items.length-1];if(e.groups.length<2&&d.top+d.height+15>=s)return d}return null},_handleDragStart:function(t,i){var r=e.jqx.mobile.isTouchDevice();r&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){if(i.allowDrag&&!i.disabled){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i.isDragging=!0,i._dragCancel=!1;var r=i._getMouseCoordinates(t),s=i._hitTestBounds(i,r.left,r.top),o=e.find(".jqx-listbox");i._listBoxes=o,e.each(i._listBoxes,function(){var t=e.data(this,"jqxListBox").instance;t._enableHover=t.enableHover,t.enableHover=!1,e.jqx.mobile.setTouchScroll(!1,i.element.id)});var n=function(){i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),e.each(i._listBoxes,function(){var t=e.data(this,"jqxListBox").instance;void 0!=t._enableHover&&(t.enableHover=t._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id))})};if(null==s||s.isGroup)null==s&&n();else{if(i._dragItem=s,i.dragStart){var a=i.dragStart(s);if(0==a)return n(),!1}s.disabled&&n(),i._raiseEvent(4,{label:s.label,value:s.value,originalEvent:t.args})}}return!1})},_handleDragging:function(t,i){t.off("dragging"),t.on("dragging",function(t){var r=t.args;if(!i._dragCancel){var s=i._getMouseCoordinates(t),o=s;i._lastDraggingPosition=s,i._dragOverItem=null,i.feedbackElement.hide(),e.each(i._listBoxes,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),n=t.top+20,a=e(this).height()+n-40,l=t.left,d=e(this).width(),h=l+d,c=e.data(this,"jqxListBox").instance,u=c._hitTestBounds(c,s.left,s.top),p=c.vScrollInstance;if(null!=u&&c.allowDrop&&!c.disabled&&(i._dragOverItem=u,u.element)){i.feedbackElement.show();var f=e(u.element).offset().top+1;o.top>f+u.height/2&&(f+=u.height),i.feedbackElement.css("top",f),i.feedbackElement.css("left",l),"visible"!=c.vScrollBar.css("visibility")?i.feedbackElement.width(e(this).width()):i.feedbackElement.width(e(this).width()-20)}s.left>=l&&s.left<h?r.position.top<n&&r.position.top>=n-30?(clearInterval(c._autoScrollTimer),0!=p.value&&i.feedbackElement.hide(),c._autoScrollTimer=setInterval(function(){var e=c.scrollUp();e||clearInterval(c._autoScrollTimer)},100)):r.position.top>a&&r.position.top<a+30?(clearInterval(c._autoScrollTimer),"hidden"!=c.vScrollBar.css("visibility")&&p.value!=p.max&&i.feedbackElement.hide(),c._autoScrollTimer=setInterval(function(){var e=c.scrollDown();e||clearInterval(c._autoScrollTimer)},100)):clearInterval(c._autoScrollTimer):(null==i._dragOverItem&&i.feedbackElement.hide(),clearInterval(c._autoScrollTimer))})}})},_handleDragEnd:function(t,i){e.find(".jqx-listbox");t.off("dragEnd"),t.on("dragEnd",function(t){clearInterval(i._autoScrollTimer);var r=e.jqx.mobile.isTouchDevice(),s=r?i._lastDraggingPosition:i._getMouseCoordinates(t),o=e.find(".jqx-listbox"),n=null;if(i.feedbackElement.remove(),i._dragCancel)return void t.stopPropagation();e.each(o,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),r=t+e(this).width(),o=e.data(this,"jqxListBox").instance;if(clearInterval(o._autoScrollTimer),void 0!=o._enableHover&&(o.enableHover=o._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id)),null!=i._dragItem&&s.left+i._dragItem.width/2>=t&&s.left<r){var a=parseInt(e(this).offset().top),l=a+e(this).height();s.top>=a&&s.top<=l&&(n=e(this))}});var a=i._dragItem;if(null!=n&&n.length>0){var l=e.data(n[0],"jqxListBox").instance,d=l.allowDrop;if(d&&!l.disabled){var l=e.data(n[0],"jqxListBox").instance,h=l._hitTestBounds(l,s.left,s.top);if(h=i._dragOverItem,null==h||h.isGroup){if("none"!=l.dropAction){if(l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),i.dragEnd){var c=i.dragEnd(i._dragItem,null,t.args);if(0==c)return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}l.addItem(i._dragItem),"default"==l.dropAction&&(a.visibleIndex>0&&i.selectIndex(a.visibleIndex-1),i.removeItem(a,!0)),l.clearSelection(),l.selectIndex(l.items.length-1)}}else{var c=!0;if(i.dragEnd){if(c=i.dragEnd(a,h,t.args),0==c)return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}if(c){var u=(h.visibleIndex,function(){for(var e=h.visibleIndex,t=e-2;e+2>=t;t++)if(l.items&&l.items.length>t){var i=l.items[t];if(null!=i&&i.value==a.value)return i.visibleIndex}return e});if("none"!=l.dropAction){if(h.element)var p=e(h.element).offset().top+1;else var p=e(l.element).offset().top+1;l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),s.top>p+h.height/2?l.insertAt(i._dragItem,h.index+1):l.insertAt(i._dragItem,h.index),"default"==i.dropAction&&(a.visibleIndex>0&&(i.clearSelection(),i.selectIndex(a.visibleIndex-1)),i.removeItem(a,!0));var f=u();l.clearSelection(),l.selectIndex(f)}}}}}else if(i.dragEnd){var m=i.dragEnd(a,t.args);if(0==m)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return null!=a&&i._raiseEvent(5,{label:a.label,value:a.value,originalEvent:t.args}),!1})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.content.find(".draggable");if(t.length>0){var i=this;t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var r=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(r);var s=r.width();r.remove(),t.width(s+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}}})},jqxTreeDragDrop=function(){e.extend(e.jqx._jqxTree.prototype,{_hitTestBounds:function(t,i,r){var s=null;if(t._visibleItems){var o=parseInt(t.host.offset().left),n=t.host.outerWidth();e.each(t._visibleItems,function(a){if(i>=o&&o+n>i&&this.top+5<r&&r<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&(s=t.getItem(l[0]),null!=s))return s.height=this.height,s.top=this.top,!1}})}return s},_handleDragStart:function(t,i){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var r=e.jqx.mobile.isTouchDevice();r&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,"panel"+i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i._dragCancel=!1;var r=(t.args.position,e.find(".jqx-tree"));return i._trees=r,e.each(r,function(){var r=e.data(this,"jqxTree").instance,s=r.host.find(".draggable");if(r._syncItems(s),r.allowDrag&&!r.disabled){var o=e(t.target).parents("li:first");if(o.length>0){var n=r.getItem(o[0]);if(n){if(i._dragItem=n,r.dragStart){var a=r.dragStart(n);if(0==a)return i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:r}),!1}r._raiseEvent(8,{label:n.label,value:n.value,originalEvent:t.args})}}}}),!1})},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}},_handleDragging:function(t,i){var t=this.host.find(".draggable");t.off("dragging"),t.on("dragging",function(t){var r=t.args,s=(r.position,i._trees);if(!i._dragCancel){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var o=!0,n=i._getMouseCoordinates(t);i._lastDraggingPosition=n,e.each(s,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),r=t.top+20,s=e(this).height()+r-40,a=t.left,l=e(this).width(),d=a+l,h=e.data(this,"jqxTree").instance;if(!h.disabled&&h.allowDrop){var c=h.vScrollInstance,u=h._hitTestBounds(h,n.left,n.top);if(null!=u&&(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(h.toThemeProperty("jqx-fill-state-hover")),i._dragOverItem=u,u.element)){i.feedbackElement.show();var p=u.top,f=n.top;i._dropPosition="before",f>p+u.height/3&&(p=u.top+u.height/2,i._dragOverItem.titleElement.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.hide(),i._dropPosition="inside"),f>u.top+u.height-u.height/3&&(p=u.top+u.height,i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.show(),i._dropPosition="after"),i.feedbackElement.css("top",p);var a=-2+parseInt(u.titleElement.offset().left);i.feedbackElement.css("left",a),i.feedbackElement.width(e(u.titleElement).width()+12)}n.left>=a&&n.left<d?(n.top+20>=r&&n.top<=r+h.host.height()&&(o=!1),n.top<r&&n.top>=r-30?(clearInterval(h._autoScrollTimer),0!=c.value&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){var e=h.panelInstance.scrollUp(),t=h.host.find(".draggable");h._syncItems(t),e||clearInterval(h._autoScrollTimer)},100)):n.top>s&&n.top<s+30?(clearInterval(h._autoScrollTimer),c.value!=c.max&&i.feedbackElement.hide(),h._autoScrollTimer=setInterval(function(){var e=h.panelInstance.scrollDown(),t=h.host.find(".draggable");h._syncItems(t),e||clearInterval(h._autoScrollTimer)},100)):clearInterval(h._autoScrollTimer)):clearInterval(h._autoScrollTimer)}}),o&&i.feedbackElement&&i.feedbackElement.hide()}})},_handleDragEnd:function(t,i){t.off("dragEnd"),t.on("dragEnd",function(t){i.host.find(".draggable");clearInterval(i._autoScrollTimer);var r=(t.args.position,i._trees),s=null,o=e.jqx.mobile.isTouchDevice(),n=o?i._lastDraggingPosition:i._getMouseCoordinates(t);if(i.feedbackElement.remove(),i._dragCancel)return!1;i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.each(r,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),r=t+e(this).width(),o=e.data(this,"jqxTree").instance;if(clearInterval(o._autoScrollTimer),null!=i._dragItem&&n.left>=t&&n.left<r){var a=parseInt(e(this).offset().top),l=a+e(this).height();n.top>=a&&n.top<=l&&(s=e(this))}});var a=i._dragItem;if(null!=s&&s.length>0){var l=s.jqxTree("allowDrop");if(l){var d=e.data(s[0],"jqxTree").instance,h=i._dragOverItem;if(null!=h&&i._dragOverItem.treeInstance.element.id==d.element.id){var c=!0;if(i.dragEnd&&(c=i.dragEnd(a,h,t.args,i._dropPosition,s),
0==c&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){var u=function(){var e=i._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),i._dragItem.treeInstance=d,i._syncItems(i._dragItem.treeInstance.host.find(".draggable"))};if("none"!=d.dropAction&&i._dragItem.id!=i._dragOverItem.id)if("inside"==i._dropPosition)d._drop(i._dragItem.element,i._dragOverItem.element,-1,d),u();else{var p=0;"after"==i._dropPosition&&p++,d._drop(i._dragItem.element,i._dragOverItem.parentElement,p+e(i._dragOverItem.element).index(),d),u()}d._render(!0,!1);var f=d.host.find(".draggable");i._syncItems(f),i._dragOverItem=null,i._dragItem=null,d._refreshMapping(),d._updateItemsNavigation(),d.selectedItem=null,d.selectItem(a.element),d.checkboxes&&d._updateCheckStates(),d._render(!0,!1)}}else if("none"!=d.dropAction&&d.allowDrop){var c=!0;if(i.dragEnd&&(c=i.dragEnd(a,h,t.args,i._dropPosition,s),0==c&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){i._dragItem.parentElement=null,d._drop(i._dragItem.element,null,-1,d);var m=i._dragItem.treeInstance;m._refreshMapping(),m._updateItemsNavigation(),m.checkboxes&&m._updateCheckStates();var f=m.host.find(".draggable");i._syncItems(f),i._dragItem.treeInstance=d,d.items[d.items.length]=i._dragItem,d._render(!0,!1),d._refreshMapping(),d.selectItem(a.element),d._updateItemsNavigation();var f=d.host.find(".draggable");d._syncItems(f),d.checkboxes&&d._updateCheckStates(),i._dragOverItem=null,i._dragItem=null}}}}else if(i.dragEnd){var g=i.dragEnd(a,t.args);if(0==g)return!1}return null!=a&&i._raiseEvent(7,{label:a.label,value:a.value,originalEvent:t.args}),!1})},_drop:function(t,i,r,s){if(!(e(i).parents("#"+t.id).length>0||null!=i&&i.id==t.id)){if(s.element.innerHTML.indexOf("UL"))var o=s.host.find("ul:first");if(void 0==i&&null==i)void 0==r||-1==r?o.append(t):0==o.children("li").eq(r).length?o.children("li").eq(r-1).after(t):o.children("li").eq(r)[0].id!=t.id&&o.children("li").eq(r).before(t);else if(void 0==r||-1==r){i=e(i);var n=i.find("ul:first");if(0==n.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),n=i.find("ul:first");var a=s.itemMapping["id"+i[0].id].item;a.subtreeElement=n[0],a.hasItems=!0,n.addClass(s.toThemeProperty("jqx-tree-dropdown")),n.append(t),t=n.find("li:first"),a.parentElement=t}else n.append(t)}else{i=e(i);var n=i.find("ul:first");if(0==n.length){if(ulElement=e("<ul></ul>"),e(i).append(ulElement),n=i.find("ul:first"),i){var a=s.itemMapping["id"+i[0].id].item;a.subtreeElement=n[0],a.hasItems=!0}n.addClass(s.toThemeProperty("jqx-tree-dropdown")),n.append(t),t=n.find("li:first"),a.parentElement=t}else 0==n.children("li").eq(r).length?n.children("li").eq(r-1).after(t):n.children("li").eq(r)[0].id!=t.id&&n.children("li").eq(r).before(t)}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.host.find(".draggable"),i=this;if(t.length>0){t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var r=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(r);var s=r.width();r.remove(),t.width(s+5),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}});var r=t.jqxDragDrop("isDestroyed");r===!0&&t.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}}})}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComboBox","",{}),e.extend(e.jqx._jqxComboBox.prototype,{defineInstance:function(){var t={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:1e5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){if(this.host.attr("role","combobox"),e.jqx.aria(this,"aria-autocomplete","both"),null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");e.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};t.field.id.length?r.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":r.id=e.jqx.utilities.createId()+"_jqxComboBox";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(s);var o=t.host.data();if(t.host=s,t.host.data(o),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}var a=e.jqx.parseSourceTag(t.field);t.source=a.items,-1==t.selectedIndex&&(t.selectedIndex=a.index)}t.removeHandlers(),t.isanimating=!1,t.id=e.jqx.utilities.createId(),t.element.innerHTML="";var l=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(t.comboStructure=l,null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";t.touch=e.jqx.mobile.isTouchDevice(),t.touchMode===!0&&(t.touch=!0),t.host.append(l),t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper"),t.dropdownlistArrow=t.host.find("#dropdownlistArrow"),t.dropdownlistContent=t.host.find("#dropdownlistContent"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t.template&&t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-"+t.template)),t.dropdownlistContent.append(e('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),t.input=t.dropdownlistContent.find("input"),t.input.addClass(t.toThemeProperty("jqx-combobox-input")),t.input.addClass(t.toThemeProperty("jqx-widget-content")),t.host.attr("tabindex")&&(t.input.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t._addInput(),t.rtl&&(t.input.css({direction:"rtl"}),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-rtl")));try{var d="listBox"+t.id,h=e(e.find("#"+d));h.length>0&&h.remove(),e.jqx.aria(this,"aria-owns",d),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-multiline",!1),t.listBoxContainer&&t.listBoxContainer.jqxListBox("destroy"),t.container&&t.container.remove();var c=e("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");c.hide(),c.appendTo(document.body),t.container=c,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var u=t.width;"auto"!=t.dropDownWidth&&(u=t.dropDownWidth),null==t.dropDownHeight&&(t.dropDownHeight=200),t.container.width(parseInt(u)+25),t.container.height(parseInt(t.dropDownHeight)+25),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t._raiseEvent("6")});var p=!0;t.listBoxContainer.jqxListBox({autoItemsHeight:t.autoItemsHeight,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:t.checkboxes,emptyString:t.emptyString,autoBind:!t.remoteAutoComplete&&t.autoBind,renderer:t.renderer,rtl:t.rtl,itemHeight:t.itemHeight,selectedIndex:t.selectedIndex,incrementalSearch:!1,width:u,scrollBarSize:t.scrollBarSize,autoHeight:t.autoDropDownHeight,height:t.dropDownHeight,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,source:t.source,theme:t.theme,rendered:function(){if(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.remoteAutoComplete)if(t.autoDropDownHeight?(t.container.height(t.listBox.virtualSize.height+25),t.listBoxContainer.height(t.listBox.virtualSize.height),t.listBox._arrange()):(t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25)),void 0!=t.searchString&&t.searchString.length>=t.minLength){var i=t.listBoxContainer.jqxListBox("items");i&&i.length>0?t.isOpened()||t.open():t.close()}else t.close();else t.renderSelection("mouse"),t.multiSelect&&t.doMultiSelect(!1);t.rendered&&t.rendered()}}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBoxContainer.css("border-top-width","1px"),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox._arrange(),t.addHandler(t.listBoxContainer,"unselect",function(e){t.multiSelect||t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){t.multiSelect||(t.selectedIndex=t.listBox.selectedIndex,t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide(),p=!1}catch(f){throw f}var m=this;m.input.attr("disabled",m.disabled);var g=e.jqx.browser.msie&&e.jqx.browser.version<8;if(g||m.input.attr("placeholder",m.placeHolder),t.propertyChangeMap.disabled=function(t,i,r,s){s?(t.host.addClass(m.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(m.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(m.toThemeProperty("jqx-combobox-content-disabled"))):(t.host.removeClass(m.toThemeProperty("jqx-combobox-state-disabled")),t.host.removeClass(m.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(m.toThemeProperty("jqx-combobox-content-disabled"))),t.input.attr("disabled",t.disabled),e.jqx.aria(t,"aria-disabled",t.disabled),t.input.attr("disabled",t.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-disabled"))),t.host.addClass(t.toThemeProperty("jqx-combobox-state-normal")),t.host.addClass(t.toThemeProperty("jqx-combobox")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistArrowIcon=e("<div></div>"),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon")),t.dropdownlistArrow.append(t.dropdownlistArrowIcon),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-normal")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-l")):t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-r")),t._setSize(),t._updateHandlers(),t.addHandler(t.input,"keyup.textchange",function(e){t._writeTimer&&clearTimeout(t._writeTimer),t._writeTimer=setTimeout(function(){t._search(e);t.cinput&&t.input&&(t.displayMember?t._updateInputSelection():t.cinput[0].value=t.input[0].value)},50)}),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var v=t.host.parents(".jqx-window").css("z-index");c.css("z-index",v+10),t.listBoxContainer.css("z-index",v+10)}t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(this,"aria-readonly",!0)):e.jqx.aria(this,"aria-readonly",!1),t.remoteAutoComplete||(t.searchString="")},_addInput:function(){var t=this.host.attr("name");this.cinput=e("<input type='hidden'/>"),this.host.append(this.cinput),t&&this.cinput.attr("name",t)},_updateInputSelection:function(){if(this.cinput){var t=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var i=this.getSelectedItem();null!=i?(this.cinput.val(i.value),t.push(i.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)var r=this.getSelectedItems();else var r=this.getCheckedItems();var s="";if(null!=r)for(var o=0;o<r.length;o++)s+=o==r.length-1?r[o].value:r[o].value+",",t.push(r[o].value);this.cinput.val(s)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,r){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,r){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(t){var i=this;if(9!=t.keyCode&&"none"!=i.searchMode&&null!=i.searchMode&&"undefined"!=i.searchMode&&16!=t.keyCode&&17!=t.keyCode&&20!=t.keyCode&&!i.checkboxes){if(i.multiSelect){var r=e("<span style='visibility: hidden; white-space: nowrap;'>"+i.input.val()+"</span>");r.addClass(i.toThemeProperty("jqx-widget")),e(document.body).append(r);var s=r.width()+15;r.remove(),s>i.host.width()&&(s=i.host.width()),25>s&&(s=25),i.input.css("width",s+"px"),0==i.selectedItems.length?(i.input.css("width","100%"),i.input.attr("placeholder",i.placeHolder)):i.input.attr("placeholder","");var o=parseInt(this._findPos(i.host[0])[1])+parseInt(i.host.outerHeight())-1+"px",n=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=n&&n&&(o=e.jqx.mobile.getTopPos(this.element)+parseInt(i.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-this._getBodyOffset().top+"px")),i.container.css("top",o);var a=parseInt(i.host.height());i.dropdownlistArrow.height(a)}if(!i.isanimating){if(t.altKey&&38==t.keyCode)return i.hideListBox("altKey"),!1;if(t.altKey&&40==t.keyCode)return i.isOpened()||i.showListBox("altKey"),!1}if(37==t.keyCode||39==t.keyCode)return!1;if(!t.altKey&&18!=t.keyCode&&!(t.keyCode>=33&&t.keyCode<=40||(t.ctrlKey||i.ctrlKey)&&88!=t.keyCode&&86!=t.keyCode)){var l=i.input.val();if(0==l.length&&!i.autoComplete)return i.listBox.searchString=i.input.val(),i.listBox.clearSelection(),i.hideListBox("search"),void(i.searchString=i.input.val());if(i.remoteAutoComplete){var d=this,h=function(){d.listBox.vScrollInstance.value=0};if(l.length>=d.minLength){if(!t.ctrlKey&&!t.altKey){if(d.searchString!=l){var c=d.listBoxContainer.jqxListBox("source");null==c&&d.listBoxContainer.jqxListBox({source:d.source}),i._searchTimer&&clearTimeout(i._searchTimer),13!=t.keyCode&&27!=t.keyCode&&(i._searchTimer=setTimeout(function(){if(h(),d.autoDropDownHeight&&(d.listBox.autoHeight=!0),d.searchString=d.input.val(),null==d.search)throw"'search' function is not defined";d.search(d.input.val())},i.remoteAutoCompleteDelay))}d.searchString=l}}else i._searchTimer&&clearTimeout(i._searchTimer),h(),d.searchString="",d.listBoxContainer.jqxListBox({source:null})}else{var d=this;if(l!==d.searchString){if("27"!=t.keyCode&&"13"!=t.keyCode){var u=i._updateItemsVisibility(l),p=u.matchItems,f=u.index;if(!i.autoComplete&&!i.removeAutoComplete&&(!i.multiSelect||i.multiSelect&&f>=0)){i.listBox.selectIndex(f);var m=i.listBox.isIndexInView(f);m?i.listBox._renderItems():i.listBox.ensureVisible(f)}i.autoComplete&&0===p.length&&i.hideListBox("search")}if("13"==t.keyCode){var g="block"==i.container.css("display");if(g&&!i.isanimating)return i.hideListBox("keyboard"),void(i._oldvalue=i.listBox.selectedValue)}else if("27"==t.keyCode){var g="block"==i.container.css("display");if(g&&!i.isanimating){if(x.multiSelect)x.input.val(""),x.listBox.selectedValue=null;else{var v=i.listBox.getVisibleItem(i._oldvalue);if(v){var x=this;setTimeout(function(){x.autoComplete&&x._updateItemsVisibility(""),x.listBox.selectIndex(v.index),x.renderSelection("api")},x.closeDelay)}else i.clearSelection()}return i.hideListBox("keyboard"),i.renderSelection("api"),t.preventDefault(),!1}}else{i.isOpened()||i.opening||t.ctrlKey||i.listBox.visibleItems&&i.listBox.visibleItems.length>0&&i.input.val()!=i.searchString&&void 0!=i.searchString&&-1!=f&&i.showListBox("search"),i.searchString=i.input.val(),""==i.searchString&&(i.listBox.itemsByValue[""]||(f=-1,i.multiSelect||i.clearSelection()));var v=i.listBox.getVisibleItem(f);void 0!=v&&i._updateInputSelection()}}}}}},val:function(e){if(!this.input)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};if(t(e)||0==arguments.length){var i=this.getSelectedItem();return i?i.value:this.input.val()}var i=this.getItemByValue(e);return null!=i?this.selectItem(i):this.input.val(e),this.input.val()},focus:function(){var e=this,t=function(){e.input.focus();var t=e.input.val();e._setSelection(0,t.length)};t(),setTimeout(function(){t()},10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(r){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var r=this,s=-1,o=new Array,n=0;e.each(i,function(i){var a="";if(!this.isGroup){a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",a=a.toString();var l=!1;switch(r.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(a,t);break;case"contains":l=e.jqx.string.contains(a,t);break;case"equals":l=e.jqx.string.equals(a,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(a,t);break;case"startswith":l=e.jqx.string.startsWith(a,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(a,t);break;case"endswith":l=e.jqx.string.endsWith(a,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(a,t)}if(r.autoComplete&&!l&&(this.visible=!1),l&&r.autoComplete&&(o[n++]=this,this.visible=!0,s=this.visibleIndex),""==t&&r.autoComplete&&(this.visible=!0,l=!1),r.multiSelect&&(this.disabled=!1,(r.selectedItems.indexOf(this.value)>=0||r._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,l=!1)),r.multiSelect){if(l&&!r.autoComplete)return-1===s&&(s=this.visibleIndex),!0}else if(l&&!r.autoComplete)return s=this.visibleIndex,!1}}),this.listBox.searchString=t;var a=this,l=function(){if(a.multiSelect){for(var e=0,t=!1,i=null,r=0;r<a.listBox.items.length;r++)a.listBox.selectedIndexes[r]=-1,a.listBox.items[r].disabled||0==t&&(i=a.listBox.items[r],e=i.visibleIndex,t=!0);a.listBox.selectedIndex=-1,a.listBox.selectedIndex=e,a.listBox.selectedIndexes[e]=e,a.listBox.visibleItems.length>0&&i?a.listBox.selectedValue=i.value:a.listBox.selectedValue=null,a.listBox.ensureVisible(0)}};if(!this.autoComplete)return l(),{index:s,matchItems:o};this.listBox.renderedVisibleItems=new Array;var d=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var h=this.listBox.selectedValue,c=this.listBox.getItemByValue(h);if(this.multiSelect)l();else if(c)if(c.visible){this.listBox.selectedIndex=c.visibleIndex;for(var u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndexes[c.visibleIndex]=c.visibleIndex}else{for(var u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var p=this.listBox._calculateVirtualSize().height;if(d>p&&(d=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(p+25),this.listBox.invalidate(),this._disableSelection=!1;else if(p<parseInt(this.dropDownHeight)){var f="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=f+p,this.container.height(p+25+f),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(d),{index:s,matchItems:o}},findItems:function(t){var i=this.getItems(),r=this,s=0,o=new Array;return e.each(i,function(i){var n="";if(!this.isGroup){n=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":a=e.jqx.string.contains(n,t);break;case"equals":a=e.jqx.string.equals(n,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":a=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":a=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(n,t)}a&&(o[s++]=this)}}),o},_resetautocomplete:function(){e.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){var e=this.listBox.items;return e},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height)),t){var i=this,r=this.host.width();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.width(parseInt(r)+25),this._arrange()}var i=this,s=function(){i.multiSelect&&i.host.height(i.height),i._arrange(),i.multiSelect&&i.host.height("auto")};i.oldWidth=i.host.width(),i.oldHeight=i.host.height(),e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();e==i.oldWidth&&t==i.oldHeight||(s(),i.hideListBox("api")),i.oldWidth=e,i.oldHeight=t})},isOpened:function(){var t=this,i=e.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"!=this.container.css("display")?!1:null!=i&&i==t.listBoxContainer},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){return e.target.href?!1:(t.input.focus(),void setTimeout(function(){t.input.focus()},10))}),this.addHandler(this.dropdownlistContent,"focus",function(e){return e.target.href?!1:(t.input.focus(),void setTimeout(function(){t.input.focus()},10))})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){var i=t.isOpened();i&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-hover")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-fill-state-hover")),i=!1)})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(e(document),"mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var r=t.host.coord(),s=r.top,o=r.left,n=t.container.coord(),a=n.left,l=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()+2&&e.pageX>=o&&e.pageX<o+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()-20&&e.pageX>=a&&e.pageX<a+t.container.width()&&(canClose=!1),canClose&&t.close()}}));var r="mousedown";this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart"));var s=function(i){if(!t.disabled){var r="block"==t.container.css("display");if(!t.isanimating){if(r)return t.hideListBox("api"),e.jqx.mobile.isTouchDevice()||(t.input.focus(),setTimeout(function(){t.input.focus()},10)),!0;if(t.autoDropDownHeight){t.container.height(t.listBoxContainer.height()+25);var s=t.listBoxContainer.jqxListBox("autoHeight");s||(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.height(t.listBoxContainer.height()+25))}if(t.showListBox("api"),e.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){t.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,r,function(e){s(e)}),this.addHandler(this.dropdownlistArrowIcon,r,function(e){}),this.addHandler(this.host,"focus",function(){t.focus()}),this.addHandler(this.input,"focus",function(e){t.focused=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){t.focused=!1,t.isOpened()||t.opening||("dropDownList"==t.selectionMode&&t._selectOldValue(),t.host.removeClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-focus"))),t._searchTimer&&clearTimeout(t._searchTimer)}),this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if(t.ctrlKey=e.ctrlKey,"none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&i&&!t.isanimating){if(-1!=t.listBox.selectedIndex){t.renderSelection("mouse");var r=t.listBox.selectedIndex,s=t.listBox.getVisibleItem(r);s&&(t.listBox.selectedValue=s.value),t._setSelection(t.input.val().length,t.input.val().length),t.hideListBox("keyboard")}return"13"==e.keyCode&&(t._oldvalue=t.listBox.selectedValue),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"9"==e.keyCode}if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox("keyboard"):t.showListBox("keyboard")),!1;if(e.altKey&&"block"==t.host.css("display")&&(t.isanimating||(38==e.keyCode?t.isOpened()&&t.hideListBox("altKey"):40==e.keyCode&&(t.isOpened()||t.showListBox("altKey")))),("27"==e.keyCode||"9"==e.keyCode)&&t.isOpened()&&!t.isanimating){if("27"==e.keyCode)if(t.multiSelect)t.listBox.selectedValue=null,t.input.val("");else{var s=t.listBox.getItemByValue(t._oldvalue);s?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(s.index),t.renderSelection("api")},t.closeDelay):t.clearSelection()}return t.hideListBox("keyboard"),"9"==e.keyCode?!0:(t.renderSelection("api"),e.preventDefault(),!1)}var o=e.keyCode;if(i&&!t.disabled&&8!=o)return t.listBox._handleKeyDown(e);if(!t.disabled&&!i){var o=e.keyCode;if(33==o||34==o||35==o||36==o||38==o||40==o)return t.listBox._handleKeyDown(e)}if(8===o&&t.multiSelect&&0===t.input.val().length){var n=t.selectedItems[t.selectedItems.length-1];return t.selectedItems.pop(),t._selectedItems.pop(),n&&(t._raiseEvent("3",{index:n.index,type:"keyboard",item:n}),t._raiseEvent("4",{index:n.index,type:"keyboard",item:n})),t.listBox.selectedValue=null,t.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection("mouse"),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled&&("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(e.args.type),t.multiSelect||t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(t._oldvalue=t.listBox.selectedValue,!t.checkboxes))){if(t.hideListBox("mouse"),t.touch)return!1;t.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&e.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;t.renderSelection("mouse"),
t._oldvalue=t.listBox.selectedValue,t.touch||t.ishiding||t.checkboxes||(t.hideListBox("mouse"),t.input.focus()),t.touch===!0&&(t.checkboxes||t.hideListBox("mouse"))}})},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout(function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")},e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){var t=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,i),this.removeHandler(this.dropdownlistArrow,i)}},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},getVisibleItem:function(e){var t=this.listBox.getVisibleItem(e);return t},renderSelection:function(t){if(void 0!=t&&"none"!=t&&this._disableSelection!==!0&&null!=this.listBox&&!this.multiSelect){var i=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var i=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var r=this.getCheckedItems();i=null!=r&&r.length>0?r[0]:null}if(null==i){var s=e.jqx.browser.msie&&e.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),s||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var o=e("<span></span>");void 0!=i.label&&null!=i.label&&i.label.toString().length>0?e.jqx.utilities.html(o,i.label):void 0!=i.value&&null!=i.value&&i.value.toString().length>0?e.jqx.utilities.html(o,i.value):void 0!=i.title&&null!=i.title&&i.title.toString().length>0?e.jqx.utilities.html(o,i.title):e.jqx.utilities.html(o,this.emptyString);o.outerHeight();if(this.checkboxes){for(var n=this.getCheckedItems(),a="",l=0;l<n.length;l++)a+=l==n.length-1?n[l].label:n[l].label+", ";this.input.val(a)}else this.input.val(o.text());if(o.remove(),this._updateInputSelection(),this.renderSelectedItem){var d=this.renderSelectedItem(this.listBox.selectedIndex,i);void 0!=d&&(this.input[0].value=d)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(e>=0){var i=this.getItem(e),r=this.selectedItems.indexOf(i.value);r>=0&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(r,1),this._selectedItems.splice(r,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,r){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,r),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);i>=0&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0].index:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0]:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return e.each(this.selectedItems,function(){var e=i.getItemByValue(this);if(e)t.push(e);else{var e=i._selectedItems[this];e&&t.push(e)}}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){var e=this.getVisibleItem(e);return e&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){var e=this.getVisibleItem(e);return e&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;if(t){var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,r){var s=t.outerWidth(),o=t.outerHeight(),n=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+s>n&&s>this.host.width()){var l=this.host.coord().left,d=s-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+o>a&&a>o?Math.abs(o+r+23):0),i},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(t){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=t||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=t&&(this._updateItemsVisibility(""),this.multiSelect))for(var i=this.getVisibleItems(),r=0;r<i.length;r++)if(!i[r].disabled){this.ensureVisible(r);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=t&&(this._oldvalue=this.listBox.selectedValue),e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var s=this.host.width();this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}var o,n=this,a=this.listBoxContainer,l=this.listBox,d=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));o=h+"px";var c=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();this.ishiding=!1;var u=e.jqx.utilities.hasTransform(this.host);(u||null!=c&&c)&&(o=e.jqx.mobile.getLeftPos(this.element),d=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(d=parseInt(d)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(o=parseInt(o)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",o),this.container.css("top",d),l._arrange();var p=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var f=this.container.outerWidth(),m=Math.abs(f-this.host.width());f>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-m+"px"):this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if("top"==this.dropDownVerticalAlignment){var g=a.height();p=!0,a.css("top",23),a.addClass(this.toThemeProperty("jqx-popup-up"));var v=parseInt(this.host.outerHeight()),x=parseInt(d)-Math.abs(g+v+23);this.container.css("top",x)}if(this.enableBrowserBoundsDetection){var w=this.testOffset(a,{left:parseInt(this.container.css("left")),top:parseInt(d)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=w.top?(p=!0,a.css("top",23),a.addClass(this.toThemeProperty("jqx-popup-up"))):a.css("top",0),this.container.css("top",w.top),this.container.css("top",w.top),parseInt(this.container.css("left"))!=w.left&&this.container.css("left",w.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedCombojqxListBoxParent",n),e.data(document.body,"openedCombojqxListBox"+n.element.id,a),a.css("margin-top",0),a.css("opacity",1);else{this.container.css("display","block");var b=a.outerHeight();a.stop(),"fade"==this.animationType?(a.css("margin-top",0),a.css("opacity",0),a.animate({opacity:1},this.openDelay,function(){n.isanimating=!1,n.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",n),e.data(document.body,"openedCombojqxListBox"+n.element.id,a)})):(a.css("opacity",1),p?a.css("margin-top",b):a.css("margin-top",-b),this.isanimating=!0,this.opening=!0,a.animate({"margin-top":0},this.openDelay,function(){n.isanimating=!1,n.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",n),e.data(document.body,"openedCombojqxListBox"+n.element.id,a)}))}l._renderItems(),p?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),a.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),a.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),a.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",l)}},doMultiSelect:function(t){this.checkboxes&&(this.multiSelect=!1);var i=this;if(!this.multiSelect){var r=i.dropdownlistContent.find(".jqx-button"),s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(r,s),this.removeHandler(r.find(".jqx-icon-close"),s),r.remove();var o=this.listBox.items;if(!o)return;for(var n=0;n<o.length;n++)o[n].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection){var a=this.validateSelection(this.listBox.selectedValue);if(!a)return}this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var l=this.getItemByValue(this.listBox.selectedValue);l&&l.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(l),this._raiseEvent("2",{index:l.index,item:l}),this._raiseEvent("4",{index:l.index,item:l}))}this.listBox.selectedIndex=0}var o=this.listBox.items;if(o){for(var n=0;n<o.length;n++)o[n].disabled=!1,(this.selectedItems.indexOf(o[n].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(o[n].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var o="",s="mousedown",r=i.dropdownlistContent.find(".jqx-button");this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(r,s),this.removeHandler(r.find(".jqx-icon-close"),s),r.remove(),i.input.detach(),this.selectedItems.length>0?(i.input.css("width","25px"),i.input.attr("placeholder","")):(i.input.css("width","100%"),i.input.attr("placeholder",this.placeHolder)),e.each(this.selectedItems,function(t){var r=i.getItemByValue(this);r&&!i.remoteAutoComplete||(r=i._selectedItems[t]);var s=e('<div style="overflow: hidden; float: left;"></div>');if(s.addClass(i.toThemeProperty("jqx-button")),s.addClass(i.toThemeProperty("jqx-combobox-multi-item")),s.addClass(i.toThemeProperty("jqx-fill-state-normal")),s.addClass(i.toThemeProperty("jqx-rc-all")),r){var o=r.label;if(i.renderSelectedItem){var n=i.renderSelectedItem(t,r);n&&(o=n)}""==s[0].innerHTML&&(s[0].innerHTML='<a data-value="'+r.value+'" style="float: left;" href="#">'+o+"</a>"),i.rtl&&(s[0].innerHTML='<a data-value="'+r.value+'" style="float: right;" href="#">'+o+"</a>");var a=i.rtl?"left":"right";if(i.showCloseButtons){var l='<div style="position: relative; overflow: hidden; float: '+a+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>'),i.rtl){var l='<div style="position: relative; overflow: hidden; float: '+a+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>')}s[0].innerHTML+=l}}else""==s[0].innerHTML&&(s[0].innerHTML='<a href="#"></a>');i.dropdownlistContent.append(s)}),i.dropdownlistContent.append(i.input),i.input.val(""),t!==!1&&(i.input.focus(),setTimeout(function(){i.input.focus()},10));var r=i.dropdownlistContent.find(".jqx-button");this.touchMode===!0&&(s="mousedown"),this.addHandler(r,s,function(t){if(t.target.className.indexOf("jqx-icon-close")>=0)return!0;if(i.disabled)return!0;var r=e(t.target).attr("data-value"),s=i.getItemByValue(r);return s&&(i.listBox.selectedValue=null,i.listBox.clearSelection()),i.listBox.scrollTo(0,0),i.open(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}),this.addHandler(r.find(".jqx-icon-close"),s,function(t){if(!i.disabled){var r=e(t.target).parent().parent().find("a").attr("data-value"),s=i.getItemByValue(r);if(s||i.remoteAutoComplete&&!s&&i.selectedItems.indexOf(r)>=0){i.listBox.selectedValue=null;var o=i.selectedItems.indexOf(r),n=s&&s.index>=0?s.index:o;if(o>=0){i.selectedItems.splice(o,1);var a=i._selectedItems[o];a||(a=s),i._selectedItems.splice(o,1),i._raiseEvent("3",{index:n,type:"mouse",item:a}),i._raiseEvent("4",{index:n,type:"mouse",item:a}),i.doMultiSelect()}else for(var l=0;l<i.selectedItems.length;l++){var a=i.selectedItems[l];if(a==r){i.selectedItems.splice(l,1),i._selectedItems.splice(l,1),i._raiseEvent("3",{index:n,type:"mouse",item:s}),i._raiseEvent("4",{index:n,type:"mouse",item:s}),i.doMultiSelect();break}}}}}),i.dropdownlistArrow.height(this.host.height()),i._updateInputSelection()}},hideListBox:function(t){var i=this.listBoxContainer,r=this.listBox,s=this.container;if("none"!=this.container[0].style.display){e.jqx.aria(this,"aria-expanded",!1),"keyboard"!=t&&"mouse"!=t||(this.listBox.searchString=""),("keyboard"==t||"mouse"==t&&this.multiSelect)&&this.doMultiSelect();var o=this;if(e.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var n=i.outerHeight();i.css("margin-top",0),i.stop(),this.opening=!1,this.isanimating=!0;var a=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=n),"fade"==this.animationType?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){o.isanimating=!1,s.css("display","none"),o.ishiding=!1})):i.animate({"margin-top":a},this.closeDelay,function(){o.isanimating=!1,s.css("display","none"),o.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",r)}},closeOpenedListBox:function(t){var i=t.data.me,r=e(t.target),s=t.data.listbox;if(null==s)return!0;if(!e(t.target).ischildof(t.data.me.host)){var o=!1;return e.each(r.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return o=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return i.element.id==this.id&&(o=!0),!1}}),null==s||o||i.isOpened()&&(i.hideListBox("api"),i.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var t=parseInt(this.host.width()),i=parseInt(this.host.height()),r=this.arrowSize,s=this.arrowSize,o=1;this.showArrow||(s=0,r=0,this.dropdownlistArrow.hide(),o=0,this.host.css("cursor","arrow"));var n=t-s-1*o;n>0&&(this.dropdownlistContent[0].style.width=n+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+n+"px"),this.dropdownlistContent[0].style.height=i+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=s+1+"px",this.dropdownlistArrow[0].style.height=i+"px",this.dropdownlistArrow[0].style.left=1+n+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(i);var a=this.input.height();0==a&&(a=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var l=parseInt(i)/2-parseInt(a)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);var i=parseInt(this.host.height());this.dropdownlistArrow.height(i);var d=parseInt(this.host.css("min-height")),l=parseInt(d)/2-parseInt(a)/2;l>0&&this.input.css("margin-top",l)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var t=e.data(this.element,"jqxComboBox");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);s.owner=this,2!=t&&3!=t&&4!=t&&5!=t||(s.args=i);var o=this.host.trigger(s);return o},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var r=e.host.width();e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,r,s){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+r+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.dropDownListArrow.removeClass(t.toThemeProperty("jqx-"+r)),t.dropDownListArrow.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:s}),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:s}),"renderSelectedItem"==i&&t.renderSelection("mouse"),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:s}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:s}),"touchMode"===i&&(t.listBoxContainer.jqxListBox({touchMode:s}),t.touch=e.jqx.mobile.isTouchDevice(),t.touchMode===!0&&(t.touch=!0),t._updateHandlers()),"multiSelect"==i)if(s)t.doMultiSelect(!1);else{for(var o=t.listBox.items,n=-1,a=0;a<o.length;a++)o[a].disabled=!1,(t.selectedItems.indexOf(o[a].value)>=0||t._disabledItems.indexOf(t.value)>=0)&&(o[a].disabled=!0,n=o[a].index);if(t.doMultiSelect(!1),t.listBox._renderItems(),!o)return;t.listBox.selectedIndex=n,t.renderSelection("mouse"),t.dropdownlistWrapper.parent().css("height","100%"),t.dropdownlistContent.css("height","100"),t.dropdownlistWrapper.css("height","100"),t.dropdownlistContent.css("position","relative"),t.host.css("min-height",null),t._setSize(),t._arrange()}if("showArrow"==i&&(t._arrange(),t.multiSelect&&t.doMultiSelect(!1)),"placeHolder"==i&&t.input.attr("placeholder",t.placeHolder),"popupZIndex"==i&&t.listBoxContainer.css({zIndex:t.popupZIndex}),"promptText"==i&&(t.placeHolder=s),"autoOpen"==i&&t._updateHandlers(),"renderer"==i&&(t.listBox.renderer=t.renderer),"itemHeight"==i&&(t.listBox.itemHeight=s),"source"==i&&(t.input.val(""),t.listBoxContainer.jqxListBox({source:t.source}),t.renderSelection("mouse"),null==t.source&&t.clearSelection(),t.multiSelect&&(t.selectedItems=new Array,t._selectedItems=new Array,t.doMultiSelect(!1))),"rtl"==i&&(s?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection("mouse")),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var l=t.width;"auto"!=t.dropDownWidth&&(l=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:l,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(l)+25)}if("autoComplete"==i&&t._resetautocomplete(),"checkboxes"==i&&(t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(t,"aria-readonly",!0)):e.jqx.aria(t,"aria-readonly",!1)),"theme"==i&&null!=s&&(t.listBoxContainer.jqxListBox({theme:s}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),e.jqx.utilities.setTheme(r,s,t.host)),"rtl"==i&&(t.render(),t.refresh()),"width"==i||"height"==i){if(t._setSize(),"width"==i&&"auto"==t.dropDownWidth){var l=t.host.width();t.listBoxContainer.jqxListBox({width:l}),t.container.width(parseInt(l)+25)}t._arrange(),t.close()}"selectedIndex"==i&&(t.listBox.selectIndex(s),t.renderSelection("mouse"))}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this;t.width||(t.width=200),t.height||(t.height=25);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};t.field.id.length?r.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":r.id=e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),s[0].style.cssText=t.field.style.cssText,e(t.field).hide().after(s);var o=t.host.data();if(t.host=s,t.host.data(o),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}var a=e.jqx.parseSourceTag(t.field);
t.source=a.items,-1==t.selectedIndex&&(t.selectedIndex=a.index)}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")||t.host.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.element.innerHTML=l,t.dropdownlistWrapper=e(t.element.firstChild.firstChild),t.dropdownlistArrow=e(t.dropdownlistWrapper[0].firstChild.nextSibling),t.arrow=e(t.dropdownlistArrow[0].firstChild),t.dropdownlistContent=e(t.dropdownlistWrapper[0].firstChild),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),t.rtl&&t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t._addInput(),"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var d=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+d,t._firstDiv=e(t.element.firstChild);try{var h="listBox"+t.id,c=e(e.find("#"+h));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",h),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==p&&(p=t.host.width(),0==p&&(p=t.dropDownWidth)),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.width(parseInt(p)+25),t.container.height(parseInt(t.dropDownHeight)+25),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse"),t._raiseEvent("6")}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,autoItemsHeight:t.autoItemsHeight,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,_renderOnDemand:!0,emptyString:t.emptyString,itemHeight:t.itemHeight,width:p,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer,filterChange:function(e){t.autoDropDownHeight&&t.container.height(t.listBoxContainer.height()+25)}}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(f){console}var t=t;if(t.propertyChangeMap.disabled=function(i,r,s,o){o?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t.template&&t.host.addClass(t.toThemeProperty("jqx-"+t.template)),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var m=t.host.parents(".jqx-window").css("z-index");u.css("z-index",m+10),t.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host.focus(),e._firstDiv&&e._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height);var i=this,r=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}};if(t){var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){r()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){var i=t.isOpened();i&&t.close()});var r="mousedown";this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,r,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var r=t.host.coord(),s=r.top,o=r.left,n=t.container.coord(),a=n.left,l=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=o&&e.pageX<o+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=a&&e.pageX<a+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(t._kbnavigated===!1&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var r=this.listBox.selectedValues[i],s=this.listBox.getItemByValue(r);s&&(t=s)}if(this.checkboxes){var o=this.getCheckedItems();t=null!=o&&o.length>0?o[0]:null}if(null==t){var n=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');n.appendTo(e(document.body)),n.addClass(this.toThemeProperty("jqx-widget")),n.addClass(this.toThemeProperty("jqx-listitem-state-normal")),n.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(n,this.placeHolder);var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");n.css("padding-top",a),n.css("padding-bottom",l);var d=n.outerHeight();n.remove(),n.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,n);var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(d))/2);return c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(n,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var n=e(document.createElement("span"));n[0].setAttribute("unselectable","on");try{n[0].style.color="inherit"}catch(u){}n[0].style.borderWidth="0px",n[0].style.backgroundColor="transparent",n.appendTo(e(document.body)),n.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var p=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(n,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(n,t.label):null===t.label||""===t.label?(p=!0,e.jqx.utilities.html(n,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(n,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(n,t.title):""!=t.label&&null!=t.label||(p=!0,e.jqx.utilities.html(n,""))}catch(f){}var a=this.dropdownlistContent[0].style.paddingTop,l=this.dropdownlistContent[0].style.paddingBottom;""===a&&(a="0px"),""===l&&(l="0px"),n[0].style.paddingTop=a,n[0].style.paddingBottom=l;var d=n.outerHeight();0===d&&(d=16),""!=t.label&&null!=t.label||!p||e.jqx.utilities.html(n,"");var m=this.width&&this.width.toString().indexOf("%")<=0;if(n.remove(),n.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(n,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var g=this.getCheckedItems(),v="",x=0;x<g.length;x++)v+=x==g.length-1?g[x].label:g[x].label+",";n.text(v),m&&n.css("max-width",this.host.width()-30),n.css("overflow","hidden"),n.css("display","block"),this.rtl||m&&n.css("width",this.host.width()-30),n.css("text-overflow","ellipsis"),n.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(n),this.focusable&&this.isOpened()&&this.focus()}else{var w=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(m&&(this.rtl||n.css("max-width",w+"px")),n[0].style.overflow="hidden",n[0].style.display="block",n[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||m&&(0>w&&(w=0),n[0].style.width=w+"px"),n[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=n[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var h=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(h=parseInt(this.height));var c=parseInt((parseInt(h)-parseInt(d))/2);c>=0&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var r=this.getCheckedItems(),s="";if(null!=r)for(var o=0;o<r.length;o++){var n=r[o].value;void 0!=n&&(s+=o==r.length-1?n:n+",",t.push(n))}this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,r){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,r){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,r){this.listBox.selectIndex(e,t,i,r,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,r){var s=t.outerWidth(),o=t.outerHeight(),n=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+s>n&&s>this.host.width()){var l=this.host.coord().left,d=s-this.host.width();i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+o>a&&a>o?Math.abs(o+r+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,r=this,s=this.listBoxContainer,o=this.listBox,n=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));i=a+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),n=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(n=parseInt(n)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),s.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",n),o._arrange();var d=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),c=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-c+"px"):this.container.css("left",25+parseInt(Math.round(a))+c+"px")}if("top"==this.dropDownVerticalAlignment){var u=s.height();d=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(this.host.outerHeight()),f=parseInt(n)-Math.abs(u+p+23);this.container.css("top",f)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(s,{left:parseInt(this.container.css("left")),top:parseInt(n)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(d=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"))):s.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+this.id,s),s.css("margin-top",0),s.css("opacity",1),o._renderItems(),r._raiseEvent("0",o);else if(this.container.css("display","block"),r.isanimating=!0,"fade"==this.animationType)s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+r.id,s),r.ishiding=!1,r.isanimating=!1,o._renderItems(),r._raiseEvent("0",o)});else{s.css("opacity",1);var g=s.outerHeight();d?s.css("margin-top",g):s.css("margin-top",-g),s.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+r.id,s),r.ishiding=!1,r.isanimating=!1,o._renderItems(),r._raiseEvent("0",o)})}d?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),s.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),s.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(s.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,r=this.container,s=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!s.ishiding){t.stop();var o=t.outerHeight();t.css("margin-top",0),s.isanimating=!0;var n=-o;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(n=o),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),s.isanimating=!1,s.ishiding=!1})):t.animate({"margin-top":n},this.closeDelay,function(){r.css("display","none"),s.isanimating=!1,s.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,r=e(t.target),s=t.data.listbox;if(null==s)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var o=!1;return e.each(r.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return o=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(o=!0),!1}}),null!=s&&!o&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){e!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),r=(e.arrowSize,e.arrowSize),s=3,o=t-r-2*s;if(o>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=o+"px":0>=o&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+r+2*s,e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=r+"px",e.width&&e.width.toString().indexOf("%")>=0){var n=100*r/t,a=100*o/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=a+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,
delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);s.owner=this,2!=t&&3!=t&&4!=t&&5!=t||(s.args=i);var o=this.host.trigger(s);return o},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var r=e.host.width();e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,r,s){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+r+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+r)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:s}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:s}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:s}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:s}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:s}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:s}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:s}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:s}),"rtl"==i&&(s?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==s&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=s&&(t.listBoxContainer.jqxListBox({theme:s}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(r,s,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var o=t.width;"auto"!=t.dropDownWidth&&(o=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:o,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(o)+25)}if(("width"==i||"height"==i)&&s!=r){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){var o=t.host.width();t.listBoxContainer.jqxListBox({width:o}),t.container.width(parseInt(o)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(s)),t.renderSelection())}}})}(jqxBaseFramework),function(e){function t(t,r){var s=t.nodeName.toLowerCase();if("area"===s){var o,n=t.parentNode,a=n.name;return t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&i(o)):!1}return(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s?t.href||r:r)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function r(i){var r=e.attr(i,"tabindex"),s=isNaN(r);return(s||r>=0)&&t(i,!s)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return e.extend(!0,this,t),t},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),e(document.body).append(this.host);var t=this,i=function(e){for(var i=0;i<e.length;i++){var r=e[i];t[r]&&t[r].toString().indexOf("px")>=0&&(t[r]=parseInt(t[r],10))}};i(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var r=function(){var i=parseInt(e(t.restricter).css("padding-top")),r=parseInt(e(t.restricter).css("padding-left")),s=parseInt(e(t.restricter).css("padding-bottom")),o=parseInt(e(t.restricter).css("padding-right")),n=e(t.restricter).coord();t.dragArea={left:r+n.left,top:i+n.top,width:1+o+e(t.restricter).width(),height:1+s+e(t.restricter).height()}};if(this.restricter&&r(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){r()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){r()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){r()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],r=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var s=e.data(document.body,"jqxwindows-modallist");if(s)if("modal-show"==t)s.push(this.host);else{var o=s.indexOf(this.host);-1!=o&&s.splice(o,1)}else if("modal-show"==t){var n=new Array;n.push(this.host),e.data(document.body,"jqxwindows-modallist",n),s=n}else e.data(document.body,"jqxwindows-modallist",new Array),s=new Array;r=this.modalZIndex;return e.each(s,function(e){if(this.data()&&this.data().jqxWindow){var t=this.data().jqxWindow.instance;t._modalBackground.css("z-index",r),t.host.css("z-index",r+1),r+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var a=i[i.length-2];if("auto"==a.css("z-index"))r=this.zIndex+i.length+1;else{var l=this.zIndex;r=parseInt(a.css("z-index"),10)+1,l>r&&(r=l)}}this.host.css("z-index",r),this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight)>parseInt(this.maxHeight)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth)>parseInt(this.maxWidth)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children("DIV");if(1===t.length)this._header=e("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(t[0]);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=e("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),e(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,r=function(t,i){var r=e(t).parents().get();for(j=0;j<r.length;j++)if(e(r[j]).is(i))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var s=e.data(document.body,"jqxwindows-modallist");if(!(s.length>1&&s[s.length-1][0]!=i.element)){var o=i._getTabbables(),n=null,a=null;if(o.length>0&&(n=o[0],a=o[o.length-1]),t.target!=i.element&&null!=n)return r(t.target,i.host)&&(t.target!==a||t.shiftKey)?t.target===n&&t.shiftKey?(a.focus(1),!1):void 0:(n.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",e),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",e),this._closeButtonWrapper.css("margin-left","0px"))),this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",e),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",e),this._collapseButtonWrapper.css("margin-left","0px"))),this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.height(this.height):this.host.height(this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=this._header.children(0).outerWidth(!0),i=this._header.children(1).outerWidth(!0),r=t+i;return this.minWidth<100&&(this.minWidth=Math.min(r,100),e=!1),e},_centerElement:function(e,t,i,r){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,r)},_centerElementInParent:function(e,t,i,r){if(i=i.toLowerCase(),r?r+="-":r="",i.indexOf("y")>=0){var s=e.outerHeight(!0),o=t.height(),n=Math.max(0,o-s)/2;e.css(r+"top",n+"px")}if(i.indexOf("x")>=0){var a=e.outerWidth(!0),l=t.width(),d=Math.max(0,l-a)/2;e.css(r+"left",d+"px")}},_centerElementInArea:function(e,t,i){if(i=i.toLowerCase(),i.indexOf("y")>=0){var r=e.outerHeight(!0),s=t.height,o=(s-r)/2;e.css("top",o+t.top+"px")}if(i.indexOf("x")>=0){var n=e.outerWidth(!0),a=t.width,l=(a-n)/2;e.css("left",l+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){var i=this._indexOf(e,t);return i>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var r=t.length-1;r>i;r--){var s,o=t[r],n=t[r-1];parseInt(o.css(e),10)<parseInt(n.css(e),10)&&(s=o,t[r]=n,t[r-1]=s)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(t){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(e){var t=e.data.self;t._header.width(t.host.width()-(t._header.outerWidth(!0)-t._header.width())),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&t._modalBackground.hide(),t.restricter?(t._modalBackground.css("left",t.dragArea.left),t._modalBackground.css("top",t.dragArea.top),t._modalBackground.width(t.dragArea.width),t._modalBackground.height(t.dragArea.height)):(t._modalBackground.width(t._getDocumentSize().width),t._modalBackground.height(t._getDocumentSize().height)),t.isOpen()&&t._modalBackground.show())})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,r=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(r=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-r}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(t){if(e.keyboardNavigation&&e._moved){var i=e.host.coord(),r=i.left,s=i.top;e._raiseEvent(3,r,s,r,s),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,r=t.keyCode,s=this.host.coord(),o=s.left,n=s.top,a=this._getDraggingArea(),l=this.host.width(),d=this.host.height(),h=!0,c=10;switch(r){case 37:i?this.resizable&&this.resize(l-c,d):this.draggable&&o-c>=0&&this.move(o-c,n),h=!1;break;case 38:i?this.resizable&&this.resize(l,d-c):this.draggable&&n-c>=0&&this.move(o,n-c),h=!1;break;case 39:i?this.resizable&&this.resize(l+c,d):this.draggable&&o+l+c<=a.width&&this.move(o+c,n),h=!1;break;case 40:i?this.resizable&&this.resize(l,d+c):this.draggable&&n+d+c<=a.height&&this.move(o,n+c),h=!1}return h||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),h}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(e){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){return e.resizeArea&&e.resizable&&!e.collapsed?void e._header.css("cursor",e._resizeWrapper.css("cursor")):e.draggable?void e._header.css("cursor","move"):(e._header.css("cursor","default"),void(e._resizeWrapper&&e._resizeWrapper.length>0&&e._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,r){return i&&(e.pageX=i),r&&(e.pageY=r),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!=document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var r=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r);
}}}catch(s){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var r=e.jqx.mobile.getTouches(i),s=(r[0],e.jqx.position(i));t._mousePosition.x=s.left,t._mousePosition.y=s.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var r=e.jqx.mobile.getTouches(i),s=r[0],o=s.pageX,n=s.pageY,a=e.jqx.position(i);return o=a.left,n=a.top,(o+3<t._mousePosition.x||o-3>t._mousePosition.x||n+3<t._mousePosition.y||n-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:o,y:n},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),t._isTouchDevice?(i.preventDefault(),!0):!1}return t._isDragging?t._isTouchDevice?(i.preventDefault(),!0):!1:!0},_dropHandler:function(t,i){var r=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=parseInt(t.host.css("left"),10),o=parseInt(t.host.css("top"),10),n=t._isTouchDevice?0:i.pageX,a=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,s,o,n,a),r=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),r},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=t._isTouchDevice?i.originalEvent.which:i.which;if("undefined"==typeof t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===r&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var s=e.jqx.mobile.getTouches(i),o=(s[0],e.jqx.position(i)),n=o.left,a=o.top,l=n-t._mousePosition.x,d=a-t._mousePosition.y,h=t._windowPosition.x+l,c=t._windowPosition.y+d;return t.move(h,c,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,r){var s=this._getDraggingArea();e=e<s.left?s.left:e,t=t<s.top?s.top:t;var o=this.host.outerWidth(!0),n=this.host.outerHeight(!0);return e+o>=s.width+s.left-2*r&&(e=s.width+s.left-o-r),t+n>=s.height+s.top-i&&(t=s.height+s.top-n-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left")),i=parseInt(this.host.css("top"));this.host.css({left:t+e.left,top:i+e.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.host.css("top",i.top);break;case"left":this.host.css("left",i.left);break;case"bottom":this.host.css("top",i.height-this.host.height()+i.top);break;case"right":this.host.css("left",i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],r=e.Event(i),s={};return 2!==t&&3!==t||(s.x=arguments[1],s.y=arguments[2],s.pageX=arguments[3],s.pageY=arguments[4]),"closed"!==i&&"close"!==i||(s.dialogResult=this.dialogResult),r.args=s,this.host.trigger(r)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,r,s){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":s?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(s),this.title=s;break;case"content":this.setContent(s);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=s,s?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":s?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":s?r||(this.collapsed=!1,this.collapse(0)):r&&(this.collapsed=!0,this.expand(0));case"theme":e.jqx.utilities.setTheme(r,s,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var i=this,r=this._header.outerHeight(!0),s=parseInt(this._header.css("border-bottom-width"),10),o=parseInt(this._header.css("margin-bottom"),10),t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;isNaN(s)||(r-=2*s),isNaN(o)||(r+=o),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",r),this.host.animate({height:r},t,function(){i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","none"),i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)})}},expand:function(t){if(this.collapsed&&!this.host.is(":animated")){var i=this,t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;this.host.animate({height:this._heightBeforeCollapse},t,function(){i.collapsed=!1,i.host.css("min-height",i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","block"),i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)})}},closeAll:function(t){for(var t=!0,i=e.data(document.body,"jqxwindows-list"),r=i.length,s=e.data(document.body,"jqxwindow-modal")||[];r;)r-=1,this._toClose(t,i[r])&&(i[r].jqxWindow("closeWindow","close"),i.splice(r,1));this._toClose(t,s)&&(s.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(t){e.jqx.utilities.html(this._headerContentWrapper,t),this.title=t,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,r=!1;!r;)i.css("height","auto"),i.css("width","auto"),i.is(".jqx-window")?r=!0:i=i.parent();e.jqx.utilities.html(this._content,t),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e="undefined"==typeof e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],r=parseInt(i.css("z-index"),10),s=this._indexOf(this.host,t),o=t.length-1;o>s;o-=1){var n=parseInt(t[o].css("z-index"),10)-1;t[o].css("z-index",n)}this.host.css("z-index",r),this._sortByStyle("z-index",t)},hide:function(e,t,i){if(this.closing){var r=this.closing();if(0==r)return}switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(t,function(){e instanceof Function&&e()});case"slide":this.host.slideUp(t,function(){e instanceof Function&&e()});case"combined":this.host.hide(t,function(){e instanceof Function&&e()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),i!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(t,function(){e instanceof Function&&e()});break;case"slide":this.host.slideDown(t,function(){e instanceof Function&&e()});break;case"combined":this.host.show(t,function(){e instanceof Function&&e()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var i=this;if(this._visible||(t>150&&"none"!=this.animationType?setTimeout(function(){i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),i._raiseEvent(7),i._raiseEvent(9)},t-150):(i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),this._raiseEvent(7),i._raiseEvent(9))),this._visible=!0,this._performLayout(),this.autoFocus){var r=function(){i._isTouchDevice||i._content.focus()};r(),setTimeout(function(){r()},100)}},_getTabbables:function(){var t=this._content.find("*"),i=new Array;return e.each(t,function(){r(this)&&(i[i.length]=this)}),i},move:function(t,i,r,s){var o,n,a,l=0,d=0,t=parseInt(t,10),i=parseInt(i,10);if(e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(d=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),o=this._validateCoordinates(t,i,d,l),parseInt(this.host.css("left"),10)!==o.x||parseInt(this.host.css("top"),10)!==o.y){if(r){var h=e.jqx.mobile.getTouches(r),c=(h[0],e.jqx.position(r));n=c.left,a=c.top}void 0==n&&(n=t),void 0==a&&(a=i),s!==!1&&this._raiseEvent(2,o.x,o.y,n,a)}this.element.style.left=o.x+"px",this.element.style.top=o.y+"px",this._moved=!0}})}(jqxBaseFramework),function(e){var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var r=0;r<i.length;r+=1)e(i[r]).detach(),this.resizeTarget.append(i[r]);t.remove()}},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,r,s,o){this.resizeTargetChildren=e(o),this.resizeTargetChildren.toArray();for(var n=this.resizeTargetChildren.length;n;)n-=1,this.resizeTargetChildren[n]=e(this.resizeTargetChildren[n])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(e("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!=document.referrer||window.frameElement){var r=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}catch(s){}},_stopResizing:function(e,t){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&e._resizeWrapper.css("cursor",e._cursorBackup)},_resizeHandler:function(t,i){return t.enableResize&&!t.collapsed?t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY):void 0},_resizeCaptureCursor:function(e,t){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)?(this._changeCursor(e-parseInt(this.resizeTarget.css("left")),t-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,r=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,r)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left")),t.pageY-parseInt(e.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){alert(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,r,s){return"horizontal"===i||"both"===i?this._validateWidth(e,r,s):"vertical"===i||"both"===i?this._validateHeight(t,r,s):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,r){var s=0,o=2,n=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&n.height===e(document).height()&&(s=this._SCROLL_WIDTH),"bottom"===r&&t+i.position().top+s+o>n.height+n.top?{fix:n.height-i.position().top-s-o+n.top,result:!1}:"top"===r&&i.lastHeight-t+i.y<n.top?{fix:t+(i.lastHeight-t+i.y)-n.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,r){var s=0,o=2,n=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&n.width===e(document).width()&&(s=this._SCROLL_WIDTH),"right"===r&&t+i.position().left+s+o>n.width+n.left?{fix:n.width-i.position().left-s-o+n.left,result:!1}:"left"===r&&i.lastWidth-t+i.x<n.left?{fix:t+(i.lastWidth-t+i.x)-n.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var r=(this._resizeDirection,this._resizeMethods.length),s=0;r>s;s++)if(this._resizeMethods[s]instanceof Function){var o={element:e,x:t,y:i,self:this};this._resizeMethods[s](o)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),r=t-this.host.height(),s="right";0!=r&&(s="bottom"),this._resizeDirection=s,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,r),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var r=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);r<this.resizeTarget.maxWidth&&r>0&&this.resizeTargetChildren[i].width(r)}else{var s=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);s<this.resizeTarget.maxHeight&&s>0&&this.resizeTargetChildren[i].height(s)}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),r=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.width(t),e.element.css("left",r),e.self._raiseResizeEvent(0)),t):(r=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),r=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.height(t),e.element.css("top",r),e.self._raiseResizeEvent(0)),t):(r=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],r=e.Event(i),s={};if(s.width=parseInt(this.resizeTarget[0].style.width),s.height=parseInt(this.resizeTarget[0].style.height),r.args=s,0==t){var i=this._resizeEvents[2],o=e.Event(i);o.args=s,this.resizeTarget.trigger(o)}return this.resizeTarget.trigger(r)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDocking","",{}),e.extend(e.jqx._jqxDocking.prototype,{defineInstance:function(){var t={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return e.extend(!0,this,t),t},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(e){1!=e&&this._performLayout()},_refresh:function(t){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var i=e.Event("resize");this.host.trigger(i)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[e].addClass(this.toThemeProperty("jqx-rc-all"));for(var e=0;e<this._windows.length;e+=1)this._windows[e].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var e=0;e<this._panels.length;e+=1)this._panels[e].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[e].removeClass(this.toThemeProperty("jqx-rc-all"));for(var e=0;e<this._windows.length;e+=1)this._windows[e].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var t=this.host.children("div"),i=0;i<t.length;i+=1)this._panels.push(e(t[i])),this._renderWindows(e(t[i]))},focus:function(t){this.focusedWindow&&e(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!e.isEmptyObject(t)&&"string"===e.type(t)&&e("#"+t).length>0?this.focusedWindow=e("#"+t)[0]:this.focusedWindow=this._windows[0][0],e(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(t){for(var i=t.children("div"),r=0;r<i.length;r+=1)this._windows.push(e(i[r])),e(i[r]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:e(i[r]).css("width"),maxWidth:Number.MAX_VALUE}),e(i[r]).detach(),t.append(e(i[r]));t.append('<div class="spacer" style="clear: both;"></div>');var s=this;if(this.keyboardNavigation){var o=function(t){if(13===t.keyCode?s.focusedWindow&&e(s.focusedWindow).jqxWindow("showCollapseButton")&&e(s.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(s.focusedWindow&&27===t.keyCode&&"esc"===e(s.focusedWindow).jqxWindow("keyboardCloseKey")||s.focusedWindow&&e(s.focusedWindow).jqxWindow("keyboardCloseKey")==t.keyCode)&&e(s.focusedWindow).jqxWindow("closeWindow",t),9===t.keyCode){if(null==s.focusedWindow)s.focusedWindow=s._windows[0],e(s.focusedWindow).focus(),t.stopPropagation();else{var i=-1;if(e.each(s._windows,function(e,t){this[0]==s.focusedWindow&&(i=e)}),t.shiftKey?i--:i++,i>=s._windows.length||0>i)return e(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null,t.stopPropagation(),!0;var r=s._windows[i];r||(r=s._windows[0]),e(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=r[0],e(s.focusedWindow).focus()}e(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),t.preventDefault&&(t.preventDefault(),t.stopPropagation())}};e.each(s._windows,function(t,i){var r=e(this);s.removeHandler(r,"focus"),s.removeHandler(r,"blur"),s.removeHandler(r,"mousedown"),s.addHandler(r,"mousedown",function(t){s.focusedWindow&&e(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=r[0],e(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus")),e(s.focusedWindow).focus()}),s.addHandler(r,"focus",function(t){s.focusedWindow&&e(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=r[0],e(s.focusedWindow).addClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.addHandler(r,"blur",function(t){return e(document.activeElement).ischildof(e(r))?!0:void e(r).removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),s.removeHandler(r,"keydown"),s.addHandler(r,"keydown",function(e){o(e)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(e){o(e)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(t){s.focusedWindow&&(e(s.focusedWindow).removeClass(s.toThemeProperty("jqx-fill-state-focus")),s.focusedWindow=null)})}},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var e,t=this.host.width(),i=0,r=0;r<this._panels.length;r+=1)e=this._panels[r],e.css("height","auto"),e.css("min-width","auto"),e[0].style.width="auto","vertical"===this.orientation?(e.css("width","auto"),e.css("float","none")):(i+=this._handleHorizontalSize(e,i,t),r>0&&e.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&t>i&&this._fillContainer(t,i)},_handleHorizontalSize:function(e,t,i){var r,s=i/this._panels.length,o=e.outerWidth()-e.width();if(e.css("float","left"),"auto"===e[0].style.width||0===parseInt(e.css("width"),10)){var n=99.99/this._panels.length;return e[0].style.width=n+"%",e.outerWidth()}return t+e.outerWidth()>=i&&(i>t+s?(r=s-o,e.css("min-width",r),e.width(r)):(r=e.width()-(t+e.outerWidth()-i),e.css("min-width",r),e.width(r))),e.outerWidth()},_fillContainer:function(t,i){var r=this._panels.length,s=this._panels[r-1],o=t-i+s.width();e.jqx.browser.msie&&e.jqx.browser.version<9&&(o-=this._panels.length)},_performWindowsLayout:function(){for(var e,t=0;t<this._windows.length;t+=1)e=this._getWindowOptions(this._windows[t]),this._windows[t].ischildof(this.host)&&(e?"floating"!==e.mode&&(this._windows[t].css("margin",this.windowsOffset),
this._windows[t].css("position","static")):"floating"!==this.mode&&(this._windows[t].css("position","static"),this._windows[t].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[t],e)},_setWindowSize:function(e,t){if("floating"!==t.mode&&e.ischildof(this.host)){var i=e.parent().width()-(e.outerWidth()-e.width())-2*this.windowsOffset;"vertical"===this.orientation?e.jqxWindow("width",i):e.jqxWindow("width",i)}this._setWindowOption(e,"size",{width:e.width(),height:e.height()})},_setWindowsOptions:function(e){for(var t=0;t<this._windows.length;t+=1){var i,r=this._windows[t].attr("id"),s=this._getWindowOptions(r);if(!e);i=null,this.windowsMode&&this.windowsMode.hasOwnProperty(r)?(i=this.windowsMode[r],this._setWindowOption(this._windows[t],"mode",i)):"undefined"!=typeof s&&"undefined"==typeof s.mode&&(i=this.mode,this._setWindowOption(this._windows[t],"mode",i)),e&&(this._setWindowOption(this._windows[t],"resizable",!0),"floating"==i?this._windows[t].jqxWindow({enableResize:!0}):this._windows[t].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[t],"size",{height:this._windows[t].height(),width:this._windows[t].width()}))}},_removeEventListeners:function(){for(var e=0;e<this._windows.length;e+=1)this.removeHandler(this._windows[e],"moving",this._itemDragging),this.removeHandler(this._windows[e],"moved",this._itemDrop),this.removeHandler(this._windows[e],"resized",this._itemResized),this.removeHandler(this._windows[e],"collapse",this._collapsed),this.removeHandler(this._windows[e],"expand",this._expanded)},_addEventListeners:function(){for(var t=0;t<this._windows.length;t+=1)this._addEventListenersTo(this._windows[t]);var i=this;e.jqx.utilities.resize(this.host,function(){i._performLayout()})},_addEventListenersTo:function(e){this.addHandler(e,"moving",this._itemDragging,{self:this}),this.addHandler(e,"moved",this._itemDrop,{self:this}),this.addHandler(e,"resized",this._itemResized,{self:this}),this.addHandler(e,"collapse",this._collapsed,{self:this}),this.addHandler(e,"expand",this._expanded,{self:this})},_itemDragging:function(t){var i=t.data.self,r=e(t.target),s=i._getWindowOptions(r);if(r.removeClass(i.toThemeProperty("jqx-docking-window")),r.css("margin","0px"),i._dragging||i._prepareForDragging(r),"floating"!==s.mode){var o={x:t.args.pageX,y:t.args.pageY},n=i._getMouseOverPanel(o);return n?i._mouseOverPanel(n,o):i._mouseLeavePanel(),i._draggedFired||(i._raiseEvent(1,{window:e(r).attr("id")}),i._draggedFired=!0),!0}},_prepareForDragging:function(t){this._dragging=!0;var i={parent:t.parent(),next:t.next(),prev:t.prev()};this._setWindowOption(t,"lastPosition",i),t.detach(),e(document.body).append(t),this._setDraggingStyles(t),this._draggingItem=t},_setDraggingStyles:function(e){e.css({position:"absolute",left:e.offset().left,top:e.offset().top}),e.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(e){for(var t=0;t<this._panels.length;t+=1)if(this._isMouseOverItem(this._panels[t],e,!1))return this._panels[t];return null},_mouseOverPanel:function(e,t){if(this._dragging){var i=e.children("div"),r=this._getHoverWindow(t,i);if("indicator"===r)return;var s=this._centerOffset(r,t);this._handleIndicator(e,r,s)}},_getHoverWindow:function(t,i){if(this._isMouseOverItem(this._indicator,t,!0))return"indicator";for(var r=0;r<i.length;r+=1)if(this._isMouseOverItem(e(i[r]),t,!0))return e(i[r]);return null},_centerOffset:function(e,t){if(e){var i,r={x:e.offset().left,y:e.offset().top},s=e.height();e.width();return i=r.y+s/2,t.y>i?"next":"prev"}return"all"},_handleIndicator:function(e,t,i){var r=this._getIndicator(t);"all"===i?"vertical"===this.orientation?r.insertBefore(e.children(".spacer")):e.append(r):"prev"===i?r.insertBefore(t):r.insertAfter(t),this._resizeIndicator(r,e)},_getIndicator:function(){var t=this._indicator;return t||(t=e('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=t,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),t},_resizeIndicator:function(e,t){"horizontal"===this.orientation?(e.width(t.width()-(e.outerWidth(!0)-e.width())),e.height(this._draggingItem.height())):(e.width(this._draggingItem.width()),e.height(this._draggingItem.height()))},_mouseLeavePanel:function(e){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(t){var i=t.data.self,r=e(t.currentTarget);i._dragging=!1,i._indicator?(r.detach(),r.insertAfter(i._indicator),i._indicator.remove(),i._dropFixer(r)):i._dropHandler(r),r.fadeTo(0,1),r.focus(),i._indicator=null,i._cookieExporter(),i._draggedFired=!1,i._raiseEvent(0,{window:r.attr("id")})},_dropFixer:function(e){e.css("position","static"),e.addClass(this.toThemeProperty("jqx-docking-window")),e.css("margin",this.windowsOffset),e.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(e)},_dropHandler:function(e){this._getWindowOptions(e);"docked"===this.mode?this._dropDocked(e):this._dropFloating(e)},_dropDocked:function(e){var t=this._getWindowOptions(e),i=t.lastPosition;e.detach(),i.next[0]?e.insertBefore(i.next):i.prev[0]?e.insertAfter(i.prev):i.parent.append(e),this._dropFixer(e)},_fixWindowSize:function(t){e(t).jqxWindow({width:t.parent().width()-(t.outerWidth()-t.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(t){var i=t.data.self,r=e(t.currentTarget);i._setWindowOption(r,"size",{width:t.args.width,height:t.args.height}),i._cookieExporter()},_dropFloating:function(t){var i;e(t).jqxWindow("collapsed")||(i=this._getWindowOptions(t),e(t).jqxWindow("enableResize",i.resizable)),e(document.body).append(t),this._restoreWindowSize(t)},_restoreWindowSize:function(t){var i=this._getWindowOptions(t);e(t).jqxWindow({width:i.size.width})},_isMouseOverItem:function(e,t,i){if(!e)return!1;var r=e.outerWidth(!0),s=e.outerHeight(!0),o=e.width(),n=e.height(),a=e.offset().top,l=e.offset().left;return i&&(a-=(s-n)/2,l-=(r-o)/2,o=r,n=s),l<=t.x&&l+o>=t.x&&a<=t.y&&a+n+2*this._draggingItem.height()/3>=t.y},_cookieHandler:function(){if(this.cookies){var t=e.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==t&&(this.importLayout(t),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&e.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(e,t){for(var i=0;i<t.length;i+=1)if(e[0]===t[i][0])return i;return-1},_exportFixed:function(){for(var t,i,r=[],s="",o=0;o<this._panels.length;o+=1){s+='"panel'+o+'": {',t=this._panels[o].children();for(var n=0;n<t.length;n+=1)i=e(t[n]),i.attr("id")&&(r.push(i),s+='"'+i.attr("id")+'":{"collapsed":'+i.jqxWindow("collapsed")+"},");t.length>1&&(s=s.substring(0,s.length-1)),s+="},"}return s=s.substring(0,s.length-1),{JSON:s,children:r}},_exportFloating:function(t){var i,r="";r+='"floating":{';for(var s=0;s<this._windows.length;s+=1)i=e(this._windows[s]),-1===this._indexOf(i,t)&&(r+='"'+i.attr("id")+'":{"x":"'+i.css("left")+'","y":"'+i.css("top")+'","width":"'+i.jqxWindow("width")+'","height":"'+i.jqxWindow("height")+'","collapsed":'+i.jqxWindow("collapsed")+"},");return","===r.substring(r.length-1,r.length)&&(r=r.substring(0,r.length-1)),r+="}"},_importFixed:function(t){for(var i in t)if("orientation"!==i&&"floating"!==i&&t.hasOwnProperty(i)){order=i.substring(i.length-1,i.length),order=parseInt(order,10),children=t[i];for(var i in children)e("#"+i).css("position","static"),children[i].collapsed&&!function(t){setTimeout(function(){e("#"+t).jqxWindow("collapsed",!0)},0)}(i),this._panels[order].append(e("#"+i)),"horizontal"===this.orientation&&this._fixWindowSize(e("#"+i))}},_importFloating:function(t){var i,r=t.floating;for(var s in r)r.hasOwnProperty(s)&&(e("#"+s).css("position","absolute"),e(document.body).append(e("#"+s)),i=this._dragging,e("#"+s).jqxWindow("move",r[s].x,r[s].y),this._dragging=i,e("#"+s).jqxWindow("width",r[s].width),e("#"+s).jqxWindow("height",r[s].height),e("#"+s).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(t){setTimeout(function(){e("#"+t).jqxWindow("collapsed",r[t].collapsed)},0)}(s),e("#"+s).fadeTo(0,1))},_getWindowOptions:function(e){return"object"==typeof e&&null!==e&&(e=e.length>0?e.attr("id"):e.id),this._windowOptions[e]},_setWindowOption:function(e,t,i){"object"==typeof e&&null!==e&&(e=e.length>0?e.attr("id"):e.id),"undefined"==typeof this._windowOptions[e]&&(this._windowOptions[e]={}),this._windowOptions[e][t]=i,"mode"===t&&this.setWindowMode(e,i)},_expanded:function(e){var t=e.data.self;t._cookieExporter()},_collapsed:function(e){var t=e.data.self;t._cookieExporter()},_raiseEvent:function(t){var i=e.Event(this._events[t]);return i.args=arguments[1],this.host.trigger(i)},_moveWindow:function(t,i,r){var s=i.children(),o=null,n=0;e.each(s,function(i){"static"==e(this).css("position")&&(n==r&&this!=t[0]&&(o=this),n++)}),r>=n?t.appendTo(i):null!=o&&t.insertBefore(o),t.css("position","static")},propertyChangedHandler:function(t,i,r,s){switch(i){case"rtl":e.each(t._windows,function(){this.jqxWindow({rtl:s})});break;case"theme":e.each(t._windows,function(){this.jqxWindow({theme:s})});break;case"orientation":case"height":case"width":t._performLayout(),t._cookieExporter();break;case"panelsRoundedCorners":t._removeClasses(),t._addClasses();break;case"disabled":s?(t.disabled=!1,t.disable()):(t.disabled=!0,t.enable());break;case"windowsMode":case"mode":t._setWindowsOptions(!1);break;case"cookies":t._cookieExporter();break;case"windowsOffset":t._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var t=0;t<this._windows.length;t+=1)this._windows[t][0].style.opacity="",e(this._windows[t]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var t=0;t<this._windows.length;t+=1)e(this._windows[t]).jqxWindow("enable")}},move:function(t,i,r){var i=this._panels[i];if(i){var s,o=e(i.children(".spacer"));o.detach(),t=e("#"+t),s=this._getWindowOptions(t),"floating"!==s.mode&&(this._moveWindow(t,i,r),i.append(o),this._cookieExporter(),this._dropFixer(t))}},exportLayout:function(){var e="{",t=this._exportFixed();return e+=t.JSON+","+this._exportFloating(t.children)+',"orientation": "'+this.orientation+'"',e+="}"},importLayout:function(t){try{var i=e.parseJSON(t);this.orientation=i.orientation,this._performLayout(),this._importFixed(i),this._importFloating(i)}catch(r){alert("Invalid JSON string.")}},setWindowMode:function(t,i){var t=e("#"+t),r=this._getWindowOptions(t);"floating"===i?(t.css("position","absolute"),this._windowOptions[t.attr("id")].mode=i):"floating"===r.mode&&"absolute"===t.css("position")&&(r.lastPosition?this._dropDocked(t):(this._panels[0].append(t),this._dropFixer(t))),this._windowOptions[t.attr("id")].mode=i},hideCloseButton:function(t){e("#"+t).jqxWindow("showCloseButton",!1)},showCloseButton:function(t){e("#"+t).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(t){e("#"+t).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(t){e("#"+t).jqxWindow("showCollapseButton",!0)},expandWindow:function(t,i){e("#"+t).jqxWindow("expand",i)},collapseWindow:function(t,i){e("#"+t).jqxWindow("collapse",i)},setWindowProperty:function(t,i,r){e("#"+t).jqxWindow(i,r)},getWindowProperty:function(t,i){return e("#"+t).jqxWindow(i)},setWindowPosition:function(t,i,r){var t=e("#"+t),s=this._getWindowOptions(t);"floating"===s.mode&&(t.css("position","absolute"),e(t).jqxWindow("move",i,r,null,!1))},hideAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var e=0;e<this._windows.length;e+=1)this._windows[e].jqxWindow("showCollapseButton",!0)},pinWindow:function(t){e("#"+t).jqxWindow("draggable",!1)},unpinWindow:function(t){e("#"+t).jqxWindow("draggable",!0)},setDraggingMode:function(t){var i=e("#"+t);this._prepareForDragging(i),i.fadeTo(0,1)},enableWindowResize:function(t){t=e("#"+t),"absolute"===t.css("position")&&(this._setWindowOption(t,"resizable",!0),t.jqxWindow("enableResize",!0))},disableWindowResize:function(t){t=e("#"+t),this._setWindowOption(t,"resizable",!1),t.jqxWindow("enableResize",!1)},addWindow:function(t,i,r,s){var o="#"+t;e(o).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:e(o).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(e(o)),this._windows.push(e(o)),i?this._setWindowOption(e(o),"mode",i):this._setWindowOption(e(o),"mode",this.mode),this._setWindowOption(e(o),"resizable",!0),this._setWindowOption(e(o),"size",{width:e(o).width(),height:e(o).height()}),"floating"==i?e(o).jqxWindow({enableResize:!0}):e(o).jqxWindow({enableResize:!1}),null!=this._panels[r]&&this._setWindowOption(e(o),"size",{width:this._panels[r].width(),height:this._panels[r].height()}),this._addEventListenersTo(e(o)),"undefined"!=typeof r&&"undefined"!=typeof s&&this.move(t,r,s),this._dropFixer(e(o))},closeWindow:function(t){e("#"+t).jqxWindow("closeWindow")}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDockPanel","",{}),e.extend(e.jqx._jqxDockPanel.prototype,{defineInstance:function(){var t={width:null,height:null,lastchildfill:!0,disabled:!1,events:["layout"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=e(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},render:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(e,t){this.width=e,this.height=t,this.render()},performLayout:function(){if(!this.disabled){var t=this.childrenCount,i=0,r=0,s=0,o=0,n=this,a={width:this.host.width(),height:this.host.height()};this.sizeCache.length<this.$wrapper.children().length&&e.each(this.$wrapper.children(),function(t){var i=e(this);i.css("position","absolute");var r={width:i.css("width"),height:i.css("height")};n.sizeCache[t]=r}),e.each(this.$wrapper.children(),function(l){var d=this.getAttribute("dock");void 0==d&&(d="left"),l==t-1&&n.lastchildfill&&(d="fill");var h=e(this);h.css("position","absolute"),h.css("width",n.sizeCache[l].width),h.css("height",n.sizeCache[l].height);var c={width:h.outerWidth(),height:h.outerHeight()},u={x:s,y:o,width:Math.max(0,a.width-(s+i)),height:Math.max(0,a.height-(o+r))};if(t>l)switch(d){case"left":s+=c.width,u.width=c.width;break;case"top":o+=c.height,u.height=c.height;break;case"right":i+=c.width,u.x=Math.max(0,a.width-i),u.width=c.width;break;case"bottom":r+=c.height,u.y=Math.max(0,a.height-r),u.height=c.height}h.css("left",u.x),h.css("top",u.y),h.css("width",u.width),h.css("height",u.height)}),this._raiseevent(0)}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(t,i,r){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[t],o=new e.Event(s);o.previousValue=i,o.currentValue=r,o.owner=this;var n=this.host.trigger(o);return n}},propertyChangedHandler:function(e,t,i,r){this.isInitialized&&e.render()},refresh:function(){this.render()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMaskedInput","",{}),e.extend(e.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var t={value:null,mask:"99999",width:null,height:25,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",inputMode:"advanced",rtl:!1,disabled:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this;t.host.attr({role:"textbox"}),t.host.attr("data-role","input");var i=t.host.attr("value");void 0!=i&&""!=i&&(t.value=i),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1),e.jqx.aria(this,"aria-readonly",t.readOnly),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),maskEditor=this,"div"==t.element.nodeName.toLowerCase()?(t.element.innerHTML="",t.maskbox=e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textarea'/>").appendTo(t.host)):(t.maskbox=t.host,t.maskbox.attr("autocomplete","off"),t.maskbox.attr("autocorrect","off"),t.maskbox.attr("autocapitalize","off"),t.maskbox.attr("spellcheck",!1)),t.maskbox.addClass(t.toThemeProperty("jqx-reset")),t.maskbox.addClass(t.toThemeProperty("jqx-input-content")),t.maskbox.addClass(t.toThemeProperty("jqx-widget-content"));var r=t.host.attr("name");r&&t.maskbox.attr("name",r),t.rtl&&t.maskbox.addClass(t.toThemeProperty("jqx-rtl"));var s=this;t.propertyChangeMap.disabled=function(e,t,i,r){r?e.maskbox.addClass(s.toThemeProperty("jqx-input-disabled")):e.maskbox.removeClass(s.toThemeProperty("jqx-input-disabled"))},t.disabled&&(t.maskbox.addClass(t.toThemeProperty("jqx-input-disabled")),t.maskbox.attr("disabled",!0),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled"))),t.selectedText="",t.self=this,t.oldValue=t._value(),t.items=new Array,t._initializeLiterals(),t._render(),null!=t.value&&t.inputValue(t.value.toString());var s=this;if(t.host.parents("form").length>0&&t.host.parents("form").on("reset",function(){setTimeout(function(){s.clearValue()},10)}),t.addHandlers(),t.cookies){var o=e.jqx.cookie.cookie("maskedInput."+t.element.id);o&&t.val(o)}},addHandlers:function(){var t=this;e.jqx.mobile.isTouchDevice();var i="",r=function(e,t){var i=String.fromCharCode(t),r=parseInt(i),s=!0;if(!isNaN(r)){s=!0;var o=this.maskbox.val().toString().length;o>=this.items.length&&0==this._selection().length&&(s=!1)}return e.ctrlKey||e.shiftKey||e.metaKey||t>=65&&90>=t&&(s=!1),s};this.addHandler(this.maskbox,"blur",function(r){return"simple"==t.inputMode?(t._exitSimpleInputMode(r,t,!1,i),!1):(t.rtl&&t.maskbox.css("direction","ltr"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),void(t.maskbox.val()!=i&&(t._raiseEvent(7,{type:"keyboard"}),t.cookies&&e.jqx.cookie.cookie("maskedInput."+t.element.id,t.maskbox.val()))))}),this.addHandler(this.maskbox,"focus",function(r){return i=t.maskbox.val(),"simple"==t.inputMode?(t.maskbox[0].value=t._getEditValue(),e.data(t.maskbox,"simpleInputMode",!0),!1):(t.rtl&&t.maskbox.css("direction","rtl"),void t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"keydown",function(e){var i=t.readOnly,s=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(i||t.disabled)return!1;if("simple"!=t.inputMode){var o=t._handleKeyDown(e,s);return o||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),o}return r.call(t,e,s)}),this.addHandler(this.host,"keyup",function(e){var i=t.readOnly,s=e.charCode?e.charCode:e.keyCode?e.keyCode:0;return i||t.disabled?!0:"simple"==t.inputMode?r.call(t,e,s):(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(e){var i=t.readOnly,s=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(i||t.disabled)return!0;if("simple"==t.inputMode)return r.call(t,e,s);var o=t._handleKeyPress(e,s);return o||(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),o})},focus:function(){try{this.maskbox.focus()}catch(e){}},_exitSimpleInputMode:function(t,i,r,s){if(void 0==i&&(i=t.data),null!=i){if(void 0==r){if(null!=t.target&&null!=i.element&&(void 0!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var o=i.host.offset(),n=o.left,a=o.top,l=i.host.width(),d=i.host.height(),h=e(t.target).offset();if(h.left>=n&&h.left<=n+l&&h.top>=a&&h.top<=a+d)return}if(!i.disabled&&!i.readOnly){var c=e.data(i.maskbox,"simpleInputMode");if(null!=c){var u=i.maskbox[0].value;return i.val(u),e.data(i.maskbox,"simpleInputMode",null),!1}}}},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;e+=this.items[t].character==this.promptChar&&this.promptChar!=this.items[t].defaultCharacter?this.items[t].defaultCharacter:i}return e},_initializeLiterals:function(){if(void 0==this.mask||null==this.mask)return void(this.items=new Array);this.mask=this.mask.toString();for(var e=this.mask.length,t=0;e>t;t++){var i=this.mask.substring(t,t+1),r="",s=!1;if("["==i){for(var o=t;e>o;o++){var n=this.mask.substring(o,o+1);if("]"==n)break}r="("+this.mask.substring(t,o+1)+")",t=o,s=!0}"#"==i?(r="(\\d|[+]|[-])",s=!0):"9"==i||"0"==i?(r="\\d",s=!0):"$"==i?s=!1:"/"==i||":"==i?s=!1:"A"==i||"a"==i?(r="\\w",s=!0):"c"==i||"C"==i?(r=".",s=!0):"L"!=i&&"l"!=i||(r="([a-zA-Z])",s=!0);var a=this,l=function(e,t,i){l.character=e,l.regex=t,l.canEdit=i,l.defaultCharacter=a.promptChar};s?l(this.promptChar,r,s):l(i,r,s),this.items.push(l)}},setRegex:function(e,t,i,r){null!=e&&void 0!=e&&null!=t&&void 0!=t&&e<this.items.length&&(this.items[e].regex=t,null!=i&&void 0!=i&&(this.items[e].canEdit=i),null!=r&&void 0!=r&&(this.items[e].defaultCharacter=r))},_match:function(e,t){var i=new RegExp(t,"i");return i.test(e)},_raiseEvent:function(t,i){var r=this.events[t],s={};s.owner=this;var o=(i.charCode?i.charCode:i.keyCode?i.keyCode:0,!0),n=(this.readOnly,new e.Event(r));return n.owner=this,s.value=this.inputValue(),s.text=this.maskedValue(),7==t&&(s.type=i.type,void 0==s.type&&(s.type=null)),n.args=s,(2>t||t>6)&&(o=this.host.trigger(n)),o},_handleKeyPress:function(e,t){var i=this._isSpecialKey(t,e);return i},_insertKey:function(t,i){var r=this._selection(),s=this;if(r.start>=0&&r.start<this.items.length){var o=String.fromCharCode(t);t>=65&&90>=t&&(i.shiftKey||(o=o.toLowerCase()));var n=!1;e.each(this.items,function(e,t){if(!(e<r.start)){var i=s.items[e];if(i.canEdit){if(s._match(o,i.regex)){if(!n&&r.length>0){for(var a=r.start;a<r.end;a++)s.items[a].canEdit&&(s.items[a].character=s.promptChar);var l=s._getString();s.maskedValue(l),n=!0}i.character=o;var l=s._getString();return s.maskedValue(l),r.start<s.items.length&&s._setSelectionStart(e+1),!1}return!1}}})}},_deleteSelectedText:function(){var e=this._selection(),t=!1;if(e.start>0||e.length>0){for(i=e.start;i<e.end;i++)i<this.items.length&&this.items[i].canEdit&&this.items[i].character!=this.promptChar&&(this.items[i].character=this.promptChar,t=!0);var r=this._getString();return this.maskedValue(r),t}},_saveSelectedText:function(){var t=this._selection(),r="";if(t.start>0||t.length>0)for(i=t.start;i<t.end;i++)this.items[i].canEdit&&(r+=this.items[i].character);if(window.clipboardData)window.clipboardData.setData("Text",r);else{var s=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');s.val(r),e("body").append(s),s.select(),setTimeout(function(){document.designMode="off",s.select(),s.remove()},100)}return r},_pasteSelectedText:function(){var t=this._selection(),r=0,s=t.start,o="",n=this,a=function(e){if(!(e!=n.selectedText&&e.length>0&&(n.selectedText=e,null==n.selectedText||void 0==n.selectedText))){if(t.start>=0||t.length>0)for(i=t.start;i<n.items.length;i++)n.items[i].canEdit&&r<n.selectedText.length&&(n.items[i].character=n.selectedText[r],r++,s=1+i);var o=n._getString();n.maskedValue(o),s<n.items.length?n._setSelectionStart(s):n._setSelectionStart(n.items.length)}};if(window.clipboardData)o=window.clipboardData.getData("Text"),a(o);else{var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(l),l.select();setTimeout(function(){var e=l.val();a(e),l.remove()},100)}},_handleKeyDown:function(t,i){var r=this._selection();i>=96&&105>=i&&(i-=48);var s=t.ctrlKey||t.metaKey;if(s&&97==i||s&&65==i)return!0;if(s&&120==i||s&&88==i)return this.selectedText=this._saveSelectedText(t),this._deleteSelectedText(t),!e.jqx.browser.msie;if(s&&99==i||s&&67==i)return this.selectedText=this._saveSelectedText(t),!e.jqx.browser.msie;if(s&&122==i||s&&90==i)return!1;if(s&&118==i||s&&86==i||t.shiftKey&&45==i)return this._pasteSelectedText(),!e.jqx.browser.msie;if(r.start>=0&&r.start<this.items.length){String.fromCharCode(i),this.items[r.start]}if(8==i){if(0==r.length)for(a=this.items.length-1;a>=0;a--)if(this.items[a].canEdit&&a<r.end&&this.items[a].character!=this.promptChar){this._setSelection(a,a+1);break}r=this._selection();var o=this._deleteSelectedText();return(r.start>0||r.length>0)&&r.start<=this.items.length&&(o?this._setSelectionStart(r.start):this._setSelectionStart(r.start-1)),!1}if(190==i)for(var n=r.start,a=n;a<this.items.length;a++)if("."==this.items[a].character){this._setSelectionStart(a+1);break}if(191==i)for(var n=r.start,a=n;a<this.items.length;a++)if("/"==this.items[a].character){this._setSelectionStart(a+1);break}if(189==i)for(var n=r.start,a=n;a<this.items.length;a++)if("-"==this.items[a].character){this._setSelectionStart(a+1);break}if(46==i){if(0==r.length)for(var a=0;a<this.items.length;a++)if(this.items[a].canEdit&&a>=r.start&&this.items[a].character!=this.promptChar){this._setSelection(a,a+1);break}var l=r;r=this._selection();this._deleteSelectedText();return(r.start>=0||r.length>=0)&&r.start<this.items.length&&(r.length<=1?l.end!=r.end?this._setSelectionStart(r.end):this._setSelectionStart(r.end+1):this._setSelectionStart(r.start)),!1}this._insertKey(i,t);var d=this._isSpecialKey(i,t);return d},_isSpecialKey:function(e,t){return 189==e||9==e||13==e||35==e||36==e||37==e||39==e||46==e?!0:!!(16===e&&t.shiftKey||t.ctrlKey||t.metaKey)},_selection:function(){if("selectionStart"in this.maskbox[0]){var e=this.maskbox[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var r=this.maskbox[0].createTextRange(),s=r.duplicate();r.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",r);var t=i.text.length;return{start:s.text.length,end:s.text.length+i.text.length,length:t,text:i.text}},_setSelection:function(e,t){if("selectionStart"in this.maskbox[0])this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(e,t);else{var i=this.maskbox[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}},_setSelectionStart:function(e){this._setSelection(e,e)},refresh:function(e){e||this._render()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_render:function(){var t=parseInt(this.host.css("border-left-width")),i=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),o=parseInt(this.host.css("height"))-r-s,n=parseInt(this.host.css("width"))-t-i;null!=this.width&&-1!=this.width.toString().indexOf("px")?n=this.width:void 0==this.width||isNaN(this.width)||(n=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?o=this.height:void 0==this.height||isNaN(this.height)||(o=this.height),n=parseInt(n),o=parseInt(o),this.maskbox[0]!=this.element&&this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign);var a=this.maskbox.css("font-size");isNaN(o)||this.maskbox.css("height",parseInt(a)+4+"px"),isNaN(n)||this.maskbox.css("width",n-2);var l=parseInt(o)-2*parseInt(r)-2*parseInt(s)-parseInt(a);if(isNaN(l)&&(l=0),isNaN(o)||this.host.height(o),isNaN(n)||this.host.width(n),this.maskbox[0]!=this.element){var d=l/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=l/4),this.maskbox.css("padding-right","0px"),this.maskbox.css("padding-left","0px"),this.maskbox.css("padding-top",d),this.maskbox.css("padding-bottom",l/2)}this.maskbox[0].value=this._getString(),this.width&&(this.width.toString().indexOf("%")>=0&&(this.element.style.width=this.width),this.height.toString().indexOf("%")>=0&&(this.element.style.height=this.height))},destroy:function(){this.host.remove()},maskedValue:function(e){return void 0===e?this._value():(this.value=e,this._refreshValue(),this.oldValue!==e&&(this._raiseEvent(1,e),this.oldValue=e,this._raiseEvent(0,e)),this)},_value:function(){var e=this.maskbox.val();return e},propertyChangedHandler:function(t,r,s,o){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("rtl"==r&&(t.rtl?t.maskbox.addClass(t.toThemeProperty("jqx-rtl")):t.maskbox.removeClass(t.toThemeProperty("jqx-rtl"))),"value"===r&&(void 0!=o&&null!=o||(o=""),""===o?this.clear():(o=o.toString(),this.inputValue(o)),t._raiseEvent(7,o)),"theme"===r&&e.jqx.utilities.setTheme(s,o,this.host),"disabled"==r&&(o?(t.maskbox.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.maskbox.attr("disabled",!0)):(t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(this.toThemeProperty("jqx-input-disabled")),t.maskbox.attr("disabled",!1)),e.jqx.aria(t,"aria-disabled",o)),"readOnly"==r&&(this.readOnly=o),"promptChar"==r){for(i=0;i<t.items.length;i++)t.items[i].character==t.promptChar&&(t.items[i].character=o,t.items[i].defaultCharacter=o);t.promptChar=o}"textAlign"==r&&(t.maskbox.css("text-align",o),t.textAlign=o),"mask"==r&&(t.mask=o,t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue()),"width"==r?(t.width=o,t._render()):"height"==r&&(t.height=o,t._render())}},_value:function(){var e=this.value;return e},_getEditStringLength:function(){var e="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(e+=this.items[i].character);return e.length},_getEditValue:function(){var e="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&this.items[i].character!=this.promptChar&&(e+=this.items[i].character);return e},parseValue:function(e){if(void 0==e||null==e)return null;var t=e.toString(),r="",s=0;for(m=0;m<t.length;m++){var o=t.substring(m,m+1);for(i=s;i<this.items.length;i++)if(this.items[i].canEdit&&this._match(o,this.items[i].regex)){r+=o,s=i;break}}return r},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(e){return void 0!=e&&"object"!=typeof e&&("number"==typeof e&&isFinite(e)&&(e=e.toString()),this.maskedValue(e)),this.maskbox[0].value},inputValue:function(e,t){if(void 0==e||null==e){for(var i="",r=0;r<this.items.length;r++)this.items[r].canEdit&&(i+=this.items[r].character);return i}var s=0;e=e.toString();for(var r=0;r<this.items.length;r++)this.items[r].canEdit&&(this._match(e.substring(s,s+1),this.items[r].regex)?(this.items[r].character=e.substring(s,s+1),s++):t&&(this.items[r].character=this.promptChar,s++));var o=this._getString();return this.maskedValue(o),this.inputValue()},_refreshValue:function(){for(var t=this.maskedValue(),i=0,r=0;r<this.items.length;r++)t.length>i&&(this.items[r].canEdit&&this.items[r].character!=t[i]&&(!this._match(t[i],this.items[r].regex)&&t[i]!=this.promptChar||1!=t[i].length||(this.items[r].character=t[i])),i++);this.value=this._getString(),t=this.value,this.maskbox[0].value=t,e.jqx.aria(this,"aria-valuenow",t);
}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var r=this.loadItems(this.source);this.element.innerHTML=r}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation){var t=this.host.closest("div.jqx-menu-wrapper");t.focus()}if(this.keyboardNavigation){this.host.focus();var i=this,r=function(){if(e.jqx.isHidden(e(i.items[0].element))){var t=i._nextVisibleItem(i.items[0],0);t&&(e(t.element).addClass(i.toThemeProperty("jqx-fill-state-focus")),i.activeItem=t)}else e(i.items[0].element).addClass(i.toThemeProperty("jqx-fill-state-focus")),i.activeItem=i.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),r()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):r()}}catch(s){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var r=this;this.items=new Array;var s='<ul class="jqx-menu-ul">';return i&&(s='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(s+=r._parseItem(e))}),s+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;void 0!=e.selected&&e.selected&&(r=!0);var s=!1;return void 0!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var r=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;r||(i=!0)}var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var o=new e.jqx.response;"Phone"!=o.device.type&&"Tablet"!=o.device.type||this.minimized||this.minimize()}else s>t&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),r=i.closest("div.jqx-menu-popup");r.remove()}),this.source){var r=this.loadItems(this.source);this.element.innerHTML=r,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this._render();var o=this.host.find("ul:first");o.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=o.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),o.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var n=function(e){t.minimizedHidden=!0,t.minimizedItem.show();var r=!1;"right"==t.minimizedItem.css("float")&&(r=!0),i.animate({left:r?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},a=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var r=!1,s=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+s),r=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:r?t.host.coord().left+t.host.width()-s:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else n(e);t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),r=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(r=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:r?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){a(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=i}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,r=i.items;if(e.each(r,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var s=i._isRightClick(t);s||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,r=document.getElementById(i),s=this;return e.each(s.items,function(){var e=this;1==e.isOpen&&e.element==r&&(s._closeItem(s,e),e.parentId&&s.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,r=document.getElementById(i),s=this;return e.each(s.items,function(){var e=this;0==e.isOpen&&e.element==r&&(s._openItem(s,e),e.parentId&&s.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),r=-i.outerHeight(),s=-i.outerWidth(),o=0==t.level&&"horizontal"==this.mode;switch(o?s=0:r=0,t.openVerticalDirection){case"up":case"center":r=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):s=o?0:i.outerWidth();break;case"center":s=o?0:i.outerWidth()}return{left:s,top:r}},_closeItem:function(t,i,r,s){if(null==t||null==i)return!1;var o=e(i.subMenuElement),n=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,d=a.left,h=(e(i.element),o.closest("div.jqx-menu-popup"));if(null!=h){var c=t.animationHideDelay;1==s&&(c=0),o.data("timer")&&null!=o.data("timer").show&&(clearTimeout(o.data("timer").show),o.data("timer").show=null);var u=function(){i.isOpen=!1,n?o.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),h.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var r=e(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),"down"==i.openVerticalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),0==t.animationHideDuration&&o.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,o.stop().animate({left:d},t.animationHideDuration,function(){if(0==t.animationHideDuration&&o.css({left:d}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),h.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?o.data("timer")&&(o.data("timer").hide=setTimeout(function(){u()},c)):u(),void 0!=r&&r){var p=o.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var r=this,s=new Array;null!=i&&e.extend(s,i);var o=t,n=this.menuElements[o],a=e(n.subMenuElement),l=a.find(".jqx-menu-item");return e.each(l,function(){s[this.id]=r.menuElements[this.id];var t=r.getSubItems(this.id,s);e.extend(s,t)}),s},disable:function(t,i){if(null!=t){var r=t,s=this;if(this.menuElements[r]){var o=this.menuElements[r];o.disabled=i;var n=e(o.element);o.element.disabled=i,e.each(n.children(),function(){this.disabled=i}),i?(n.addClass(s.toThemeProperty("jqx-menu-item-disabled")),n.addClass(s.toThemeProperty("jqx-fill-state-disabled"))):(n.removeClass(s.toThemeProperty("jqx-menu-item-disabled")),n.removeClass(s.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){if(this.menuElements[e]){var t=this.menuElements[e];return t}return null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var r=e;if(this.menuElements[r]){var s=this.menuElements[r];s[t]&&(s[t]=i)}}},setItemOpenDirection:function(t,i,r){if(null!=t){var s=t,o=this,n=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[s]){var a=this.menuElements[s];if(null!=i&&(a.openHorizontalDirection=i,a.hasItems&&a.level>0)){var l=e(a.element);if(void 0!=l){var d=e(a.arrow);null==a.arrow&&(d=e('<span id="arrow'+l[0].id+'"></span>'),n?d.appendTo(l):d.prependTo(l),a.arrow=d[0]),d.removeClass(),"left"==a.openHorizontalDirection?(d.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("left"))),d.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("left")))):(d.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right"))),d.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right")))),d.css("visibility","inherit"),n?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right"))}}if(null!=r){a.openVerticalDirection=r;var d=e(a.arrow),l=e(a.element);if(!o.showTopLevelArrows)return;void 0!=l&&(null==a.arrow&&(d=e('<span id="arrow'+l[0].id+'"></span>'),n?d.appendTo(l):d.prependTo(l),a.arrow=d[0]),d.removeClass(),"down"==a.openVerticalDirection?(d.addClass(o.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(o.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(o.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(o.toThemeProperty("jqx-icon-arrow-up"))),d.css("visibility","inherit"),n?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,r=0;r<this.items.length;r++)this.items[r]!=e&&this.items[r].parentId==e.parentId&&this.items[r].hasItems&&(t[i++]=this.items[r]);return t},_openItem:function(t,i,r){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=t.popupZIndex;void 0!=r&&(s=r);var o=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=o,e(i.element).focus();var n=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),d=e(i.element),h=0==i.level?this._getOffset(i.element):d.position();if(i.level>0&&this.hasTransform){var c=parseInt(d.coord().top)-parseInt(this._getOffset(i.element).top);h.top+=c}0==i.level&&"popup"==this.mode&&(h=d.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?h.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-n[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?h.top+d.outerHeight():h.top,zIndex:s}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var f=this._getOffset(this.element);l.css("left",-1+f.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var m=this._getClosedSubMenuOffset(i);a.css("left",m.left),a.css("top",m.top)}l.css({height:parseInt(a.outerHeight())+parseInt(n[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),g=n[1];var x=parseInt(a.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-x),l.css({display:"block",top:h.top-l.outerHeight(),zIndex:s})}else g=n[1],a.css("top",a.outerHeight()),l.css({display:"block",top:h.top-l.outerHeight()+n[1]+d.outerHeight(),zIndex:s});break;case"center":u?(a.css("top",0),l.css({display:"block",top:h.top-l.outerHeight()/2+n[1],zIndex:s})):(a.css("top",0),l.css({display:"block",top:h.top+d.outerHeight()/2-l.outerHeight()/2+n[1],zIndex:s}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:h.left-(l.outerWidth()-d.outerWidth()-n[0])}):(v=0,a.css("left",l.outerWidth()),l.css({left:h.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-n[0]/2)}):(l.css({left:h.left-(l.outerWidth()/2-d.outerWidth()/2-n[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==v)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var w=e.data(t.element,"animationHideDelay");t.animationHideDelay=w,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout(function(){if(null!=l)if(u){a.stop(),a.css("left",v),!e.jqx.browser.msie,d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var r=e(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),"down"==i.openVerticalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(a.stop(),a.css("top",g),!e.jqx.browser.msie,i.level>0){d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var r=this,s=0;if(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body){var o=e.data(document.body,"jqxMenuOldHost"+r.element.id);if(null!=o){var n=r.host.closest("div.jqx-menu-wrapper");n.remove(),n.appendTo(o),r.host.css("display","block"),r.host.css("visibility","visible"),n.css("display","block"),n.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]);switch(r.autoOpenPopup?"popup"==r.mode?(r.addHandler(e(document),"contextmenu."+r.element.id,function(e){return!1}),r.addHandler(e(document),"mousedown.menu"+r.element.id,function(e){r._openContextMenu(e)})):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id)):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id),r.addHandler(e(document),"contextmenu."+r.element.id,function(e){return e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0?!1:void 0})),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),e.each(r.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",r._getDir("right")),i.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",r._getDir("left")),!t.ignoretheme&&t.hasItems&&r.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),o=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?o?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","inherit"),o?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!r.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}s=Math.max(s,$element.height())}});break;case"vertical":case"popup":case"simple":if(r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),e.each(r.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==r.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==r.mode){r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var n=r.host.closest("div.jqx-menu-wrapper");r.host.addClass(r.toThemeProperty("jqx-popup")),n[0].id="menuWrapper"+r.element.id,n.appendTo(e(document.body)),r.addHandler(n,"keydown",function(e){return r.handleKeyDown(e)})}else r.host.addClass(r.toThemeProperty("jqx-widget-header"));if("popup"==r.mode){var a=r.host.height();r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(a),r.host.css("display","none"))}}var l=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),l&&(r.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),r=e(t).coord(!0),s=r.top,o=r.left;"0px"!=e("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(o=parseInt(o)+this._getBodyOffset().left);var n=e.jqx.mobile.isWindowsPhone(),a=e.jqx.mobile.isTouchDevice();if(this.hasTransform||null!=i&&i||n||a){var l={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return l}return{left:o,top:s}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){this.host;e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var r=0;"block"==this.host.css("display")&&(this.close(),r=this.animationHideDuration);var s=this;void 0!=t&&null!=t||(t=0),void 0!=i&&null!=i||(i=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),e.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s._raiseEvent("4",{left:t,top:i}),s.host.css("z-index",9999),void 0!=t&&void 0!=i&&s.host.css({left:t,top:i}),s.focus()},r)}},_renderHover:function(e,t,i){var r=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){r.hoveredItem=t,t.disabled||t.separator||!r.enableHover||r.disabled||(t.level>0?(e.addClass(r.toThemeProperty("jqx-fill-state-hover")),e.addClass(r.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(r.toThemeProperty("jqx-fill-state-hover")),e.addClass(r.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!r.enableHover||r.disabled||(t.level>0?(e.removeClass(r.toThemeProperty("jqx-fill-state-hover")),e.removeClass(r.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(r.toThemeProperty("jqx-fill-state-hover")),e.removeClass(r.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,r=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(r=!0,!1):void 0}),r||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var r=this;if($element=e(r.element),0==r.level&&i>0){var s=$element.children().length>0?parseInt($element.children().height()):$element.height(),o=t.host.find("ul:first"),n=parseInt(o.css("padding-top")),a=parseInt(o.css("margin-top")),l=i-2*(a+n),d=parseInt(l)/2-s/2,h=parseInt(d),c=parseInt(d);if($element.css("padding-top",h),$element.css("padding-bottom",c),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",h-u),h-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),r=e(t.element).height();r>15&&i.css("margin-top",(r-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var r=null;return e.each(this.items,function(){return this.element==i?(r=this,!1):void 0}),r},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var r=this.popupZIndex,s=[5,5],o=this;e.data(o.element,"animationHideDelay",o.animationHideDelay);var n=this.isTouchDevice(),a=n&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var d="MSPointerDown"in window;(d||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,a=!0,o.clickToOpen=!0,o.autoCloseOnClick=!1,o.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(o.keyboardNavigation&&o.activeItem){if("popup"===o.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),
o.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(o.keyboardNavigation&&!o.activeItem)if(o.hoveredItem)e(o.hoveredItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=o.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(o.items[0].element))){var t=o._nextVisibleItem(o.items[0],0);t&&(e(t.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=t)}else e(o.items[0].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=o.items[0]};o.activeItem?e.jqx.isHidden(e(o.activeItem.element))?(e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),i()):e(o.activeItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),o.handleKeyDown=function(t){if(!o.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,r=null;e.each(o.items,function(){return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(r=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&r&&(i=r),i||(e(o.items[0].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=o.items[0],i=o.activeItem);var s=!1;if(27==t.keyCode){if(t.data=o,o._closeAll(t),i)for(var n=i;null!=n;)n.parentItem?n=n.parentItem:(e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=n,e(o.activeItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),n=n.parentItem);s=!0}if(13==t.keyCode&&i){s=!0,o._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var a=null!=i.anchor?e(i.anchor):null;if(null!=a&&a.length>0){var l=a.attr("href"),d=a.attr("target");null!=l&&(null!=d?window.open(l,d):window.location=l)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var h=function(e){if(null==e)return new Array;for(var t=new Array,i=0,r=0;r<o.items.length;r++)o.items[r].parentId==e.parentId&&(t[i++]=o.items[r]);return t},c="";switch(t.keyCode){case 40:c="down";break;case 38:c="up";break;case 39:c="right";break;case 37:c="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===c&&(c="right"),i&&"left"===i.openHorizontalDirection&&"right"===c&&(c="left"),i&&"top"===i.openVerticalDirection&&"top"===c&&(c="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===c&&(c="top"),o.rtl&&("right"===c?c="left":"left"===c&&(c="right")),"right"===c&&!o.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=o.mode))o._openItem(o,i);else{var u=o._nextVisibleItem(i,0),p=o._nextVisibleItem(i),f=h(p);u||(u=p),u&&(u.parentId===i.parentId&&0==u.level&&"horizontal"==o.mode||p.id==f[0].id&&0!=p.level)&&(p.id==f[0].id&&(0!=i.level||0==i.level&&"horizontal"!=o.mode)&&(u=p),e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u)}t.preventDefault(),t.stopPropagation()}if("left"===c&&!o.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==o.mode||i.level>1&&"horizontal"===o.mode||1==i.level&&i.hasItems&&"horizontal"===o.mode))i.hasItems?o._closeItem(o,i):i.parentItem&&(o._closeItem(o,i.parentItem),e(i.parentItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=i.parentItem);else{var u=o._prevVisibleItem(i,0),m=i.parentItem;u&&u.parentId===i.parentId&&0==u.level&&"horizontal"==o.mode?(e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u):m&&0==m.level&&"horizontal"==o.mode||!m||m.level!=i.level-1||(e(m.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===c){if(t.altKey)0==i.level&&i.hasItems&&o._openItem(o,i),o.minimized&&o.minimizedHidden&&o.minimizedItem.trigger("click");else{var u=o._nextVisibleItem(i,i.level),f=h(u);if(o.minimized&&u)e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==f[0].id&&"horizontal"==o.mode)&&(0==u.level&&"horizontal"==o.mode||(e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u)),"horizontal"===o.mode&&0===i.level&&i.isOpen&&i.hasItems){var u=o._nextVisibleItem(i);e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u}}t.preventDefault(),t.stopPropagation()}else if("up"===c){if(t.altKey)i.parentItem&&0==i.parentItem.level?(o._closeItem(o,i.parentItem),e(i.parentItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===o.mode&&o._closeItem(o,i),o.minimized&&(o.minimizedHidden||o.minimizedItem.trigger("click"));else{var u=o._prevVisibleItem(i,i.level),f=h(i);if(o.minimized&&u)e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==i.parentId&&0==u.level&&"horizontal"==o.mode))0==u.level&&"horizontal"===o.mode&&0===i.level||(e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u);else if(i&&i.id==f[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===o.mode){var u=i.parentItem;e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode){var u=t.shiftKey?o._prevVisibleItem(i):o._nextVisibleItem(i);if(u)e(u.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=u,t.preventDefault(),t.stopPropagation();else if(o.lockFocus){for(var f=new Array,g=0,v=0;v<o.items.length;v++)o.items[v]!=i&&o.items[v].parentId==i.parentId&&(f[g++]=o.items[v]);f.length>0&&(t.shiftKey?(e(f[f.length-1].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=f[f.length-1]):(e(f[0].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=f[0]),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=null)}},this.addHandler(this.host,"keydown",function(e){o.handleKeyDown(e)}),o.enableRoundedCorners&&this.host.addClass(o.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),o.enableRoundedCorners&&i.addClass(o.toThemeProperty("jqx-rc-all")),o.removeHandler(i,"click"),o.addHandler(i,"click",function(i){if(!t.disabled&&!o.disabled&&(o.keyboardNavigation&&(o.activeItem&&e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=t,e(t.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.minimized&&i.stopPropagation()),o._raiseEvent("2",{type:"mouse",item:t.element,event:i}),o.autoOpen?!o.autoCloseOnClick||n||o.clickToOpen||t.closeOnClick&&(i.data=o,o._closeAll(i)):t.level>0&&(!o.autoCloseOnClick||n||o.clickToOpen||(i.data=o,o._closeAll(i))),n&&o.autoCloseOnClick&&(i.data=o,t.hasItems||o._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var r=null!=t.anchor?e(t.anchor):null;if(null!=r&&r.length>0){var s=r.attr("href"),a=r.attr("target");null!=s&&(null!=a?window.open(s,a):window.location=s)}}}),o.removeHandler(i,"mouseenter"),o.removeHandler(i,"mouseleave"),a||"simple"==o.mode||o._renderHover(i,t,n),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==o.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+o.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+r+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==o.mode&&l.css("left",0),r++;var d=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(s[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(s[1])+"px"}),h=i.closest("div.jqx-menu-popup");if(h.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");d.appendTo(h),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}else{var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");d.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}o.clickToOpen?(o.removeHandler(i,"mousedown"),o.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=o,o._closeAll(e)),t.isOpen?o._closeItem(o,t,!0):o._openItem(o,t)})):((n||a)&&(o.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),o.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==o.mode||(e.data=o,o._closeAll(e)),t.isOpen?o._closeItem(o,t,!0):o._openItem(o,t),!1})),a||(o.addHandler(i,"mouseenter",function(){if((o.autoOpen||t.level>0&&!o.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&o.menuElements[t.parentId]){var e=o.menuElements[t.parentId].isOpen;if(!e)return}return(o.autoOpen||t.level>0&&!o.autoOpen)&&o._openItem(o,t),!1}),o.addHandler(i,"mousedown",function(){o.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?o._closeItem(o,t,!0):o._openItem(o,t))}),o.addHandler(i,"mouseleave",function(i){if(o.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var r=e(t.subMenuElement),s={left:parseInt(i.pageX),top:parseInt(i.pageY)},n={left:parseInt(r.coord().left),top:parseInt(r.coord().top),width:parseInt(r.outerWidth()),height:parseInt(r.outerHeight())},a=!0;n.left-5<=s.left&&s.left<=n.left+n.width+5&&n.top<=s.top&&s.top<=n.top+n.height&&(a=!1),a&&o._closeItem(o,t,!0)}}),o.removeHandler(d,"mouseenter"),o.addHandler(d,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),o.removeHandler(d,"mouseleave"),o.addHandler(d,"mouseleave",function(e){o.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),o._closeItem(o,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);var r=e(t).find("li"),s=0;this.itemMapping=new Array;for(var o=0;o<r.length;o++){var n=r[o],a=e(n);if(-1!=n.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=n.id;l||(l=this.createID()),i&&(n.id=l,this.items[s]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[s]),s+=1;var d=0,h=this,c=a.children();c.each(function(){return i||(this.className="",h.autoGenerate&&(e(h.items[s-1].subMenuElement)[0].className="",h.minimized||e(h.items[s-1].subMenuElement).addClass(h.toThemeProperty("jqx-widget-content")),e(h.items[s-1].subMenuElement).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(h.items[s-1].subMenuElement).addClass(h.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(h.items[s-1].subMenuElement=this),!1):!h.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(h.items[s-1].subMenuElement=this),this.className="",h.minimized||e(this).addClass(h.toThemeProperty("jqx-widget-content")),e(this).addClass(h.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(h.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),h.rtl?e(this).addClass(h.toThemeProperty("jqx-rc-l")):e(this).addClass(h.toThemeProperty("jqx-rc-r")),e(this).addClass(h.toThemeProperty("jqx-rc-b")),!1)});var u=a.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!h.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)});var p=!1,f=n.getAttribute("type"),m=n.getAttribute("ignoretheme")||n.getAttribute("data-ignoretheme");if(m?"true"!=m&&1!=m||(m=!0):m=!1,f){if("separator"==f)var p=!0}else f=n.type;p||(f=d?"sub":"top");var g=this.items[s-1];if(i){g.id=l,g.parentId=d,g.type=f,g.separator=p,g.element=r[o];var v=a.children("a");g.disabled="true"==n.getAttribute("item-disabled"),g.level=a.parents("li").length,g.anchor=v.length>0?v:null,g.anchor&&e(g.anchor).attr("tabindex",-1)}g.ignoretheme=m;var x=this.menuElements[d];null!=x&&(x.ignoretheme&&(g.ignoretheme=x.ignoretheme,m=x.ignoretheme),g.parentItem=x,g.parentElement=x.element),this.autoGenerate&&("separator"==f?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):m||(a[0].className.indexOf("jqx-grid-menu-item-touch")>=0?a[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),g.level>0&&!h.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),g.disabled&&(a.addClass(h.toThemeProperty("jqx-menu-item-disabled")),a.addClass(h.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[o]={element:r[o],item:g},this.itemMapping["id"+r[o].id]=this.itemMapping[o],i&&!m&&(g.hasItems=a.find("li").length>0,g.hasItems&&g.element&&(e.jqx.aria(e(g.element),"aria-haspopup",!0),g.subMenuElement.id||(g.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(g.element),"aria-owns",g.subMenuElement.id)))}}for(var w=0;w<r.length;w++){var b=r[w];if(this.itemMapping["id"+b.id]){var g=this.itemMapping["id"+b.id].item;if(!g)continue;g.prevItem=null,g.nextItem=null,w>0&&this.itemMapping["id"+r[w-1].id]&&(g.prevItem=this.itemMapping["id"+r[w-1].id].item),w<r.length-1&&this.itemMapping["id"+r[w+1].id]&&(g.nextItem=this.itemMapping["id"+r[w+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=this,r=e(i.element);t.removeHandler(r,"click"),t.removeHandler(r,"selectstart"),t.removeHandler(r,"mouseenter"),t.removeHandler(r,"mouseleave"),t.removeHandler(r,"mousedown"),t.removeHandler(r,"mouseleave");var s=e(i.subMenuElement),o=s.closest("div.jqx-menu-popup");o.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var r=e.data(t.element,"jqxMenu");r&&delete r.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);"2"==t&&(args=i.item,args.owner=this,args.clickType=i.type,e.extend(s,i.event),s.type="itemclick"),s.owner=this,s.args=args;var o=this.host.trigger(s);return o},propertiesChangedHandler:function(t,i,r){if(r.width&&r.height&&2==Object.keys(r).length&&(t._setSize(),"popup"===t.mode)){var s=this.host.closest("div.jqx-menu-wrapper");s[i](r);var o=this.host[0].id;e("#"+o)[i](r)}},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),s!=r))if("touchMode"==i&&(this._isTouchDevice=null,t._render(s,r)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var o=t.loadItems(t.source);t.element.innerHTML=o;var n=t.host.find("ul:first");n.length>0&&(t.refresh(),t._createMenu(n[0]),t._render())}"autoCloseOnClick"==i?0==s?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(s,r):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host)}else if(t._setSize(),"popup"===t.mode){var a=this.host.closest("div.jqx-menu-wrapper");a[i](s);var l=this.host[0].id;e("#"+l)[i](s)}}})}(jqxBaseFramework),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var r={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return r}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return e.extend(!0,this,t),t},createInstance:function(t){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this.render()},expand:function(){if(0==this.disabled&&0==this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown(this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)}):"bottom"==this.headerPosition&&(this._content.css({display:"inherit",height:0}),e.jqx.browser.msie&&e.jqx.browser.version<8&&this._content.css("display","block"),1==this._cntntEmpty?this._content.animate({height:0},this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)}):this._content.animate({height:this._contentHeight},this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)}));break;case"fade":this._content.fadeIn(this.expandAnimationDuration,this.easing,function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&0==t._initialized&&(t.initContent(),t._initialized=!0)});break;case"none":this._content.css("display","inherit"),this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&0==this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(0==this.disabled&&1==this.expanded&&0==this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp(this.collapseAnimationDuration,this.easing,function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}):"bottom"==this.headerPosition&&this._content.animate({height:0},this.expandAnimationDuration,function(){t._content.css("display","none"),t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")});break;case"fade":this._content.fadeOut(this.collapseAnimationDuration,this.easing,function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")});break;case"none":this._content.css("display","none"),this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._header_text.html(e),this.invalidate()},getHeaderContent:function(){return this._header_text.html()},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){1!=e&&(this._removeHandlers(),1==this.showArrow?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this._setTheme(),this._setSize(),0==this.disabled&&this._toggle(),this._keyBoard())},render:function(){this.widgetID=this.element.id,this._header&&(this._header.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header.removeClass(this.toThemeProperty("jqx-expander-header")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-content")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header")),this._header_text.removeClass(this.toThemeProperty("jqx-widget-header")),this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),this._header.attr("tabindex",null),this._content.attr("tabindex",null),this._header.css("margin-top",0),this._header[0].innerHTML=this._header_text[0].innerHTML,"bottom"==this.headerPosition&&(this._header.detach(),this.host.prepend(this._header))),this._header_temp=this.host.children("div:eq(0)"),this._header_temp.wrap("<div></div>"),this._header=this.host.children("div:eq(0)"),this._content=this.host.children("div:eq(1)"),"bottom"==this.headerPosition&&(this._header.detach(),this.host.append(this._header)),this._header_text=this._header.children("div:eq(0)");var t=this._header_text[0].className;this._header.addClass(t),this._header_text.removeClass(),this.rtl?this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content-rtl")):this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content")),this._header.append("<div></div>"),this._arrow=this._header.children("div:eq(1)"),1==this.showArrow?this._arrow.css("display","inherit"):this._arrow.css("display","none"),this.tI=-1,void 0==this._header.attr("tabindex")&&(this.tI++,this._header.attr("tabindex",this.tI)),void 0==this._content.attr("tabindex")&&(this.tI++,this._content.attr("tabindex",this.tI)),this._setTheme(),this._checkContent();var i="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(0==this._header.length||0==this._content.length||this.host.children().length<2||this.host.children().length>2)throw i}catch(r){alert(r)}this._expandChecker,this._initialized,1==this.expanded?("top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))),this.initContent&&(this._setSize(),this.initContent()),this._initialized=!0,this._expandChecker=0):0==this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),"top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"))),this._initialized=!1,this._expandChecker=1,this._content.css("display","none")),this._setSize(),0==this.disabled&&this._toggle(),this._keyBoard();var s=this;e.jqx.utilities.resize(this.host,function(){s.invalidate()})},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{0==this.disabled&&this._header.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,r){return e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length?void 0:"width"==t||"height"==t?void e._setSize():void("expanded"==t?1==r&&0==i?(this.expanded=!1,this.expand()):0==r&&1==i&&(this.expanded=!0,this.collapse()):this.refresh())},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var o=this.host.trigger(s)}catch(n){}return o},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.host.width(this.width),this.host.height(this.height),this._header.height("auto"),this._header.css("min-height",this._arrow.height());var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}if("right"==e?(this._header_text.css({"float":"left","margin-left":"0px"}),this._arrow.css({"float":"right",position:"relative"})):"left"==e&&("auto"==this.width?(this._header_text.css({"float":"left","margin-left":"17px"}),this._arrow.css({"float":"left",position:"absolute"})):(this._header_text.css({"float":"right","margin-left":"0px"}),this._arrow.css({"float":"left",position:"relative"}))),this._arrow.css("margin-top",this._header_text.height()/2-this._arrow.height()/2),"auto"==this.height)this._content.height("auto"),this._contentHeight=this._content.height();else{this._content.height("auto");var t=Math.round(this.host.height())-Math.round(this._header.outerHeight())-1;0>t&&(t=0),this._contentHeight||(this._contentHeight=this._content.height()),t!=this._contentHeight?(this._content.height(t),this._contentHeight=Math.round(this._content.outerHeight())):this._content.height(this._contentHeight)}},_toggle:function(){var t=this;if(0==this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){1==this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.addClass(this.toThemeProperty("jqx-expander-header-hover")),"top"==this.headerPosition?(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),
this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-up-hover")))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-hover")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover")),this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this;this.host.addClass(this.toThemeProperty("jqx-widget")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),1==this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),0==this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.expanded?(this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"))):(this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal")),e._header.removeClass(e.toThemeProperty("jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover")),e._header.addClass(e.toThemeProperty("jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._header.removeClass(e.toThemeProperty("jqx-expander-header-hover")),"top"==e.headerPosition?(e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-up-hover"))),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))),this.host.addClass(this.toThemeProperty("jqx-expander")),this._header.addClass(this.toThemeProperty("jqx-expander-header")),this._content.addClass(this.toThemeProperty("jqx-expander-content")),"top"==this.headerPosition?this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom")):"bottom"==this.headerPosition&&this._content.addClass(this.toThemeProperty("jqx-expander-content-top")),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._content.html()),1==this._cntntEmpty?(this._content.height(0),this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):(this._content.height(this._contentHeight),this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((1==e.focusedH||1==e.focusedC)&&0==e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(1==e.focusedH&&e._animate(),i=!0);break;case 38:1==t.ctrlKey&&1==e.focusedC&&e._header.focus(),i=!0;break;case 40:1==t.ctrlKey&&1==e.focusedH&&e._content.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header_text,"focus.expander"+this.widgetID,function(){t._header.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._header.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNavigationBar","",{}),e.extend(e.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};return e.extend(!0,this,t),t},createInstance:function(t){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this.render()},val:function(t){return 0==arguments.length||"object"==typeof t?this.expandedIndexes:("string"==typeof t?(this.expandedIndexes.push(parseInt(t)),this._applyExpandedIndexes()):(e.isArray(t)?this.expandedIndexes=t:(this.expandedIndexes=new Array,this.expandedIndexes.push(t)),this._applyExpandedIndexes()),this.expandedIndexes)},expandAt:function(t){var i=this;"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode&&"toggle"!=this.expandMode||e.each(this.items,function(e,r){e!=t&&i.collapseAt(e)});var r=this.items[t];if(0==r.disabled&&0==r.expanded&&1==r._expandChecker){var i=this;switch(r._expandChecker=0,this._raiseEvent("0",{item:t}),r._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),r._header.addClass(this.toThemeProperty("jqx-fill-state-pressed")),r._header.addClass(this.toThemeProperty("jqx-expander-header-expanded")),r._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),r._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover")),r._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover")),r._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),r._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top")),r._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),r._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),r._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom")),r._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded")),0==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"hidden"}),this.eCFlag=1,this.animationType){case"slide":var s=r._content,o=(s.height(),{});o.height=o.paddingTop=o.paddingBottom=o.borderTopWidth=o.borderBottomWidth="show";var n=0,a=s.outerHeight();if(e.jqx.browser.msie&&e.jqx.browser.version<9){var o={};o.height=o.paddingTop=o.paddingBottom="show"}s.animate(o,{duration:this.expandAnimationDuration,easing:this.easing,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?n+=t.now:i._collapseContent?(t.now=Math.round(a-i._collapseContent.outerHeight()-n),n=0):t.now=Math.round(e)},complete:function(){r.expanded=!0,e.jqx.aria(r._header,"aria-expanded",!0),e.jqx.aria(r._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:t}),i._checkHeight(),1==i.heightFlag&&i.host.css({"overflow-x":"hidden","overflow-y":"auto"}),i.initContent&&0==r._initialized&&(i.initContent(t),r._initialized=!0),i.eCFlag=0}});break;case"fade":setTimeout(function(){r._content.fadeIn(this.expandAnimationDuration,function(){r.expanded=!0,e.jqx.aria(r._header,"aria-expanded",!0),e.jqx.aria(r._content,"aria-hidden",!1),i._updateExpandedIndexes(),i._raiseEvent("1",{item:t}),i._checkHeight(),1==i.heightFlag&&i.host.css({"overflow-x":"hidden","overflow-y":"auto"}),i.initContent&&0==r._initialized&&(i.initContent(t),r._initialized=!0),i.eCFlag=0})},this.collapseAnimationDuration);break;case"none":r._content.css("display","inherit"),r.expanded=!0,e.jqx.aria(r._header,"aria-expanded",!0),e.jqx.aria(r._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:t}),this._checkHeight(),1==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"auto"}),this.initContent&&0==r._initialized&&(this.initContent(t),r._initialized=!0),this.eCFlag=0}}},collapseAt:function(t){var i=this.items[t];if(0==i.disabled&&1==i.expanded&&0==i._expandChecker){var r=this;switch(i._expandChecker=1,this._raiseEvent("2",{item:t}),i._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded")),i._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),i._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),i._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),i._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),i._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom")),i._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded")),i._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),i._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top")),0==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"hidden"}),this.eCFlag=1,this._collapseContent=i._content,this.animationType){case"slide":var s={};if(s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="hide",e.jqx.browser.msie&&e.jqx.browser.version<9){var s={};s.height=s.paddingTop=s.paddingBottom="hide"}var o=i._content;o.animate(s,{duration:this.collapseAnimationDuration,step:function(e,t){t.now=Math.round(e)},easing:this.easing,complete:function(){i.expanded=!1,o.hide(),e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),r._updateExpandedIndexes(),r._raiseEvent("3",{item:t}),r._checkHeight(),1==r.heightFlag&&r.host.css({"overflow-x":"hidden","overflow-y":"auto"}),r.eCFlag=0,r._collapseContent=null}});break;case"fade":i._content.fadeOut(this.collapseAnimationDuration,function(){i.expanded=!1,e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),r._updateExpandedIndexes(),r._raiseEvent("3",{item:t}),r._checkHeight(),1==r.heightFlag&&r.host.css({"overflow-x":"hidden","overflow-y":"auto"}),r.eCFlag=0});break;case"none":i._content.css("display","none"),i.expanded=!1,e.jqx.aria(i._header,"aria-expanded",!1),e.jqx.aria(i._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:t}),this._checkHeight(),1==this.heightFlag&&this.host.css({"overflow-x":"hidden","overflow-y":"auto"}),this.eCFlag=0}}},setHeaderContentAt:function(e,t){this.items[e]._header_text.html(t)},getHeaderContentAt:function(e){return this.items[e]._header_text.html()},setContentAt:function(e,t){this.items[e]._content.html(t),this._checkContent(e)},getContentAt:function(e){return this.items[e]._content.html()},showArrowAt:function(e){this.items[e]._arrow.css("display","block")},hideArrowAt:function(e){this.items[e]._arrow.css("display","none")},enable:function(){this.disabled=!1,e.each(this.items,function(e,t){this.disabled=!1}),this._enabledDisabledCheck(),this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,e.each(this.items,function(e,t){this.disabled=!0}),this._enabledDisabledCheck(),this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},enableAt:function(e){this.items[e].disabled=!1,this.refresh()},disableAt:function(e){this.items[e].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(t){1!=t&&(this._removeHandlers(),1==this.showArrow?e.each(this.items,function(e,t){var i=this;i._arrow.css("display","block")}):e.each(this.items,function(e,t){var i=this;i._arrow.css("display","none")}),this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard())},render:function(){this.widgetID=this.element.id;var t=this;-1==this._expandModes.indexOf(this.expandMode)&&(this.expandMode="singleFitHeight"),e.jqx.utilities.resize(this.host,function(){t._setSize()}),this.host.attr("role","tablist"),this.items&&(this._removeHandlers(),e.each(this.items,function(){this._header.removeClass(),this._header.attr("tabindex",null),this._content.attr("tabindex",null),this._header[0].className="",this._header_text.removeClass(),this._header_text[0].className="",this._header.css("margin-top",0),this._header[0].innerHTML=this._header_text[0].innerHTML})),this.items=new Array;var i=this.host.children().length,r="Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content.";try{if(i%2!=0)throw r}catch(s){alert(s)}var o="Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs.";try{for(var n=this.host.children(),a=0;i>a;a++)if("div"!=n[a].tagName.toLowerCase())throw o}catch(s){alert(s)}for(var l,d=0;i>d;d+=2)l=this.host.children("div:eq("+d+")"),l.wrap("<div></div>");for(var h,a=0,c=0;i/2>c;c++)h=a+1,this.items[c]=new Object,this.items[c]._header=this.host.children("div:eq("+a+")"),this.items[c]._header.attr("role","tab"),this.items[c]._content=this.host.children("div:eq("+h+")"),this.items[c]._content.attr("role","tabpanel"),a+=2;var u=this.expandedIndexes.length;e.each(this.items,function(e,t){this.expandedFlag=!1,this.focusedH=!1,this.focusedC=!1}),this.items&&0==this.items.length||("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode?(e.each(this.items,function(e,t){var i=this;i.expanded=!1}),0!=u?this.items[this.expandedIndexes[0]].expanded=!0:0!=u||"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0)):"multiple"==this.expandMode?0!=u?e.each(this.items,function(e,i){for(var r=this,s=0;u>s;s++){if(t.expandedIndexes[s]==e){r.expanded=!0;break}r.expanded=!1}}):e.each(this.items,function(e,t){var i=this;i.expanded=!1}):"none"==this.expandMode&&e.each(this.items,function(e,t){var i=this;i.expanded=!1}),this._enabledDisabledCheck(),e.each(this.items,function(e,i){var r=this;r._header_text=r._header.children("div:eq(0)"),t.rtl?r._header_text.addClass(t.toThemeProperty("jqx-expander-header-content-rtl")):r._header_text.addClass(t.toThemeProperty("jqx-expander-header-content")),r._header.append("<div></div>"),r._arrow=r._header.children("div:eq(1)"),1==t.showArrow?r._arrow.css("display","block"):r._arrow.css("display","none")}),e.each(this.items,function(i,r){var s=this;1==s.expanded?(s._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")),s._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),s._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-bottom")),s._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-expanded")),t.initContent&&setTimeout(function(){t.initContent(i)},10),s._initialized=!0,s._expandChecker=0,e.jqx.aria(s._header,"aria-expanded",!0),e.jqx.aria(s._content,"aria-hidden",!1)):0==s.expanded&&(s._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),s._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-top")),s._initialized=!1,s._expandChecker=1,s._content.css("display","none"),e.jqx.aria(s._header,"aria-expanded",!1),e.jqx.aria(s._content,"aria-hidden",!0))}),this.tI=0,e.each(this.items,function(e,i){var r=this;void 0==r._header.attr("tabindex")&&(t.tI++,r._header.attr("tabindex",t.tI)),void 0==r._content.attr("tabindex")&&(t.tI++,r._content.attr("tabindex",t.tI))}),this._setTheme(),e.each(this.items,function(e,i){t._checkContent(e)}),this._setSize(),this._toggle(),this._keyBoard())},insert:function(t,i,r){var s="<div>"+i+"</div><div>"+r+"</div>";if(-1!=t)e(s).insertBefore(this.items[t]._header);else{var o=this.items.length-1;e(s).insertAfter(this.items[o]._content)}this.render()},add:function(e,t){this.insert(-1,e,t)},update:function(e,t,i){this.setHeaderContentAt(e,t),this.setContentAt(e,i)},remove:function(e){if(isNaN(e)&&(e=this.items.length-1),this.items[e]){this.items[e]._header.remove(),this.items[e]._content.remove(),this.items.splice(e,1);var t=this.expandedIndexes.indexOf(e);t>-1&&this.expandedIndexes.splice(t,1),this.render()}},destroy:function(){this._removeHandlers(),this.host.remove()},focus:function(){try{e.each(this.items,function(e,t){var i=this;return 0==i.disabled?(i._header.focus(),!1):void 0})}catch(t){}},_applyExpandedIndexes:function(){for(var t=this,i=this.expandedIndexes.length,r=0;i>r;r++){var s=t.expandedIndexes[r];e.each(this.items,function(e,i){var r=this;return e==s&&(r.expandedFlag=!0,0==r.expanded&&t.expandAt(e),"single"==t.expandMode||"singleFitHeight"==t.expandMode||"toggle"==t.expandMode||"none"==t.expandMode)?!1:void 0}),e.each(this.items,function(e,i){var r=this;e!=s&&0==r.expandedFlag&&t.collapseAt(e)})}e.each(this.items,function(e,t){this.expandedFlag=!1})},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,r){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("width"==t||"height"==t)return void e._setSize();"disabled"==t?e._enabledDisabledCheck():"expandedIndexes"==t?e._applyExpandedIndexes():e.refresh()}},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i,s.item=s.args.item;try{var o=this.host.trigger(s)}catch(n){}return o},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){var t=this;this.headersHeight=0;var i=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-left")):0,r=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-right")):0,s=2,o=i+r+s;isNaN(o)&&(o=12),"auto"==this.width?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):this.host.width(parseInt(this.width)+o),this.host.height(this.height),e.each(this.items,function(e,i){var r=this,s=t.arrowPosition;if(t.rtl)switch(s){case"left":s="right";break;case"right":s="left"}"right"==s?(r._header_text.css({"float":"left","margin-left":"0px"}),r._arrow.css({"float":"right",position:"relative"})):"left"==s&&("auto"==t.width?(r._header_text.css({"float":"left","margin-left":"17px"}),r._arrow.css({"float":"left",position:"absolute"})):(r._header_text.css({"float":"right","margin-left":"0px"}),r._arrow.css({"float":"left",position:"relative"}))),r._header.height("auto"),r._header_text.css("min-height",r._arrow.height()),t.headersHeight+=r._header.outerHeight(),r._arrow.css("margin-top",r._header_text.height()/2-r._arrow.height()/2)}),e.each(this.items,function(e,i){var r=this;if("auto"!=t.height)if("single"==t.expandMode||"toggle"==t.expandMode||"multiple"==t.expandMode)t.host.css({"overflow-x":"hidden","overflow-y":"auto"});else if("singleFitHeight"==t.expandMode){var s=parseInt(r._content.css("padding-top"))+parseInt(r._content.css("padding-bottom"));t.height&&t.height.toString().indexOf("%")>=0?r._content.height(t.host.height()-t.headersHeight-s+2):r._content.height(t.host.height()-t.headersHeight-s)}}),t._checkHeight()},_toggle:function(){var t=this;if(0==this._isTouchDevice)switch(this.toggleMode){case"click":e.each(this.items,function(e,i){var r=this;0==r.disabled&&t.addHandler(r._header,"click.navigationbar"+t.widgetID,function(){t.focusedH=!0,t._animate(e)})});break;case"dblclick":e.each(this.items,function(e,i){var r=this;0==r.disabled&&t.addHandler(r._header,"dblclick.navigationbar"+t.widgetID,function(){t.focusedH=!0,t._animate(e)})});break;case"none":}else{if("none"==this.toggleMode)return;e.each(this.items,function(i,r){var s=this;0==s.disabled&&t.addHandler(s._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+t.widgetID,function(){t._animate(i)})})}},_animate:function(e,t){var i=this;this.eCFlag;var r=this.items[e];"none"!=this.expandMode&&1!=this.eCFlag&&(1==this.items[e].expanded?"multiple"!=this.expandMode&&"toggle"!=this.expandMode||this.collapseAt(e):this.expandAt(e),i._isTouchDevice||(1!=t?(r._header.addClass(this.toThemeProperty("jqx-fill-state-hover")),r._header.addClass(this.toThemeProperty("jqx-expander-header-hover")),r._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),r._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))):(r._header.removeClass(this.toThemeProperty("jqx-fill-state-hover")),r._header.removeClass(this.toThemeProperty("jqx-expander-header-hover")),r._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover")),r._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var t=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID),e.each(this.items,function(e,i){var r=this;t.removeHandler(r._header,"click.navigationbar"+t.widgetID),t.removeHandler(r._header,"dblclick.navigationbar"+t.widgetID),t.removeHandler(r._header,"mouseenter.navigationbar"+t.widgetID),t.removeHandler(r._header,"mouseleave.navigationbar"+t.widgetID),t.removeHandler(r._header,"focus.navigationbar"+t.widgetID),t.removeHandler(r._header,"blur.navigationbar"+t.widgetID),t.removeHandler(r._content,"focus.navigationbar"+t.widgetID),t.removeHandler(r._content,"blur.navigationbar"+t.widgetID),t.removeHandler(r._header_text,"focus.navigationbar"+t.widgetID),t.removeHandler(r._arrow,"focus.navigationbar"+t.widgetID)})},_setTheme:function(){var t=this;this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-widget")),1==this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),e.each(this.items,function(e,i){var r=this;r._header.css("position","relative"),r._content.css("position","relative"),r._header.addClass(t.toThemeProperty("jqx-widget-header")),r._header.addClass(t.toThemeProperty("jqx-item")),r._content.addClass(t.toThemeProperty("jqx-widget-content")),0==r.disabled?(r._header.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),r._content.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),1==r.expanded?(r._header.addClass(t.toThemeProperty("jqx-fill-state-pressed")),r._header.addClass(t.toThemeProperty("jqx-expander-header-expanded"))):(r._header.addClass(t.toThemeProperty("jqx-fill-state-normal")),r._header.removeClass(t.toThemeProperty("jqx-expander-header-expanded"))),t._isTouchDevice||(t.addHandler(r._header,"mouseenter.navigationbar"+t.widgetID,function(){1==r._expandChecker&&(r.focusedH||r._header.css("z-index",5),r._header.removeClass(t.toThemeProperty("jqx-fill-state-normal")),r._header.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),r._header.addClass(t.toThemeProperty("jqx-fill-state-hover")),r._header.addClass(t.toThemeProperty("jqx-expander-header-hover")),r._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-top-hover")),r._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-down-hover")),r.expanded?r._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):r._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(r._header,"mouseleave.navigationbar"+t.widgetID,function(){r.focusedH||r._header.css("z-index",0),r._header.removeClass(t.toThemeProperty("jqx-fill-state-hover")),r._header.removeClass(t.toThemeProperty("jqx-expander-header-hover")),r._arrow.removeClass(t.toThemeProperty("jqx-expander-arrow-top-hover")),r._arrow.removeClass(t.toThemeProperty("jqx-expander-arrow-down-hover")),1==r._expandChecker?r._header.addClass(t.toThemeProperty("jqx-fill-state-normal")):r._header.addClass(t.toThemeProperty("jqx-fill-state-pressed")),r._arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),r._arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}))):(r._header.addClass(t.toThemeProperty("jqx-fill-state-disabled")),r._content.addClass(t.toThemeProperty("jqx-fill-state-disabled"))),t.host.addClass(t.toThemeProperty("jqx-navigationbar")),r._header.addClass(t.toThemeProperty("jqx-expander-header")),r._content.addClass(t.toThemeProperty("jqx-expander-content")),r._content.addClass(t.toThemeProperty("jqx-expander-content-bottom")),0!=e&&r._header.css("margin-top",-1),r._arrow.addClass(t.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(e){var t=this.items[e],i=t._content;if(this._cntntEmpty=/^\s*$/.test(this.items[e]._content.html()),1==this._cntntEmpty)i.css("display","none"),i.height(0),i.addClass(this.toThemeProperty("jqx-expander-content-empty"));else{if(t.expanded&&i.css("display","block"),"singleFitHeight"==this.expandMode){var r=1;0!=e&&(r=2),i.height(this.host.height()-this.headersHeight+r)}else i.height("auto");i.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){var t=this;this.totalHeight=0,this.heightFlag;var i=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-left")):0,r=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-right")):0,s=2,o=i+r+s;isNaN(o)&&(o=12);var n=17;e.each(this.items,function(e,i){var r=this;t.totalHeight+=(r.expanded?r._content.outerHeight():0)+r._header.outerHeight()}),"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(this.totalHeight>this.host.height()?(this.host.width(this.width+o+n),this.heightFlag=!0):(this.host.width(this.width+o),this.heightFlag=!1))},_enabledDisabledCheck:function(){1==this.disabled?e.each(this.items,function(e,t){var i=this;i.disabled=!0}):e.each(this.items,function(e,t){var i=this;i.disabled=!1})},_updateExpandedIndexes:function(){var t=this;this.expandedIndexes=[],e.each(this.items,function(e,i){var r=this;return 1==r.expanded&&(t.expandedIndexes.push(e),"single"==t.expandMode||"singleFitHeight"==t.expandMode||"toggle"==t.expandMode||"none"==t.expandMode)?!1:void 0})},_keyBoard:function(){var t=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(i){var r=!1;return e.each(t.items,function(e,s){var o=this,n=t.items.length;if((1==o.focusedH||1==o.focusedC)&&0==o.disabled){switch(i.keyCode){case 13:case 32:"none"!=t.toggleMode&&(1==o.focusedH&&t._animate(e,!0),r=!0);break;case 37:if(0!=e)t.items[e-1]._header.focus();else{var n=t.items.length;t.items[n-1]._header.focus()}r=!0;break;case 38:if(0==i.ctrlKey)if(0!=e)t.items[e-1]._header.focus();else{var n=t.items.length;t.items[n-1]._header.focus()}else 1==o.focusedC&&o._header.focus();r=!0;break;case 39:e!=n-1?t.items[e+1]._header.focus():t.items[0]._header.focus(),r=!0;break;case 40:0==i.ctrlKey?e!=n-1?t.items[e+1]._header.focus():t.items[0]._header.focus():1==o.expanded&&o._content.focus(),r=!0;break;case 35:e!=n-1&&t.items[n-1]._header.focus(),r=!0;break;case 36:0!=e&&t.items[0]._header.focus(),r=!0}return!1}}),r&&i.preventDefault&&i.preventDefault(),!r})},_focus:function(){var t=this;this.disabled||e.each(this.items,function(i,r){var s=this;t.addHandler(s._header,"focus.navigationbar"+this.widgetID,function(){s.focusedH=!0,e.jqx.aria(s._header,"aria-selected",!0),s._header.addClass(t.toThemeProperty("jqx-fill-state-focus")),s._header.css("z-index",10)}),t.addHandler(s._header,"blur.navigationbar"+this.widgetID,function(){s.focusedH=!1,e.jqx.aria(s._header,"aria-selected",!1),s._header.hasClass("jqx-expander-header-hover")?s._header.css("z-index",5):s._header.css("z-index",0),s._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(s._header_text,"focus.navigationbar"+this.widgetID,function(){s._header.focus()}),t.addHandler(s._arrow,"focus.navigationbar"+this.widgetID,function(){s._header.focus()}),t.addHandler(s._content,"focus.navigationbar"+this.widgetID,function(){s.focusedC=!0,s._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(s._content,"blur.navigationbar"+this.widgetID,function(){s.focusedC=!1,s._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return e.extend(!0,this,t),t},createInstance:function(e){var t=this.host.attr("value");void 0!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value);var i=this;i._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};if(i.field.value&&(i.decimal=parseFloat(i.field.value)),i.field.getAttribute("min")){var s=i.field.getAttribute("min");i.min=parseFloat(s)}if(i.field.getAttribute("step")){var o=i.field.getAttribute("step");i.spinButtonsStep=parseFloat(o)}if(i.field.getAttribute("max")){var n=i.field.getAttribute("max");i.max=parseFloat(n)}i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var a=e("<div></div>",r);a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(a);var l=i.host.data();if(i.host=a,i.host.data(l),i.element=a[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),r=0;r<i.length-1;r++){
var s=i.substring(r,r+1);if(isNaN(parseFloat(s))&&s!=e.symbol&&"%"!=s&&"$"!=s&&"."!=s&&","!=s&&"-"!=s)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e.ValueString=new Number(e.ValueString).toFixed(e.decimalDigits),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString;var o=e.getvalue("negative");o&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||this.touchMode===!0)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var i=this.host.attr("name");if(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||this.touchMode===!0||"textbox"==this.inputMode){var t=this;t.savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()})}var r=e.data(this.host[0],"jqxNumberInput");r.jqxNumberInput=this;var t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;var s=(this.element.id,this.element,this);this.oldValue=this._value(),this.items=new Array;var o=(this.value,this.decimal);this._initializeLiterals(),this._render(),this.setDecimal(o);var t=this;setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation(),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return 0>e?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",function(i){var r=t._selection();i.preventDefault(),i.originalEvent.clipboardData?content=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(content),setTimeout(function(){t._setSelectionStart(r.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){return t.editcell?void 0:(t.wheel(e,t),!1)},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(r){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val()}),this.addHandler(this.numberInput,"blur",function(r){if("simple"==t.inputMode&&t._exitSimpleInputMode(r,t,!1,i),t.autoValidate){var s=parseFloat(t.decimal),o=t.getvalue("negative");o&&t.decimal>0&&(s=-parseFloat(t.decimal)),s>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),s<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,r),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t.changeType="keyboard",t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){var t=this;this.removeHandler(this.numberInput,"mousedown");var i=e.jqx.mobile.isOperaMiniMobileBrowser();i&&this.removeHandler(e(document),"click."+this.element.id,t._exitSimpleInputMode,t),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){return t.disabled?void 0:(e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mousedown",function(i){return t.disabled?void 0:(e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=e.jqx.mobile.isTouchDevice(),r="click";i&&(r=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,r,function(r){return i?(r.preventDefault(),r.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,r,function(r){return i?(r.preventDefault(),r.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this,i=this.decimal;if("none"!=t.spinMode){if(null==this.decimal)return void this.setDecimal(0);var r=this.getvalue("negative"),s=r?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var o=this._selection(),n=this.decimal,a=this.getDecimal();if(a<this.min)return a=this.min,this.setDecimal(this.min),this._setSelectionStart(o.start),void this.spinDown();if(a>this.max)return a=this.max,this.setDecimal(this.max),this._setSelectionStart(o.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(t.decimal)-t.spinButtonsStep;l=l.toString().length;var d=s+l<=t.digits;if("advanced"!=t.spinMode){if(a-t.spinButtonsStep>=t.min&&d){var h=1;for(m=0;m<t.decimalDigits;m++)h=10*h;var c=h*a-h*t.spinButtonsStep;c/=h,c=this._parseDecimalValueToEditorValue(c),t.setDecimal(c)}}else{var u=this._getspindecimal(),a=(this._getSeparatorPosition(),parseFloat(u.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(a)-t.spinButtonsStep;l=l.toString().length;var d=s+l<=t.digits,h=1,p=u.decimal.indexOf(".");if(-1!=p){for(var f=u.decimal.length-p-1,h=1,m=0;f>m;m++)h=10*h;a-=new Number(t.spinButtonsStep/h),a=a.toFixed(f);var p=a.toString().indexOf(".");-1==p&&(a=a.toString()+".");var g=a.toString()+u.afterdecimal;g=new Number(g),g=g.toFixed(t.decimalDigits),g>=t.min&&(g=this._parseDecimalValueToEditorValue(g),t.setDecimal(g))}else if(a-t.spinButtonsStep>=t.min&&d){var c=h*a-h*t.spinButtonsStep;c/=h;var g=c.toString()+u.afterdecimal;g>=t.min&&(g=this._parseDecimalValueToEditorValue(g),t.setDecimal(g))}}if(void 0==g||"simple"!=this.inputMode)return this._setSelectionStart(o.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);g=this.decimal.toString();var r=this.getvalue("negative");0==s&&r?this._setSelectionStart(o.start+1):void 0==g||void 0!=n&&n.toString().length!=g.length?r?this._setSelectionStart(o.start+1):this._setSelectionStart(o.start-1):this._setSelectionStart(o.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),r=this._getHiddenPrefixCount(),s=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var o="advanced"!=this.inputMode,n=0;n<e.start;n++)if(o){var a=s.substring(n,n+1),l=!isNaN(parseInt(a));l&&(t+=a),a==this.decimalSeparator&&(t+=a)}else i[n].canEdit&&i[n].character!=this.promptChar?t+=i[n].character:i[n].canEdit||-1==this.decimalSeparatorPosition||i[n]!=i[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=i[n].character);for(var d="",n=e.start;n<i.length;n++)if(o){var a=s.substring(n,n+1),l=!isNaN(parseInt(a));l&&(d+=a),a==this.decimalSeparator&&(d+=a)}else i[n].canEdit&&i[n].character!=this.promptChar?d+=i[n].character:i[n].canEdit||-1==this.decimalSeparatorPosition||i[n]!=i[this.decimalSeparatorPosition-r]||(d+=i[n].character);var h=this.getvalue("negative"),c=h?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString();return{decimal:c,afterdecimal:this._parseDecimalValue(d)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0){var i=e.toString().substring(0,t)+"."+e.toString().substring(t+1);return i}}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0){var i=e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1);return i}}return e},spinUp:function(){var t=this,i=this.decimal;if("none"!=t.spinMode){if(null==this.decimal)return void this.setDecimal(0);(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var r=this.getvalue("negative"),s=r?-1:0;if(!t.disabled){var o=this._selection(),n=t.decimal,a=t.getDecimal();if(a<this.min)return a=this.min,this.setDecimal(this.min),this._setSelectionStart(o.start),void this.spinUp();if(a>this.max)return a=this.max,this.setDecimal(this.max),this._setSelectionStart(o.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(t.decimal)+t.spinButtonsStep;l=l.toString().length;var d=s+l<=t.digits;if("advanced"!=t.spinMode){if(a+t.spinButtonsStep<=t.max&&d){for(var h=1,c=0;c<t.decimalDigits;c++)h=10*h;var u=h*a+h*t.spinButtonsStep;u/=h,u=this._parseDecimalValueToEditorValue(u),t.setDecimal(u)}}else{var p=this._getspindecimal(),a=(this._getSeparatorPosition(),parseFloat(p.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(a)+t.spinButtonsStep;l=l.toString().length;var d=s+l<=t.digits,h=1,f=p.decimal.indexOf(".");if(-1!=f){for(var m=p.decimal.length-f-1,h=1,c=0;m>c;c++)h=10*h;a+=new Number(t.spinButtonsStep/h),a=a.toFixed(m);var f=a.toString().indexOf(".");-1==f&&(a=a.toString()+".");var g=a.toString()+p.afterdecimal;g=new Number(g),g=g.toFixed(t.decimalDigits);var v=new Number(g).toFixed(t.decimalDigits);v<=t.max?(g=this._parseDecimalValueToEditorValue(g),t.setDecimal(g)):g=void 0}else if(a+t.spinButtonsStep<=t.max&&d){var u=h*a+h*t.spinButtonsStep;u/=h;var g=u.toString()+p.afterdecimal,v=new Number(g).toFixed(t.decimalDigits);v<=t.max?(g=this._parseDecimalValueToEditorValue(g),r&&-1==g.indexOf("-")&&"-0"!=p.decimal&&(g="-"+g),t.setDecimal(g)):g=void 0}}if(void 0==g||"simple"!=this.inputMode)return this._setSelectionStart(o.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);g=this.decimal.toString();var r=this.getvalue("negative");-1!=s||r?void 0==g||void 0!=n&&n.toString().length!=g.length?r?this._setSelectionStart(o.start):this._setSelectionStart(1+o.start):this._setSelectionStart(o.start):this._setSelectionStart(-1+o.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}},_exitSimpleInputMode:function(t,i,r,s){if(void 0==i&&(i=t.data),null!=i){if(void 0==r){if(null!=t.target&&null!=i.element&&(void 0!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var o=i.host.offset(),n=o.left,a=o.top,l=i.host.width(),d=i.host.height(),h=e(t.target).offset();if(h.left>=n&&h.left<=n+l&&h.top>=a&&h.top<=a+d)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly){var c=e.data(i.numberInput,"simpleInputMode");if(null!=c)return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)var i=e.toString().substring(0,t),e=i+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this,i=t.getvalue("negative"),r=this.ValueString;if(void 0==r&&(r=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var s=r.toString().indexOf(".");if(s>0){var o=r.toString().substring(0,s),n=o+this.decimalSeparator+r.toString().substring(s+1);r=n}}var a=i?"-":"";"left"==this.symbolPosition&&(a+=this.symbol);var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);var d=r.toString();d.indexOf("-")>=0&&(d=d.substring(d.indexOf("-")+1)),a+=d,"right"==this.symbolPosition&&(a+=this.symbol),0!=e&&t.numberInput.val(a)},_enterSimpleInputMode:function(t,i){void 0==i&&(i=t.data);var r=this._selection();if(null!=i){var s=i.getvalue("negative"),o=i.decimal;s&&o>0&&(o=-o),i.numberInput.val(o),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(r.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&void 0!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;e+=i}return e},_literal:function(e,t,i,r){return{character:e,regex:t,canEdit:i,isSeparator:r}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;t>i;i++){var r=this.negativeSymbol.substring(i,i+1),s="",o=!1,n=null;n=this.negative?this._literal(r,s,o,!1):this._literal("",s,o,!1),this.items[e]=n,e++}var a=this.symbol.length;if("left"==this.symbolPosition)for(i=0;a>i;i++){var r=this.symbol.substring(i,i+1),s="",o=!1,n=this._literal(r,s,o,!1);this.items[e]=n,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(var i=0;i<this.digits;i++){var r=this.promptChar,s="\\d",o=!0,n=this._literal(r,s,o,!1);if(this.items[e]=n,e++,i<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(l--,0==l){l=this.groupSize;var d=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=d,e++}}else i==this.digits-1&&(n.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){var r=this.decimalSeparator;0==r.length&&(r=".");var n=this._literal(r,"",!1,!0);this.items[e]=n,this.decimalSeparatorPosition=e,e++;for(var i=0;i<this.decimalDigits;i++){var h=0,s="\\d",c=this._literal(h,s,!0,!1);this.items[e]=c,e++}}if("right"==this.symbolPosition)for(var i=0;a>i;i++){var r=this.symbol.substring(i,i+1),s="",o=!1,n=this._literal(r,s,o);this.items[e]=n,e++}}},_match:function(e,t){var i=new RegExp(t,"i");return i.test(e)},_raiseEvent:function(t,i){var r=this.events[t],s={};if(s.owner=this,"none"==this.host.css("display"))return!0;var o=i.charCode?i.charCode:i.keyCode?i.keyCode:0,n=!0,a=this.readOnly,l=this;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var d=this.getvalue("decimal");this.max<d||this.min>d?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var h=new e.Event(r);h.owner=this,s.value=this.getvalue("decimal"),s.text=this.numberInput.val(),h.args=s,7==t&&(s.type=this.changeType,this.changeType=null),void 0!=r&&4!=t&&5!=t&&6!=t&&(n=this.host.trigger(h));var l=this;if("textbox"==this.inputMode)return n;if("simple"!=this.inputMode){if(4==t){if(a||this.disabled)return!1;n=l._handleKeyDown(i,o)}else if(5==t)(a||this.disabled)&&(n=!1);else if(6==t){if(a||this.disabled)return!1;n=l._handleKeyPress(i,o)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||this.touchMode===!0)return!0;if(a||this.disabled)return!1;var c=String.fromCharCode(o),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||o>=65&&90>=o&&(u=!1),6==t&&void 0!=e.jqx.browser.opera&&8==o)return!1;if(u){if(4==t&&(u=l._handleSimpleKeyDown(i,o)),189==o||45==o||109==o||173==o){var p=l._selection();if(4==t){var f=l.getvalue("negative");0==f?l.setvalue("negative",!0):l.setvalue("negative",!1),l.decimal=l.ValueString,l._parseDecimalInSimpleMode(),l._setSelectionStart(p.start),u=!1,l._raiseEvent(0,l.value),l._raiseEvent(1,l.numberInput.val())}}var m=s.ctrlKey||s.metaKey;if(!e.jqx.browser.msie){var g=i;if(m&&99==o||m&&67==o||m&&122==o||m&&90==o||m&&118==o||m&&86==o||g.shiftKey&&45==o)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&l._handleSimpleKeyDown(i,o),67==o}if(m&&97==o||m&&65==o)return!0;if(6==t&&u){var v=this._isSpecialKey(o);return v}}return u}return n},GetSelectionInValue:function(e,t,r,s){var o=0;for(i=0;i<t.length&&!(i>=e);i++){var n=t.substring(i,i+1),a=!isNaN(parseInt(n));(a||s&&t.substring(i,i+1)==r)&&o++}return o},GetSelectionLengthInValue:function(e,t,r,s){var o=0;for(i=0;i<r.length&&!(i>=e+t);i++){var n=r.substring(i,i+1),a=!isNaN(parseInt(n));(t>0&&i>=e&&a||i>=e&&r[i].toString()==s)&&o++}return o},GetInsertTypeByPositionInValue:function(e,t,i,r){var s="before",o=this.GetValueString(i,t,r),n=this.GetDigitsToSeparator(0,o,t);return e>n&&(s="after"),s},RemoveRange:function(e,t,i,r,s,o){var n=this.digits,a=e,l=t,d=0,r=(this.decimal,this._selection(),this.decimalSeparator),h=""!=r;if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d;var c=this.GetSeparatorPositionInText(r,i);s||(c=this.GetSeparatorPositionInText(r,i)),0>c&&!h&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=h?1:0;if(2>t&&1==o){var p=this.ValueString.length-this.decimalDigits-u;p==n&&c>e+t&&l++}for(var f="",m=0;m<i.length;m++)if(a>m||m>=a+l)f+=i.substring(m,m+1);else{var g=i.substring(m,m+1);if(g!=r){var g=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(g)>=0))if(m>c)f+="0";else{var g=i.substring(m,m+1),v=!isNaN(parseInt(g));v&&d++}}else f+=r}0==f.length&&(f="0"),s?this.numberInput.val(f):this.ValueString=f;var x=f.substring(0,1);if(x==r&&isNaN(parseInt(x))){var w="0"+f;f=w}return this.ValueString=this.GetValueString(f,r,h),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,r=this._selection(),s=this.getvalue("negative"),o=!1;0==r.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(r.start+1),r=this._selection(),o=!0),(s&&o||s&&!o&&0==r.start)&&(this._setSelectionStart(r.start+1),r=this._selection());var n=this.numberInput.val().substring(r.start,r.start+1),a=this.numberInput.val(),l=this.decimalSeparator,d=""!=l&&this.decimalDigits>0;if(n==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(a,l,d),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(a,l,d),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var h=this.ValueString;this.decimalDigits>0&&t>=h.length&&(t=h.length-1);var c="";t<h.length&&(c=h.substring(t,t+1));var u=!1,p=this.GetInsertTypeByPositionInValue(t,l,a,d);"after"==p&&(u=!0);var f=d?1:0;c!=l&&this.ValueString.length-this.decimalDigits-f>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var m=!1,g=d?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+g)){if(u&&c!=l){m&&t++;var v=h.substring(0,t);if(v.length==h.length&&this.ValueString.length>=this.digits+this.decimalDigits+g)return;var x=e,w="";t+1<h.length&&(w=h.substring(t+1));var b=v+x+w;this.ValueString=b}else{var v=h.substring(0,t),x=e,w=h.substring(t),b=v+x+w;"0"==h.substring(0,1)&&h.substring(1,2)==l&&(b=x+h.substring(1),c==l&&(this._setSelectionStart(r.start-1),r=this._selection())),this.ValueString=b}s?this.decimal=-this.ValueString:this.decimal=this.ValueString,this._parseDecimalInSimpleMode();var y=r.start;y+=1,this._setSelectionStart(y),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var r="",s=this.GetSeparatorPositionInText(t,e),o=e.subString(0,s);return r=this.GetValueString(o,t,i)},GetSeparatorPositionInText:function(e,t){var r=-1;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==e){r=i;break}return r},GetValueString:function(e,t,i){for(var r="",s=0;s<e.length;s++){var o=e.substring(s,s+1),n=!isNaN(parseInt(o));n&&(r+=o),o==t&&(r+=t)}return r},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var r=i.substring[(e.start,e.start+1)];!isNaN(parseInt(r));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);var e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);var t=this._selection(),i=this.numberInput.val()}var r=t.start,s=t.length;s=Math.max(s,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),r>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&r++;var o=0;this.symbol&&("left"==this.symbolPosition&&o--,this.negative&&o--),this.RemoveRange(t.start+o,s,this.ValueString,".",!1);var n=this.ValueString.substring(0,1),a=!isNaN(parseInt(n));a||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(r),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){var r=(this.decimal,this.decimalSeparator);this.ValueString=this.GetValueString(i,r,""!=r);var s=this.GetSelectionInValue(t.start,i,r,""!=r),o=this.GetSelectionLengthInValue(t.start,t.length,i,r);this.GetDigitsToSeparator(0,this.ValueString,r);if(this.decimalDigits>0&&s>=this.ValueString.length&&s--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",r),this.RemoveRange(t.start,o,this.ValueString,r,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,o,this.ValueString,r,!1,!0),this.InsertDigit(e,s,t)}},GetDigitsToSeparator:function(e,t,r){if(void 0==r&&(r="."),t.indexOf(r)<0)return t.length;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==r){e=i;break}return e},_handleSimpleKeyDown:function(t,i){var r=this._selection(),s=t.ctrlKey||t.metaKey;if((8==i||46==i)&&s)return this.setDecimal(null),!1;if(r.start>=0&&r.start<this.items.length)var o=String.fromCharCode(i);if(this.rtl&&37==i){var n=t.shiftKey,a=n?1:0;return n?this._setSelection(r.start+1-a,r.start+r.length+1):this._setSelection(r.start+1-a,r.start+1),!1}if(this.rtl&&39==i){var n=t.shiftKey,a=n?1:0;return n?this._setSelection(r.start-1,r.length+a+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i){var l=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return-1!=l&&this._setSelectionStart(l+1),!1}if(188==i){var d=this.numberInput.val();for(u=r.start;u<d.length;u++)if(d[u]==this.groupSeparator){this._setSelectionStart(1+u);break}return!1}var s=t.ctrlKey||t.metaKey;if(s&&99==i||s&&67==i){var r=this._selection(),h="",c=this.numberInput.val();if(r.start>0||r.length>0)for(var u=r.start;u<r.end;u++)h+=c.substring(u,u+1);if(e.data(document.body,"jqxSelection",h),e.jqx.browser.msie)window.clipboardData.setData("Text",h);else{var p=this,f=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');f.val(h),e("body").append(f),f.select(),setTimeout(function(){document.designMode="off",f.select(),f.remove(),p.focus()},100)}return this.savedText=h,!0}if(s&&122==i||s&&90==i)return!1;if(s&&118==i||s&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),
null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;var o=String.fromCharCode(i),m=parseInt(o);if(i>=96&&105>=i&&(m=i-96,i-=48),!isNaN(m)){var p=this;return this.insertsimple(m),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var g=this._isSpecialKey(i);return e.jqx.browser.mozilla?g:!0},_getEditRange:function(){var e=0,t=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character!=this.promptChar)return i},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var r=this._getFirstVisibleNonEmptyIndex();i.start<r&&this._setSelectionStart(r)}},_insertKey:function(t){this.numberInput[0].focus();var r=String.fromCharCode(t),s=parseInt(r);if(!isNaN(s)){var o=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&o++;var n=this._selection(),a=this;if(n.start>=0&&n.start<=this.items.length){var l=!1,d=this._getFirstVisibleNonEmptyIndex();n.start<d&&0==n.length&&(isNaN(r)&&" "!=r||(this._setSelectionStart(d),n=this._selection()));var h=(this._getFirstEditableItemIndex(),this._getLastEditableItemIndex()),c=this._getVisibleItems();e.each(c,function(e,t){if(!(n.start>e&&e!=c.length-1)){var i=c[e];if(e>h&&(i=c[h]),!isNaN(r)&&" "!=r&&i.canEdit){var s=a._getSeparatorPosition();if(a._match(r,i.regex)){if(!l&&n.length>0){for(j=n.start+o;j<n.end+o;j++)a.items[j].canEdit&&(j>s?a.items[j].character="0":a.items[j].character=a.promptChar);var d=a._getString();l=!0}var s=a._getSeparatorPosition(),u=a._hasEmptyVisibleItems();if(null==a.decimal&&(n.start=s-1,n.start<0&&(n.start=0),n.end=n.start),n.start<=s&&u){var f=e;-1==a.decimalSeparatorPosition&&n.start==s&&(f=e+1),null==a.decimal&&(f=n.start);var m="";for(p=0;p<f;p++)c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character);m+=r;var g=a.decimal<1?1:0;for(n.start==s&&-1!=a.decimalSeparatorPosition&&(m+=a.decimalSeparator,g=0),p=f+g;p<c.length;p++)c[p].character==a.decimalSeparator&&c[p].isSeparator?m+=c[p].character:c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character);"."!=a.decimalSeparator&&(m=a._parseDecimalValue(m)),m=parseFloat(m).toString(),m=new Number(m),m=m.toFixed(a.decimalDigits),"."!=a.decimalSeparator&&(m=a._parseDecimalValueToEditorValue(m)),a.setvalue("decimal",m);var d=a._getString();if(n.end<s?a._setSelectionStart(n.end+g):a._setSelectionStart(n.end),n.length>=1&&a._setSelectionStart(n.end),n.length==a.numberInput.val().length){var v=a._moveCaretToDecimalSeparator(),x=a.decimalSeparatorPosition>=0?1:0;a._setSelectionStart(v-x)}}else if(n.start<s||n.start>s){if(a.numberInput.val().length==n.start&&-1!=a.decimalSeparatorPosition)return!1;if(a.numberInput.val().length==n.start&&-1==a.decimalSeparatorPosition&&!u)return!1;var m="",w=!1;for(p=0;p<e;p++)c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character),c[p].character==a.decimalSeparator&&c[p].isSeparator&&(m+=c[p].character,w=!0);m+=r;var g=a.decimal<1?1:0;for(w||n.start!=s-1||(m+=a.decimalSeparator,w=!0),p=e+1;p<c.length;p++)!w&&c[p].character==a.decimalSeparator&&c[p].isSeparator?m+=c[p].character:c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character);a.setvalue("decimal",m);var d=a._getString();if(a.decimalSeparatorPosition<0&&i==c[h])return a._setSelectionStart(e),!1;var b=d.indexOf(a.symbol),y=a.getvalue("negative")?1:0;if(y>=b&&(b=d.length),n.start<b?a._setSelectionStart(e+1):a._setSelectionStart(e),n.length>=1,n.length==a.numberInput.val().length){var v=a._moveCaretToDecimalSeparator();a._setSelectionStart(v-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var r=this._selection(),s=this,o=t.ctrlKey||t.metaKey;if(o&&97==i||o&&65==i)return!0;if(8==i)return r.start>0&&s._setSelectionStart(r.start),!1;if(46==i)return r.start<this.items.length&&s._setSelectionStart(r.start),!1;if(!e.jqx.browser.mozilla&&(45==i||173==i||109==i||189==i)){var n=this.getvalue("negative");0==n?this.setvalue("negative",!0):this.setvalue("negative",!1)}e.jqx.browser.msie&&this._insertKey(i);var a=this._isSpecialKey(i);return a},_deleteSelectedText:function(){var e=this._selection(),t="",r=this._getSeparatorPosition(),s=this._getVisibleItems(),o=this._getHiddenPrefixCount();for(this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection()),i=0;i<e.start;i++)s[i].canEdit&&s[i].character!=this.promptChar?t+=s[i].character:s[i].canEdit||-1==this.decimalSeparatorPosition||s[i]!=s[this.decimalSeparatorPosition-o]||(0==t.length&&(t="0"),t+=s[i].character);for(i=e.start;i<e.end;i++)i>r&&-1!=this.decimalSeparatorPosition?s[i].canEdit&&s[i].character!=this.promptChar&&(t+="0"):s[i].canEdit||-1==this.decimalSeparatorPosition||s[i]!=s[this.decimalSeparatorPosition-o]||(0==t.length&&(t="0"),t+=s[i].character);for(i=e.end;i<s.length;i++)s[i].canEdit&&s[i].character!=this.promptChar?t+=s[i].character:s[i].canEdit||-1==this.decimalSeparatorPosition||s[i]!=s[this.decimalSeparatorPosition-o]||(0==t.length&&(t="0"),t+=s[i].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);for(e>0&&(e+=2),k=this.items.length-1;k>this.items.length-1-e;k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"==this.inputMode)return void this.numberInput.val();for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()},_saveSelectedText:function(){var t=this._selection(),r="",s=this._getVisibleItems();if(t.start>0||t.length>0)for(i=t.start;i<t.end;i++)s[i].canEdit&&s[i].character!=this.promptChar?r+=s[i].character:s[i].isSeparator&&(r+=s[i].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",r),r},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var r=0;r<this.selectedText.length;r++){var s=parseInt(this.selectedText[r]);if(!isNaN(s)){var o=48+s;this._insertKey(o)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&e++;return e},_getEditableItem:function(){var e=this._selection();for(i=0;i<this.items.length;i++)if(i<e.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(e){var t=this._selection(),r=this._getHiddenPrefixCount(),s=this._getVisibleItems(),o=t.start,n=-1;for(i=0;i<o;i++)i<s.length&&s[i].canEdit&&(n=i+r);if(-1==n&&t.length>0)for(o=t.end,i=0;i<o;i++)if(i<s.length&&s[i].canEdit){n=i+r;break}return n},_getEditableItemByIndex:function(e){for(k=0;k<this.items.length;k++)if(k>e&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var e=this._getVisibleItems();for(m=0;m<e.length;m++)if(e[m].character!=this.promptChar&&e[m].canEdit&&"0"!=e[m].character)return m;return-1},_getLastEditableItemIndex:function(){var e=this._getVisibleItems();for(m=e.length-1;m>=0;m--)if(e[m].character!=this.promptChar&&e[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,r=this._getFirstVisibleNonEmptyIndex(),s=!1;if(this.negative&&(s=!0,(r>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);var e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var o=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;o&&(e=this._selection());this._deleteSelectedText();if(e.length<1||o?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||s){var n=this._moveCaretToDecimalSeparator();this._setSelectionStart(n-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,r){var s=this._selection(),o=t.ctrlKey||t.metaKey;if((8==r||46==r)&&o)return this.setDecimal(null),!1;if(this.rtl&&37==r){var n=t.shiftKey,a=n?1:0;return n?this._setSelection(s.start+1-a,s.start+s.length+1):this._setSelection(s.start+1-a,s.start+1),!1}if(this.rtl&&39==r){var n=t.shiftKey,a=n?1:0;return n?this._setSelection(s.start-1,s.length+a+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(o&&97==r||o&&65==r)return!0;if(o&&120==r||o&&88==r)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(o&&99==r||o&&67==r)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(o&&122==r||o&&90==r)return!1;if(o&&118==r||o&&86==r||t.shiftKey&&45==r)return this._pasteSelectedText(),!1;if(s.start>=0&&s.start<this.items.length){var l=String.fromCharCode(r);this.items[s.start]}if(8==r)return this._handleBackspace(),!1;if(190==r||110==r)return this._moveCaretToDecimalSeparator(),!1;if(188==r){var d=this.numberInput.val();for(i=s.start;i<d.length;i++)if(d[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==e.jqx.browser.msie){var l=String.fromCharCode(r),h=parseInt(l);if(r>=96&&105>=r&&(h=r-96,r-=48),!isNaN(h)){var c=this;return c._insertKey(r),!1}}if(46==r){var u=this._getVisibleItems();if(s.start<u.length){var a=0==u[s.start].canEdit?2:1;if(0==s.start&&this.negative){this.setvalue("negative",!1),0==s.length&&this._setSelectionStart(0);var s=this._selection();if(0==s.length)return!1}0==s.length&&this._setSelection(s.start+a,s.start+a+s.length),this._handleBackspace(),new Number(this.decimal)<1||s.start>this._getSeparatorPosition()?this._setSelectionStart(s.end+a):s.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(s.end+a)}return!1}if(38==r)return this.spinUp(),!1;if(40==r)return this.spinDown(),!1;var p=this._isSpecialKey(r);if(e.jqx.browser.mozilla&&(45==r||173==r||109==r||189==r)){var f=this.getvalue("negative");0==f?this.setvalue("negative",!0):this.setvalue("negative",!1)}return e.jqx.browser.mozilla?p:!0},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var r=this.numberInput[0].createTextRange(),s=r.duplicate();r.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",r);var t=i.text.length;return{start:s.text.length,end:s.text.length+i.text.length,length:t,text:i.text}}catch(o){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection){var r=e.jqx.mobile.isTouchDevice();if(!r&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var s=this.numberInput[0].createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(o){}}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),o=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var n=this.host.width(),a=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(s)&&(s=1),isNaN(r)&&(r=1),isNaN(o)&&(o=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var l=this.numberInput.css("font-size");""==l&&(l=13),this.numberInput.css("height",parseInt(l)+4+"px"),this.numberInput.css("width",n-2);var d=a-2*s-parseInt(l)-2;if(isNaN(d)&&(d=0),0>d&&(d=0),this.spinButtons&&this.spincontainer){n-=parseInt(this.spinButtonsWidth-2);var h=e.jqx.mobile.isTouchDevice();h||this.touchMode===!0?(this.spincontainer.width(2*this.spinButtonsWidth),n-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",n-6),this.numberInput.css("margin-right","2px")}var c=d/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(c=d/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(c)+"px"),this.numberInput.css("padding-bottom",Math.round(c)+"px"),void 0!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){var e=this.numberInput.val();return e},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null===e)return void this.setDecimal(null);var t=e;t=t.toString(),t.indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));var i=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};t=i(t,this.groupSeparator,""),t=t.replace(this.decimalSeparator,".");for(var r="",s=0;s<t.length;s++){var o=t.substring(s,s+1);"-"===o&&(r+="-"),"."===o&&(r+="."),null!=o.match(/^[0-9]+$/)&&(r+=o)}t=r,t=t.replace(/ /g,""),t=new Number(t),this.setDecimal(t)},getDecimal:function(){if(null==this.decimal)return null;if("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal)return 0;var e=this.getvalue("negative");return e&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal)},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i=e;if("number"!=typeof e){e=e.toString();var r=e.indexOf(".");if(-1!=r){var s=e.substring(0,r),o=e.substring(r+1);i=s+"."+o,-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+o:s+this.decimalSeparator+o}else{var r=e.indexOf(this.decimalSeparator);if(-1!=r){var s=e.substring(0,r),o=e.substring(r+1);i=s+"."+o,-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+o:s+this.decimalSeparator+o}}}0>i?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else 0>e?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val("")},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",r="",s=!0;0==t.length&&(t="0");for(var o=0;o<t.length;o++){if("number"==typeof e){if("."==t.substring(o,o+1)){s=!1;continue}}else if(t.substring(o,o+1)==this.decimalSeparator){s=!1;continue}s?i+=t.substring(o,o+1):r+=t.substring(o,o+1)}i.length>0&&(i=parseFloat(i).toString());var n=this.digits;n<i.length&&(i=i.substr(0,n));var a=0,l=this._getSeparatorPosition(),d=this._getHiddenPrefixCount();l+=d;for(var o=l;o>=0;o--)o<this.items.length&&this.items[o].canEdit&&a<i.length&&(this.items[o].character=i.substring(i.length-a-1,i.length-a),a++);a=0;for(var o=l;o<this.items.length;o++)this.items[o].canEdit&&a<r.length&&(this.items[o].character=r.substring(a,a+1),a++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var h=e.toString().indexOf(this.decimalSeparator);if(h>0){var c=e.toString().substring(0,h),u=c+"."+e.toString().substring(h+1);this.ValueString=new Number(u).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}if("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode){this.decimal=this.ValueString;var p=this.getvalue("negative");p&&(this.decimal="-"+this.ValueString)}var e=this.val();e<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,r,s,o){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==r&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==r||"groupSize"==r||"decimalDigits"==r)&&0>o)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==r&&t.numberInput.attr("placeholder",t.placeHolder),"theme"===r&&e.jqx.utilities.setTheme(s,o,t.host),"digits"==r&&o!=s&&(t.digits=parseInt(o)),"min"!=r&&"max"!=r||(e.jqx.aria(t,"aria-value"+r,o.toString()),t._refreshValue()),"decimalDigits"==r&&o!=s&&(t.decimalDigits=parseInt(o)),"decimalSeparator"==r||"digits"==r||"symbol"==r||"symbolPosition"==r||"groupSize"==r||"groupSeparator"==r||"decimalDigits"==r||"negativeSymbol"==r){var n=t.decimal;if("decimalSeparator"==r&&""==o&&(o=" "),s!=o){var a=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(n)}}if("rtl"==r&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==r&&(t.spincontainer?(o?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===r&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==r&&"advanced"==t.inputMode){var a=t._selection(),l=0;o?(t.items[0].character=t.negativeSymbol[0],l=1):(t.items[0].character="",l=-1),t._refreshValue(),t.isInitialized&&t._setSelection(a.start+l,a.end+l)}if("decimal"==r&&(t.value=o,t.setDecimal(o)),"value"===r&&(t.value=o,t.setDecimal(o),t._raiseEvent(1,o)),"textAlign"==r&&(t.textAlign=o,t._render()),"disabled"==r&&(t.numberInput.attr("disabled",o),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",o.toString())),"readOnly"==r&&(t.readOnly=o),"promptChar"==r){for(i=0;i<t.items.length;i++)t.items[i].character==t.promptChar&&(t.items[i].character=o);t.promptChar=o}"width"==r?(t.width=o,t._render()):"height"==r&&(t.height=o,t._render())}},_value:function(){var e=this.value;return e},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var r=this.items[i];r.canEdit&&r.character!=this.promptChar&&(t+=r.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var s=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),s=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),s&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxProgressBar","",{}),e.extend(e.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),e.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?this.host.width(this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?this.host.height(this.height):this.host.height(this.height),this.valueDiv=e("<div></div>").appendTo(this.element),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=e("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host),this.feedbackElement=e("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,r=0;i>r;r++){var s=t[r].stop,o=t[r].color;this._createColorElements(s,o,e,i-r,r)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,r=0;r<this.colorRanges.length;r++){var s=this.colorRanges[r].element;if(!s)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var o=this.colorRanges[r].stop;o>Math.min(this.max,this.value)&&(o=Math.min(this.max,this.value));var n=100*o/this.max;i?size=t*n/100:size=e*n/100,size+="px",i?(s.css("height",size),"reverse"==this.layout?s.css("bottom",0):s.css("top",0)):(s.css("width",size),(this.rtl||"reverse"==this.layout)&&s.css("right","0px"))}},_createColorElements:function(t,i,r,s,o){var n;t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value));var a=100*t/this.max;this.host.width(),this.host.height();n=r?this.host.outerHeight()*a/100:this.host.outerWidth()*a/100,n+="px";var l=e(this.valueDiv).parent()[0];if(l.style.position="relative",r=r||!1){var d=e("<div/>");d.attr("class","jqx-progressbar-range"),d.css("width","100%"),d.css("height",n),d.css("background-color",i),d.css("position","absolute"),d.css("z-index",s),"reverse"==this.layout?d.css("bottom",0):d.css("top",0),d.appendTo(l)}else{var d=e("<div/>");d.attr("class","jqx-progressbar-range"),d.css("width",n),d.css("height","100%"),d.css("background-color",i),d.css("position","absolute"),d.css("z-index",s),d.css("top","0px"),this.rtl&&d.css("right","0px"),d.appendTo(l)}this.colorRanges[o].element=d},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,i,r){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[t],o=new e.Event(s);o.previousValue=i,o.currentValue=r,o.owner=this;var n=this.host.trigger(o);return n}},actualValue:function(t){return void 0===t?this._value():(e.jqx.aria(this,"aria-valuenow",t),e.jqx.setvalueraiseevent(this,"value",t),this._value())},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(t,i,r,s){if(this.isInitialized&&r!=s&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){var o=this;"colorRanges"==i&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),"min"==i&&t.value<s?t.value=s:"max"==i&&t.value>s&&(t.value=s),"value"===i&&void 0!=o.value&&(o.value=s,o.oldValue=r,e.jqx.aria(t,"aria-valuenow",s),(s<o.min||s>o.max)&&o._raiseevent(1,r,s),o.refresh()),"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?o.refresh():"width"==i&&void 0!=o.width?void 0==o.width||isNaN(o.width)||(o.host.width(o.width),o.refresh()):"height"==i&&void 0!=o.height&&(void 0==o.height||isNaN(o.height)||(o.host.height(o.height),o.refresh())),"disabled"==i&&o.refresh()}},_value:function(){var e=this.value;if("number"!=typeof e){var t=parseInt(e);e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var r=i.width();return i.remove(),r},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var r=i.height();return i.remove(),r},_initialRender:!0,refresh:function(t){if(t!==!0){var i=this.actualValue(),r=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e(this.element.children[0]).show(),!isNaN(i)&&!isNaN(r)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i);var s=this.oldValue,o=this.host.outerHeight(),n=this.host.outerWidth();null!=this.width&&(n=parseInt(this.width)),null!=this.height&&(o=parseInt(this.height)),this._refreshColorElements();var a=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2;isNaN(r)&&(r=0);var l=this;try{var d=this.element.children[0];if(e(d)[0].style.position="relative","horizontal"==this.orientation){e(d).toggle(i>=this.min);var n=this.host.outerWidth()*r/100,h=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(e(d)[0].style.left=this.host.width()+"px",e(d)[0].style.width=0),h=this.host.outerWidth()-n),e(d).animate({width:n,left:h+"px"},this.animationDuration,function(){l._value()===l.max&&l._raiseevent(2,s,l.max)}),this.feedbackElementHost.css("margin-top",-this.host.height())}else{e(d).toggle(i>=this.min);var o=this.host.height()*r/100,c=0;"reverse"==this.layout&&(this._initialRender&&(e(d)[0].style.top=this.host.height()+"px",e(d)[0].style.height=0),c=this.host.height()-o),this.feedbackElementHost.animate({"margin-top":-(r.toFixed(0)*l.host.height())/100},this.animationDuration,function(){}),e(d).animate({height:o,top:c+"px"},this.animationDuration,function(){var t=l._percentage();isNaN(t)&&(t=0),t.toFixed(0)==l.min&&(e(d).hide(),l._value()===l.max&&l._raiseevent(2,s,l.max))})}}catch(u){}this._initialRender=!1,this.feedbackElement.html(r.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(r.toFixed(0)+"%",r)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var p=this.feedbackElement.height(),f=this.feedbackElement.width(),m=Math.floor(a-parseInt(f)/2);this.feedbackElement.css({left:m,"margin-top":-parseInt(p)/2+"px"})}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRadioButton","",{}),e.extend(e.jqx._jqxRadioButton.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return e.extend(!0,this,t),t},createInstance:function(e){var t=this;t._createFromInput("RadioButton"),t.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};i.field.value&&(r.value=i.field.value),i.field.checked&&(r.checked=!0),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var s=i.element.nextSibling,o=!1;
!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(o=!0);var n=0,a=e("<div></div>",r);if(o){a.append(s);var l=e("<span>"+e(s).text()+"</span>");l.appendTo(e(document.body)),n+=l.width(),l.remove()}a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+n+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(a);var d=i.host.data();if(i.host=a,i.host.data(d),i.element=a[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},render:function(){this.setSize();var t=this;this.propertyChangeMap.width=function(e,i,r,s){t.setSize()},this.propertyChangeMap.height=function(e,i,r,s){t.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",r="13px",s=Math.floor((parseInt(this.boxSize)-13)/2),o=s;s+="px",o+="px";var n=parseInt(this.boxSize)/2+"px";"13px"!=this.boxSize?this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+s+"; top: "+o+"; width: "+r+"; height: "+r+';"></span></div></div>'):this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+n+"; height: "+n+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,e.jqx.browser.msie&&e.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var a=this.element.getAttribute("checked");"checked"!=a&&"true"!=a&&1!=a||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),e.jqx.aria(this),this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var e=this;this.addHandler(this.box,"click",function(t){return e.disabled||e.enableContainerClick?void 0:(e.changeType="mouse",e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"keydown",function(t){return e.disabled||e.locked||32!=t.keyCode?void 0:(e.changeType="keyboard",e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"click",function(t){return!e.disabled&&e.enableContainerClick?(e.changeType="mouse",e.toggle("click"),t.preventDefault(),!1):void 0}),this.addHandler(this.host,"selectstart",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"mouseup",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"focus",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"blur",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseenter",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseleave",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.box,"mouseenter",function(){e.disabled||e.enableContainerClick||(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){e.disabled||e.enableContainerClick||(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api")),this.checked)},check:function(t){this.checked=!0;var i=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var r=e.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),e.each(r,function(){var t=e(this).jqxRadioButton("groupName");t==i.groupName&&this!=i.element&&e(this).jqxRadioButton("uncheck","api")}),this._raiseEvent("0"),this._raiseEvent("3",{type:t,checked:!0}),0==this.checkMark.height()){var s=parseInt(this.boxSize)/2;this.checkMark.height(s),this.checkMark.width(s)}else if("13px"!=this.boxSize){var s=parseInt(this.boxSize)/2;this.checkMark.height(s),this.checkMark.width(s),this.checkMark.css("margin-left",1+s/4),this.checkMark.css("margin-top",1+s/4)}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(t){var i=this.checked;this.checked=!1;var r=this;e.jqx.browser.msie?r.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){r.checkMark.removeClass()})),i&&(this._raiseEvent("1"),this._raiseEvent("3",{type:t,checked:!1})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(t){var i=this.checked;this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=i&&(this._raiseEvent("2"),this._raiseEvent("3",{type:t,checked:null})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;1==this.checked?this.checked=this.hasTreeStates?null:!0:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,s.args=i;try{var o=this.host.trigger(s)}catch(n){}return o},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if(i!=this.enableContainerClick||this.disabled||this.locked||(s?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==i&&(s?(t.box.addClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"checked"==i)switch(s){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==i&&e.jqx.utilities.setTheme(r,s,this.host),"disabled"==i&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRating","",{}),e.extend(e.jqx._jqxRating.prototype,{defineInstance:function(){var t={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return e.extend(!0,this,t),t},createInstance:function(t){e.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:("string"==typeof e?this.value=parseInt(e):this.value=e,this.setValue(this.value),this.value)},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.value.toString())},_render:function(){for(var t=1;t<=this.count;t++)this._images[t-1]=e('<div style="float:left;width:auto;height:auto; position: relative;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[t-1])},_performLayout:function(){for(var e=1;e<=this.count;e++){var t=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),i=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),r=this._images[e-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),s=this._getImageName(i),o=this._getImageName(r),n=this._getImageName(t);i.css("background-image","none"),r.css("background-image","none"),t.css("background-image","none"),this._appendImage(r,o,e-1),this._appendImage(t,n,e-1),this._appendImage(i,s,e-1)}},resize:function(e,t){this.width=e,this.height=t,this._setControlSize(this.width,this.height)},_setControlSize:function(e,t){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=t,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=e},_appendImage:function(t,i,r){var s=this,o=e('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+i+'" />');return t.append(o),o.load(function(){s._initialized||(s._setControlSize(e(this).width(),e(this).height()),s._setValue(s.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),s._initialized=!0),s._images[r].height(s._itemHeight),e(this).height(s._itemHeight),s._images[r].width(s._itemWidth),e(this).width(s._itemWidth)}),o},_validateProperties:function(){try{if(this.precision<.001||this.precision>1)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(e){alert(e)}},_getImageIndex:function(e){for(var t=0;e!==this._images[t][0];)t++;return++t},_getRating:function(t,i){var r=this._getImageIndex(t);if(this.precision<1){for(var s=parseInt(i)-parseInt(e(t).position().left),o=this._itemWidth*this.precision,n=0;s>n;)n+=o;n>parseInt(this._itemWidth)-o&&(n=parseInt(this._itemWidth));var a=n/e(t).width();r-=1-a}return r},_addEventHandlers:function(){for(var t=this,i=0;i<this.count;i++)e.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[i],"mousemove",function(e){var i=t._getRating(this,e.pageX);t._setValue(i,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[i],"mouseenter",function(e){for(var i=t._getImageIndex(this),r=0;i>r;r++)t._images[r].children(".jqx-rating-hoverWrapper").css("z-index","10"),t._images[r].children(".jqx-rating-voteWrapper").css("z-index","1"),t._images[r].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[i],"mouseleave",function(e){for(var i=t._getImageIndex(this),r=0;i>r;r++)t._images[r].children(".jqx-rating-voteWrapper").css("z-index","10"),t._images[r].children(".jqx-rating-hoverWrapper").css("z-index","1"),t._images[r].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[i],"click",function(e){var i=t._getRating(this,e.pageX);t._setValue(i,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),t.singleVote&&t.disable(),e.stopPropagation(),t._raiseEvent(0,i)}),this.addHandler(this._images[i],"dragstart",function(e){return!1})},_removeEventHandlers:function(){for(var e=0;e<this.count;e++)this.removeHandler(this._images[e],"mousemove"),this.removeHandler(this._images[e],"mouseenter"),this.removeHandler(this._images[e],"mouseleave"),this.removeHandler(this._images[e],"click"),this.removeHandler(this._images[e],"dragstart")},_getImageName:function(e){var t=e.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_setValue:function(t,i,r,s){for(var o=1;o<=this.count;o++){var n=1,a=this._images[o-1].children(i),l=a.children(r),d=a.children(s);o>t&&(n=Math.abs(o-t)<1?1-Math.abs(o-t):0),l.width(this._itemWidth*n),d.width(this._itemWidth-parseInt(l.width())),a.children(this.toThemeProperty(s)).children(0).css("margin-left",-this._itemWidth*n+"px")}e.jqx.aria(this,"aria-valuenow",t)},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);return r.owner=this,r.value=i,r.oldvalue=this.value,this.value=i,this.input&&this.input.val(this.value.toString()),this.host.trigger(r)},setValue:function(e){this._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=e,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,e.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(e,t,i,r){return"disabled"===t?void(r?this.disable():this.enable()):void("value"===t?e.setValue(r):e._createRating())}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};if(i.field.value&&(r.value=i.field.value),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var s=i.field.getAttribute("min");i.min=parseFloat(s)}if(i.field.getAttribute("step")){var o=i.field.getAttribute("step");i.step=parseFloat(o)}if(i.field.getAttribute("max")){var n=i.field.getAttribute("max");i.max=parseFloat(n)}var a=e("<div></div>",r);a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(a);var l=i.host.data();if(i.host=a,i.host.data(l),i.element=a[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}},createInstance:function(t){var i=this;if(i._createFromInput("jqxSlider"),i.int64===!0){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxdata.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}this.render()},render:function(){this.element.innerHTML="",this.host.attr("role","slider"),this.host.addClass(this.toThemeProperty("jqx-slider")),this.host.addClass(this.toThemeProperty("jqx-widget")),e.jqx.aria(this),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.host.width(this.width),this.host.height(this.height),this._refresh(),this._raiseEvent(4,{value:this.getValue()}),this._addInput();var t=this,i=null==t.host.attr("tabindex");i&&t.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()})},resize:function(e,t){this.width=e,this.height=t,this.refresh(),this.host.width(me.width),this.host.height(me.height),this._performLayout(),this._initialSettings()},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){this.host.remove()},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.rangeSlider?this.values&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString())},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._addContentWrapper(),this._addButtons(),this._addRangeBar()},_addTrack:function(){(null===this._track||this._track.length<1)&&(this._track=e('<div class="'+this.toThemeProperty("jqx-slider-track")+'"></div>'),this.host.append(this._track)),this._track.attr("style",""),this._track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite"))),this._track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._track.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._track.addClass(this.toThemeProperty("jqx-rc-all"))},_addSliders:function(){(null===this._slider||this._slider.length<1)&&(this._slider={},this._slider.left=e('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>'),this._track.append(this._slider.left),this._slider.right=e('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>'),this._track.append(this._slider.right),this.template&&(this._slider.left.addClass(this.toThemeProperty("jqx-"+this.template)),this._slider.right.addClass(this.toThemeProperty("jqx-"+this.template)))),this._slider.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._slider.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._slider.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._slider.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){(null!==this._bottomTicks||this._bottomTicks.length<1||null!==this._topTicks||this._topTicks.length<1)&&this._addTickContainers();var e="visible";this.showTicks||(e="hidden"),this._bottomTicks.css("visibility",e),this._topTicks.css("visibility",e)},_addTickContainers:function(){("undefined"==typeof this._bottomTicks||this._bottomTicks.length<1)&&(this._bottomTicks=e('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>'),this.host.prepend(this._bottomTicks)),("undefined"==typeof this._topTicks||this._topTicks.length<1)&&(this._topTicks=e('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>'),this.host.append(this._topTicks))},_addButtons:function(){(null===this._leftButton||this._leftButton.length<1||null===this._rightButton||this._rightButton.length<1)&&this._createButtons();var e="block";this.showButtons&&!this.rangeSlider||(e="none"),this._rightButton.css("display",e),this._leftButton.css("display",e)},_createButtons:function(){if(this._leftButton=e('<div class="jqx-slider-left"><div style="width: 100%; height: 100%;"></div></div>'),this._rightButton=e('<div class="jqx-slider-right"><div style="width: 100%; height: 100%;"></div></div>'),this.host.prepend(this._rightButton),this.host.prepend(this._leftButton),!this.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");this._leftButton.jqxRepeatButton({template:this.template,theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize}),this._rightButton.jqxRepeatButton({template:this.template,theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize})},_addContentWrapper:function(){void 0!==this._contentWrapper&&0!==this._contentWrapper.length||(this.host.wrapInner("<div></div>"),this._contentWrapper=this.host.children(0)),this._contentWrapper.css("float","none")},_addTicks:function(t){if(this.showTicks){var i,r,s,o,n,a,l=t[this._getSetting("size")]();this.int64===!1?(i=this.max-this.min,r=Math.round(i/this.ticksFrequency),s=Math.round(i/this.minorTicksFrequency),n=this.min,a=this.max):(i=this._max64.subtract(this._min64),r=i.div(this._ticksFrequency64).toNumber(),s=i.div(this._minorTicksFrequency64).toNumber(),n=this._min64.toString(),a=this._max64.toString());var d=l/r,o=l/s;t.empty();var h,c="";h="normal"===this.layout&&"horizontal"===this.orientation||"reverse"===this.layout&&"vertical"===this.orientation?this.tickLabelFormatFunction?this.tickLabelFormatFunction(n):n:this.tickLabelFormatFunction?this.tickLabelFormatFunction(a):a;var u=e("<span style='visibility: hidden;'></span>");u.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-slider")),u.appendTo(document.body),u.html("0");var p={width:u.width(),height:u.height()};u.detach();var f=t[this._getSetting("oSize")]();c+=this._addTick(t,0,this.min,f,h,p);for(var m=1;r>m;m++){var g=m*d;g=Math.floor(g);var v;v=this.int64===!1?"normal"===this.layout&&"horizontal"===this.orientation||"reverse"===this.layout&&"vertical"===this.orientation?this.min+this.ticksFrequency*m:this.max-this.ticksFrequency*m:"normal"===this.layout&&"horizontal"===this.orientation||"reverse"===this.layout&&"vertical"===this.orientation?this._min64.add(this._ticksFrequency64.multiply((new e.jqx.math).fromString(m.toString(),10))).toString():this._max64.subtract(this._ticksFrequency64.multiply((new e.jqx.math).fromString(m.toString(),10))).toString();var h=this.tickLabelFormatFunction?this.tickLabelFormatFunction(v):v;c+=this._addTick(t,g,m,f,h,p)}if(this.showMinorTicks)for(var m=1;s>m;m++){var g=m*o;g=Math.floor(g);var h="";c+=this._addTick(t,g,m,f,h,p,!0)}h="normal"===this.layout&&"horizontal"===this.orientation||"reverse"===this.layout&&"vertical"===this.orientation?this.tickLabelFormatFunction?this.tickLabelFormatFunction(a):a:this.tickLabelFormatFunction?this.tickLabelFormatFunction(n):n,c+=this._addTick(t,r*d,this.max,f,h,p),t.append(e(c))}},_addTick:function(e,t,i,r,s,o,n){var a="";a=this.toThemeProperty("jqx-slider-tick"),a+=" "+this.toThemeProperty("jqx-fill-state-pressed"),this.template&&(a+=" "+this.toThemeProperty("jqx-"+this.template));var l,d=this._getSetting("top"),h="2px",c=this.tickSize;if(n&&(c=this.minorTickSize),e[0]!==this._topTicks[0]&&(h=r-c-2+"px"),"horizontal"===this.orientation){if(l='<div style="'+d+": "+h+"; "+this._getSetting("oSize")+":  "+c+"px; float: left; position:absolute; left:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+a+'"></div>',this.showTickLabels){h=e[0]!==this._topTicks[0]?r-c-o.height-2+"px":2+c+"px";var u=o.width*s.toString().length;u/=2;var p=t-u;l+='<div style="'+d+": "+h+"; float: left; position:absolute; left:"+p+'px;">'+s+"</div>"}}else if(l='<div style="'+d+": "+h+"; "+this._getSetting("oSize")+":  "+c+"px; float: none; position:absolute; top:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+a+'"></div>',this.showTickLabels){h=e[0]!==this._topTicks[0]?r-c-s.toString().length*o.width-6+"px":6+c+"px";var f=o.height;f/=2;var p=t-f;l+='<div style="'+d+": "+h+"; float: none; position:absolute; top:"+p+'px;">'+s+"</div>"}return l},_addRangeBar:function(){(null===this._rangeBar||this._rangeBar.length<1)&&(this._rangeBar=e('<div class="'+this.toThemeProperty("jqx-slider-rangebar")+'"></div>'),this._rangeBar.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this._rangeBar.addClass(this.toThemeProperty("jqx-"+this.template)),this._rangeBar.addClass(this.toThemeProperty("jqx-rc-all")),this._track.append(this._rangeBar)),this.showRange?this._rangeBar.css("display","block"):this._rangeBar.css("display","none"),this._thumbSize=this._slider.left.outerWidth()},_getLeftDisplacement:function(){if(!this.showButtons)return 0;
if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var e=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(e=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(e=!0,this.host.height(this.height));var t=this.host.height();if("width"==this._getSetting("size")&&(t=this.host.width()),this._performButtonsLayout(),this._performTrackLayout(t-1),this._contentWrapper[this._getSetting("size")](this._track[this._getSetting("size")]()),this._contentWrapper[this._getSetting("oSize")](this.host[this._getSetting("oSize")]()),this._performTicksLayout(),this._performRangeBarLayout(),"horizontal"==this.orientation&&(this._contentWrapper.css("position","absolute"),this.showButtons&&!this.rangeSlider&&(this._contentWrapper.css("left",this._leftButton.outerWidth(!0)),this._rightButton.css("right","0px")),!this.showButtons||this.rangeSlider)){var i=2+Math.ceil(this.sliderButtonSize/2);this._contentWrapper.css("left",i)}if(this.rangeSlider?this._slider.left.css("visibility","visible"):this._slider.left.css("visibility","hidden"),this._refreshRangeBar(),"vertical"==this.orientation&&this.showButtons){var r=parseInt((this._leftButton.width()-this._track.width())/2);this._track.css("margin-left",-3+r+"px")}},_performTrackLayout:function(e){var t=e-(this.showButtons&&!this.rangeSlider?this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0):0);if(this.rangeSlider||!this.showButtons){var i=2+Math.ceil(this.sliderButtonSize/2);t=e-2*i}this._track[this._getSetting("size")](t),this._slider.left.css("left",0),this._slider.left.css("top",0),this._slider.right.css("left",0),this._slider.right.css("top",0)},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks),this._addTicks(this._bottomTicks),this._topTicks.css("visibility","hidden"),this._bottomTicks.css("visibility","hidden"),"top"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||this._bottomTicks.css("visibility","visible"),"bottom"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||this._topTicks.css("visibility","visible")},_performTicksContainerLayout:function(){var e=this._getSetting("size"),t=this._getSetting("oSize"),i=this._getSetting("outerOSize");this._topTicks[e](this._track[e]()),this._bottomTicks[e](this._track[e]());var r=-2+(parseInt(this.host[t]())-this._track[i](!0))/2;this._topTicks[t](parseInt(r));var s=-2+(parseInt(this.host[t]())-this._track[i](!0))/2;this._bottomTicks[t](parseInt(s)),"vertical"===this.orientation?(this._topTicks.css("float","left"),this._track.css("float","left"),this._bottomTicks.css("float","left")):(this._topTicks.css("float","none"),this._track.css("float","none"),this._bottomTicks.css("float","none"))},_performButtonsLayout:function(){this._addButtonsStyles(),this._addButtonsClasses(),this._addButtonsHover(),this._orderButtons(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_addButtonsStyles:function(){this._leftButton.css("background-position","center"),this._rightButton.css("background-position","center"),"vertical"===this.orientation?(this._leftButton.css("float","none"),this._rightButton.css("float","none")):(this._leftButton.css("position","absolute"),this._rightButton.css("position","absolute"))},_addButtonsClasses:function(){var e={prev:"left",next:"right"};"vertical"===this.orientation&&(e={prev:"up",next:"down"}),this._leftButton.addClass(this.toThemeProperty("jqx-rc-all")),this._rightButton.addClass(this.toThemeProperty("jqx-rc-all")),this._leftButton.addClass(this.toThemeProperty("jqx-slider-button")),this._rightButton.addClass(this.toThemeProperty("jqx-slider-button")),this._leftArrow=this._leftButton.find("div"),this._rightArrow=this._rightButton.find("div"),this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.prev)),this._rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.next))},_addButtonsHover:function(){var t=this,i={prev:"left",next:"right"};"vertical"===this.orientation&&(i={prev:"up",next:"down"}),this.addHandler(e(document),"mouseup.arrow"+this.element.id,function(){t._leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.sliderTooltip.fadeOut("fast"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1}),this.addHandler(this._leftButton,"mousedown",function(){t.disabled||(t._leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),this.addHandler(this._leftButton,"mouseup",function(){t.disabled||t._leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),this.addHandler(this._rightButton,"mousedown",function(){t.disabled||(t._rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),this.addHandler(this._rightButton,"mouseup",function(){t.disabled||t._rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),this._leftButton.hover(function(){t.disabled||t._leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))},function(){t.disabled||t._leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),this._rightButton.hover(function(){t.disabled||t._rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))},function(){t.disabled||t._rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"==this.buttonsPosition?(this._leftButton.css("margin-right","0px"),this._rightButton.css("margin-right",e)):"right"==this.buttonsPosition?(this._leftButton.css("margin-left",2+e),this._rightButton.css("margin-right","0px")):(this._leftButton.css("margin-right",e),this._rightButton.css("margin-left",2+e))},_verticalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"==this.buttonsPosition?(this._leftButton.css("margin-bottom","0px"),this._rightButton.css("margin-bottom",e)):"right"==this.buttonsPosition?(this._leftButton.css("margin-top",2+e),this._rightButton.css("margin-bottom","0px")):(this._leftButton.css("margin-bottom",e),this._rightButton.css("margin-top",2+e));var t=this._leftButton.css("margin-left");this._leftButton.css("margin-left",parseInt(t)-1),this._rightButton.css("margin-left",parseInt(t)-1)},_orderButtons:function(){switch(this._rightButton.detach(),this._leftButton.detach(),this.buttonsPosition){case"left":this.host.prepend(this._rightButton),this.host.prepend(this._leftButton);break;case"right":this.host.append(this._leftButton),this.host.append(this._rightButton);break;case"both":this.host.prepend(this._leftButton),this.host.append(this._rightButton)}},_performRangeBarLayout:function(){this._rangeBar[this._getSetting("oSize")](this._track[this._getSetting("oSize")]()),this._rangeBar[this._getSetting("size")](this._track[this._getSetting("size")]()),this._rangeBar.css("position","absolute"),this._rangeBar.css("left",0),this._rangeBar.css("top",0)},_centerElement:function(t){var i=-1+(e(t.parent())[this._getSetting("oSize")]()-t[this._getSetting("outerOSize")]())/2;return t.css("margin-"+[this._getSetting("left")],0),t.css("margin-"+[this._getSetting("top")],i),t},_raiseEvent:function(t,i){var r=this._events[t],s=new e.Event(r);if(this._triggerEvents===!1)return!0;s.args=i,0==t&&(s.args.type=this.changeType,this.changeType=null),1===t&&(s.args.cancel=!1,this._slideEvent=s),this._lastValue[t]=i.value,s.owner=this;var o=this.host.trigger(s);return o},_initialSettings:function(){this.int64===!1?this.rangeSlider?"number"!=typeof this.value?this.setValue(this.value):this.setValue(this.values):(void 0==this.value&&(this.value=0),this.setValue(this.value)):this.rangeSlider===!1||Array.isArray(this._value64)===!0?this.setValue(this._value64):this.setValue(this._values64),this.disabled&&this.disable()},_addEventHandlers:function(){var t=this;this.addHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.element.id,function(){t._stopDrag()});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=function(e){t._stopDrag()},r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(s){}this.addHandler(e(document),this._getEvent("mousemove")+"."+this.element.id,this._performDrag,{self:this});var o=this;this.addHandler(this._slider.left,"mouseenter",function(){o.disabled||t._slider.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseenter",function(){o.disabled||t._slider.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mouseleave",function(){o.disabled||t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseleave",function(){o.disabled||t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mousedown",function(){o.disabled||t._slider.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mousedown",function(){o.disabled||t._slider.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.left,"mouseup",function(){o.disabled||t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mouseup",function(){o.disabled||t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler,{self:this}),this.addHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler,{self:this}),this.addHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler,{self:this}),this.addHandler(this.host,"focus",function(){t._track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"blur",function(){t._leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.element.onselectstart=function(){return!1},this._addMouseWheelListeners(),this._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this;this.addHandler(this.host,"mousewheel",function(i){if(t.disabled)return!0;if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0;var r=i.wheelDelta;i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(r=-40*i.detail),r>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this;this.addHandler(this.host,"keydown",function(t){switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!=e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1;case 38:case 39:return"normal"!=e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1;case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1;case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=e.jqx.mobile.getTouches(t),r=i[0],s=t.data.self,t=s._isTouchDevice?r:t,o=(s._track.coord()[s._getSetting("left")],t[s._getSetting("page")]-s._slider.left[s._getSetting("size")]()/2),n=s._getClosest(o),a=(parseInt(s._track[s._getSetting("size")]()),s._getValueByPosition(o));s._mouseDown=!0,s.changeType="mouse",s._setValue(a,n),s.input&&e.jqx.aria(s,"aria-valuenow",s.input.val())},_getClosest:function(e){return this.rangeSlider?(e=e-this._track.coord()[this._getSetting("left")]-this._slider.left[this._getSetting("size")]()/2,Math.abs(parseInt(this._slider.left.css(this._getSetting("left")),10)-e)<Math.abs(parseInt(this._slider.right.css(this._getSetting("left")),10)-e)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse","horizontal"!=this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.changeType="mouse","horizontal"!=this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(e){var t=e.data.self;return"normal"==t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.self;return"normal"==t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=e.jqx.mobile.getTouches(t),r=(i[0],t.data.self);r.changeType="mouse",r._capturedElement=e(t.target),r._startX=e(t.target).coord().left,r._startY=e(t.target).coord().top;var s=e.jqx.position(t);return r._mouseStartX=s.left,r._mouseStartY=s.top,r._mouseDown=!0,r.tooltip&&r._showTooltip(r._capturedElement,r.value),r._isTouchDevice?!1:void 0},_stopDrag:function(){var t=this;return t._slideStarted&&t._raiseEvent(2,{value:t.getValue()}),t._slideStarted&&null!=t._capturedElement?(this.input&&e.jqx.aria(this,"aria-valuenow",this.input.val()),t._slider.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slider.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slideStarted=!1,t._capturedElement=null,void(t.sliderTooltip&&t.sliderTooltip.fadeOut("fast"))):void(t._capturedElement=null)},_performDrag:function(t){var i=t.data.self;if(null!==i._capturedElement){var r=e.jqx.mobile.getTouches(t);r[0];if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1;var s=e.jqx.position(t),o="horizontal"==i.orientation?s.left:s.top;if(i._isDragged(o),i._slideStarted||i._isTouchDevice)return i._dragHandler(o)}},_isDragged:function(e){Math.abs(e-this[this._getSetting("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null===this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._slider.right,r=this._slider.left,s=this._getSetting("left");this._capturedElement[0]===r[0]?parseFloat(e)>i.coord()[s]&&(e=i.coord()[s]):parseFloat(e)<r.coord()[s]&&(e=r.coord()[s])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,r=t-this._track.coord()[this._getSetting("left")]+this._slider.left.width()/2,s=r/this._track[this._getSetting("size")]();if(0>r&&(r=0),this.int64===!1)i=(this.max-this.min)*s+this.min;else{var o=(new e.jqx.math).fromNumber(this._track[this._getSetting("size")](),10),n=this._max64.subtract(this._min64),a=Math.round(this._divide64(n,o)*r);i=(new e.jqx.math).fromNumber(a,10).add(this._min64)}return"normal"==this.layout?"horizontal"!==this.orientation||this.rtl?this.max+this.min-i:i:"horizontal"!==this.orientation||this.rtl?i:this.int64===!1?this.max+this.min-i:this._max64.add(this._min64).subtract(i)},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._slider.left[this._getSetting("size")]();return this.__thumbSize=e,e},_getTrackSize:function(){if(this.__trackSize)return this.__trackSize;var e=this._track[this._getSetting("size")]();return this.__trackSize=e,e},_getFixedValueByPosition:function(t){var i,r,s,o,n=this._getTrackSize(),a=this._getThumbSize(),l={number:-1,distance:Number.MAX_VALUE};if(this.int64===!1){i=this.step,s=(this.max-this.min)/i,r=n/s,o=this._track.coord()[this._getSetting("left")]-a/2;var d=this.max+this.step;"fixedRange"==this.mode&&(d=this.max);for(var h=this.min;d>=h;h+=this.step)Math.abs(l.distance-t)>Math.abs(o-t)&&(l.distance=o,l.number=h),o+=r}else{i=this._step64,s=this._max64.subtract(this._min64).div(this._step64),r=(new e.jqx.math).fromNumber(n,10).div(s).toNumber(),o=this._track.coord()[this._getSetting("left")]-a/2,l={number:(new e.jqx.math).fromString(this._min64.toString(),10),distance:o};for(var c=(new e.jqx.math).fromString(this._min64.toString(),10);"fixedRange"!=this.mode?c.lessThanOrEqual(this._max64.add(this._step64)):c.lessThanOrEqual(this._max64);c=c.add(this._step64))Math.abs(l.distance-t)>Math.abs(o-t)&&(l.distance=o,l.number=(new e.jqx.math).fromString(c.toString(),10)),o+=r}return"normal"==this.layout?"horizontal"!==this.orientation||this.rtl?this.max+this.min-l.number:l.number:"horizontal"!==this.orientation||this.rtl?l.number:this.max+this.min-l.number},_setValue:function(e,t,i){if(!this._slideEvent||!this._slideEvent.args.cancel){if(e=this._handleValue(e,t),this._setSliderPosition(e,t,i),this._fixZIndexes(),this._valueChanged(1)){this._raiseEvent(1,{value:this.getValue()})}this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),this.input&&(this.rangeSlider?this.values&&void 0!=this.value.rangeEnd&&void 0!=this.value.rangeStart&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString()))}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){return e=this._validateValue(e,t),t[0]===this._slider.left[0]&&(this.values[0]=this.int64?e.toString():e,this.int64===!0&&(this._value64[0]=e)),t[0]===this._slider.right[0]&&(this.values[1]=this.int64?e.toString():e,this.int64===!0&&(this._values64[1]=e)),this.rangeSlider?(this.value={rangeStart:this.values[0],rangeEnd:this.values[1]},this.int64===!0&&(this._value64={rangeStart:this._values64[0],rangeEnd:this._values64[1]})):this.int64===!1?this.value=e:(this.value=e.toString(),this._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.css("z-index",20),this._slider.right.css("z-index",15)):(this._slider.left.css("z-index",15),this._slider.right.css("z-index",20))},_refreshRangeBar:function(){var e=this._getSetting("left"),t=this._getSetting("size"),i=this.rtl&&"horizontal"==this.orientation;if("normal"==this.layout){var r=this._slider.left.position()[e];("vertical"===this.orientation||i)&&(r=this._slider.right.position()[e])}else{var r=this._slider.right.position()[e];if("vertical"===this.orientation||i)var r=this._slider.left.position()[e]}this._rangeBar.css(e,r+this._slider.left[t]()/2),this._rangeBar[t](Math.abs(this._slider.right.position()[e]-this._slider.left.position()[e]))},_validateValue:function(e,t){return this.int64===!1?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t[0]===this._slider.left[0]?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,r){var s,o,n=this._track[this._getSetting("size")]();if(r&&(r-=this._track.coord()[this._getSetting("left")]),this.int64){"number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10));var a=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64)),l=1-a;if("normal"==this.layout){var s=a;("horizontal"!=this.orientation||"horizontal"==this.orientation&&this.rtl)&&(s=l)}else{var s=l;("horizontal"!=this.orientation||"horizontal"==this.orientation&&this.rtl)&&(s=a)}o=n*s-this._slider.left[this._getSetting("size")]()/2,i.css(this._getSetting("left"),o)}else{if("normal"==this.layout){var s=(t-this.min)/(this.max-this.min);("horizontal"!=this.orientation||"horizontal"==this.orientation&&this.rtl)&&(s=1-(t-this.min)/(this.max-this.min))}else{var s=1-(t-this.min)/(this.max-this.min);("horizontal"!=this.orientation||"horizontal"==this.orientation&&this.rtl)&&(s=(t-this.min)/(this.max-this.min))}o=n*s-this._slider.left[this._getSetting("size")]()/2,i.css(this._getSetting("left"),o)}this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,r,s,o,n;if(i=e.toString(),s=t.toString(),s.length>15){var a=s.length-15;if(s=s.slice(0,15)+"."+s.slice(15),o=parseFloat(s),i.length>a){var l=i.length-a;i=i.slice(0,l)+"."+i.slice(l)}else if(i.length===a)i="0."+i;else{for(var d="0.",h=0;h<a-i.length;h++)d+="0";i=d+""+i}r=parseFloat(i)}else r=e.toNumber(),o=t.toNumber();return n=r/o},_showTooltip:function(t,i){var r=this;if(r._slideStarted||null!=r._capturedElement||r._mouseDown){if(r.tooltipFormatFunction?i=r.tooltipFormatFunction(i):"default"===r.mode&&(i=new Number(i).toFixed(2)),!r.toolTipCreated){var s="tooltip"+r.element.id,o=e('<div id="'+s+'"><div id ="'+s+'Main"><div id="'+s+'Text"></div></div><div id="'+s+'Arrow"></div></div>');o.css("visibility","hidden"),o.css("display","none"),o.css("z-index",99999),o.css("box-shadow","none"),r.sliderTooltip=o,r.sliderTooltip.appendTo(e(document.body)),e("#"+s+"Text").html(i);var n="#"+s,a=e(n+"Main"),l=e(n+"Text"),d=e(n+"Arrow");a.addClass(r.toThemeProperty("jqx-widget")),l.addClass(r.toThemeProperty("jqx-widget")),d.addClass(r.toThemeProperty("jqx-widget")),a.addClass(r.toThemeProperty("jqx-fill-state-normal")),l.addClass(r.toThemeProperty("jqx-fill-state-normal")),d.addClass(r.toThemeProperty("jqx-fill-state-normal")),e(n).addClass(r.toThemeProperty("jqx-tooltip")),e(n).addClass(r.toThemeProperty("jqx-popup")),a.addClass(r.toThemeProperty("jqx-tooltip-main")),l.addClass(r.toThemeProperty("jqx-tooltip-text")),d.addClass(r.toThemeProperty("jqx-tooltip-arrow")),r.sliderTooltipContent=l,r.sliderTooltipArrow=d,r.sliderTooltipMain=a,r.arrow_size=5,r.toolTipCreated=!0,r.rangeSlider&&r.sliderTooltipArrow.css("visibility","hidden")}var h=t.coord();r.sliderTooltip[0].style.display="block",r.sliderTooltip[0].style.visibility="visible";var c=r.sliderButtonSize+r.tickSize;if(r.rangeSlider){var u=r.value?r.value.rangeStart:"",p=r.value?r.value.rangeEnd:"";""!==u?r.sliderTooltipContent[0].innerHTML=u+" - "+p:(r.sliderTooltip[0].style.display="none",r.sliderTooltip[0].style.visibility="hidden")}else r.sliderTooltipContent[0].innerHTML=i;var f=r.sliderTooltip.width();if("horizontal"==r.orientation){var m=h.left+r.sliderButtonSize/2-f/2;if(r.rangeSlider){var g=(r._slider.right.coord().left-r._slider.left.coord().left-r._thumbSize)/2;m=r._slider.left.coord().left-f/2+g+r._thumbSize}switch(r.tooltipPosition){case"far":var v=h.top+c+r.arrow_size;r.sliderTooltip.offset({top:v,left:m}),r.sliderTooltipArrow.addClass(r.toThemeProperty("jqx-tooltip-arrow-t-b")),r.sliderTooltipArrow.css({"border-width":"0 "+r.arrow_size+"px "+r.arrow_size+"px"}),r.sliderTooltipArrow.offset({top:v-r.arrow_size,left:m-r.arrow_size/2-1+f/2});break;case"near":var v=h.top-r.arrow_size-r.sliderTooltip.height()-1;r.sliderTooltip.offset({top:v,left:m}),r.sliderTooltipArrow.addClass(r.toThemeProperty("jqx-tooltip-arrow-t-b")),r.sliderTooltipArrow.css({"border-width":r.arrow_size+"px "+r.arrow_size+"px  0px"}),r.sliderTooltipArrow.offset({top:v+r.sliderTooltip.height(),left:m-r.arrow_size/2-1+f/2})}}else{var x=r.sliderTooltip.height(),m=h.left-f-r.arrow_size-r.tickSize,v=h.top+r._thumbSize/2-x/2-1;if(r.rangeSlider){var g=(r._slider.right.coord().top-r._slider.left.coord().top-r._thumbSize)/2;v=r._slider.left.coord().top-x/2+g+r._thumbSize}switch(r.tooltipPosition){case"far":var m=h.left+r._thumbSize+r.arrow_size+r.tickSize;r.sliderTooltip.offset({top:v,left:m}),r.sliderTooltipArrow.addClass(r.toThemeProperty("jqx-tooltip-arrow-l-r")),r.sliderTooltipArrow.css({"border-width":r.arrow_size+"px "+r.arrow_size+"px "+r.arrow_size+"px 0px"}),r.sliderTooltipArrow.offset({top:v+r.sliderTooltip.height()/2-r.arrow_size/2-2,left:m-r.arrow_size});break;case"near":r.sliderTooltip.offset({top:v,left:m}),r.sliderTooltipArrow.addClass(r.toThemeProperty("jqx-tooltip-arrow-l-r")),r.sliderTooltipArrow.css({"border-width":r.arrow_size+"px 0px "+r.arrow_size+"px "+r.arrow_size+"px"}),r.sliderTooltipArrow.offset({top:v+r.sliderTooltip.height()/2-r.arrow_size/2-2,left:m+f+2})}}}},_validateDropPosition:function(e,t){var i=this._track[this._getSetting("size")](),r=t[this._getSetting("size")]();return-r/2>e&&(e=-r/2),e>i-r/2&&(e=i-r/2),Math.floor(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,r,s){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._slider.left.removeClass(t.toThemeProperty("jqx-"+r)),t._slider.right.removeClass(t.toThemeProperty("jqx-"+r)),t._rangeBar.removeClass(t.toThemeProperty("jqx-"+r)),t._slider.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._slider.right.addClass(t.toThemeProperty("jqx-"+t.template)),t._leftButton.jqxRepeatButton({template:s}),t._rightButton.jqxRepeatButton({template:s}),t._rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)));break;case"theme":e.jqx.utilities.setTheme(r,s,t.host),t._leftButton.jqxRepeatButton({theme:s}),t._rightButton.jqxRepeatButton({theme:s});break;case"disabled":s?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings();break;case"min":case"max":t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t.int64===!0&&(t["_"+i+"64"]=(new e.jqx.math).fromString(s.toString(),10)),t._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":t._performLayout(),t._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":t.int64===!0&&(t["_"+i+"64"]=(new e.jqx.math).fromString(s.toString(),10)),t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings();break;case"buttonsPosition":t._refresh();break;case"rangeSlider":s?t.value={rangeEnd:t.value,rangeStart:t.value}:t.value=t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":var o=s;t.int64===!0?(o=(new e.jqx.math).fromString(s.toString(),10),t._value64=o):t.rangeSlider||(t.value=parseFloat(s)),t.setValue(o);break;case"values":var n=s;t.int64===!0&&(n=[(new e.jqx.math).fromString(s[0].toString(),10),(new e.jqx.math).fromString(s[1].toString(),10)],t._values64=n),t.setValue(n);break;case"tooltip":break;case"step":t.int64===!0&&(t._step64=(new e.jqx.math).fromString(s.toString(),10));break;default:t._refresh()}},incrementValue:function(t){if(this.int64===!1)(void 0==t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right);else{t=void 0==t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10);var i=this._values64[1].add(t);i.lessThan(this._values64[1])&&(i=this._max64),this.rangeSlider?this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right):this._values64[1].greaterThanOrEqual(this._min64)&&this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right)}this.input&&e.jqx.aria(this,"aria-valuenow",this.input.val())},decrementValue:function(t){if(this.int64===!1)(void 0==t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-t,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-t,this._slider.right);else{t=void 0==t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10);var i;this.rangeSlider?(i=this._values64[0].subtract(t),i.greaterThan(this._values64[0])&&(i=this._min64),this._values64[0].greaterThan(this._min64)&&this._setValue(i,this._slider.left)):(i=this._values64[1].subtract(t),i.greaterThan(this._values64[1])&&(i=this._min64),this._values64[1].lessThanOrEqual(this._max64)&&this._values64[1].greaterThan(this._min64)&&this._setValue(i,this._slider.right))}this.input&&e.jqx.aria(this,"aria-valuenow",this.input.val())},val:function(t){return 0==arguments.length||!e.isArray(t)&&"object"==typeof t?this.getValue():void(this.int64===!1?this.setValue(t):(value64=(new e.jqx.math).fromString(t.toString(),10),this.setValue(value64)))},setValue:function(t){if(this.rangeSlider){var i,r;arguments.length<2?t instanceof Array?(i=t[0],r=t[1]):"object"==typeof t&&"undefined"!=typeof t.rangeStart&&"undefined"!=typeof t.rangeEnd&&(i=t.rangeStart,r=t.rangeEnd):(i=arguments[0],r=arguments[1]),this._triggerEvents=!1,this._setValue(r,this._slider.right),this._triggerEvents=!0,this._setValue(i,this._slider.left)}else{this._triggerEvents=!1;var s=this.int64?this._min64:this.min;this._setValue(s,this._slider.left),
this._triggerEvents=!0,this._setValue(t,this._slider.right)}this.input&&e.jqx.aria(this,"aria-valuenow",this.input.val())},getValue:function(){var e=this.value;return this.int64===!0&&(e=this._value64.toString()),e},_enable:function(e){e?(this._addEventHandlers(),this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._leftButton.jqxRepeatButton({disabled:this.disabled}),this._rightButton.jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSplitter","",{}),e.extend(e.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){if(this.overlay||"undefined"==t)this.overlay.remove(),this.overlay=null;else if(1==t){this.overlay=e("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(e(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(e(window).width()),this.overlay.height(e(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(t){return t.target==this.splitBarButton[0]||this.disabled?!0:this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable?!0:null==this.overlay?(this._dragging=!0,this._initOverlay(!0),this._dragStart=e.jqx.position(t),!1):!0},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var i="horizontal"==this.orientation?"top":"left",r="vertical"==this.orientation?"width":"height";if(this._position=e.jqx.position(t),this.overlay&&!this._splitBarClone&&Math.abs(this._position[i]-this._dragStart[i])>=3){var s=this.splitBar.coord();return this._cloneStart={left:s.left,top:s.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var o,n,a=this.host[r](),l=a/100,d=0,h=this._splitBarClone[r]()+2,c=parseInt(this.host.coord()[i]),u=this._position[i]-this._dragStart[i]+this._cloneStart[i]-c;return d>u&&(u=d),u>a+d-h&&(u=a+d-h),o=this.panels[0].min,n=this.panels[1].min,-1!=n.toString().indexOf("%")&&(n=parseFloat(n)*l),-1!=o.toString().indexOf("%")&&(o=parseFloat(o)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),o>u&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),u=o),u>a+d-h-n&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),u=a+d-h-n),this._splitBarClone.css(i,u),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return!0},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",i=this._splitBarClone.css(t),r=this.host[e](),s=r/100,o=1/s,n=this.panels[0].size;-1!=n.toString().indexOf("%")?(this.panels[0].size=parseFloat(i)*o+"%",this.panels[1].size=100-parseFloat(i)*o+"%"):(this.panels[0].size=parseFloat(i),this.panels[1].size=r-parseFloat(i)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var t=this;if(e.jqx.utilities.resize(this.host,function(){t._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(e){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var e=function(e){e.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(e(document),this._eventName("mousemove")+"."+this.element.id,function(e){return t._drag(e)}),this.addHandler(e(document),this._eventName("mouseup")+"."+this.element.id,function(){return t._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(e){return t._startDrag(e)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var r=function(e){t._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}},_removeHandlers:function(){this.removeHandler(e(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(e(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(e(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var i=t[0].className.split(" "),r=t[1].className.split(" ");if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=r.indexOf("jqx-reset")&&-1!=r.indexOf("jqx-splitter")&&-1!=r.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=e("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return e.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=e(t[0]),this.panel2=this.panels[1].element=e(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",e.each(this.panels,function(){void 0==this.min&&(this.min=0),void 0==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),void 0==this.collapsible&&(this.collapsible=!0),void 0==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var e=this.width;"string"!=typeof e&&(e=parseInt(this.width)+"px"),this.host.css("width",e)}if(null!=this.height){var t=this.height;"string"!=typeof t&&(t=parseInt(this.height)+"px"),this.host.css("height",t)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var i="horizontal"==this.orientation?"width":"height";this.splitBar.css(i,"100%"),this.panel1.css(i,"100%"),this.panel2.css(i,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(t,i,r,s){return"panels"===i||"orientation"===i||"showSplitBar"===i?void t.render():("touchMode"===i&&(t._isTouchDevice=s),void("disabled"===i?s?t.disable():t.enable():"theme"===i?e.jqx.utilities.setTheme(r,s,t.host):t.refresh()))},_layoutPanels:function(){var e,t,i,r,s=this,o="horizontal"==this.orientation?"height":"width",n="horizontal"==this.orientation?"top":"left",a=parseInt(this._splitBarSize)+2;this.showSplitBar||(a=0);var l=this.host[o](),d=l/100,h=1/d,c=h*a,u=this.panel1,p=this.panel2,f=this.panels[0].size;this.panels[0].collapsed&&(i=!0),this.panels[1].collapsed&&(r=!0),e=this.panels[0].min,t=this.panels[1].min,-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*d),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*d),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(u.width(this.host.width()),p.width(this.host.width())):(u.height(this.host.height()),p.height(this.host.height())));var m=function(){var e=s.panel1[o]();if(s.splitBar[0].style[n]!=e+"px"){var t=e;"vertical"==s.orientation?(s.splitBar[0].style.borderLeftColor="",s.splitBar[0].style.borderRightColor="",s.splitBarButton[0].style.width=parseInt(s._splitBarSize)+"px",s.splitBarButton[0].style.left="0px"):(s.splitBar[0].style.borderTopColor="",s.splitBar[0].style.borderBottomColor="",s.splitBarButton[0].style.height=parseInt(s._splitBarSize)+"px",s.splitBarButton[0].style.top="0px"),s._hasBorder&&(l-a==e?"vertical"==s.orientation?(s.splitBar[0].style.borderRightColor="transparent",s.splitBarButton[0].style.width=parseInt(s._splitBarSize+1)+"px"):(s.splitBar[0].style.borderBottomColor="transparent",s.splitBarButton[0].style.height=parseInt(s._splitBarSize+1)+"px"):0==e&&("vertical"==s.orientation?(s.splitBar[0].style.borderLeftColor="transparent",s.splitBarButton[0].style.width=parseInt(s._splitBarSize+1)+"px",s.splitBarButton[0].style.left="-1px"):(s.splitBar[0].style.borderTopColor="transparent",s.splitBarButton[0].style.height=parseInt(s._splitBarSize+1)+"px",s.splitBarButton[0].style.top="-1px"))),s.splitBar[0].style[n]=t+"px"}s.panel2[0].style[n]!=e+a+"px"&&(s.panel2[0].style[n]=e+a+"px")};if(i){var g=Math.max(t,l-a);u[o](0),p[o](g)}else if(r){var g=Math.max(e,l-a);p[o](0),u[o](g)}else if(-1!=f.toString().indexOf("%")){var v=100-parseFloat(f);u.css(o,parseFloat(f)+"%"),v-=c,p.css(o,v+"%");var x=p[o]();if(t>x){var g=x-t,w=g*h;f=parseFloat(f)+parseFloat(w);var v=100-parseFloat(f);u.css(o,parseFloat(f)+"%"),v-=c,p.css(o,v+"%")}var b=u[o]();if(e>b){var w=e*h;u.css(o,parseFloat(w)+"%")}}else{var x=l-f-a;u[0].style[o]!=f+"px"&&u[o](f),p[0].style[o]!=x+"px"&&p[o](x),t>x&&(f+=x-t,p[o](t),u[o](f)),e>f&&u[o](e)}m(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);r.owner=this,r.args=i;var s=("vertical"==this.orientation?"width":"height",new Array);return s[0]={},s[1]={},s[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,s[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,s[0].min=this.panels[0].min,s[1].min=this.panels[1].min,s[0].collapsible=this.panels[0].collapsible,s[1].collapsible=this.panels[1].collapsible,s[0].collapsed=this.panels[0].collapsed,s[1].collapsed=this.panels[1].collapsed,r.args.panels=s,this.host.trigger(r)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTabs","",{}),e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var t={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return e.extend(!0,this,t),t},createInstance:function(){e.jqx.aria(this),this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.attr("role","tablist"),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var t=this.length();t;)t--,this._titleList[t]=e(this._titleList[t]),this._titleList[t].attr("role","tab"),this._contentList[t]=e(this._contentList[t]),this._contentList[t].attr("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){var t=this;if("none"==t.host.css("display"))return!0;var i=!1;return e.each(t.host.parents(),function(){return"none"==e(this).css("display")?(i=!0,!1):void 0}),i},_enableWindowResize:function(){var t=this,i=e.jqx.isHidden(t.host);e.jqx.utilities.resize(this.host,function(){i?(t._uiRefresh(!0),i=!1):t.refresh()})},resize:function(t,i){this.width=t,this.height=i;var r=e.jqx.isHidden(this.host);r?(this._uiRefresh(!0),r=!1):this.refresh()},refresh:function(e){1==e&&void 0!=e||this._setSize()},_seletionTrackerBrowserCheck:function(){var t="Browser CodeName: "+navigator.appCodeName;return t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,t+="User-agent header: "+navigator.userAgent,-1!=t.indexOf("IEMobile")?!1:-1!=t.indexOf("Windows Phone OS")?!1:!(e.jqx.browser.msie&&e.jqx.browser.version<=7)},render:function(){this._refresh()},_uiRefresh:function(e){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var t=2*this.arrowButtonSize,i=this.host.width()-parseInt(this._unorderedList.width()+t+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",i+"px")}},_refresh:function(){e.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var e=this.length();e;)switch(e--,this._titleList[e].removeClass(),this._titleList[e].css("padding",""),this._titleList[e].addClass("jqx-reset"),this._titleList[e].addClass("jqx-disableselect"),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[e].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[e].disabled&&(this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);r.owner=this,r.args=i,6!==t&&7!==t||(r.cancel=!1,this._currentEvent=r);var s="";try{if(s=this.host.trigger(r),1==t){var o=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){o._initTabContentList[o.selectedItem]||o.initTabContent&&(o.initTabContent(o.selectedItem),o._initTabContentList[o.selectedItem]=!0);var t=new e.Event("loadContent");t.owner=this,o._contentList.length>0&&o._contentList[o.selectedItem]&&o._contentList[o.selectedItem].find("div").trigger(t)},50+o.selectionTrackerAnimationDuration);else{var r=new e.Event("loadContent");o._initTabContentList[o.selectedItem]||o.initTabContent&&(o.initTabContent(o.selectedItem),o._initTabContentList[o.selectedItem]=!0),r.owner=this;var r=new e.Event("resize");this.host.trigger(r)}}}catch(n){n&&console}return s},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e,t=this.arrowButtonSize,i=this.arrowButtonSize;return e="left"===this.scrollPosition?t+i:"both"===this.scrollPosition?t:0},_scrollRight:function(e,t){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var i,r,s=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),o=parseInt(this.host.width(),10),n=parseInt(this._unorderedList.css("left"),10),a=this._getArrowsDisplacement(),l=0,d=void 0;this.scrollable?(i=parseInt(this._leftArrow.outerWidth(),10),r=parseInt(this._rightArrow.outerWidth(),10)):(i=0,r=0),e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?l=a:Math.abs(n)+this.scrollStep<Math.abs(o-s)+i+r+a?(l=n-this.scrollStep,d=n-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(l=o-s-(2*this.arrowButtonSize-a),l<parseInt(this._unorderedList.css("left"),10)-4&&l>parseInt(this._unorderedList.css("left"),10)+4&&(d=o-s-i-r+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(l,d,e)},_scrollLeft:function(e,t){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var i=parseInt(this._unorderedList.css("left")),r=this._getArrowsDisplacement(),s=0,o=void 0;e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?s=r:i+this.scrollStep<r?(s=i+this.scrollStep,o=i+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(s=r,s<parseInt(this._unorderedList.css("left"))-4&&s>parseInt(this._unorderedList.css("left"))+4&&(o=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(s,o,e)},_performScrollAnimation:function(e,t,i){var r=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:e},i,function(){r._moveSelectionTrack(r.selectedItem,0),r._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var t=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(i){if(!t._activeAnimation()){var r=t._selectedItem,s=t.selectionTracker,o=t.getContentAt(r);if(e(i.target).ischildof(o))return!0;switch(i.keyCode){case 37:return t.rtl?t.next():t.previous(),!1;case 39:return t.rtl?t.previous():t.next(),!1;case 36:return t.first(),!1;case 35:return t.last(),!1;case 27:t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)}t.selectionTracker=s}return!0})},_addScrollHandlers:function(){var t=this;this.addHandler(this._leftArrow,"mousedown",function(){t._startScrollRepeat(!0,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){t._startScrollRepeat(!1,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var t=this.length();t;)t--,this._addEventListenerAt(t);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=function(e){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)},s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup",r)}}catch(o){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_getFocusedItem:function(e,t){for(var i=this.length();i;){i--;var r=this._titleList[i],s=parseInt(r.outerWidth(!0)),o=parseInt(r.offset().left),n=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),o);if(e>=n&&n+s>=e&&r!==this._capturedElement&&!this._titleList[i].locked&&this._titleList[i].disabled!==!0)return i}return-1},_uncapture:function(t){var i=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var r=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(t)var s=this._getFocusedItem(t.clientX,t.clientY);-1!==s&&t?(this._raiseEvent(10,{item:r,dropIndex:s}),this._reorderItems(s,r)):this._capturedElement.css("left",0),e.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==s&&t?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=r,this._moveSelectionTrack(r,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=i}},_reorderItems:function(e,t){var i=this._titleList[this.selectedItem];this._contentList[t];"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[t]),this._titleList[t].remove(),e>t?this._titleList[t].insertAfter(this._titleList[e]):this._titleList[t].insertBefore(this._titleList[e]),this._reorderElementArrays(e,t),this._getSelectedItem(i),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=(this._titleList[this.selectedItem],this._contentList[t]);if(e>t){for(var r=t;e>=r;r++)this._titleList[r]=this._titleList[r+1],
this._contentList[r]=this._contentList[r+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var r=t;r>=e;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e,t){var t=e.data;t._tabCaptured&&(document.selection&&document.selection.clear(),t._dragStarted?(t._performDrag(e),clearTimeout(t._scrollTimeout)):(unorderedListLeft=-parseInt(t._unorderedList.css("left"),10),(e.clientX+unorderedListLeft>t._startX+3||e.clientX+unorderedListLeft<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)))},_performDrag:function(e){var t=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,r=document.body.offsetWidth;e=Math.round(i/r*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){var t=parseInt(this._unorderedList.css("left")),i=this;parseInt(this._capturedElement.css("left"));e.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):e.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var i=this;this._scrollTimeout=setTimeout(function(){i._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=t},_captureElement:function(e,t){this._tabCaptured||this._titleList[t].locked||this._titleList[t].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t])},_titleInteractionTrigger:function(e){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem,t=this;this.isCollapsed=!0,"auto"!==t.height?t._contentWrapper.css("visibility","hidden"):t._contentWrapper.hide(),t._raiseEvent(13,{item:e}),"top"==this.position?(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.css("visibility","visible"):t._contentWrapper.show(),t._raiseEvent(14,{item:e}),"top"==this.position?(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t=this;this.addHandler(this._titleList[e],"selectstart",function(e){return!1}),this.addHandler(this._titleList[e],this.toggleMode,function(e){return function(){return t._raiseEvent("15",{item:e}),t._tabCaptured||t._cancelClick||t._titleInteractionTrigger(e),!0}}(e))},_addDragDropHandlers:function(e){var t=this;this.addHandler(this._titleList[e],"mousedown",function(i){return t._captureElement(i,e),!1}),this.addHandler(this._titleList[e],"mouseup",function(i){return t._tabCaptured&&t._dragStarted?(t._cancelClick=!0,t._uncapture(i,e)):t._cancelClick=!1,t._tabCaptured=!1,!1})},_removeHoverStates:function(){var t=this;e.each(this._titleList,function(){this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(e){var t=this,i=this._titleList[e];this.addHandler(i,"mouseenter",function(r){if(e!=t._selectedItem&&("top"==t.position?i.addClass(t.toThemeProperty("jqx-tabs-title-hover-top")):i.addClass(t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var s=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));s.addClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(i,"mouseleave",function(r){if(e!=t._selectedItem&&("top"==t.position?i.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")):i.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var s=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));s.removeClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(e){var t=this;if(!this._titleList[e].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(e),this._addSelectHandler(e),this.enabledHover&&this._addHoverHandlers(e);var i=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(i,"click"),this.addHandler(i,"click",function(i){return t.removeAt(e),!1})}},_removeEventHandlers:function(){for(var t=this.length();t;)t--,this._removeEventListenerAt(t);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(e){this.removeHandler(this._titleList[e],this.toggleMode),this.removeHandler(this._titleList[e],"mouseenter"),this.removeHandler(this._titleList[e],"mouseleave"),this.removeHandler(this._titleList[e],"mousedown"),this.removeHandler(this._titleList[e],"mouseup");var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(t,"click")},_moveSelectionTrack:function(e,t,i){var r=this;if(-1!=e&&0!=this._titleList.length&&!(e>=this._titleList.length)&&this.selectionTracker&&this._selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===i){var s=parseInt(this._titleList[e].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(s+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(s+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[e].css("margin-left")))||(s+=parseInt(this._titleList[e].css("margin-left"))),!isNaN(parseInt(this._titleList[e].css("margin-right")))}else var s=i;var o=0,n=0;"top"===this.position&&(o=parseInt(this._headerWrapper.height())-parseInt(this._titleList[e].outerHeight()),this.autoHeight||(n+=parseInt(this._titleList[e].css("margin-top")))),this._lockAnimation("selectionTracker");var a=parseInt(this._titleList[e].css("padding-left"))+parseInt(this._titleList[e].css("padding-right")),l="top"==this.position?0:1,d=parseInt(this._headerWrapper.css("padding-top")),h=parseInt(this._titleList[e].css("padding-top"))+parseInt(this._titleList[e].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var c=parseInt(this._titleList[e].css("margin-top"));isNaN(c)&&(c=0),this._selectionTracker.animate({top:d+c-l,left:s+"px",height:parseInt(this._titleList[e].height()+h),width:this._titleList[e].width()+a},t,function(){r._unlockAnimation("selectionTracker"),r._selectionTracker.css("visibility","hidden"),r._addSelectStyle(e,!0),r._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){var i=this;return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,i.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t][0]===e[0]||this._contentList[t][0]===e[0])return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){alert(e)}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[e].css("float","right"):this._titleList[e].css("float","left"));this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.element.offsetWidth?this._unorderedList.width(this._totalItemsWidth):this._unorderedList[0].style.width=this.element.offsetWidth-2+"px",this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.width(this.arrowButtonSize),this._leftArrow.height("100%"),this._rightArrow.width(this.arrowButtonSize),this._rightArrow.height("100%"),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return e.each(this._titleList,function(){var e=this.attr("hasclosebutton");void 0!=e&&null!=e&&("false"!=e&&0!=e||t--)}),t},_calculateTitlesSize:function(){var t=0,i=0,r=this.length();for(this.rtl&&e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),e(document.body).append(this._measureItem));r;){if(r--,this._measureItem&&(this._measureItem.html(this._titleList[r].html()),this._titleList[r].width(this._measureItem.width())),this._titleList[r].css("position","static"),this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),i+=parseInt(this._titleList[r].outerWidth(!0)),t<this._titleList[r].outerHeight(!0)&&(t=Math.round(parseInt(this._titleList[r].outerHeight(!0)))),0==this._titleList[r].height()){var s=this._titleList[r].clone();e(document.body).append(s),t=Math.round(parseInt(s.outerHeight(!0))),s.remove()}var o=this._titleList[r].attr("hasCloseButton");if(void 0!=o&&null!=o){var n=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[r]&&(this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),n=!0),n||("true"==o||1==o?(i+=this.closeButtonSize,this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):"false"!=o&&0!=o||this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var n=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[r]&&(this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),n=!0),n||(i+=this.closeButtonSize,this._titleList[r].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}this._titleList[r].height(this._titleList[r].height())}return this._measureItem&&this._measureItem.remove(),{height:t,width:10+i}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var e=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;e>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var t=this.scrollPosition;switch(this.rtl&&("left"==t&&(t="right"),"right"==t&&(t="left")),t){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-e+"px"),this._leftArrow.css("right",this.arrowButtonSize-e+"px")}}},_positionArrows:function(e){e>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow[0].style.display="none",this._rightArrow[0].style.display="none",this._unorderedList[0].style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var t=this._calculateTitlesSize(),i=t.height,r=t.width;this._headerWrapper.height(i),this._unorderedList.height(i),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight)),r>this.host.width()?this._unorderedList.width(r):this._unorderedList.width(this.host.width()),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),r+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=r,this._positionArrows(r),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var e=this.length();for(this._maxHeightTab();e;){e--;var t=this._titleList[e].find(".jqx-tabs-titleContentWrapper"),i=(t.height(),this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),r=parseInt(this._titleList[e].css("padding-top"));if(r||(r=0),this.autoHeight){var s=this._titleList[e].outerHeight(!0)-this._titleList[e].height(),o=parseInt(this._titleList[e].css("padding-top")),n=parseInt(this._titleList[e].css("padding-bottom")),a=parseInt(this._titleList[e].css("border-top-width")),l=parseInt(this._titleList[e].css("border-bottom-width"));this._titleList[e].height(this._unorderedList.outerHeight()-o-n-a-l)}else if("top"===this.position){var d=parseInt(this._unorderedList.height())-parseInt(this._titleList[e].outerHeight(!0));parseInt(this._titleList[e].css("margin-top"))!==d&&0!==d&&this._titleList[e].css("margin-top",d)}else this._titleList[e].height(this._titleList[e].height());this._titleList[e].children(0).height("100%");var h=parseInt(this._titleList[e].height()),c=parseInt(h)/2-parseInt(i.height())/2;i.css("margin-top",1+c);var u=parseInt(h)/2-parseInt(t.height())/2;t.css("margin-top",u)}if(this.scrollable){var s=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,p=s/2;this._rightArrow.children(0).css("margin-top",p),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",p)}},_getImageUrl:function(e){var t=e.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_fitToSize:function(){var e=!1,t=!1,i=this;if(null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=!0),e&&(this.host[0].style.width=this.width,this._contentWrapper[0].style.width="100%"),t){this.host[0].style.height=this.height,this._contentWrapper[0].style.width="100%",this._contentWrapper[0].style.height="auto";var r=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=r+"px"}if(e||(this.host.width(this.width),"auto"!=this.width&&this._contentWrapper.css("width","100%")),!t)if("auto"!==this.height){this.host.height(this.height);var r=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.height(r)}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var e=this.length(),t=-1,i=-1;e;)e--,t<parseInt(this._titleList[e].outerHeight(!0))&&(i=e);return i},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=e('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var t=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=e('<div class="'+t+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var t="none",i=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||e('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+t+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var r=this.length();r;)r--,this._contentList[r].addClass(this.toThemeProperty("jqx-tabs-content-element"));i&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var t=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||e('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));t;){if(t--,this._titleList[t].children(".jqx-tabs-titleWrapper").length<=0){var i=e('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');i.append(this._titleList[t].html()),this._titleList[t].empty(),i.appendTo(this._titleList[t])}this._titleList[t].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(t){var i=t;if(this._titleList[i].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[i].find(".jqx-tabs-titleContentWrapper").length<=0){var r=e('<div class="jqx-tabs-titleContentWrapper"></div>'),s="left";this.rtl&&(s="right"),r.css("float",s),r.addClass("jqx-disableselect"),r.append(this._titleList[i].html()),this._titleList[i].html("");var o=e('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');o.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":s,"font-size":"1px"});this._titleList[i].append(r),this._titleList[i].append(o),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[t]&&o.css("display","none"):o.css("display","none")}},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return e>=0&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=null;if(this.showCloseButtons){var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));t.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(e,t){this.length();if(this._removeSelectStyle(),(!this.selectionTracker||void 0!=t&&t)&&e>=0&&void 0!=this._titleList[e]){var i=null;if(this.showCloseButtons){var i=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[e]&&(i=null)}this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=i&&i.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(e,t,i){if(t<e.length){for(var r=void 0,s=void 0,o=t;o+1<e.length;o++)void 0===r?(r=e[o+1],e[o+1]=e[o]):(s=e[o+1],e[o+1]=r,r=s);void 0===r&&(r=e[t]),e[t]=i,e.push(r)}else e.push(i)},_select:function(t,i,r,s,o){if(!this._tabCaptured){this.host.attr("hideFocus","true");var n=this;if(void 0==o?this._addSelectStyle(t):this._addSelectStyle(t,o),this.isCollapsed&&this.collapsible)return this._contentList[t].css("display","none"),void this._selectCallback(t,r,s);switch(this.animationType){case"none":if(n.selectionTracker)setTimeout(function(){n._contentList[t].css("display","block"),e.jqx.aria(n._titleList[t],"aria-selected",!0),e.jqx.aria(n._contentList[t],"aria-hidden",!1),e.jqx.aria(n,"aria-activedescendant",n._titleList[t][0].id)},this.selectionTrackerAnimationDuration);else{for(var a=0;a<this._contentList.length;a++)t!=a&&"block"==this._contentList[a].css("display")&&(this._contentList[a].css("display","none"),e.jqx.aria(this._titleList[a],"aria-selected",!1),e.jqx.aria(this._contentList[a],"aria-hidden",!0));this._contentList[t].css("display","block"),e.jqx.aria(this._titleList[t],"aria-selected",!0),e.jqx.aria(this._contentList[t],"aria-hidden",!1),e.jqx.aria(this,"aria-activedescendant",this._titleList[t][0].id)}this._selectCallback(t,r,s);break;case"fade":this._lockAnimation("contentListSelect"),n._selectCallback(t,r,s),this._contentList[t].fadeIn(i,function(){n._unlockAnimation("contentListSelect"),e.jqx.aria(n._titleList[t],"aria-selected",!0),e.jqx.aria(n._contentList[t],"aria-hidden",!1),e.jqx.aria(n,"aria-activedescendant",n._titleList[t][0].id)})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(t,i,r){if(t>=0&&!this._tabCaptured){var s=this;this._contentList[t].stop(),"fade"==this.animationType?(this._contentList[t].css("display","none"),e.jqx.aria(s._titleList[t],"aria-selected",!1),e.jqx.aria(s._contentList[t],"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){s._contentList[t].css("display","none"),e.jqx.aria(s._titleList[t],"aria-selected",!1),e.jqx.aria(s._contentList[t],"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(this._contentList[t].css("display","none"),e.jqx.aria(s._titleList[t],"aria-selected",!1),e.jqx.aria(s._contentList[t],"aria-hidden",!0)),this._unselectCallback(t,i,r),this.selectionTracker||(this._titleList[t].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[t].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled||t++}),t},getDisabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled&&t++}),t},removeAt:function(e){if(this._isValidIndex(e)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var t=this,i=(this._titleList[this._selectedItem],parseInt(this._titleList[e].outerWidth(!0))),r=this.getTitleAt(e);this._unorderedList.width(parseInt(this._unorderedList.width())-i),this._titleList[e].remove(),this._contentList[e].remove();if(this._titleList.splice(e,1),this._contentList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:r}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var s=this._getPreviousIndex(this.selectedItem);this.select(s)}else{this._selectedItem=-1;var s=this._getNextIndex(this.selectedItem);this.select(s)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var o=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},o,function(){t._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){if(!this._titleList[e].disabled||void 0===this._titleList[e].disabled){if(this.selectedItem==e){var t=this.next();t||(t=this.previous())}this._titleList[e].disabled=!0,this.removeHandler(this._titleList[e],this.toggleMode),this.enabledHover&&this._titleList[e].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:e})}},enableAt:function(e){this._titleList[e].disabled&&(this._titleList[e].disabled=!1,this._addEventListenerAt(e),this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(t,i,r){if(t>=0||t<=this.length()){this._removeHoverStates();var s=e("<li>"+i+"</li>"),o=e("<div>"+r+"</div>");s.addClass(this.toThemeProperty("jqx-tabs-title")),s.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&s.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var n=!1;0==this._titleList.length?this._unorderedList.append(s):t<this.length()&&t>=0?this._titleList[t].before(s):this._titleList[this.length()-1].after(s),o.appendTo(this._contentWrapper),this._addItemTo(this._titleList,t,s),this._addItemTo(this._contentList,t,o),this._selectedItem>t&&this._selectedItem++,this._switchTabs(t,this._selectedItem),this._selectedItem=t,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(t),this._uiRefresh(n),this._raiseEvent(2,{item:t}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t);
},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0==arguments.length||"object"==typeof e?this._selectedItem:(this.select(e),this._selectedItem)},select:function(e,t){"object"==typeof e&&(e=this._indexOf(e));var i=e>=0&&e<this._titleList.length?this._titleList[e].attr("canselect"):!0;if((void 0==i||"true"==i||1==i)&&e!==this._selectedItem&&this._isValidIndex(e)&&!this._activeAnimation()&&!this._titleList[e].disabled){var r=this._switchTabs(e,this._selectedItem);r&&this.ensureVisible(e)}},previous:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>0&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>0&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>=0&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>=0&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){var e=0;this._titleList[e].disabled?this.next(e):this.select(e)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){if(this._isValidIndex(e)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=0}},hideCloseButtonAt:function(e){if(this._isValidIndex(e)){var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=1}},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(e){return this._titleList[e]?this._titleList[e].text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(e,t){this._titleList[e]&&(this._titleList[e].text(t),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,t){this._contentList[e]&&this._contentList[e].html(t)},ensureVisible:function(e){var t=this;if(void 0!=e&&-1!=e&&null!=e||(e=this.selectedItem),!this._isValidIndex(e))return!1;var i,r,s=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),o=parseInt(this._unorderedList.css("left")),n=parseInt(this._headerWrapper.outerWidth(!0)),a=parseInt(this._titleList[e].outerWidth(!0)),l=o-this._getArrowsDisplacement(),d=n-this._getArrowsDisplacement()-l;if(-l>s)i=-s+this._getArrowsDisplacement(),r=this._getArrowsDisplacement();else{if(!(s+a>d-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;i=-s+n-a-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),r=n-a-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:i},this.scrollAnimationDuration,function(){return t._unlockAnimation("unorderedList"),t._moveSelectionTrack(t._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,r),!0},isVisibleAt:function(e){if(void 0!=e&&-1!=e&&null!=e||(e=this.selectedItem),!this._isValidIndex(e))return!1;var t=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),i=parseInt(this._unorderedList.css("left")),r=parseInt(this._headerWrapper.outerWidth(!0)),s=parseInt(this._titleList[e].outerWidth(!0)),o=i-this._getArrowsDisplacement(),n=r-this._getArrowsDisplacement()-o;return-o>t?!1:!(t+s>n)},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,r,s){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){switch(this._validateProperties(),i){case"touchMode":s&&(t.enabledHover=!1,t.keyboardNavigation=!1);break;case"width":case"height":return void t._setSize();case"disabled":return void(s?this.disable():this.enable());case"showCloseButtons":return s?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);case"selectedItem":return void(this._isValidIndex(s)&&this.select(s));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(s?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove());case"scrollable":return void(s?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void e.jqx.utilities.setTheme(r,s,this.host)}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.cellsalign=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+s+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return e.extend(!0,this,t),t},createInstance:function(t){this.that=this;var i=this;i.pagesize=parseInt(i.pagesize),i.toolbarheight=parseInt(i.toolbarheight),i.columnsheight=parseInt(i.columnsheight),i.filterrowheight=parseInt(i.filterrowheight),i.statusbarheight=parseInt(i.statusbarheight),i.groupsheaderheight=parseInt(i.groupsheaderheight),i.detailsVisibility=new Array,i.savedArgs=t&&t.length>0?t[0]:null;var r="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+i.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(i.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(i.scrollbarsize=e.jqx.utilities.scrollBarSize),i.source){if(!i.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");i.source=new e.jqx.dataAdapter(i.source)}var s=i.source._source.datafields;s&&s.length>0&&(i.editmode=i.editmode.toLowerCase(),i.selectionmode=i.selectionmode.toLowerCase())}i.host.attr("role","grid"),i.host.attr("align","left"),i.element.innerHTML=r,i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i.wrapper=i.host.find("#wrapper"+i.element.id),i.content=i.host.find("#content"+i.element.id),i.content.addClass(i.toTP("jqx-reset"));var o=i.host.find("#verticalScrollBar"+i.element.id),n=i.host.find("#horizontalScrollBar"+i.element.id);if(i.bottomRight=i.host.find("#bottomRight").addClass(i.toTP("jqx-grid-bottomright")).addClass(i.toTP("jqx-scrollbar-state-normal")),!o.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(i.editors=new Array,i.vScrollBar=o.jqxScrollBar({vertical:!0,rtl:i.rtl,touchMode:i.touchmode,step:i.verticalscrollbarstep,largestep:i.verticalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.hScrollBar=n.jqxScrollBar({vertical:!1,rtl:i.rtl,touchMode:i.touchmode,step:i.horizontalscrollbarstep,largestep:i.horizontalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.addnewrow=i.host.find("#addrow"),i.addnewrow[0].id="addrow"+i.element.id,i.addnewrow.addClass(i.toTP("jqx-widget-header")),i.pager=i.host.find("#pager"),i.pager[0].id="pager"+i.element.id,i.toolbar=i.host.find("#toolbar"),i.toolbar[0].id="toolbar"+i.element.id,i.toolbar.addClass(i.toTP("jqx-grid-toolbar")),i.toolbar.addClass(i.toTP("jqx-widget-header")),i.statusbar=i.host.find("#statusbar"),i.statusbar[0].id="statusbar"+i.element.id,i.statusbar.addClass(i.toTP("jqx-grid-statusbar")),i.statusbar.addClass(i.toTP("jqx-widget-header")),i.pager.addClass(i.toTP("jqx-grid-pager")),i.pager.addClass(i.toTP("jqx-widget-header")),i.groupsheader=i.host.find("#groupsheader"),i.groupsheader.addClass(i.toTP("jqx-grid-groups-header")),i.groupsheader.addClass(i.toTP("jqx-widget-header")),i.groupsheader[0].id="groupsheader"+i.element.id,i.vScrollBar.css("visibility","hidden"),i.hScrollBar.css("visibility","hidden"),i.vScrollInstance=e.data(i.vScrollBar[0],"jqxScrollBar").instance,i.hScrollInstance=e.data(i.hScrollBar[0],"jqxScrollBar").instance,i.gridtable=null,i.isNestedGrid=i.host.parent()?9999==i.host.parent().css("z-index"):!1,i.touchdevice=i.isTouchDevice(),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1)),i.rowdetailstemplate&&(void 0==i.rowdetailstemplate.rowdetails&&(i.rowdetailstemplate.rowdetails="<div></div>"),void 0==i.rowdetailstemplate.rowdetailsheight&&(i.rowdetailstemplate.rowdetailsheight=200),void 0==i.rowdetailstemplate.rowdetailshidden&&(i.rowdetailstemplate.rowdetailshidden=!0)),i.showfilterrow&&!i.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(i.autorowheight&&!i.autoheight&&!i.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(i.virtualmode&&null==i.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(i.virtualmode&&!i.pageable&&i.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!i._testmodules()){if(i._builddataloadelement(),i._cachedcolumns=i.columns,i.columns&&i.columns.length>299&&(i.headerZIndex=i.columns.length+100),28!=i.rowsheight&&i._measureElement("cell"),(30!=i.columnsheight||i.columngroups)&&i._measureElement("column"),i.source){var s=i.source.datafields;if(null==s&&i.source._source&&(s=i.source._source.datafields),s)for(var a=0;a<i.columns.length;a++){var l=i.columns[a];if(l&&l.cellsformat&&l.cellsformat.length>2)for(var d=0;d<s.length;d++)if(s[d].name==l.datafield&&!s[d].format){s[d].format=l.cellsformat;break}}}i.databind(i.source),i.showtoolbar&&i.toolbar.css("visibility","inherit"),i.showstatusbar&&i.statusbar.css("visibility","inherit"),i._arrange(),i.pageable&&i._initpager&&i._initpager(),i.tableheight=null;var h=i.that,c=function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)};i.addHandler(i.content,"mousedown",function(){c()}),i.addHandler(i.content,"scroll",function(e){return c(),!1}),i.showfilterrow||(i.showstatusbar||i.showtoolbar||i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect")),i.enablebrowserselection&&(i.content.removeClass("jqx-disableselect"),i.host.removeClass("jqx-disableselect")),i._resizeWindow(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.hasTransform=e.jqx.utilities.hasTransform(i.host),"logical"==i.scrollmode&&(i.vScrollInstance.thumbStep=i.rowsheight,i.vScrollInstance.step=i.rowsheight),e.jqx.isHidden(i.host)||(i.filterable||i.groupable||i.sortable)&&i._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var r=e(window).width(),s=e(window).height(),o=t.host.width(),n=t.host.height();if(t.autoheight&&(t._lastHostWidth=s),t._lastHostWidth!=o||t._lastHostHeight!=n){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=o,t._lastHostHeight!=n)}t._lastWidth=r,t._lastHeight=s,t._lastHostWidth=o,t._lastHostHeight=n});var i=t.host.width(),r=t.host.height();t._lastHostWidth=i,t._lastHostHeight=r}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,r=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(r(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(r(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(r(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(r(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(r(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(r(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(r(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(r(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(r(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(r(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[],o=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||s.numberinput||(s.numberinput=!0,r(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||s.datetimeinput?i.host.jqxCalendar||s.calendar||(r(),t+=" jqxcalendar.js"):(r(),s.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||s.combobox?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&o("dropdownlist");for(var n=0;n<this.columns.length;n++)if(void 0!=this.columns[n]){var a=this.columns[n].columntype;if(o(a),this.filterable&&this.showfilterrow){var a=this.columns[n].filtertype;"checkedlist"!=a&&"bool"!=a||o("checkbox"),"date"==a&&o("datetimeinput")}}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),
this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var r=this.that;r._newmax=null;var s=r.host.width(),o=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=o),r._resizeTimer&&clearTimeout(r._resizeTimer);var n=5;r._resizeTimer=setTimeout(function(){if(r.resizingGrid=!0,!e.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),a!=r._oldHeight||1==i){var o=r.groupable&&r.groups.length>0,n=r.vScrollBar.css("visibility");if(!r.autoheight){if(r.virtualmode&&(r._pageviews=new Array),o||r.rowdetails||r.pageable){r._arrange(),r.prerenderrequired=!0;var a=Math.round(r.host.height())+2*r.rowsheight;realheight=r._gettableheight();var l=Math.round(a/r.rowsheight),d=Math.max(r.dataview.totalrows,r.dataview.totalrecords);r.pageable&&(d=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?d=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(d=Math.max(r.dataview.totalrows,r.dataview.totalrecords)));d*r.rowsheight,r._getpagesize();!r.pageable&&r.autoheight&&(l=d),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=l),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)}else{r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight();var a=Math.round(r.host.height())+2*r.rowsheight;parseInt(a)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo),r.rtl&&(r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}n!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}}if(s!=r._oldWidth||1==t){var h=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(h=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==t&&r._oldWidth>s||i&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),c!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=s,r._oldHeight=a,r.resizingGrid=!1}},n)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,r,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(i);s.id=e.jqx.utilities.createId(),s.innerHTML=t,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(r+t)},this.content[0].appendChild(s),this._gridRenderElement=s}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),void 0!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),void 0!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),i!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var r in this._filterrowcache)e(this._filterrowcache[r]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var t=this,i=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i+=2);var r=t._measureMenuElement(),s=i*r+9;return t.filterable&&!t.showfilterrow&&t.showfiltermenuitems&&(s+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(s+=20)),s},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var r=e("<ul></ul>"),s='<div class="jqx-grid-sortasc-icon"></div>',o=e('<li class="'+i+'">'+s+this.gridlocalization.sortascendingstring+"</li>"),n='<div class="jqx-grid-sortdesc-icon"></div>',a=e('<li class="'+i+'">'+n+this.gridlocalization.sortdescendingstring+"</li>"),l='<div class="jqx-grid-sortremove-icon"></div>',d=e('<li class="'+i+'">'+l+this.gridlocalization.sortremovestring+"</li>"),h='<div class="jqx-grid-groupby-icon"></div>',c=e('<li class="'+i+'">'+h+this.gridlocalization.groupbystring+"</li>"),u=e('<li class="'+i+'">'+h+this.gridlocalization.groupremovestring+"</li>"),p=e('<li type="separator"></li>'),f=e('<li class="filter '+i+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),m=this.gridlocalization.sortascendingstring.length,g=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>m&&(m=this.gridlocalization.sortdescendingstring.length,g=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>m&&(m=this.gridlocalization.sortremovestring.length,g=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>m&&(m=this.gridlocalization.groupbystring.length,g=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>m&&(m=this.gridlocalization.groupremovestring.length,g=this.gridlocalization.groupremovestring));var v=200;g=e.trim(g).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var x=e("<span>"+g+"</span>");x.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(x),v=x.outerWidth()+60,x.remove();var w=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(r.append(o),this.menuitemsarray[0]=o[0],r.append(a),this.menuitemsarray[1]=a[0],r.append(d),this.menuitemsarray[2]=d[0],w=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(r.append(c),this.menuitemsarray[3]=c[0],r.append(u),this.menuitemsarray[4]=u[0],w+=2);var b=this._measureMenuElement(),y=w*b+9,_=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=f[0],this.menuitemsarray[6]=f[0],r.append(p),r.append(f),y+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=20),this.isTouchDevice()&&(y+=30);var j=e(f).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=j,this.filtermenu=e(f),v+=20,this._initfilterpanel(this,j,"",v),this._initfilterpanel(this,this.excelfilterpanel,"",v,!0),_=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(y=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var r="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),s="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),o="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display"),n=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(n){var a=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,a),t.gridmenu.jqxMenu("close")}else if(!r&&!s&&!o){var a=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,f,a)}}}),"auto"!=this.popupwidth&&(v=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:v,height:y,autoCloseOnClick:_,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",f[0].id,"closeOnClick",!1),this.rtl){var q=this.that;e.each(r.find("li"),function(){e(this).addClass(q.toTP("jqx-rtl"))});var T=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};T(d),T(a),T(o),T(c),T(u)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var r=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var s=e("<span>"+i+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),r=s.outerWidth()+60,s.remove();var o=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(o=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(o+=2);var n=this._measureMenuElement(),a=o*n+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(a+=190,r+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(a+=20),this.isTouchDevice()&&(a+=30)),void 0==this.menuitemsarray[0]&&(a=65),"auto"!=this.popupwidth&&(r=this.popupwidth),"auto"!=this.popupheight&&(a=this.popupheight),this.gridmenu.jqxMenu({width:r,height:a})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,r=!1;if(void 0==t.target||void 0!=t.target&&void 0==t.target.className.indexOf)return void i.gridmenu.jqxMenu("close");if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter")){if(-1!=t.target.className.indexOf("jqx-grid-cell"))return void i.gridmenu.jqxMenu("close");if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){var s=(i.host.coord(),i.gridmenu.coord()),o=t.pageX,n=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!r){try{if("default"===i.filtermode){var a=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,l=new Date;if(100>l-a)return;var d=e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>l-d)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var a=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,l=new Date;if(100>l-a)return;var d=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>l-d)return}}catch(h){}o>=s.left&&o<=s.left+i.gridmenu.width()&&n>=s.top&&n<=s.top+i.gridmenu.height()||i.gridmenu.jqxMenu("close")}}}},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var r=i.args,s=0;s<t.menuitemsarray.length;s++){var o=t.menuitemsarray[s];if(r==o){if(void 0!=e(r).attr("ignoretheme"))return;var n=e.data(document.body,"contextmenu"+t.element.id),a=n.column;t.filterable&&t.gridmenu.jqxMenu("close");var l=a.displayfield;if(null==l&&(l=a.datafield),null!=n)switch(s){case 0:t.sortby(l,"ascending",null);break;case 1:t.sortby(l,"descending",null);break;case 2:t.sortby(l,null,null);break;case 3:t.addgroup(l);break;case 4:t.removegroup(l);break;case 5:var d=e(t.menuitemsarray[6]);e(d).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.details[i]=this.details}})},_getmenuitembyindex:function(e){return void 0==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var r=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var s=this,o=0;o<s.columns.records.length;o++)s.columns.records[o].datafield!=t&&e(s.columns.records[o].element).trigger("mouseleave");setTimeout(function(){"block"==e(r)[0].style.display&&e(r).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){var t=!1;if(this.columnmenuclosing){var i=e.data(document.body,"contextmenu"+this.element.id);if(i||(i={column:{displayfield:null}}),t=this.columnmenuclosing(this.gridmenu,i.column.displayfield,e(this.gridmenu).height()),t===!1)return}null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var i=e.data(document.body,"contextmenu"+this.element.id);if(null!=i&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(i.columnsmenu).animate({"margin-left":0},"fast",function(){e(i.columnsmenu).css("display","none")});var r=this.rtl?0:-32;i.column.iconscontainer.animate({"margin-left":r},"fast")}else{e(i.columnsmenu).css("display","none");var r=this.rtl?0:-32;i.column.iconscontainer.css("margin-left",r)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var s=this._getmenuitembyindex(5);if(s){var o=e(s).find("#filter1"+this.element.id),n=e(s).find("#filter2"+this.element.id),a=e(s).find("#filter3"+this.element.id);o.length>0&&"default"===this.filtermode&&(o.jqxDropDownList("hideListBox"),n.length>0&&n.jqxDropDownList("hideListBox"),a.length>0&&a.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,e===!0&&(this._batchupdate=!0),t===!0&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)return void this.updatebounddata("data");if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(r){}}},50))},databind:function(t,i){if(this.loadingstate!==!0&&this._stopbindings!==!0){var r=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var s=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),void 0!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);var o=null;if(null!=t&&(o=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!s.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var n=t._source.sortdirection;if("a"==n||"asc"==n||"ascending"==n||1==n)var a=!0;else var a=!1;null!=n?this.sortdirection={ascending:a,descending:!a}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){
this.filter&&s.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!s.pageable&&s.virtualmode&&(s.loadondemand=!0),s._loading=!1,s.dataview.isupdating()&&s.dataview.resumeupdate(!1),s.pageable&&s.pagerrenderer){if(!s._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");s._initpager()}if(s.source&&s.source.sortcolumn&&s.sortby&&!s.virtualmode)s.render(),s.source._source.sort||s.sortby(s.source.sortcolumn,s.source.sortdirection,s.source.sortcomparer),s.source.sortcolumn=null,s._postrender("data");else{var o=s.vScrollInstance.value,n=s.hScrollInstance.value,a=s.source?s.source.datatype:"array";if("local"!=a||"array"!=a){var l=null==s.virtualsizeinfo||null!=s.virtualsizeinfo&&0==s.virtualsizeinfo.virtualheight;if("cells"==i){var d=!1;if(s.filterable&&s._initfilterpanel&&s.dataview.filters.length&&(d=!0),0==t)return s.vScrollInstance.isScrolling()||s.hScrollInstance.isScrolling()||(s._cellscache=new Array,s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s.showfilterrow&&s.filterable&&s.filterrow&&s._updatelistfilters(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()),s.sortcolumn&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.virtualmode&&!s._loading&&(s.loadondemand=!0,s._renderrows(s.virtualsizeinfo)),void s._postrender("data");d?i="filter":void 0!=s.sortcolumn&&(i="sort")}!s.virtualmode||l||s.virtualmode&&s.pageable?1==s.initializedcall&&"pagechanged"==i?(o=0,s.groupable&&s.groups.length>0?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):(s.rendergridcontent(!0),s.pageable&&s.updatepagerdetails&&(s.updatepagerdetails(),s.autoheight?(s._updatepageviews(),s.autorowheight&&s._renderrows(this.virtualsizeinfo)):s.autorowheight&&(s._updatepageviews(),s._renderrows(this.virtualsizeinfo)))),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):"filter"==i?s.virtualmode?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data")):(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data")):"sort"==i?(s.virtualmode?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):(s._render(!0,!0,!1,!1,!1),s.sortcolumn&&!s.source.sort&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s._postrender("data")),s.source.sort&&s._updatefocusedfilter()):"data"==i?(s._render(!0,!0,!1,!1,!1),s._postrender("data")):"state"==i?(s._render(!0,!0,!1,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):(s._render(!0,!0,!0,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):s.virtualmode&&1==t&&!s.pageable?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):s.virtualmode&&!s.pageable&&0==t&&void 0!=i?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):s.virtualmode&&0==s.dataview.totalrecords&&s.dataview.filters.length>0?(s._render(!0,!0,!0,s.menuitemsarray&&!s.virtualmode),s._postrender("data")):(s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s._postrender("data")),s.vScrollInstance.value!=o&&o<=s.vScrollInstance.max&&s.vScrollInstance.setPosition(o),s.hScrollInstance.value!=n&&n<=s.hScrollInstance.max&&s.hScrollInstance.setPosition(n)}}if(s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.pageable&&(s.pagerrightbutton&&(s.pagerrightbutton.jqxButton({disabled:!1}),s.pagerleftbutton.jqxButton({disabled:!1}),s.pagershowrowscombo.jqxDropDownList({disabled:!1})),s.pagerfirstbutton&&(s.pagerfirstbutton.jqxButton({disabled:!1}),s.pagerlastbutton.jqxButton({disabled:!1}))),s._raiseEvent(11),s.initializedcall)s._updateTouchScrolling();else{var h=function(){if(s._raiseEvent(0),s.initializedcall=!0,s.isInitialized=!0,s.ready&&s.ready(),s.renderstatusbar&&s.renderstatusbar(s.statusbar),s.rendertoolbar&&s.rendertoolbar(s.toolbar),s._rendercelltexts(),s._gridRenderElement){e(s._gridRenderElement).show("slow");var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(i)](function(){e(s._gridRenderElement).hide("slow",function(){e(s._gridRenderElement).remove()})},t)}s.autoloadstate&&s.loadstate&&s.loadstate(null,!0)};if(e.jqx.isHidden(s.host)?(s.readyInterval&&clearInterval(s.readyInterval),s.readyInterval=setInterval(function(){e.jqx.isHidden(s.host)||s.__isRendered&&(clearInterval(s.readyInterval),s.readyInterval=null,h(),s._initmenu())},200)):h(),null!=s.width&&-1!=s.width.toString().indexOf("%")||null!=s.height&&-1!=s.height.toString().indexOf("%"),"hidden"==s.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version<8;"visible"==s.vScrollBar.css("visibility")&&s.vScrollBar.css("visibility","inherit"),s.autowidth||"visible"==s.hScrollBar.css("visibility")&&s.hScrollBar.css("visibility","inherit"),s._intervalTimer=setInterval(function(){"visible"==s.host.css("visibility")&&(s._updatesize(!0),clearInterval(s._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(void 0!=o?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){void 0!=e&&this.hScrollInstance.setPosition(e),void 0!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);this._pageviews[i]||this.pageable||this._updatepageviews();var r=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),r=!0}}var s=this.vScrollInstance.value,o=this._gettableheight()-this.rowsheight,n=t*(e/t-i);if(n=Math.round(n),this._pageviews[i]){var a=this._pageviews[i].top,l=a+n*this.rowsheight;if(this.rowdetails)for(var d=t*i;e>d;d++)this.details[d]&&0==this.details[d].rowdetailshidden&&(l+=this.details[d].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=l+this.rowsheight&&(l=this.vScrollInstance.max),s>l?(this.scrolltop(l),r=!0):l>s+o+2&&(this.scrolltop(l-o),r=!0)}else if(this.pageable){var l=n*this.rowsheight;if(this.rowdetails)for(var d=t*i;t*i+n>d;d++)this.details[d]&&0==this.details[d].rowdetailshidden&&(l+=this.details[d].rowdetailsheight);(s>l||l>s+o)&&(this.scrollto(0,l),r=!0)}return r},ensurecellvisible:function(t,i){var r=this.that,s=this.hScrollBar.jqxScrollBar("value"),o=r.hScrollInstance.max;r.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(o=0);var n=this.ensurerowvisible(t),a=0;if(this.columns.records){var l=s;if("hidden"==this.hScrollBar.css("visibility"))return;var d=this.host.width(),h=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=r.rtl?o-s:l;return a+this.width>t+d-c?(e=a+this.width-d+c,r.rtl&&(e=o-e),r.scrollleft(e),u=!0):t>=a&&(e=a-this.width,r.rtl&&(e=o-e),r.scrollleft(e),u=!0),0==h?(r.rtl?r.scrollleft(o):r.scrollleft(0),u=!0):h==r.columns.records.length-1&&"visible"==r.hScrollBar.css("visibility")&&(r.rtl?r.scrollleft(r.hScrollBar.jqxScrollBar("min")):r.scrollleft(r.hScrollBar.jqxScrollBar("max")),u=!0),!1}h++,a+=this.width}),u||r.scrollleft(l)}return n},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null==e||null==t?!1:(this.heightboundrows[e]={index:e,height:t},e=this.getrowvisibleindex(e),0>e?!1:(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:(e=this.getrowvisibleindex(e),0>e?!1:this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,r,s){if(!(void 0==t||null==t||0>t)){var o=t+"_";if(this._rowdetailscache[o]){var n=this._rowdetailscache[o].element;e(n).remove(),this._rowdetailscache[o]=null}var a=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:s,key:a}},t=this.getrowvisibleindex(t),0>t?!1:this._setrowdetails(t,i,r,s,a)}},getcolumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){return i++,this.datafield==t?!1:void 0}),i},_getcolumnat:function(e){var t=this.columns.records[e];return t},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){if(!isNaN(e)){var t=this.columns.records[e];return t}return null},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getcolumn(e);if(null!=r){var s=r[t];r[t]=i;var o=this._getcolumn(e);switch(null!=o&&(o[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=s){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==r.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getcolumn(e);return i[t]},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,r,s){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=s)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s};else{for(var o=null!=this.details[e]?this.details[e].detailskey:null,n={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:o},a=(this.that,0);a<this.detailboundrows.length;a++)if(void 0!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==o){l.details.rowdetailsheight=n.rowdetailsheight,l.details.rowdetailshidden=n.rowdetailshidden,l.details.rowdetails=n.rowdetails;break}}this.details[e]=n}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null==e?!1:(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null==e?!1:0>e?!1:this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var r=this.vScrollInstance.value,s=!i.rowdetailshidden,o=this.getboundindex(e);void 0!=o&&(this.detailsVisibility[o]=s);var n=this._setrowdetailsvisibility(t,i,s);return 0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&(r<=this.vScrollInstance.max?this.vScrollInstance.setPosition(r):this.vScrollInstance.setPosition(this.vScrollInstance.max)),n}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var r=this.dataview.generatekey();this.details[e].detailskey=r,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){if(void 0==e||null==e||0>e)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return void 0==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null==e?!1:(this.hiddens[e]=t,void 0==i||i?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,r=new Array,s=new Array,o=t.groupable&&t.groups.length>0,n=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var a=this.dataview.pagesize;this.pageable&&o&&(a=this.dataview.rows.length);for(var l=0;a>l&&!(l>=this.dataview.rows.length);l++){var d=this.dataview.rows[l],h=null;t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex],h.setdata(d)):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate&&(h.rowdetails=this.rowdetailstemplate.rowdetails,h.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,h.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[h.visibleindex];if(c?(h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(h.rowdetails=null),o&&this.pageable&&null!=h.parentbounddata){var u=r[h.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!p,!1),h.hidden=this.hiddens[h.visibleindex]}null!=u&&void 0!=u&&(h.parentrow=u,u.subrows[u.subrows.length++]=h)}if(!h.hidden){var f=d.visibleindex;this.heights[f]||(this.heights[f]=this.rowsheight),h.height=this.heights[f],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),r[h.uniqueid]=h,s[n++]=h,h.top=e,e+=h.height;var m=f;t.rows.replace(m,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),s.length>0&&(this._pagescache[this.dataview.pagenum]=s)}}},_updateaddnewrowui:function(t){for(var i=this,r="bottom"!=i.everpresentrowposition?i.addnewrowtop:i.addnewrowbottom,s=i.columns.records.length,o=0,n=0;s>n;n++){var a=i.columns.records[n];a.addnewrowwidget&&a.addnewrowwidget.detach()}for(var n=0;s>n;n++){var a=i.columns.records[n],l=a.width;l<a.minwidth&&(l=a.minwidth),l>a.maxwidth&&(l=a.maxwidth);var d=e(r[0].cells[n]);d.css("left",o);var h=!0;d.width()==l&&(h=!1),t&&(h=!0),d.width(l),d[0].left=o,a.addnewrowwidget&&(d.html(""),d.append(a.addnewrowwidget)),a.hidden&&a.hideable?d.css("display","none"):o+=l}var c=i.everpresentrowactions.split(" ");i.addnewrowbutton.show(),i.addnewrowupdatebutton.show(),i.addnewrowresetbutton.show(),i.addnewrowdeletebutton.show(),-1==c.indexOf("add")&&-1==c.indexOf("addBottom")&&i.addnewrowbutton.hide(),-1==c.indexOf("update")&&i.addnewrowupdatebutton.hide(),-1==c.indexOf("reset")&&i.addnewrowresetbutton.hide(),-1==c.indexOf("delete")&&i.addnewrowdeletebutton.hide();var u=e(r.children()[0]);u.width(parseInt(o)+2),u.height(i.everpresentrowheight),u.css("max-height",i.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;t>i;i++){var r=e.columns.records[i];r.addnewrowwidget&&(r.destroyeverpresentrowwidget?r.destroyeverpresentrowwidget(r.addnewrowwidget):r.addnewrowwidget.remove(),r.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,r=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),s=0,o=t.columns.records.length,n=t.toThemeProperty("jqx-grid-cell");n+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),n+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var a=o+10,l=new Array;t.that;i[0].cells=l,r.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),r.css("max-height",t.everpresentrowheight+"px"),i.append(r);var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(e(document.body)),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(h),d.append(c),d.append(u),d.append(p);var f=t.everpresentrowactions.split(" ");-1==f.indexOf("add")&&-1==f.indexOf("addBottom")&&h.hide(),-1==f.indexOf("update")&&c.hide(),-1==f.indexOf("reset")&&p.hide(),-1==f.indexOf("delete")&&u.hide(),t.addnewrowpopup=d,t.addnewrowbutton=h,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,h.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},r={},s=0;o>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var a=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);r[n.datafield]=a,n.datafield!=n.displayfield&&(r[n.datafield]=a.value,r[n.displayfield]=a.label)}}for(var l=!1,s=0;o>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var a=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);if(n.createeverpresentrowwidget&&n.validateeverpresentrowwidgetvalue){var h=n.validateeverpresentrowwidgetvalue(n.displayfield,a,r),c=h,u=t.gridlocalization.validationstring;void 0!=c.message&&(u=c.message);var p="boolean"==typeof c?c:c.result;p?(n.addnewrowwidget.attr("title",""),n.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(a="invalid editor state",n.addnewrowwidget.attr("title",u),n.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==a||(e.preventDefault(),e.stopPropagation(),l=!0)}}if(l)return d.hide(),void t.focus();for(var s=0;o>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var a=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);i[n.datafield]=a,n.datafield!=n.displayfield&&(i[n.datafield]=a.value,i[n.displayfield]=a.label),n.reseteverpresentrowwidgetvalue&&n.reseteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var f=t.getselectedcells()[0].rowindex;else var f=t.selectedrowindexes[0];rowData=t.getrowdata(f),rowData&&t.updaterow(rowData.uid,i)}d.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else var i=t.selectedrowindexes[0];rowData=t.getrowdata(i),rowData&&t.deleterow(rowData.uid)}for(var r=0;o>r;r++){var s=t.columns.records[r];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()}),h.mousedown(function(e){for(var i={},r={},s=0;o>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var a=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);r[n.datafield]=a,n.datafield!=n.displayfield&&(r[n.datafield]=a.value,r[n.displayfield]=a.label),n.datafield!=n.displayfield&&(r[n.datafield]=a.label,r[n.displayfield]=a.value)}}for(var l=!1,s=0;o>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var a=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);if(n.createeverpresentrowwidget&&n.validateeverpresentrowwidgetvalue){var h=n.validateeverpresentrowwidgetvalue(n.displayfield,a,r),c=h,u=t.gridlocalization.validationstring;void 0!=c.message&&(u=c.message);var p="boolean"==typeof c?c:c.result;p?(n.addnewrowwidget.attr("title",""),n.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(a="invalid editor state",n.addnewrowwidget.attr("title",u),n.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==a||(e.preventDefault(),e.stopPropagation(),l=!0)}}if(l)return d.hide(),void t.focus();for(var s=0;o>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var a=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);i[n.datafield]=a,n.datafield!=n.displayfield&&(r[n.datafield]=a.label,r[n.displayfield]=a.value),n.reseteverpresentrowwidgetvalue&&n.reseteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget)}}var f=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,f),d.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;o>i;i++){var r=t.columns.records[i];r.reseteverpresentrowwidgetvalue&&r.reseteverpresentrowwidgetvalue(r.displayfield,r.addnewrowwidget),r.addnewrowwidget&&(r.addnewrowwidget.attr("title",""),r.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()});for(var m=0;o>m;m++){var g=t.columns.records[m],v=g.width;v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth);var x=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+n+'"></div>');if(r.append(x),x.css("left",s),t.rtl?(x.css("z-index",a++),x.css("border-left-width","1px")):x.css("z-index",a--),"auto"==v&&(v=0),x[0].style.width=parseFloat(v)+"px",x[0].left=s,g.hidden&&g.hideable?x.css("display","none"):s+=v,l[l.length]=x[0],g.checkboxcolumn){var w=t.toThemeProperty("jqx-grid-cell");w+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),w+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),x.removeClass().addClass(w)}else{var b=!0;if(t.rtl){if(t.groupable){var y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y+m>o-1&&(b=!1)}t.showrowdetailscolumn&&t.rowdetails&&m==o-1&&(b=!1)}else{if(t.groupable){var y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y>m&&(b=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==m&&(b=!1)}if(t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else var i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var r=0;r<t.columns.records.length;r++){var s=t.columns.records[r];if(s.seteverpresentrowwidgetvalue){var o=t.getcelltext(i,s.displayfield);s.seteverpresentrowwidgetvalue(s.addnewrowwidget,o)}}},b)if(g.createeverpresentrowwidget){var _=function(){h.trigger("mousedown")};g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,x,d,_),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,x,d)}else{t._measureElement("column");var j=t.everpresentrowheight/2-t._columnheight/2;if(0>j&&(j=6),j+="px","addButtonColumn"===g.datafield){var q=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+j+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");x.append(q),q.mousedown(function(){h.trigger("mousedown")});continue}if("resetButtonColumn"===g.datafield){var q=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+j+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>");x.append(q),q.mousedown(function(){p.trigger("mousedown")});continue}var T=function(i,r,s){var n=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(n[0].id=e.jqx.utilities.createId(),n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-input")),n.addClass(i.toThemeProperty("jqx-widget-content")),n.addClass(i.toThemeProperty("jqx-enableselect")),n.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),n.css("text-align",s.cellsalign),i.rtl&&n.css("direction","rtl"),i.disabled&&n.attr("disabled",!0),n.attr("disabled",!1),n.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+s.text),n.appendTo(r),n.css("width","100%"),n.css("height",i.everpresentrowheight+"px"),n.css("line-height",i.everpresentrowheight+"px"),n.css("max-height",i.everpresentrowheight+"px"),n.css("margin","0px"),n.focus(function(){if(t.selectedcells.length>0||t.selectedrowindexes.length>0)if(t.selectionmode.indexOf("cell")>=0){t.getselectedcells()[0].rowindex}else{t.selectedrowindexes[0]}n.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(s);"columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:n.coord().top+i.everpresentrowheight-1,left:e>0?n.coord().left:n.coord().left-1});var r=d.children().width();if("right"===s.cellsalign){var r=h.width()+p.width();d.children().css("left",r-r+"px")}else d.children().css("left","0px");return i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),s.addnewrowwidget=n,s.reseteverpresentrowwidgetvalue||(s.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),s.seteverpresentrowwidgetvalue||(s.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!s.geteverpresentrowwidgetvalue){var a=s;s.geteverpresentrowwidgetvalue=function(i,r,s){var l=r.val();if(s!==!1&&a.validateeverpresentrowwidgetvalue){for(var d={},h=0;o>h;h++){var c=t.columns.records[h];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);d[c.datafield]=u,c.datafield!=c.displayfield&&(d[c.datafield]=u.value,d[c.displayfield]=u.label)}}var p=a.validateeverpresentrowwidgetvalue(a.displayfield,l,d),f=p,m=t.gridlocalization.validationstring;void 0!=f.message&&(m=f.message);var g="boolean"==typeof f?f:f.result;if(!g)return n.addClass(t.toThemeProperty("jqx-input-invalid")),n.attr("title",m),"invalid editor state";n.removeClass(t.toThemeProperty("jqx-input-invalid")),n.attr("title","")}var v="string",x=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(x){var w="";e.each(x,function(){return this.name==a.displayfield?(this.type&&(w=this.type),!1):void 0}),w&&(v=w)}if("number"===v){var b=parseFloat(l);if(isNaN(b))return null}return"date"===v?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===v||"boolean"===v?"true"===l?!0:"1"==l?!0:"false"===l?!1:"0"==l?!1:l===!0?l:l===!1?l:!1:l}}n.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),n.blur(function(){n.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")}),s.initeverpresentrowwidget&&s.initeverpresentrowwidget(s.datafield,r,d)};T(this,x,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&r.css("z-index",a--),r.width(parseFloat(s)+2),i.addClass(n),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var e=this.host.height();
if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight,t=Math.round(e/this.rowsheight);return t}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var e=(this.that,Math.round(this.host.height())+2*this.rowsheight);realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=i*this.rowsheight,s=0,o=0,n=0,a=this._getpagesize(),l=a*this.rowsheight,d=0;if(!this.pageable&&this.autoheight&&(t=i),i+a>0)for(;i+a>=d;){if(s+=l,i>d-a&&d>=i){var h=d-i;h>0&&(n-=l,this._pageviews[o-1]={top:n,height:l-h*this.rowsheight});break}this._pageviews[o++]={top:n,height:l},n=s,d+=a}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(var d=0;d<this.columns.records.length;d++)c+=isNaN(this.columns.records[d].width)?this.columns.records[d].minwidth:this.columns.records[d].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(realheight-=30)}}return r>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=a,this.dataview.updateview(),{visiblerecords:t,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),r=Math.max(this.dataview.totalrows,this.dataview.totalrecords),s=r*this.rowsheight,o=0,n=0,a=0,l=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(s=this._updatepagedview(r,s,0)),this.autoheight&&this._arrange();else for(var c=0;r>c;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(void 0==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),void 0==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),void 0==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(s-=e.rowsheight,s+=u.height),u.hidden)s-=u.height;else{n+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(p=u.details.rowdetailsheight,n+=p,s+=p)),o+=u.height+p}d++,(d>=h||c==r-1)&&(this._pageviews[a++]={top:l,height:n},n=0,l=o,d=0)}var f=this._gettableheight();if(s>f)if(this.pageable&&this.gotopage&&(s=this._pageviews[0].height,0>s&&(s=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(f>=s||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),s-f>0)if("deferred"!=this.scrollmode){var m=s-f,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),m!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:s});else this.vScrollBar.jqxScrollBar({value:0,max:s});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:s}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(t>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columngroups.length;i++){var r=t.columngroups[i];if(r.name===e)return r}return null},i=0;i<this.columngroups.length;i++){var s=this.columngroups[i];if(s.groups||(s.groups=null),s.parentgroup){var o=r(s.parentgroup);o&&(s.parent=o,o.groups||(o.groups=new Array),-1===o.groups.indexOf(s)&&o.groups.push(s))}}for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(s.columngroup){var o=r(s.columngroup);o&&(o.groups||(o.groups=new Array),s.parent=o,-1===o.groups.indexOf(s)&&o.groups.push(s))}}for(var n=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i],a=s;for(s.level=0;a.parent;)a=a.parent,s.level++;var a=s,l=s.level;for(n=Math.max(n,s.level);a.parent;)a=a.parent,a&&(a.level=--l)}for(var d=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=d(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columngroups.length;i++){var s=this.columngroups[i],h=d(s);s.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,r,s,o){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var n=this;return n.___hiddenTimer&&(clearInterval(n.___hiddenTimer),n.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(n.host)||(clearInterval(n.___hiddenTimer),n.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=i?i:!0,this._newmax=null,r)if(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var a=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){a.columns=a._columns,a.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){a.beginupdate();for(var i in e.newValue)a.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);a.endupdate()}else{var r=e.path.split(".");a.setcolumnproperty(a.columns[r[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){a.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),r?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(l+this.everpresentrowheight):this.columnsheader.height(l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,r),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==o||1==o)&&this._updatelistfilters(!r),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var r=this._overlayElement.css("left");this._overlayElement.css("left",r+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(var t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],r=0;for(var s in this.groupsVisibility)s==i.group&&this.groupsVisibility[s]&&(suspendgroupevents=!0,this._setgroupstate(i,!0,!1),r++);if(r>0){suspendgroupevents=!1;var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;void 0!=e&&null!=e||(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var r=this.that,t=t;if(null!=t&&void 0!=t||(t=!0),this.tableheight=null,r.virtualsizeinfo=r.virtualsizeinfo||r._calculatevirtualheight(),r.pageable&&!r.autoheight&&r.dataview.totalrows<r.pagesize&&(r._requiresupdate=!0),t?r._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),r._renderrows(r.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var s=this.tableheight;this._arrange(),s!=this.tableheight&&this.autoheight&&r._renderrows(r.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this.that,o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,n){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var n=0,a="hidden"==s.vScrollBar[0].style.visibility?0:s.scrollbarsize+5;(s.scrollbarautoshow||0==s.scrollbarsize)&&(a=0);var l=i;n=parseFloat(this.width)*l/100,a+=o,void 0!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*(l-a)/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=n}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var n=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>n)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var a=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(a+=this.rowsheight);a>n?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);var o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=o,this.columnsheader){var d=this.columnsheader.find("#columntable"+this.element.id);if(0!=d.length){var h=0;e.each(this.columns.records,function(s,o){var n=e(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var a=!1,l=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(l=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,a=!0),"auto"==this.width||this._width||a)if(a)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth,this.width=l),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth,this.width=l),parseInt(n[0].style.width)!=l&&(n.width(l),this.width=l);else{var d=Math.floor(t*(this.text.length/r.length));isNaN(d)&&(d=this.minwidth),d==1/0&&(d=0),0>d&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),d=10+$element.width(),$element.remove()),d<this.minwidth&&(d=this.minwidth),d>this.maxwidth&&(d=this.maxwidth),this._width="auto",this.width=d,n.width(this.width)}else parseInt(n[0].style.width)!=this.width&&n.width(this.width);parseInt(n[0].style.left)!=h&&n.css("left",h),this.hidden&&this.hideable||(h+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+h),d.width(this.columnsheader.width()),0==h?this.columnsheader[0].style.visibility="hidden":this.columnsheader[0].style.visibility="inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s=0,o="",n=this.host.width(),a=n,l=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)o+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0,r="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;r+=h,i=parseFloat(this.width)*(a-r)/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),n-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):d[d.length]=this}),this.rtl){var c=0;l.reverse();for(var u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(var p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<d.length;p++)this.columns.replace(l.length+p,d[p])}var f=this.headerZIndex,m=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(g-=this.everpresentrowheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var x=0;if(this.pageable){if(this.pageable)for(var w=0;w<this.dataview.rows.length;w++)this.dataview.rows[w].group&&0===this.dataview.rows[w].level&&(x+=this.rowsheight)}else var x=this.dataview.loadedrootgroups.length*this.rowsheight;x>v&&(n-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else n-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(n-=this.scrollbarsize+5,a-=this.scrollbarsize+5);a-=h;var b=function(e,i){var r=t.columngroupslevel*t.columnsheight;return r-=i.level*t.columnsheight},y=document.createDocumentFragment(),_=0;if(e.each(this.columns.records,function(l,d){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=b(this.datafield,this),g=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"));var c=t.rtl?150+f+1:150+f-1,u=t.rtl?f++:f--,p=e('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(p[0].style.height=g+"px",p[0].style.bottom="0px",this.pinned&&(p[0].style.zIndex=c)),this.uielement=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var v=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,x=!0),"auto"==this.width||this._width||x){if(x)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(v),this.width=v;else if(!this.hidden){var w=Math.floor(n*(this.text.length/o.length));_+=w,3>n-_&&n!=_&&(w+=2),isNaN(w)&&(w=this.minwidth),0>w&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),w=10+$element.width(),$element.remove()),w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=w,v=this.width,p.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth,this.width=v),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth,this.width=v),p[0].style.width=parseInt(v)+"px";this.hidden&&this.hideable&&p.css("display","none");var j=e(p.children()[0]),q=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");q+=" "+t.toTP("jqx-icon-arrow-down");var T=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+q+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||T.css("margin-left",-16),t.rtl&&T.css("left","0px"),this.columnsmenu=T[0],i[0].cells[l]=p[0],T[0].style.width=parseInt(t.columnsmenuwidth)+"px";var C=t.columnsmenu,k=!1,S=!1,D=t.groupable&&m>0&&m>r||t.rowdetails&&m>r;if(t.rtl&&(D=t.groupable&&m>0&&m>r||t.rowdetails&&m>r,D&=l>t.columns.records.length-1-m),D)r++,C&=!1,this.sortable=!1,this.editable=!1,S=!0;else{var I=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==I&&(I=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(I=e(I)),C&=!0,k=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){j.append(e(I))}):this.renderer?j.append(e(I)):I&&(j[0].innerHTML=I),null!=I){var P=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');T.addClass(t.toTP("jqx-widget-header")),j.append(P);var A=P.children();this.sortasc=A[1],this.sortdesc=A[2],this.filtericon=A[0],this.iconscontainer=P,t.rtl&&(P.css("margin-left","0px"),P.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=p[0],C&&(t._handlecolumnsmenu(t,j,p,T,this),this.menu||T.hide()),y.appendChild(p[0]),t.groupable&&k){if(p[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,p)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,p);var B=this;if(t.addHandler(p,"click",function(e){if(B.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(B)}e.preventDefault(),t._raiseEvent(7,{column:B.getcolumnproperties(),datafield:B.datafield,originalEvent:e})}),B.resizable&&t.columnsresize&&!S){var M=!1,H="mousemove";t.isTouchDevice()&&t.touchmode!==!0&&(M=!0,H=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(p,H,function(i){var r=parseInt(i.pageX),s=5,o=parseInt(p.coord().left);if(t.hasTransform&&(o=e.jqx.utilities.getOffset(p).left),t.resizing)return!0;if(t._handlecolumnsresize){if(M){var n=t.getTouches(i),a=n[0];return r=a.pageX,s=40,r>=o+B.width-s?(t.resizablecolumn={columnelement:p,column:B},p.css("cursor","col-resize")):(p.css("cursor",""),t.resizablecolumn=null),!0}var l=B.width;if(t.rtl&&(l=0),r>=o+l-s){if(o+l+s>=r)return t.resizablecolumn={columnelement:p,column:B},p.css("cursor","col-resize"),!1;p.css("cursor",""),t.resizablecolumn=null}else p.css("cursor",""),o+l-s>r&&(B._animating||B._menuvisible||p.mouseenter()),t.resizablecolumn=null}})}if(p.css("left",s),this.hidden&&this.hideable||(s+=v),B.rendered){var z=B.rendered(e(j[0].firstChild),B.align,g);z&&null!=P&&P.hide()}if(B.checkboxcolumn){if(P&&P.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");j.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var E=j.find("div:first");E.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),B.checkboxelement=E;var O=E.data().jqxCheckBox.instance;t._checkboxcolumn=B,O.updated=function(e,i,r){t._checkboxcolumnupdating=!0,t.disabled&&(E.jqxCheckBox({disabled:t.disabled}),i=r),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),i[0].appendChild(y),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var j=e("<div style='position: relative !important; '></div>");j[0].id="filterrow."+this.element.id,j.height(this.filterrowheight),this.filterrow=j}this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var q=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");q[0].id="addnewrowtop."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowtop=q}this.addnewrowtop.width(2+s),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var T=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");T[0].id="addnewrowbottom."+this.element.id,T.height(this.everpresentrowheight),this.addnewrowbottom=T}this.addnewrowbottom.width(2+s),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}0==s?i[0].style.visibility="hidden":i[0].style.visibility="inherit",i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),
this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this.that,o=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(o+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var n=this.columnsheader.find("#columntable"+this.element.id);n.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columngroupslevel-1;a++)for(var i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],d=l.level;if(d===a){var h=d*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseFloat(r.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,f=r--,m=e('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+o+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){var g=e("<div style='height: 100%; width: 100%;'></div>"),v=l.renderer(l.text,l.align,p);g.html(v)}m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=h+"px",m[0].style.height=p+"px",m[0].style.width=-1+l.width+"px",n.append(m),l.element=m,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level,r=i*this.columnsheight,s=99999;if(t.groups){var o=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=o(r):r.hidden||(t+=r.width,s=Math.min(parseFloat(r.element.style.left),s))}return t};t.width=o(t),t.left=s;var n=this.columnsheight,a=t.element;a[0].style.left=s+"px",a[0].style.top=r+"px",a[0].style.height=n+"px",a[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,r,s,o){t.dragmousedown=null,s[0].id=t.dataview.generatekey(),i.append(s),r[0].columnsmenu=s[0],o.element=r[0];var n=this.columnsmenuwidth+1,a=function(){if(!o.menu)return!1;if(!t.resizing){if(o._menuvisible&&t._hasOpenedMenu)return!1;if(o._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations){s.css("display","block"),s.stop(),o.iconscontainer.stop(),t.rtl?(s.css("margin-left",-n),s.animate({"margin-left":"0px"},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0})):(s.css("margin-left","0px"),s.animate({"margin-left":-n},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0}));var e=t.rtl?n:-(32+n);o.iconscontainer.animate({"margin-left":e},"fast")}else{s.css("display","block");var e=t.rtl?16:-48;o.iconscontainer.css("margin-left",e+"px"),o._animating=!1,o._menuvisible=!0}}},l="mouseenter";if(t.isTouchDevice()&&(l="touchstart"),t.addHandler(r,l,function(i){var s=parseInt(i.pageX),n=t.columnsresize&&o.resizable?3:0,l=parseInt(r.coord().left);t.hasTransform&&(l=e.jqx.utilities.getOffset(r).left);var d=o.width;if(t.rtl&&(d=0),0!=n&&s>=l+d-n&&l+d+n>=s)return!1;var h=t.vScrollInstance.isScrolling();o.menu&&t.autoshowcolumnsmenubutton&&!h&&!t.disabled&&a()}),!t.autoshowcolumnsmenubutton){s.css("display","block");var d=t.rtl?16:-48;o.iconscontainer.css("margin-left",d+"px"),t.rtl?s.css({"margin-left":"0px"}):s.css({"margin-left":-n})}t.addHandler(r,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&o.menu){var r=e.data(document.body,"contextmenu"+t.element.id);if(void 0!=r&&s[0].id==r.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?s.css("margin-left","0px"):s.css("margin-left",-n),s.stop(),o.iconscontainer.stop(),t.rtl?s.animate({"margin-left":-n},"fast",function(){s.css("display","none"),o._menuvisible=!1}):s.animate({"margin-left":0},"fast",function(){s.css("display","none"),o._menuvisible=!1});var a=t.rtl?0:-32;o.iconscontainer.animate({"margin-left":a},"fast")}else{s.css("display","none");var a=t.rtl?0:-32;o.iconscontainer.css("margin-left",a+"px"),o._menuvisible=!1}}});var h=!0,c="",u=e(o.filtericon);t.addHandler(s,"mousedown",function(i){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)}),t.addHandler(u,"mousedown",function(i){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)});var p=function(){if(!o.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=o.datafield&&(t.columns.records[i]._menuvisible=!1);var r=s.coord(!0),n=s.height();if(!h&&(h=!0,c==o.datafield))return t._closemenu(),!1;var a=t.host.coord(!0);t.hasTransform&&(a=e.jqx.utilities.getOffset(t.host),r=e.jqx.utilities.getOffset(s)),a.left+t.host.width()>parseInt(r.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",r.left,r.top+n):t.gridmenu.jqxMenu("open",s.width()+r.left-t.gridmenu.width(),r.top+n),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var l=t._getmenuitembyindex(0),d=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),f=t._getmenuitembyindex(4),m=t._getmenuitembyindex(5);if(null!=l&&null!=d&&null!=u){var g=o.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",d.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),void 0!=o.displayfield)if(t.sortcolumn==o.displayfield){var v=t.getsortinformation();g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",d.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=f&&(t.groupable&&o.groupable?t.groups&&-1!=t.groups.indexOf(o.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",f.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",f.id,!0)):(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=m){t.menuOwner=o,t._updatefilterpanel(t,m,o);var x=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(x+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(x+=2);var w=33*x+6,b=t._measureMenuElement(),w=x*b+14;e.jqx.browser.msie&&e.jqx.browser.version<8&&(w+=20,e(m).height(190)),t.isTouchDevice()&&(w+=10),t.filterable&&t.showfiltermenuitems&&(o.filterable?(t.gridmenu.height(w+190),e(m).css("display","block")):(t.gridmenu.height(w),e(m).css("display","none")))}if(t.columnmenuopening){var y=t.columnmenuopening(t.gridmenu,o.displayfield,t.gridmenu.height());!1===y&&t._closemenu()}e.data(document.body,"contextmenu"+t.element.id,{column:o,columnsmenu:s[0]})};t.addHandler(u,"click",function(e){return o.menu?(t.showfilterrow||("block"!=s[0].style.display&&r.trigger("mouseenter"),setTimeout(function(){"block"!=s[0].style.display&&r.trigger("mouseenter"),p()},200)),!1):!1}),t.addHandler(s,"click",function(e){return o.menu?(p(),!1):!1}),t.isTouchDevice()&&t.addHandler(s,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return o.menu?(t._hasOpenedMenu?t._closemenu():p(),!1):!1})},_removecolumnhandlers:function(t){var i=this.that,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);if(i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu){var o=e(r[0].columnsmenu);i.removeHandler(o,"click"),i.removeHandler(o,"mousedown"),i.removeHandler(o,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,r){var s="7px";if(r.columngroups?(s=i/2-this._columnheight/2,0>s&&(s=6),s+="px"):30!=this.columnsheight&&(s=this.columnsheight/2-this._columnheight/2,0>s&&(s=6),s+="px"),this.enableellipsis)return"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if("center"==t||"middle"==t)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+s+';"><a href="#">'+e+"</a></div>";var o='<a style="margin-top: '+s+"; float: "+t+';" href="#">'+e+"</a>";return o},_renderrows:function(t,i,r){var s=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(s.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var o=this.source.totalrecords;isNaN(o)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=o&&(s.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||s.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0))),s._prerenderrows(t),s._requiresupdate&&(s._requiresupdate=!1,s._updatepageviews());var n=function(){s._loading||(s.WinJS?MSApp.execUnsafeLocalFunction(function(){s._rendervisualrows()}):s._rendervisualrows(),s.virtualmode&&s.showaggregates&&s._updateaggregates&&s.refreshaggregates())},a=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){var l=function(){if(s.rendergridrows){var e=s._startboundindex;void 0==e&&(e=0);var t=e+1+s.dataview.pagesize;if(null!=e&&null!=t){var r=!!s.source._source,o=r?s.source._source.recordstartindex:s.source.recordstartindex;if(o!=e||1==i){if(r){if(t>=s.source._source.totalrecords&&(t=s.source._source.totalrecords,e=t-s.dataview.pagesize-1,0>e&&(e=0),s.source._source.recordendindex==t&&s.source._source.recordstartindex==e))return;s.source._source.recordstartindex=e,s.source._source.recordendindex=t}else s.source.recordstartindex=e,s.source.recordendindex=t;s.updatebounddata("cells")}}}};this.loadondemand&&(n(),l(),this.loadondemand=!1);var d=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?n():this.autoheight?n():d||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){n()},5)):n()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var h=this._getfirstvisualrow();if(null!=h){var c=function(t){if(null==h)return"";var i="<table>",r=s.deferreddatafields;null==r&&s.columns.records.length>0&&(r=new Array,r.push(s.columns.records[0].displayfield));for(var o=0;o<r.length;o++){var n=r[o],a=s._getcolumnbydatafield(n);if(a){var l=s._getcellvalue(a,h);""!=a.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(l)?l=e.jqx.dataFormat.formatdate(l,a.cellsformat,s.gridlocalization):e.jqx.dataFormat.isNumber(l)&&(l=e.jqx.dataFormat.formatnumber(l,a.cellsformat,s.gridlocalization))),i+="<tr><td>"+l+"</td></tr>"}}return i+="</table>"},u=this.scrollfeedback?this.scrollfeedback(h.bounddata):c(h.bounddata);u!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=u,this._scrollelementcontent=u)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){s.hScrollInstance.isScrolling()||s.vScrollInstance.isScrolling()||(n(),s._scrollelement.css("visibility","hidden"),s._scrollelementoverlay.css("visibility","hidden"),clearInterval(s._scrolltimer),h&&s.ensurerowvisible(h.visibleindex))},100))}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var d=void 0==this._browser?this._isIE10():this._browser;if((d||a)&&(this._updatedelay=5),d&&this.hScrollInstance.isScrolling())return void n();e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);var p=this.isTouchDevice();if(p&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)n();else{var f=this._jqxgridrendertimer;null!=f&&clearTimeout(f),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?f=setTimeout(function(){n()},this._updatedelay):(f=null,n()),this._jqxgridrendertimer=f):(this._jqxgridrendertimer=f,n())}}if(s.autorowheight&&!s.autoheight&&this._pageviews.length>0){var m=this._gettableheight(),g=this._pageviews[0].height;if(g>m)if(this.pageable&&this.gotopage&&(g=this._pageviews[0].height,0>g&&(g=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(m>=g||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),g-m>0){if("deferred"!=this.scrollmode){var v=g-m,x=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:v}),Math.round(v)!=Math.round(x)){var w=this.vScrollBar.jqxScrollBar("value");w>v&&this.vScrollBar.jqxScrollBar({value:0})}}}else this.vScrollBar.jqxScrollBar({value:0,max:g});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=g)}},scrolling:function(){var e=this.vScrollInstance.isScrolling(),t=this.hScrollInstance.isScrolling();return{vertical:e,horizontal:t}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.table[0].rows.length,s=this.columnsrow,o=this.groupable&&this.groups.length>0?this.groups.length:0,n=this.columns.records.length-o,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;r>d;d++)for(var h=this.table[0].rows[d],c=0;o+n>c;c++){var u=h.cells[c];if(void 0!=u){var p=a[c];if(p.pinned&&(u.style.marginLeft=i+"px",0==d)){var f=s[0].cells[c];f.style.marginLeft=i+"px"}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else if(this._haspinned||void 0==this._haspinned){for(var d=0;r>d;d++)for(var h=this.table[0].rows[d],c=0;o+n>c;c++){var u=h.cells[c];if(void 0!=u){var p=a[c];if(p.pinned){if(0==i&&""==u.style.marginLeft)continue;var m=null,g=null,v=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(v=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(g=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(m=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==d){var f=s[0].cells[c];f.style.marginLeft=-parseInt(t)+"px",m&&(m.style.marginLeft=-parseInt(t)+"px"),g&&(g.style.marginLeft=-parseInt(t)+"px"),v&&(v.style.marginLeft=-parseInt(t)+"px")}}else if(u.style.marginLeft=i+"px",0==d){var f=s[0].cells[c];f.style.marginLeft=i+"px",m&&(m.style.marginLeft=i+"px"),g&&(g.style.marginLeft=i+"px"),v&&(v.style.marginLeft=i+"px")}}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var x=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(x=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+x+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,r,s,o){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var n=0,a=-1,l=i+r,d=!1;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var h=0;i+r>h;h++){if(d||this.columns.records[h].pinned&&o&&(d=!0),this.columns.records[h].hidden||(n+=this.columns.records[h].width),n>=e&&-1==a&&(a=h),n>t+e){l=h;break}}return l++,l>i+r&&(l=i+r),(-1==a||d)&&(a=0),{start:a,end:l}},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+r};var o=0,n=-1,a=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var l=0;i+r>l;l++){if(this.columns.records[l].hidden||(o+=this.columns.records[l].width),o>=e&&-1==n&&(n=l),o>t+e){a=l;break}}return a++,a>i+r&&(a=i+r),-1==n&&(n=0),{start:n,end:a}},_getfirstvisualrow:function(){var e=this.vScrollInstance,t=e.value,i=parseInt(t);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(i=0),!this.pageable){var r=this._findvisiblerow(i,this._pageviews);if(-1==r)return null;r!=this.dataview.pagenum?(this.dataview.pagenum=r,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var s=this._findvisiblerow(i,this._pagescache[this.dataview.pagenum]),o=this._pagescache[this.dataview.pagenum];return o&&o[0]?o[s]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,r=t.value,s=i.value,o=parseInt(r),n=parseInt(s),a=this._gettableheight(),l=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(a+=29),"deferred"==this.scrollmode&&0!=this._newmax&&o>this._newmax&&null!=this._newmax&&(o=this._newmax);var d=t.isScrolling()||i.isScrolling()||this._keydown,h=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(o=0),!this.pageable){var c=this._findvisiblerow(o,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,f=this._findvisiblerow(o,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],g=f;0>g&&(g=0);var v=0,x=0,w=0,b=0,y=this.virtualsizeinfo.visiblerecords,_=this.groupable?this.groups.length:0,j=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(j+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(y=this.dataview.pagesize),h&&(j=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(j+=" "+this.toTP("jqx-touch")),this.autorowheight&&(j+=" jqx-grid-cell-wrap");var q=this.rowsheight,T=this._rendercell,C=!0,k=this._getvisualcolumnsindexes(n,l,u,p,h,!0),S=k.start,D=k.end,I=this._getvirtualcolumnsindexes(n,l,u,p,h),P=I.start,A=I.end;e.jqx.browser.msie&&e.jqx.browser.version<9;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=m?m[g].bounddata.boundindex:0,this._startvisibleindex=null!=m?m[g].bounddata.visibleindex:0;var B=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var M=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},H=0;H<B.length;H++){for(var z=B[H],E=0;P>E;E++){var O=E;if(!this.columns.records[O].pinned&&null!=this.columns.records[O].datafield){var L=z.cells[O];M(L)&&L.parentNode.removeChild(L);var N=this.columns.records[O].element;this.columns.records[O]._rendered=!1,M(N)&&this.columnsrow[0].removeChild(N),this.filterrow&&M(this.filterrow[0].cells[O])&&this.columns.records[O].filterable&&this.filterrow[0].cells[O].parentNode.removeChild(this.filterrow[0].cells[O])}}for(var E=A;E<this.columns.records.length;E++){var O=E;if(!this.columns.records[O].pinned&&null!=this.columns.records[O].datafield){var L=z.cells[O];M(L)&&L.parentNode.removeChild(L);var N=this.columns.records[O].element;this.columns.records[O]._rendered=!1,M(N)&&this.columnsrow[0].removeChild(N),this.filterrow&&M(this.filterrow[0].cells[O])&&this.columns.records[O].filterable&&this.filterrow[0].cells[O].parentNode.removeChild(this.filterrow[0].cells[O])}}for(var E=P;A>E;E++){var O=E,L=z.cells[O];M(L)||z.appendChild(L);var N=this.columns.records[O].element;this.columns.records[O]._rendered=!0,M(N)||this.columnsrow[0].appendChild(N),this.filterrow&&!M(this.filterrow[0].cells[O])&&this.columns.records[O].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[O])}}for(var F=0;y>F&&y>x;F++){var R=void 0!=m?m[g+F]:null;if(null==R){if(g=-F,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var W=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){m=void 0;break}this.dataview.pagenum++,m=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum])}while(void 0==m&&this.dataview.pagenum<W)}void 0!=m&&(R=m[g+F])}if(null!=R){if(R.hidden)continue;if(this._endboundindex=this._startboundindex+F,this._endvisibleindex=this._startvisibleindex+F,0==F){var V=Math.abs(o-R.top);this.table[0].style.top=-V+"px",b=-V}var z=this.table[0].rows[x];if(!z)continue;parseInt(z.style.height)!=R.height&&(z.style.height=parseInt(R.height)+"px"),w+=R.height;var G=this.rowdetails&&R.rowdetails,U=!R.rowdetailshidden;G&&U&&(z.style.height=parseInt(R.height-R.rowdetailsheight)+"px",y++);for(var $=this._isrowselected(C,R),E=S;D>E;E++){var O=E;this._rendervisualcell(T,j,$,G,U,h,_,z,R,O,x,d)}if(void 0!=R.group&&this._rendergroup&&this._rendergroup(_,z,R,u,p,x,l),this.autorowheight&&(this.autoheight||this.pageable)){for(var q=this.rowsheight,E=S;D>E;E++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[E].datafield&&this.editcell.row==this.getboundindex(R)&&this.editcell.editor?q=Math.max(q,this.editcell.editor.height()):z.cells[E].firstChild&&(q=Math.max(q,8+parseInt(z.cells[E].firstChild.offsetHeight)));z.style.height=parseInt(q)+"px",this.heights[this._startboundindex+F]=q,G&&U&&(q+=R.rowdetailsheight),R.height=q}if(this.visiblerows[this.visiblerows.length]=R,this.hittestinfo[this.hittestinfo.length]={row:R,visualrow:z,details:!1},G&&U){x++;var z=this.table[0].rows[x];this._renderrowdetails(j,z,R,u,p,x),this.visiblerows[this.visiblerows.length]=R,this.hittestinfo[this.hittestinfo.length]={row:R,visualrow:z,details:!0}}if(!this.autorowheight&&w+b>=a)break}else cansetheight=!0,this._clearvisualrow(n,h,x,u,p),a>=w+v+b&&(v+=q);x++}if(this._horizontalvalue=n,v>0&&"visible"==this.vScrollBar[0].style.visibility){var Y=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),K=t.max,X=Y.top+Y.height-a;"visible"==this.hScrollBar.css("visibility")&&(X+=this.scrollbarsize+20),K==X||this.autorowheight||X>=0&&("deferred"!=this.scrollmode?(t.max=X,t.setPosition(t.max)):this._newmax!=X&&(this._newmax=X,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var Z=0,J=0,H=0;H<this.visiblerows.length;H++){var Q=this.visiblerows[H];Q.top=Z,Z+=Q.height,J+=Q.height;var G=this.rowdetails&&Q.rowdetails,U=!Q.rowdetailshidden,z=this.table[0].rows[H];G&&U&&H++;for(var E=S;D>E;E++){var ee=this.columns.records[E];if(!ee.hidden&&!ee.cellsrenderer){var te=z.cells[E],ie=0;if(te.firstChild){var ie=(Q.height-parseInt(te.firstChild.offsetHeight)-8)/2;if(G&&U)var ie=(Q.height-Q.rowdetailsheight-e(te.firstChild).height()-8)/2}else var ie=(Q.height-parseInt(e(te).height())-8)/2;if(ie>=0&&(ie=parseInt(ie)+4,te.firstChild&&-1==te.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=ee.columntype&&"button"!=ee.columntype)){if(this.editable&&this.editcell&&this.editcell.column==ee.datafield&&this.editcell.row==this.getboundindex(Q))continue;te.firstChild.style.marginTop=ie+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=J),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){var re=this;e.each(re.toCompile,function(t,i){if(this.compiled)return!0;var r=this.cell;return r?(e.jqx.angularCompile&&e.jqx.angularCompile(r,"<div>"+this.value+"</div>"),void(this.compiled=!0)):!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,r=0;r<t.cells.length;r++){var s=e(t.cells[r]);"none"==s.css("display")||i||s.width()!=this.host.width()&&s.text()!=this.gridlocalization.emptydatastring||(s[0].checkbox=null,s[0].button=null,i=!0,s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var r=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<r.cells.length;s++){var o=e(r.cells[s]);if("none"!=o.css("display")&&!t){o[0].checkbox=null,o[0].button=null,o[0].className=i,t=!0,o[0].innerHTML="";var n=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");n.text(this.gridlocalization.emptydatastring),o.append(n);var a=0;this.oldhscroll||(a=parseInt(this.table[0].style.marginLeft),this.rtl&&(o.css("z-index",999),o.css("overflow","visible"))),n.css("left",-a-n.width()/2),n.css("top",this._gettableheight()/2-n.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.css("margin-left","0px"),n.css("left",this.host.width()/2-n.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(r).height(this._gettableheight()+l),o.css("margin-left","0px"),o.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}o.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance,i=t.value,r=parseInt(i),s=this.groupable&&this.groups.length>0;if(this.columns.records)for(var o=0;e>o;o++)this._clearvisualrow(r,s,o,0,this.columns.records.length)},_iscellselected:function(e,t,i){var r=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var o=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=o){for(var n in this.selectedcells)n==o+"_"+i&&(r=!0);return r}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==t.bounddata.dataindex)for(var n in this.selectedcells)n==s+t.bounddata.boundindex+"_"+i&&(r=!0);else for(var n in this.selectedcells)n==s+t.bounddata.dataindex+"_"+i&&(r=!0);else for(var n in this.selectedcells)if(n==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==t.bounddata.dataindex){for(var n in this.selectedcells)if(n==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else for(var n in this.selectedcells)if(n==s+t.bounddata.dataindex+"_"+i){r=!0;break}}else for(var n in this.selectedcells)if(n==s+t.bounddata.boundindex==this.selectedrowindex){r=!0;break}return r},_isrowselected:function(e,t){var i=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var s=this.getrowboundindexbyid(t.bounddata.uid);return void 0==s||-1==s?!1:(-1!=this.selectedrowindexes.indexOf(s)&&(i=!0),i||(i=s==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,r,s,o,n,a,l,d,h,c,u){var p=this.columns.records[h];if(p.hidden){var f=l.cells[h];return void(f.innerHTML="")}cellvalue=this._getcellvalue(p,d);var f=l.cells[h],m=i;if(-1!=this.selectionmode.indexOf("cell")&&(r=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[d.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)m+=" "+p.cellclassname;else{var g=p.cellclassname(this.getboundindex(d),p.datafield,cellvalue,d.bounddata);g&&(m+=" "+g)}var v=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if(v&&(m+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(m+=n?" "+this.toTP("jqx-grid-cell-pinned"):" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==d.group){var x=d.visibleindex;x>=this.altstart&&(this.altstart+x)%(1+this.altstep)==0&&(m+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(a>=h){if(n||this.rowdetails||this.pageable&&this.virtualmode){var w=e(f),b=this.columns.records[h].width;f.style.width!=parseInt(b)+"px"&&w.width(b)}}else if((n||this.rowdetails)&&this._hiddencolumns){var w=e(f),b=this.columns.records[h].width;parseInt(f.style.width)!=b&&w.width(b)}var y=!0;if(this.rowdetails&&s&&(o&&!n?m+=" "+this.toTP("jqx-grid-details-cell"):n&&(m+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==d.group&&h==l.cells.length-a-1){var _=this.toThemeProperty("jqx-icon-arrow-down");if(o)m+=" "+this.toTP("jqx-grid-group-expand-rtl"),
m+=" "+_;else{m+=" "+this.toTP("jqx-grid-group-collapse-rtl");var _=this.toThemeProperty("jqx-icon-arrow-left");m+=" "+_}return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}}else if(void 0==d.group&&h==a){var _=this.toThemeProperty("jqx-icon-arrow-down");if(o)m+=" "+this.toTP("jqx-grid-group-expand"),m+=" "+_;else{m+=" "+this.toTP("jqx-grid-group-collapse");var _=this.toThemeProperty("jqx-icon-arrow-right");m+=" "+_}return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}return r&&y&&h>=a&&(m+=" "+this.toTP("jqx-grid-cell-selected"),m+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=m&&(f.className=m),void 0!=d.group?(cellvalue="",f.title="",void(f.innerHTML="")):void t(this,p,d,cellvalue,f,u)},_rendercell:function(t,i,r,s,o,n){var a=s+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)var a=r.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(s=r.visibleindex),t.editcell&&void 0==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,o,!1,!1):t._showcelleditor(t.editcell.row,i,o,t.editcell.init))}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=o,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var l=t._defaultcellsrenderer(s,i),d=t._cellscache[a];if(d){if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===s&&(s=null);var h=0==o.innerHTML.toString().length;if(!o.checkbox||t.groupable||h?t._rendercheckboxcell(t,o,i,r,s):(o.checkboxrow=t.getboundindex(r),""==s&&(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),null!=s||i.threestatecheckbox||(s=!1),i.checkboxcolumn&&(s=!1,t.dataview.filters.length>0&&!t.virtualmode&&void 0!=r.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(r.bounddata.dataindex)&&(s=!0):-1!=t.selectedrowindexes.indexOf(r.bounddata.boundindex)&&(s=!0)),t.disabled||(o.checkboxinstance?o.checkboxinstance._setState(s):o.checkbox.jqxCheckBox("_setState",s))),null!=i.cellsrenderer){var c=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata);void 0!=c&&(o.innerHTML=c)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==s&&(s=!1),null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),""==o.innerHTML&&(o.buttonrow=t.getboundindex(r),o.button=null,t._renderbuttoncell(t,o,i,r,s)),void(o.button&&!t.groupable?(o.buttonrow=t.getboundindex(r),o.button.val(s)):t._renderbuttoncell(t,o,i,r,s));if(i.createwidget){if(""==o.innerHTML&&(o.widgetrow=t.getboundindex(r),o.widget=null,t._renderwidgetcell(t,o,i,r,s)),o.widget&&!t.groupable){if(o.widgetrow=t.getboundindex(r),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(r),i.datafield,s,o.firstChild)}else t._renderwidgetcell(t,o,i,r,s);return}var u=d.element;if(null!=i.cellsrenderer||o.childNodes&&0==o.childNodes.length||t.groupable||t.rowdetails)o.innerHTML!=u&&(o.innerHTML=u);else if(o.innerHTML.indexOf("editor")>=0)o.innerHTML=u;else if(n){var p=u.indexOf(">"),f=u.indexOf("</"),m=u.substring(p+1,f),g=o.childNodes[0];if(m.indexOf(">")>=0)o.innerHTML=u;else if(g.childNodes[0])m!=g.childNodes[0].nodeValue&&(m.indexOf("&")>=0?o.innerHTML=u:g.childNodes[0].nodeValue=m);else{var v=document.createTextNode(m);g.appendChild(v)}}else o.innerHTML!=u&&(o.innerHTML=u);return void(t.enabletooltips&&i.enabletooltips&&(o.title=d.title))}if("checkbox"==i.columntype)return t._rendercheckboxcell(t,o,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+s));if("button"==i.columntype)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),t._renderbuttoncell(t,o,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+s));if("number"==i.columntype&&(s=r.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),t._renderwidgetcell(t,o,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=s));var u=null;if(null!=i.cellsrenderer){if(u=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata),u&&(u.indexOf("<jqx-")>=0||u.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:o,value:u,row:t.getboundindex(r)}))}else u=l;null==u&&(u=l);var x=s;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?x=e.jqx.dataFormat.formatdate(x,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(x=e.jqx.dataFormat.formatnumber(x,i.cellsformat,t.gridlocalization))),o.title=x),t.WinJS)e(o).html(u);else{var w=o.innerHTML;if(w.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)o.innerHTML=u;else if(w.length>0){var p=u.indexOf(">"),f=u.indexOf("</"),m=u.substring(p+1,f),g=o.childNodes[0];if(m.indexOf(">")>=0)o.innerHTML=u;else if(g.childNodes[0])m!=g.childNodes[0].nodeValue&&(m.indexOf("&")>=0||w.indexOf("span")>=0?o.innerHTML=u:g.childNodes[0].nodeValue=m);else{var v=document.createTextNode(m);g.appendChild(v)}}else w!=u&&(o.innerHTML=u)}return t._cellscache[a]={element:o.innerHTML,title:x},!0},_isIE10:function(){if(void 0==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,i+="User-agent header: "+navigator.userAgent,-1!=i.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,r,s,o){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,r,s,o){if(t.host.jqxCheckBox){var n=e(i);if(""===o&&(o=r.threestatecheckbox?null:!1),null!==o||r.threestatecheckbox||(o=!1),"1"==o&&(o=!0),"0"==o&&(o=!1),1==o&&(o=!0),0==o&&(o=!1),"true"==o&&(o=!0),"false"==o&&(o=!1),r.checkboxcolumn){o=!1;var a=this.getboundindex(s);-1!=this.selectedrowindexes.indexOf(a)&&(o=!0)}if(0==n.find(".jqx-checkbox").length){i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:o}),this.editable&&r.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(s);var l=e.data(i.firstChild,"jqxCheckBox").instance;l.updated=function(s,o,n){if(t.disabled){o=n;for(var a=t.table[0].rows.length,l=t._getcolumnindex(r.datafield),d=0;a>d;d++){var h=t.table[0].rows[d].cells[l].firstChild;h&&e(h).jqxCheckBox({disabled:t.disabled})}}if(r.editable&&!t.disabled){var a=t.table[0].rows.length,l=t._getcolumnindex(r.datafield);if(void 0==t.editrow){if(r.cellbeginedit){var c=r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!o);if(0==c)return void t.setcellvalue(i.checkboxrow,r.datafield,!o,!0)}if(r.cellvaluechanging){var u=r.cellvaluechanging(i.checkboxrow,r.datafield,r.columntype,n,o);void 0!=u&&(o=u)}if("selectedrow"!==t.editmode)for(var d=0;a>d;d++){var h=t.table[0].rows[d].cells[l].firstChild;h&&e(h).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,r.datafield,!o,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var p=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:p,datafield:r.datafield,value:n,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,o,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:p,datafield:r.datafield,oldvalue:n,value:o,columntype:r.columntype})}else t.setcellvalue(i.checkboxrow,r.datafield,o,!1,!1);r.cellendedit&&r.cellendedit(i.checkboxrow,r.datafield,r.columntype,o)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(o?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}}else i.checkboxrow=this.getboundindex(s),e(i.firstChild).jqxCheckBox("_setState",o,!(this.editable&&r.editable||r.checkboxcolumn))}},_renderwidgetcell:function(t,i,r,s,o){var n=e(i);if(0==n.find(".jqx-grid-widget").length){var a='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>';i.innerHTML=a,r.createwidget(s,r,o,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(s)}else r.initwidget(t.getboundindex(s),r,o,i.firstChild),i.widgetrow=t.getboundindex(s),e(i.firstChild).val(o)},_renderbuttoncell:function(t,i,r,s,o){if(t.host.jqxButton){var n=e(i);if(""==o&&(o=!1),0==n.find(".jqx-button").length){i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(o),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(s);var a=this.isTouchDevice();if(a){var l=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),l,function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else i.buttonrow=t.getboundindex(s),e(i.firstChild).val(o)}},_clearvisualrow:function(t,i,r,s,o){var n=this.toTP("jqx-grid-cell");i&&(n=" "+this.toTP("jqx-grid-group-cell")),n+=" "+this.toTP("jqx-grid-cleared-cell");for(var a=this.table[0].rows,l=0;s+o>l;l++)if(a[r]){var d=a[r].cells[l];d.className!=n&&(d.className=n);var h=this.columns.records[l];if(this._horizontalvalue!=t&&!h.pinned&&1==this.oldhscroll){d.style.marginLeft=-t+"px"}var c=h.width;c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth),parseInt(d.style.width)!=c&&("auto"!=c?e(d)[0].style.width=c+"px":e(d)[0].style.width=c),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}a[r]&&parseInt(a[r].style.height)!=this.rowsheight&&(a[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null==t?!1:t.expanded},_findgroup:function(e){var t=null;return this.expandedgroups[e]?this.expandedgroups[e]:t},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this.text,r=this,!1):void 0}),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this.text,r=this,!1):void 0}),this.__columnsbydatafield[t]=r,this.__columnsbydatafield[t]},isscrollingvertically:function(){var e=this.vScrollBar.jqxScrollBar("isScrolling");return e},_renderrowdetails:function(t,i,r,s,o,n){if(void 0!=i){var a=e(i),l=0,d=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var h=0;o>=h;h++){var c=e(i.cells[h]);c[0].innerHTML="",c[0].className="jqx-grid-details-cell"}var c=e(i.cells[l]);if("none"==c[0].style.display){for(var u=i.cells[l],p=2,f=l;void 0!=u&&"none"==u.style.display&&10>p;)u=i.cells[f+p-1],p++;c=e(u)}if(this.rtl)for(var m=s;o>m;m++)i.cells[m].innerHTML="",i.cells[m].className="jqx-grid-details-cell";c.css("width","100%"),a.height(r.rowdetailsheight),c[0].className=t;var g=this.getboundindex(r),v=g+"_";if(this._rowdetailscache[v]){var x=this._rowdetailscache[v],w=x.html;if(this.initrowdetails){if(this._rowdetailscache[v].element){var b=this._rowdetailscache[v].element,y=c.coord(),_=this.gridcontent.coord(),j=parseInt(y.top)-parseInt(_.top),q=parseInt(y.left)-parseInt(_.left);this.rtl&&(q=0),e(b).css("top",j),e(b).css("left",q),e(b).css("display","block"),e(b).width(this.host.width()-d),this.layoutrowdetails&&this.layoutrowdetails(g,b,this.element,this.getrowdata(g))}}else c[0].innerHTML=w}else{c[0].innerHTML="",this.enablerowdetailsindent||(d=0);var T='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+d+'px;">'+r.rowdetails+"</div>";if(this.rtl)var T='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+d+'px;">'+r.rowdetails+"</div>";if(this._rowdetailscache[v]={id:i.id,html:T},this.initrowdetails){var b=e(T)[0];e(this.gridcontent).prepend(e(b)),e(b).css("position","absolute"),e(b).width(this.host.width()-d),e(b).height(c.height());var y=c.coord();e(b).css("z-index",9999),this.isTouchDevice()&&e(b).css("z-index",99999),e(b).addClass(this.toThemeProperty("jqx-widget-content"));var y=c.coord(),_=this.gridcontent.coord(),j=parseInt(y.top)-parseInt(_.top),q=parseInt(y.left)-parseInt(_.left);e(b).css("top",j),e(b).css("left",q),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var C=e(e(b).children()[0]);""!=C[0].id&&(C[0].id=C[0].id+g),this.initrowdetails(g,b,this.element,this.getrowdata(g)),this._rowdetailscache[v].element=b,this._rowdetailselementscache[g]=b}else c[0].innerHTML=T}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="6px";if(28!=this.rowsheight&&(r=this.rowsheight/2-this._cellheight/2,0>r&&(r=4),r+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+r+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+r+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+r+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+r+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var r=this.getcellvalue(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var r=this.getcellvaluebyid(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrenderedrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},_getcellresult:function(e,t,i){var r=this.getcolumn(i);if(null==r||void 0==r)return null;var s=r.getcolumnproperties(),o=s.hidden,n=s.width,a=s.pinned,l=s.cellsalign,d=s.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:n,height:h,hidden:o,pinned:a,align:l,format:d}},setcellvaluebyid:function(e,t,i,r,s){var o=this.getrowboundindexbyid(e);return this.setcellvalue(o,t,i,r,s)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,s,o){if(null==t||null==i)return!1;var n=parseInt(t),a=n,l=t;isNaN(n)||(l=this.getrowdata(n));var d=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(d=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var h="",c="";if(null==l||l[i]===r)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==l[i]||""!==r){var u=this._getcolumnbydatafield(i),p="string",f=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(f){var m="";e.each(f,function(){return this.name==u.displayfield?(this.type&&(m=this.type),!1):void 0}),m&&(p=m),c=l[u.displayfield]}if(h=l[i],!u.nullable||null!=r&&""!==r&&u.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(h)||"number"==p||"float"==p||"int"==p||"decimal"==p&&"date"!=p)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&r&&r.indexOf&&r.indexOf(",")>=0&&(r=r.replace(",",".")),r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(h)||"date"==p)&&""!=r){var g=r;g=new Date(g),"Invalid Date"!=g&&null!=g?r=g:"Invalid Date"==g&&(g=new Date,r=g)}if(l[i]===r)return void(this._updating||0==s||this._renderrows(this.virtualsizeinfo))}var v=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(l[i]=r,v){var x=this.source._source.localdata;x._updating||(x._updating=!0,x[t][i]=r,x._updating=!1)}var w=this.getrenderedrowdata(n,!0);if(w){if(w[i]=r,null!=r&&null!=r.label){var u=this._getcolumnbydatafield(i);l[u.displayfield]=r.label,w[u.displayfield]=r.label,l[i]=r.value,w[i]=r.value,v&&!x._updating&&(x._updating=!0,x[t][i]=r.value,x[t][u.displayfield]=r.label,x._updating=!1)}if(d&&void 0!=l.dataindex&&(a=l.dataindex,this.dataview.cachedrecords[l.dataindex][i]=r,null!=r&&void 0!=r.label&&(this.dataview.cachedrecords[l.dataindex][i]=r.value,this.dataview.cachedrecords[l.dataindex][u.displayfield]=r.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var b=n;d&&void 0!=l.dataindex&&(b=l.dataindex);var y=this.source._source._localdata()[b];this.source.suspendKO=!0;var _=y;if(_[i]&&_[i].subscribe)null!=r&&null!=r.label?(_[u.displayfield](r.label),_[i](r.value)):_[i](r);else{var f=this.source._source.datafields,j=null;if(f&&e.each(f,function(){return this.name==i?(j=this.map,!1):void 0}),null==j)null!=r&&null!=r.label?(_[i]=r.value,_[u.displayfield]=r.label):_[i]=r;else{var q=j.split(this.source.mapChar);if(q.length>0){for(var T=_,C=0;C<q.length-1;C++)T=T[q[C]];T[q[q.length-1]]=r}}this.source._source._localdata.replace(y,e.extend({},_))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var k=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(k.sortcolumn,k.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(void 0==o||1==o)){var S=!1,D=this.that,I=function(e){0==e&&(D.setcellvalue(t,i,h,!0,!1),h!=c&&D.setcellvalue(t,D.getcolumn(i).displayfield,c,!0,!1))};try{var P=this.getrowid(n);S=this.source.updaterow(P,l,I),void 0==S&&(S=!0)}catch(A){return S=!1,D.setcellvalue(t,i,h,!0,!1),void(h!=c&&D.setcellvalue(t,D.getcolumn(i).displayfield,c,!0,!1))}}var B=this.vScrollInstance.value;if(this._updating&&1!=s&&(s=!1),1==s||void 0==s){var D=this.that,M=function(){D.pageable&&D.updatepagerdetails&&(D.updatepagerdetails(),(D.autoheight||D.autorowheight)&&D._updatepageviews())},H=this.groupable&&this.groups.length>0;d&&!H?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),M(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!H?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),M(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(B),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var z=this.getcolumn(i).filtertype;"list"!=z&&"checkedlist"!=z||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:h}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e;if(isNaN(i)||(r=this.getrowdata(i)),null!=r){var s=r[t];return s}return null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,r=0;r<this.dataview.records.length;r++){var s=this.dataview.records[r];s&&i.push(s)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){var e=this;e&&i.push(e)});var o=0;return this.pageable&&(o=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-o?i.slice(0,this.source._source.totalrecords-o):i}if(this.dataview.sortdata){for(var i=new Array,r=0;t>r;r++){var n={};n=e.extend({},this.dataview.sortdata[r].value),i[r]=n}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return r;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.dataview.records[e];return t}var t=this.getboundrows()[e];return t},getrenderedrowdata:function(e,t){if(void 0==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e),r=this.dataview.loadedrecords[i];return r}var i=this.getrowvisibleindex(e);if(i>=0){if(this.groupable&&this.groups.length>0)var r=this.dataview.loadedrecords[i];else{var r=this.dataview.loadedrecords[i];if(this.pageable&&(void 0==t||0==t))var r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return r}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){var i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum];if(void 0==i)break;e.push(i)}return e}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i=this.dataview.loadedrecords[t];if(void 0==i)break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}else{var i=null,r=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!r){if(this.groupable&&this.groups.length>0)var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];else var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0){var i=this.getboundrows()[e];return i&&null!=i.uid?i.uid:null}}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){if(void 0!=t&&void 0!=i){var s=this.that,o=!1;s._datachanged=!0;var n=function(t,i,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var o=!1;e.isArray(i)?(e.each(i,function(e,i){o=t.dataview.updaterow(this,s[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):o=t.dataview.updaterow(i,s);var n=t.vScrollInstance.value;if(void 0!=r&&1!=r||void 0!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(a),d=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},a)),t.source.suspendKO=!1}var h=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(h&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var c=t.getrowboundindexbyid(i);t.source._source.localdata.set(c,s),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(n),o};if(this.source.updaterow){var a=function(e){1==e||void 0==e?n(s,t,i):o=!1};try{o=this.source.updaterow(t,i,a),void 0==o&&(o=!0)}catch(l){o=!1}}else o=n(s,t,i);return o}return!1},deleterow:function(t,i){if(void 0!=t){this._datachanged=!0;var r=!1,s=this.that,o=this.getrowboundindexbyid(t),n=new Array;new Array;if(void 0!=o&&(this.selectedrowindexes.indexOf(o)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(o),1),this.selectedrowindex==o&&(this.selectedrowindex=-1),!this.virtualmode))if(s.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=s.getrowid(this);n.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(s.selectionmode.indexOf("cell")>=0)for(var a in s.selectedcells){var l=s.selectedcells[a],d=s.getrowid(l.rowindex);l.rowid=d}var h=function(t,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=!1,a=t.vScrollInstance.value;if(e.isArray(r))e.each(r,function(){s=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else var s=t.dataview.deleterow(r);if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(n,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var l=new Array;for(var d in t.selectedcells){var h=t.selectedcells[d],c=h.rowid,u=t.getrowboundindexbyid(c);-1!=u&&(h.rowindex=u,l[u+"_"+h.datafield]=h)}t.selectedcells=l}void 0!=t._updating&&0!=t._updating||void 0!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1);var p=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(p&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(o,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var f=t.getsortinformation();f.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(f.sortcolumn,f.sortdirection?f.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(a),s};if(this.source.deleterow){var c=function(e){1!=e&&void 0!=e||h(s,t)};try{this.source.deleterow(t,c),void 0==r&&(r=!0)}catch(u){r=!1}}else r=h(s,t);return r}return!1},addrow:function(t,i,r){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var s=!1,o=this.that;if(null==t){var n=this.dataview.filters&&this.dataview.filters.length>0,a=n?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var l=new Array;e.each(i,function(e,t){var r=o.dataview.getid(o.dataview.source.id,i[e],a+e);l.push(r)}),t=l}else for(t=this.dataview.getid(this.dataview.source.id,i,a);null!=this.dataview.recordsbyid["id"+t];)t++}var d=function(t,i,r,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var o=t.vScrollInstance.value,n=!1;e.isArray(r)?(e.each(r,function(e,r){void 0!=this.dataindex&&delete this.dataindex;var o=null;null!=i&&null!=i[e]&&(o=i[e]),n=t.dataview.addrow(o,this,s,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(void 0!=r&&void 0!=r.dataindex&&delete r.dataindex,n=t.dataview.addrow(i,r,s)),void 0!=t._updating&&0!=t._updating||setTimeout(function(){t._render(!0,!0,!1,!1),t.invalidate()}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1);var a=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(a&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var l=t.getrowboundindexbyid(i);t.source._source.localdata.set(l,r),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(o):t.vScrollInstance.setPosition(0),
n};if(this.source.addrow){var h=function(e,s){1!=e&&void 0!=e||(void 0!=s&&(t=s),d(o,t,i,r))};try{s=this.source.addrow(t,i,r,h),void 0==s&&(s=!0)}catch(c){s=!1}if(0==s)return!1}else d(this,t,i,r);return s}return!1},_findvisiblerow:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.rows.records);for(var r=t.length;r>=i;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.top>e&&s.top+s.height>e)r=mid-1;else{if(!(s.top<e&&s.top+s.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(void 0!=t.gridcontent){void 0==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,r=0,s=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(s=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),s=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(s=t.dataview.totalrecords),t.rowdetails&&(s+=t.dataview.pagesize),t.columns.records){for(var o=t.columns.records.length,n=t.table[0].rows,a=0;s>a;a++){var l=n[a];if(!l)break;for(var d=l.cells,h=0,c=0;o>c;c++){var u=t.columns.records[c],p=u.width,f=d[c];parseInt(f.style.left)!=h&&(f.style.left=h+"px"),parseInt(f.style.width)!=p&&(f.style.width=p+"px"),u.hidden&&u.hideable?f.style.display="none":h+=parseFloat(p)}0==r&&(t.table.width(parseFloat(h)+2),r=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,r=e.vScrollBar[0].style.visibility;"visible"==r&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var s=e.element.style.width;if(s=s.toString().indexOf("%")>=0?e.host.width():parseInt(s),parseInt(e.table[0].style.width)-2>s-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==r){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var o=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(o)&&o>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",o+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",o))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),void 0==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var r=i.groupable&&i.groups.length>0,s=0;i.table[0].rows=new Array;var o=i.toTP("jqx-grid-cell");r&&(o=" "+i.toTP("jqx-grid-group-cell"));var n=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(n=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),n=i.dataview.rows.length,n<i.dataview.pagesize&&(n=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(n=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(n=i.dataview.rows.length),i.rowdetails&&(n+=i.autoheight||i.autorowheight?i.dataview.pagesize:n),!i.columns.records)return;var a=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var d=i.tableZIndex;n*a>d&&(d=n*a);var h=(0==i.dataview.records.length,i.isTouchDevice(),"");i._hiddencolumns=!1;for(var c=0;n>c;c++){var u='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+c+i.element.id+'">';if(l){var u='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">';d--}for(var p=0,f=0;a>f;f++){var m=i.columns.records[f],g=m.width;if(g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),i.rtl){var v=d-a+2*f,x='<div role="gridcell" style="left: '+p+"px; z-index: "+v+"; width:"+g+"px;";d--}else var x='<div role="gridcell" style="left: '+p+"px; z-index: "+d--+"; width:"+g+"px;";m.hidden&&m.hideable?(x+="display: none;",i._hiddencolumns=!0,d++):p+=g,x+='" class="'+o+'">';var w=this._defaultcellsrenderer("",m);x+=w,x+="</div>",u+=x}0==s&&(i.table.width(parseInt(p)+2),s=p),u+="</div>",h+=u}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(h)}):i.table[0].innerHTML=h,i.table[0].rows=new Array;for(var b=i.table.children(),c=0;n>c;c++){var y=b[c];i.table[0].rows.push(y),y.cells=new Array;for(var _=e(y).children(),f=0;a>f;f++)y.cells.push(_[f])}if(0==n){var p=0;if(i.showemptyrow){var u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(var f=0;a>f;f++){var m=i.columns.records[f],g=m.width;if(i.showemptyrow){var x=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+d--+"; width:"+g+'px;" class="'+o+'"></div>');x.height(i.rowsheight),u.append(x),i.table[0].rows[0].cells[f]=x[0]}g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),m.hidden&&m.hideable||(p+=g)}i.table.width(parseInt(p)+2),s=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,r=!1,s=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:void 0==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,r=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var o=0,n=0;n<i.columns.records.length;n++){var a=i.columns.records[n].width;"auto"==a?(a=i._measureElementWidth(i.columns.records[n].text),o+=a):o+=a}"hidden"!=i.vScrollBar.css("visibility")&&(o+=i.scrollbarsize+4),e=o,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:void 0==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,s=!0);var l=function(){var e=0,t=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0;return e+=t,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){var d=0;t=d+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),t+=l(),t>1e4&&(t=1e4));null!=e?(e=parseInt(e),r?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),r&&(e=i.host.width(),2>=e&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(s||(t=parseInt(t)),s?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),s&&!i.autoheight&&(t=i.host.height(),0==t&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),h+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",h);var c=i.groupsheader.height()+1;h+=c,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=h+"px"&&i.groupsheader.css("top",h);var c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,u=h+c+"px";i.content[0].style.top!=u&&i.content.css("top",h+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var f=4,m=2,g=0;"visible"==i.vScrollBar[0].style.visibility&&(g=p+f),"visible"==i.hScrollBar[0].style.visibility&&(m=p+f+2),0==p&&(g=0,m=0);var v=0;i.pageable&&(v=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,v+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(m+=i.everpresentrowheight,v+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==h+t-f-p-v+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:h+t-f-p-v+"px",left:"0px"});var x=i.hScrollBar[0].style.width,w=!1,b=!1;0==g?x!=e-2+"px"&&(i.hScrollBar.width(e-2),w=!0):x!=e-p-f+"px"&&(i.hScrollBar.width(e-p-f+"px"),w=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),b=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),b=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-f+"px"&&i.vScrollBar[0].style.top==h+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-f+"px",top:h})),i.rtl&&(i.vScrollBar.css({left:"0px",top:h}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var y=i.vScrollInstance;y.disabled=i.disabled,i.autoheight||b&&y.refresh();var _=i.hScrollInstance;_.disabled=i.disabled,w&&_.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var j=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition,i=t?e.everpresentrowheight:0;i>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+i),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-i})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+i),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-i}))}else e.bottomRight[0].style.visibility="hidden"};if(j(this),i.content[0].style.width!=e-g+"px"&&i.content.width(e-g),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=h+"px"&&i.content.css("top",h),i.rtl&&(i.content.css("left",g),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var q=i.table.width();e-g>q&&i.content.css("left",e-q)}if(i.showstatusbar&&(i.statusbar.css("top",h+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:h+t-f-p-v+i.statusbarheight+"px"}),i.statusbar.css("top",1+h+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),j(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",h+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",h+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var T=-2;if("visible"==i.vScrollBar[0].style.visibility&&(T=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var C=T+i.table.width()-i.host.width();C>=0&&i.hScrollBar.jqxScrollBar("max",C),"visible"==i.hScrollBar[0].style.visibility&&0==C&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;t>i;i++){for(var r=this.table[0].rows[i],s=r.cells,o=s.length,n=0;o>n;n++)e(r.cells[n]).remove(),r.cells[n]=null,delete r.cells[n];r.cells=null,r.cells&&delete r.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(a){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var i=0;i<this.columns.records.length;i++){var l=this.columns.records[i];l.addnewrowwidget&&l.destroyeverpresentrowwidget&&l.destroyeverpresentrowwidget(l.addnewrowwidget),this._removecolumnhandlers(this.columns.records[i]),l.element&&(e(l.element).remove(),e(l.sortasc).remove(),e(l.sortdesc).remove(),e(l.filtericon).remove(),e(l.menu).remove(),l.element=null,l.uielement=null,l.sortasc=null,l.sortdesc=null,l.filtericon=null,l.menu=null,delete l.element,delete l.uielement,delete l.sortasc,delete l.sortdesc,delete l.filtericon,delete l.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(a){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var d=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,h=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var d=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,h=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){var d="mousemove.grouping"+this.element.id,h="mousedown.grouping"+this.element.id,c="mouseup.grouping"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c)}if(this.columnsreorder){var d="mousemove.reorder"+this.element.id,h="mousedown.reorder"+this.element.id,c="mouseup.reorder"+this.element.id;this.removeHandler(e(document),d),this.removeHandler(e(document),h),this.removeHandler(e(document),c),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length)for(var u=this.menuitemsarray.length,i=0;u>i;i++)e(this.menuitemsarray[i]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var r=i?i.length>0:!1;if(this.autogeneratecolumns){var s=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};s.push(e)});else if(this.source.records.length>0){var o=this.source.records[0];for(obj in o)if("uid"!=obj){var n={width:100,datafield:obj,text:obj};s.push(n)}}this.columns=s}if(this.columns&&this.columns.records)for(var a=0;a<this.columns.records.length;a++)this._removecolumnhandlers(this.columns.records[a]);var l=this.that,d=new e.jqx.collection(this.element),h=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(l,this);i.visibleindex=h++,i.width=l.groupindentwidth,d.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var n=new t(l,this);n.visibleindex=h++,n.width=l.groupindentwidth,n.pinned=!0,n.editable=!1,n.filterable=!1,n.draggable=!1,n.groupable=!1,n.resizable=!1,d.add(n),l._haspinned=!0}if("checkbox"==this.selectionmode){var n=new t(l,null);n.visibleindex=h++,n.width=l.groupindentwidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",d.add(n)}var c=new Array;e.each(this.columns,function(e){if(void 0!=l.columns[e]){var i=new t(l,this);if(i.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(l._haspinned=!0),l.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)l.source&&l.source._source&&"array"==l.source._source.datatype&&(r||(l.source._source.datafields?l.source._source.datafields.push({name:e.toString()}):(l.source._source.datafields=new Array,l.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}d.add(i)}}),this.rtl&&d.records.reverse(),this.columns=d},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),this._trigger!==!1){var r=this.events[t];if(this._camelCase||(r=r.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var s=this;setTimeout(function(){s.updateeverpresentrow()},50)}args=i,args.owner=this;var o=new e.Event(r);o.owner=this,o.args=args;var n=this.host.trigger(o);return i=o.args,n}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),r=t.host.width(),s=t.host.height(),o=!1,n=!1,a=!1;if((e.pageY<i.top||e.pageY>i.top+s)&&(o=!0,n=!0),(e.pageX<i.left||e.pageX>i.left+r)&&(o=!0,a=!0),o){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var l=t.editcell.editor.jqxDateTimeInput("container").coord().top,d=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!n||!(e.pageY<l||e.pageY>d))return;o=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){var l=t.editcell.editor.jqxComboBox("container").coord().top,d=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!n||!(e.pageY<l||e.pageY>d))return;o=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){var l=t.editcell.editor.jqxDropDownList("container").coord().top,d=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!n||!(e.pageY<l||e.pageY>d))return;o=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var h=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],c=function(i){var r=t.editcell.editor.data();if(r[i]&&r[i].instance.container&&"block"==r[i].instance.container[0].style.display){var s=r[i].instance,a=s.container.coord().top,l=s.container.coord().top+s.container.height();return n&&(e.pageY<a||e.pageY>l)?(o=!0,s.close(),!0):!1}},u=0;u<h.length;u++){var p=c(h[u]);if(0==p)return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):void 0!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue)>=5?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(r){if(t.virtualsizeinfo){t._closemenu();var s=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};if(i)s();else{void 0==t._browser?t._isIE10():t._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},.01)):s()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){return!t.editcell&&t.enablemousewheel?(t.wheel(e,t),!1):void 0},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var r="mousedown.jqxgrid";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,r,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){
if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9){t._handlemousedown(i,t)}return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){return t._handlemousemove?t._handlemousemove(e,t):void 0},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){return t._handlemousemoveselection?t._handlemousemoveselection(e,t):void 0},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var o=function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(i){}};t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,o)}}}catch(n){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){return t.__drag===!0?!1:void 0}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0?!0:t.editcell?void(i.stopPropagation&&i.stopPropagation()):!1}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){t._keydown=!t.editcell;var r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(t.handlekeyboardnavigation&&(t.focused||i.target===t.element||e(i.target).ischildof(t.host))){var s=t.handlekeyboardnavigation(i);if(1==s)return!1}if(t.editable&&t.editcell&&(13!=r&&27!=r||t._handleeditkeydown&&(o=t._handleeditkeydown(i,t))),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==r&&0==o)return o;var o=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(o=t._handleeditkeydown(i,t)),o&&t.keyboardnavigation&&t._handlekeydown)return o=t._handlekeydown(i,t),o||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),o}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var r=!0;if(t.handlekeyboardnavigation){var s=t.handlekeyboardnavigation(i);if(1==s)return!1}return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==t&&(t=0);var r=this.vScrollInstance,s=this.hScrollInstance,o=r.value;"visible"!=this.vScrollBar.css("visibility")&&(o=0);var n=s.value;"visible"!=this.hScrollBar.css("visibility")&&(n=0),"deferred"==this.scrollmode&&null!=this._newmax&&o>this._newmax&&(o=this._newmax);var a=parseInt(o)+i;parseInt(n)+t;if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,d=this._findvisiblerow(a,this.visiblerows);if(d>=0){var h=this.visiblerows[d],c=this.rowdetails&&h.rowdetails,u=!h.rowdetailshidden;if(c){var p=this.visiblerows[d-1];if(p==h&&(h=p,d--),u){var f=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),m=e(this.hittestinfo[d].visualrow).height();i>=f&&f+m>=i||(d++,h=this.visiblerows[d],l=!0)}}}return{index:d,row:h,details:l}}}},getcellatposition:function(t,i){var r=this.that,s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0,n=this.showtoolbar?this.toolbarheight:0;o+=n;var a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host));var l=t-a.left,d=i-s-a.top-o,h=this._hittestrow(l,d),c=h.row,u=h.index,p=this.table[0].rows[u];if(this.dataview&&0==this.dataview.records.length){for(var f=this.table[0].rows,m=0,g=0;g<f.length;g++){if(d>=m&&d<m+this.rowsheight){p=f[g];break}m+=this.rowsheight}c={boundindex:g}}if(null==p)return!0;for(var v=this.hScrollInstance,x=v.value,w=0,g=(this.groupable?this.groups.length:0,0);g<p.cells.length;g++){var b=parseInt(e(this.columnsrow[0].cells[g]).css("left")),t=b-x;if(r.columns.records[g].pinned&&(t=b),!r.columns.records[g].hidden){var y=t+e(this.columnsrow[0].cells[g]).width();if(y>=l&&l>=t){w=g;break}}}if(null!=c){var _=this._getcolumnat(w);return{row:this.getboundindex(c),column:_.datafield,value:this.getcellvalue(this.getboundindex(c),_.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;var r;t.which?r=3==t.which:t.button&&(r=2==t.button);var s;if(t.which?s=2==t.which:t.button&&(s=1==t.button),s)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var o=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,a=this.showtoolbar?this.toolbarheight:0;n+=a;var l=this.host.coord();if(this.hasTransform){l=e.jqx.utilities.getOffset(this.host);var d=this._getBodyOffset();l.left-=d.left,l.top-=d.top}var h=parseInt(t.pageX),c=parseInt(t.pageY);if(this.isTouchDevice()){var u=i.getTouches(t),p=u[0];h=parseInt(p.pageX),c=parseInt(p.pageY),1==i.touchmode&&void 0!=p._pageX&&(h=parseInt(p._pageX),c=parseInt(p._pageY))}var f=h-l.left,m=c-o-l.top-n;if(this.pageable&&!this.autoheight&&this.gotopage){var g=this.pager.coord().top-l.top-n-o;if(m>g)return}var v=this._hittestrow(f,m);if(v&&!v.details){var x=v.row,w=v.index,b=t.target.className,y=this.table[0].rows[w];if(null==y)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-n,clickedrow:y};var _=this.hScrollInstance,j=_.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(j=_.max-_.value);var q=-1,T=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(j-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(j=-parseInt(this.content.css("left"))));for(var C=0;C<y.cells.length;C++){var k=parseInt(e(this.columnsrow[0].cells[C]).css("left")),h=k-j;i.columns.records[C].pinned&&!i.rtl&&(h=k);var S=this._getcolumnat(C);if(null==S||!S.hidden){var D=h+e(this.columnsrow[0].cells[C]).width();if(D>=f&&f>=h){q=C,i.mousecaptureposition.clickedcell=C;break}}}if(this.rtl&&this._haspinned)for(var C=y.cells.length-1;C>=0&&i.columns.records[C].pinned;C--){var k=e(this.columnsrow[0].cells[C]).coord().left-this.host.coord().left,h=k,S=this._getcolumnat(C);if(null==S||!S.hidden){var D=h+e(this.columnsrow[0].cells[C]).width();if(D>=f&&f>=h){q=C,i.mousecaptureposition.clickedcell=C;break}}}if(null!=x&&q>=0){this._raiseEvent(1,{rowindex:this.getboundindex(x),visibleindex:x.visibleindex,row:x,group:x.group,rightclick:r,originalEvent:t});var S=this._getcolumnat(q),I=this.getcellvalue(this.getboundindex(x),S.datafield);if(this.editable&&this.editcell&&S.datafield==this.editcell.column&&this.getboundindex(x)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(x),column:S?S.getcolumnproperties():null,row:x,visibleindex:x.visibleindex,datafield:S?S.datafield:null,columnindex:q,value:I,rightclick:r,originalEvent:t}),S.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==S.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(w,S.datafield),!0}else if("button"==S.columntype&&this._overlayElement)return S.buttonclick&&S.buttonclick(y.cells[q].buttonrow,t),!0;var P=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(x)&&(this._raiseEvent(22,{rowindex:this.getboundindex(x),row:x,visibleindex:x.visibleindex,group:x.group,rightclick:r,originalEvent:t}),this._clickedcolumn==S.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(x),row:x,visibleindex:x.visibleindex,column:S?S.getcolumnproperties():null,datafield:S?S.datafield:null,columnindex:q,value:I,rightclick:r,originalEvent:t}),P=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(r)return!0;P||(this._clickedrowindex=this.getboundindex(x),this._clickedcolumn=S.datafield);var A=e.jqx.utilities.getBrowser();if("msie"==A.browser&&parseInt(A.version)<=7&&(0==q&&this.rowdetails&&(b="jqx-grid-group-collapse"),T>0&&T>=q&&(b="jqx-grid-group-collapse")),-1!=b.indexOf("jqx-grid-group-expand")||-1!=b.indexOf("jqx-grid-group-collapse"))this.rtl?T>0&&q>y.cells.length-T-1&&this._togglegroupstate?this._togglegroupstate(x.bounddata,!0):q==y.cells.length-1-T&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(x.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):T>0&&T>q&&this._togglegroupstate?this._togglegroupstate(x.bounddata,!0):q==T&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(x.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=x.boundindex){var B=this.selectedrowindexes.slice(0),M=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var H=!1,z=this.getboundindex(x);i._oldselectedrow!==z&&"none"!==i.selectionmode||(H=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=z&&"singlerow"==i.selectionmode)&&(this._applyrowselection(z,!0,!1,null,S.datafield),this._selectrowwithmouse(i,v,B,S.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=S.datafield&&(this._selectrowwithmouse(i,v,B,S.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(z,S.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(M=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=z}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(H&&!i.editcell){if("checkbox"!==S.columntype){i.beginrowedit(this.getboundindex(x))}}else if(i.editcell&&!H&&"none"!=i.selectionmode){i.endrowedit(i.editcell.row)}}else{var E="click"==i.editmode||M&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(E=!0),E&&void 0!=x.boundindex&&S.editable){i.begincelledit(this.getboundindex(x),S.datafield,S.defaulteditorvalue);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(z,S.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!M&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||M||!i.editcell||i.editcell.row==z&&S.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,r){},_rowPropertyChanged:function(e,t,i,r){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){var t=this;e>0&&(i+=", "),i+="[";var r=0;for(obj in t)r>0&&(i+=", "),i+="{"+obj+":"+t[obj]+"}",r++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":t.refresh();break;case"everpresentrowactionsmode":r!=s&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":r!=s&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:s}),t.hScrollBar.jqxScrollBar({rtl:s}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=r&&(30!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=s&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=s&&t._rendercolumnheaders();break;case"rendergridrows":r!=s&&t.updatebounddata();break;case"editmode":r!=s&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":s!=r&&(e.jqx.utilities.setTheme(r,s,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:s}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":r!=s&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=s&&(t.statusbar&&(s?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":r!=s&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=s&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=s&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=s&&t.render();break;case"scrollbarsize":r!=s&&t._arrange();break;case"width":case"height":r!=s&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":r!=s&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=s&&t._initpager();break;case"selectedrowindex":t.selectrow(s);break;case"selectionmode":r!=s&&("none"==s&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==s&&t._render(!1,!1,!0,!1,!1));break;case"showheader":s?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":r!=s&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=s&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(s)){var o=!1;t.filterable&&r&&r.records&&e.each(r.records,function(){this.filter&&(o=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),o&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=r;break;case"autoheight":r!=s&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=s&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof s){var n="The expected value type is: Int.";if("pagesize"!=i)var n="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+n)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=s&&s.length>0&&(t.pagesize=parseInt(s[0]),t.dataview.pagesize=parseInt(s[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(s)&&(t.dataview.groups=s,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=s&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=s&&t.rendertoolbar(t.toolbar);break;case"disabled":s?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:s}),t.pagerleftbutton.jqxButton({disabled:s}),t.pagershowrowscombo.jqxDropDownList({disabled:s}),t.pagergotoinput.attr("disabled",s)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:s}),t.pagerlastbutton.jqxButton({disabled:s}))),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,void 0==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var r=!!t._source,s=null;r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var o=function(e){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.virtualmode=e.virtualmode,s._options.totalrecords=e.totalrecords,s._options.originaldata=e.originaldata,s._options.recordids=e.recordids,s._options.cachedrecords=new Array,s._options.pagenum=e.pagenum,s._options.pageable=e.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),s._options.pagesize=e.pagesize},n=function(i){if(i.totalrecords=s.totalrecords,i.virtualmode){var r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(void 0!=t.recordstartindex&&(r.startindex=parseInt(t.recordstartindex)),void 0!=t.recordendindex?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=s.records,i.grid.rendergridrows&&i.totalrecords>0){var o=0;if(t.records=i.grid.rendergridrows(r),t.records.length&&(o=t.records.length),t.records&&!t.records[r.startindex]){var n=new Array,a=r.startindex;e.each(t.records,function(){n[a]=this,a++,o++}),t.records=n}if(0==o&&t.records&&e.each(t.records,function(){o++}),o>0&&o<r.endindex-r.startindex&&!i.grid.groupable)for(var l=t.records[0],d=0;d<r.endindex-r.startindex-o;d++){var h={};for(obj in l)h[obj]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=s.originaldata,i.records=s.records,i.recordids=s.recordids,i.cachedrecords=s.cachedrecords};o(this),this.source=t,void 0!==i&&(uniqueId=i);var a=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind();var l=function(i){if(void 0!=i&&""!=i){var r=s._changedrecords[0];if(r){var o=new Array;e.each(s._changedrecords,function(e){var t=this.index,r=this.record;switch(a.grid._updateFromAdapter=!0,i){case"update":var n=a.grid.getrowid(t);return e==s._changedrecords.length-1?a.grid.updaterow(n,r):a.grid.updaterow(n,r,!1),void(a.grid._updateFromAdapter=!1);case"add":return a.grid.addrow(null,r),void(a.grid._updateFromAdapter=!1);case"remove":var n=a.grid.getrowid(t);return void o.push(n)}}),o.length>0&&(a.grid.deleterow(o,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var l=a.totalrecords;n(a,i),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var r=a.grid.getrowid(i.index);switch(i.type){case"add":var o=e.extend({},i.object[i.index]),n=s.getid(t.id,o,i.index);0===i.index?a.grid.addrow(n,o,"first"):a.grid.addrow(n,o);break;case"delete":a.grid.deleterow(r);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");a.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{var o=e.extend({},i.object[i.index]);a.grid.updaterow(r,o)}}this._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(l!=a.totalrecords))};l(),s.bindBindingUpdate(a.grid.element.id,l)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind();var l=function(e){var i=a.totalrecords;n(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))};return l(),void s.bindBindingUpdate(a.grid.element.id,l)}for(var d=0,h={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter;if(p.getfilters){var f=p.getfilters();h[u+"operator"]=p.operator;for(var m=0;m<f.length;m++){f[m].datafield=u;var g=f[m].value;if("datefilter"==f[m].type)if(f[m].value&&f[m].value.toLocaleString){var v=this.grid.getcolumn(f[m].datafield);if(v&&v.cellsformat){var x=this.grid.source.formatDate(f[m].value,v.cellsformat,this.grid.gridlocalization);x?h["filtervalue"+d]=x:h["filtervalue"+d]=f[m].value.toLocaleString()}else h["filtervalue"+d]=g.toString()}else h["filtervalue"+d]=g.toString();else h["filtervalue"+d]=g.toString(),f[m].data&&(h["filterid"+d]=f[m].data.toString()),f[m].id&&(h["filterid"+d]=f[m].id.toString());h["filtercondition"+d]=f[m].condition,h["filteroperator"+d]=f[m].operator,h["filterdatafield"+d]=u,d++}}}h.filterscount=d,h.groupscount=a.groups.length;for(var c=0;c<a.groups.length;c++)h["group"+c]=a.groups[c];void 0==t.recordstartindex&&(t.recordstartindex=0),void 0!=t.recordendindex&&0!=t.recordendindex||(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var w=s._options.data;s._options.data?e.extend(s._options.data,h):(t.data&&e.extend(h,t.data),s._options.data=h);var l=function(){var i=e.jqx.browser.msie&&e.jqx.browser.version<9,r=function(){var e=a.totalrecords;n(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)};if(i)try{r()}catch(s){}else r()};s.unbindDownloadComplete(a.grid.element.id),s.bindDownloadComplete(a.grid.element.id,l),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?s.dataBind():a.grid.isInitialized||a.grid.autobind||l(),s._options.data=w}},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return s}return r},this.getvaluebytype=function(t,i){var r=t;if("date"==i.type){var s=new Date(t);t=("NaN"==s.toString()||"Invalid Date"==s.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):s,null==t&&(t=r)}else if("float"==i.type){var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t?!1:"");return t},this.setpaging=function(e){void 0!=e.pageSize&&(this.pagesize=e.pageSize),void 0!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){
this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){var r=this.filters&&this.filters.length>0&&!this.virtualmode;if(!r&&void 0!=t&&void 0!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var s=this.recordsbyid["id"+e],o=this.records.indexOf(s);return-1==o?!1:(this.records[o]=t,this.cachedrecords&&(this.cachedrecords[o]=t),1!=i&&void 0!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,s=null,o=-1,a=0;a<n.length;a++)if(n[a].uid==e){s=n[a],o=a;break}if(s){var l=this.that;for(var d in t)l.cachedrecords[o][d]=t[d];return 1!=i&&void 0!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,r,s){if(void 0!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var o=this.recordsbyid["id"+i.uid];null!=o;){var n=Math.floor(1e4*Math.random()).toString();i.uid=n,o=this.recordsbyid["id"+n]}}else i.uid=t;return i[this.source.id]||void 0!=this.source.id&&(i[this.source.id]=i.uid),"last"==r?this.records.push(i):"number"==typeof r&&isFinite(r)?this.records.splice(r,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==r?this.cachedrecords.push(i):"number"==typeof r&&isFinite(r)?this.cachedrecords.splice(r,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=s&&void 0!=s||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(void 0!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var r=this.recordsbyid["id"+e],s=this.records.indexOf(r);return this.changedrecords[e]={Type:"Delete",Data:this.records[s]},this.records.splice(s,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&void 0!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var o=this.cachedrecords,r=null,s=-1,n=0;n<o.length;n++)if(o[n].uid==e){r=o[n],s=n;break}if(r)return this.cachedrecords.splice(s,1),1!=t&&void 0!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,s,o,n,a){var l=this.that,d=new Array,h=t,c=i,u=r,p=s,f=c.length,m=0,g=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var v=Object.size(h);this.totalrecords=v,e.each(this.records,function(t){var i=this,r=0;return e.each(i,function(e,t){l.columns[r++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var n=0;if(!this.groupable)return void this.updateview();var a=this.totalrecords}else var n=0,a=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var x=n;x=this.loadgrouprecords(0,n,a,u,g,p,c,f,d)}else m=this.loadflatrecords(n,a,u,g,p,c,f,d);return f>g&&c.splice(g,f-g),this.groups.length>0&&this.groupable?this.totalrows=x:this.totalrows=m,d},this.loadflatrecords=function(t,i,r,s,o,n,a,l){var d=this.that,h=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),u?this.sortdata:this.records),f=t;i>f;f++){var m={};u?(m=e.extend({},p[f].value),id=m[d.uniqueId],m.boundindex=p[f].index,void 0==m.uid&&(m.uid=d.getid(d.source.id,m,m.boundindex)),d.recordsbyid["id"+m.uid]=p[f].value,d.loadedrecords[h]=m,m.uniqueid=d.generatekey(),d.bounditems[m.boundindex]=m):(m=new Object(p[f]),id=m[d.uniqueId],m.boundindex=h,d.loadedrecords[h]=m,void 0==m.uid&&(m.uid=d.getid(d.source.id,m,h)),d.recordsbyid["id"+m.uid]=p[f],m.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=m),(s>=a||id!=n[s][d.uniqueId]||o&&o[id])&&(l[l.length]=s),n[s]=m,s++,m.visibleindex=c,c++,h++}if(d.grid.summaryrows){var g=h;e.each(d.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[g]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,n[s]=t,s++,t.visibleindex=c,c++,g++})}return c},this.updateview=function(e,t){var i=this.that,r=this.pagesize*this.pagenum,s=0,o=new Array,n=this.filters,a=this.updated,l=o.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,n,s,a,o,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),n,s,a,o,l,[]),this.totalrows=o.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;0==h&&(h=Math.min(100,this.totalrecords));var c=h*this.pagenum;if(0==this.loadedrecords.length&&(c=0),null!=e&&null!=t?this.loadflatrecords(e,t,n,s,a,o,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),n,s,a,o,l,[]),this.totalrows=this.loadedrecords.length,this.rows=o,o.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)o=this._updategroupsinpage(i,n,r,s,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum);u++){var p=u<this.loadedrecords.length?this.loadedrecords[u]:null;null!=p&&((!this.pagesize||r>=this.pagesize*this.pagenum&&r<=this.pagesize*(this.pagenum+1))&&(o[s]=p,s++),r++)}if((0==o.length||o.length<this.pagesize)&&!this.pageable&&this.virtualmode){s=o.length;for(var f=o.length,u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum)-f;u++){var p={};p.boundindex=u+f,p.visibleindex=u+f,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[u+f]=p,o[s]=p,s++}}this.rows=o},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){void 0==t&&(t=!0);var i=this.rows.length,r=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var s="",o=this.cachedrecords.length,n=new Array;this.totalrecords=0;var a=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)n=this.source.filter(this.filters,a,o),void 0==n&&(n=new Array),this.records=n;else if(null==this.source.filter||void 0==this.source.filter){for(var d=0;o>d;d++){for(var h=a[d],c=void 0,u=0;l>u;u++){var s=this.filters[u].filter,p=h[this.filters[u].datafield],f=s.evaluate(p);if(this.grid.filter){var m=this.grid.filter(p,h,this.filters[u].datafield,s,f);void 0!==m&&(f=m)}c=void 0==c?f:"or"==s.operator?c||f:c&&f}c?(n[n.length]=e.extend({dataindex:d},h),this._dataIndexToBoundIndex[d]={boundindex:n.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=n}if(this.sortdata){var g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;var v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var a=this.cachedrecords;if(this.records=a,this.sortdata){var g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;var v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}var x=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(r!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(x.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:x}}))}},this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];if(r){var s=this.getboundindex(r);void 0!=s&&(this.selectedrowindexes[i]=s)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];r?delete this.selectedrowindexes[i]:this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),t!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),t!==!1&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,t!==!1)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===e?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex||void 0==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var r=t[i],s=0;s<this.columns.records.length;s++)if("_checkboxcolumn"!==this.columns.records[s].datafield){var o=(r+"_"+this.columns.records[s].datafield,{rowindex:r,datafield:this.columns.records[s].datafield});e.push(o)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],s=e.getcolumn(r.datafield),o=e.getcellvalue(r.rowindex,r.datafield);if(s&&""!==o){var n=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(n=!1)),e._raiseEvent(17,{rowindex:r.rowindex,datafield:r.datafield,value:o}),i==t.length-1?(e.setcellvalue(r.rowindex,r.datafield,n,!0),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,n,!0)):(e.setcellvalue(r.rowindex,r.datafield,n,!1),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,n,!0)),e._raiseEvent(18,{rowindex:r.rowindex,datafield:r.datafield,oldvalue:o,value:n})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var r=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(r=this._getcellsforcopypaste());var s=new Array;if(null!=r&&r.length>0){for(var o=999999999999999,n=-1,a=0;a<r.length;a++){var l=r[a],d=i.getcolumn(l.datafield);if(null!=d&&d.clipboard&&(!d.hidden||this.copytoclipboardhiddencolumns)){-1==s.indexOf(d.text)&&s.push(d.text);var h=i.getcelltext(l.rowindex,d.displayfield),c=this.getrowdisplayindex(l.rowindex);this.clipboardselection[c]||(this.clipboardselection[c]={}),this.clipboardselection[c][d.displayfield]=h,this.logicalclipboardselection[c]||(this.logicalclipboardselection[c]={}),this.logicalclipboardselection[c][d.displayfield]=h,d.displayfield!=d.datafield&&(this.logicalclipboardselection[c][d.datafield]=i.getcellvalue(l.rowindex,d.datafield)),o=Math.min(o,c),n=Math.max(n,c)}}for(var u=new Array,p=o;n>=p;p++)if(this.logicalclipboardselection[p]){var f=e.extend({},this.logicalclipboardselection[p]);u.push(f)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var m=0;m<s.length;m++)m>0&&(t+="	"),t+=s[m];t+="\r\n"}for(var p=o;n>=p;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[p]&&(e.each(this.clipboardselection[p],function(e,r){g>0&&(t+="	");var s=r;null==r&&(s=""),i._clipboardselection[i._clipboardselection.length-1][g]=s,g++,t+=s}),n>p&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),r=e[0].datafield,s=this._getcolumnindex(r);this.selectedrowindexes=new Array,this.selectedcells=new Array;var o=(e.length,0),n=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var a=0;a<this._clipboardselection.length;a++){o+=this._clipboardselection[a].length,n[a]=new Array;for(var l=0;l<this._clipboardselection[a].length;l++){var d=this._clipboardselection[a][l];n[a].push(d)}}if(o<e.length){for(var h=new Array,a=0;a<e.length;a++){var c=e[a];h[c.rowindex]||(h[c.rowindex]=new Array),h[c.rowindex].push(c)}for(var u=0,p=0,a=0;a<h.length;a++)if(h[a]){for(var l=0;l<h[a].length;l++){var c=h[a][l],f=c.rowindex,m=this.getcolumn(c.datafield);if("_checkboxcolumn"!==m.datafield&&!m.hidden){var d="";if(n[u][p]||(p=0),d=n[u][p],p++,m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,""));var g=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};d=g(d,this.gridlocalization.thousandsseparator,""),d=d.replace(this.gridlocalization.decimalseparator,"."),d.indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var v="",x=0;x<d.length;x++){var w=d.substring(x,x+1);"-"===w&&(v+="-"),"."===w&&(v+="."),null!=w.match(/^[0-9]+$/)&&(v+=w)}d=v,d=d.replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}if(this._raiseEvent(17,{rowindex:f,datafield:c.datafield,value:d}),this.setcellvalue(f,m.displayfield,d,!1),m.displayfield!=m.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[f]){var b=this.logicalclipboardselection[f][m.datafield];void 0!=b&&this.setcellvalue(f,m.datafield,b,!1)}this._raiseEvent(18,{rowindex:f,datafield:c.datafield,oldvalue:this.getcellvalue(c.rowindex,c.datafield),value:d}),this._applycellselection(f,c.datafield,!0,!1)}}u++,n[u]||(u=0)}}else{if(!this._clipboardselection)return;for(var y=0;y<this._clipboardselection.length;y++)for(var _=0;_<this._clipboardselection[y].length;_++){var m=this.getcolumnat(s+_);if(m&&"_checkboxcolumn"!==m.datafield&&!m.hidden){var f=this.getrowboundindex(i+y),c=this.getcell(f,m.datafield),d=null;if(d=this._clipboardselection[y][_],null!=d){if(m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,""));var g=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};d=g(d,this.gridlocalization.thousandsseparator,""),d=d.replace(this.gridlocalization.decimalseparator,"."),d.indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""));for(var v="",x=0;x<d.length;x++){var w=d.substring(x,x+1);"-"===w&&(v+="-"),"."===w&&(v+="."),null!=w.match(/^[0-9]+$/)&&(v+=w)}d=v,d=d.replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}if(this._raiseEvent(17,{rowindex:f,datafield:c.datafield,value:d}),this.setcellvalue(f,m.displayfield,d,!1),m.displayfield!=m.datafield&&this.logicalclipboardselection){var b=this.logicalclipboardselection[y][m.datafield];void 0!=b&&this.setcellvalue(f,m.datafield,b,!1)}this._raiseEvent(18,{rowindex:f,datafield:c.datafield,oldvalue:this.getcellvalue(c.rowindex,c.datafield),value:d}),this._applycellselection(f,c.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,r,s){if(null==e)return!1;var o=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:o}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==r&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var n=this.getrowdata(e);n&&void 0!==n.dataindex?e=n.dataindex:n&&void 0===n.dataindex&&void 0!=n.uid&&(e=this.getrowboundindexbyid(n.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,r){if(null==e)return!1;if(null==t)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield})}var o=e+"_"+t;if(this.dataview.filters.length>0){var n=this.getrowdata(e);if(n&&void 0!==n.dataindex){e=n.dataindex;var o=e+"_"+t}else if(n&&void 0===n.dataindex&&n.uid){e=this.getrowboundindexbyid(n.uid);var o=e+"_"+t}}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[o]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[o]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(void 0==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){return i++,this[t]?!1:void 0}),i},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,r=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),o=this.toTP("jqx-grid-cell-hover"),n=this.toTP("jqx-fill-state-hover"),a=0;t>a;a++)for(var l=i[a],d=l.cells.length,h=l.cells,c=0;d>c;c++){var u=h[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(r),p.removeClass(s)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(o),p.removeClass(n))}},_selectpath:function(e,t){var i=this,r=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(s>=r){var o=this._getcolumnindex(this._lastClickedCell.column),n=this._getcolumnindex(t),a=Math.min(o,n),l=Math.max(o,n);this.selectedcells=new Array;for(var d=this.dataview.loadedrecords,h=r;s>=h;h++)for(var c=a;l>=c;c++){var e=d[h];this._applycellselection(i.getboundindex(e),i._getcolumnat(c).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,r=this.dataview.loadedrecords;if(i>=t){this.selectedrowindexes=new Array;for(var s=t;i>=s;s++){var e=r[s],o=this.getrowboundindex(s);this._applyrowselection(o,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,r,s,o){var n=t.row;if(void 0!=n){var a=t.index;if(void 0!=this.hittestinfo[a]){var l=this.hittestinfo[a].visualrow;if(!this.hittestinfo[a].details){l.cells[0].className;if(!n.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==o||1==s)){var d=this.getboundindex(n);if(this.dataview.filters.length>0){var h=this.getrowdata(d);if(h&&(d=h.dataindex,void 0==d))var d=this.getboundindex(n)}var c=-1!=i.indexOf(d),u=this.getboundindex(n)+"_"+r;if(-1!=this.selectionmode.indexOf("cell")){var p=void 0!=this.selectedcells[u];if(void 0!=this.selectedcells[u]&&p?this._selectcellwithstyle(e,!1,a,r,l):this._selectcellwithstyle(e,!0,a,r,l),o&&void 0==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}o&&this._lastClickedCell&&(this._selectpath(n.visibleindex,r),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?s?this._applyrowselection(this.getboundindex(n),!1):this._selectrowwithstyle(e,l,!1,r):this._selectrowwithstyle(e,l,!0,r),o&&void 0==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:r})}if(o&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,n.visibleindex):0,v=this._lastClickedCell?Math.max(this._lastClickedCell.row,n.visibleindex):0,x=this.dataview.loadedrecords,w=g;v>=w;w++){var n=x[w];n&&this._applyrowselection(this.getboundindex(n),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,l,!0,r),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,a,r,l);o||(this._lastClickedCell={row:n.visibleindex,column:r})}}}}},_selectcellwithstyle:function(t,i,r,s,o){var n=e(o.cells[t._getcolumnindex(s)]);n.removeClass(this.toTP("jqx-grid-cell-hover")),n.removeClass(this.toTP("jqx-fill-state-hover")),i?(n.addClass(this.toTP("jqx-grid-cell-selected")),n.addClass(this.toTP("jqx-fill-state-pressed"))):(n.removeClass(this.toTP("jqx-grid-cell-selected")),n.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,r,s){var o=i.cells.length,n=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(o-=1,o-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?o-=this.groups.length:n=this.groups.length);for(var a=n;o>a;a++){var l=i.cells[a];r?(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(l).addClass(this.toTP("jqx-grid-cell-selected")),e(l).addClass(this.toTP("jqx-fill-state-pressed")))):(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-grid-cell-selected")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),e(l).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins){var r=i.multipleselectionbegins(t);if(r===!1)return!0}var s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0,n=this.showtoolbar?this.toolbar.height():0;o+=n;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}"0px"===this.host.css("border-top-width")&&(o-=2);var d=t.pageX,h=t.pageY-o;if(Math.abs(this.mousecaptureposition.left-d)>3||Math.abs(this.mousecaptureposition.top-h)>3){var c=parseInt(this.columnsheader.coord().top);this.hasTransform&&(c=e.jqx.utilities.getOffset(this.columnsheader).top),d<a.left&&(d=a.left),d>a.left+this.host.width()&&(d=a.left+this.host.width());var u=a.top+s;u>h&&(h=u+5);var p=parseInt(Math.min(i.mousecaptureposition.left,d)),f=-5+parseInt(Math.min(i.mousecaptureposition.top,h)),m=parseFloat(Math.abs(i.mousecaptureposition.left-d)),g=parseInt(Math.abs(i.mousecaptureposition.top-h));if(p-=a.left,f-=a.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var d=p,v=d+m,x=i.hScrollInstance,w=x.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(w=x.max-x.value),"hidden"!=this.vScrollBar[0].style.visibility);var b=i.table[0].rows[0],y=0,_=i.mousecaptureposition.clickedcell,j=_,q=!1,T=0,C=b.cells.length;i.mousecaptureposition.left<=t.pageX&&(T=_);for(var k=!1,S=T;C>S;S++){var D=parseFloat(e(this.columnsrow[0].cells[S]).css("left")),I=D-w;if(!i.columns.records[S].pinned||i.columns.records[S].hidden){if(k){q=!0,j--;break}var P=this._getcolumnat(S);if(!(null!=P&&P.hidden||i.groupable&&i.groups.length>0&&S<i.groups.length)){var A=I+e(this.columnsrow[0].cells[S]).width();if(i.mousecaptureposition.left>t.pageX){if(A>=d&&d>=I){j=S,q=!0;break}}else if(A>=v&&v>=I){j=S,q=!0;break}}}else{S==_&&(k=!0);var A=D+e(this.columnsrow[0].cells[S]).width();if(i.mousecaptureposition.left>t.pageX){if(A>=d&&d>=I){j=S,q=!0;break}}else if(A>=v&&v>=I){j=S,q=!0;break}}}q||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return i.groupable&&i.groups.length>0&&e<i.groups.length?!0:this.pinned||this.hidden?void 0:(j=e,!1)}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(j=b.cells.length-1));var B=_;_=Math.min(_,j),j=Math.max(B,j),f+=5,f+=o;for(var M=(i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow),0),H=-1,z=-1,E=0,S=0;S<i.table[0].rows.length;S++){var O=e(i.table[0].rows[S]);0==S&&(E=O.coord().top);var L=O.height(),N=E-a.top;if(-1==H&&N+L>=f){for(var F=!1,R=0;R<i.groups.length;R++){var W=O[0].cells[R].className;if(-1!=W.indexOf("jqx-grid-group-collapse")||-1!=W.indexOf("jqx-grid-group-expand")){F=!0;break}}if(F)continue;H=S}if(E+=L,i.groupable&&i.groups.length>0){for(var F=!1,R=0;R<i.groups.length;R++){var W=O[0].cells[R].className;if(-1!=W.indexOf("jqx-grid-group-collapse")||-1!=W.indexOf("jqx-grid-group-expand")){F=!0;break}}if(F)continue;for(var y=0,V=i.groups.length;V<O[0].cells.length;V++){var G=O[0].cells[V];""==e(G).html()&&y++}if(y==O[0].cells.length-i.groups.length)continue}if(-1!=H&&(M+=L),N+L>f+g){z=S;break}}if(-1!=H){f=e(i.table[0].rows[H]).coord().top-a.top-o-2;var U=0;this.filterable&&this.showfilterrow&&(U=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&f<this.rowsheight+U&&(f-=parseFloat(i.table[0].style.top),M+=parseFloat(i.table[0].style.top)),g=M;var $=e(this.columnsrow[0].cells[_]),Y=e(this.columnsrow[0].cells[j]);if(p=parseFloat($.css("left")),m=parseFloat(Y.css("left"))-parseFloat(p)+Y.width()-2,p-=w,k&&(p+=w),i.editcell&&i.editable&&i.endcelledit&&(_!=j||H!=z)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(m),this.selectionarea.height(g),this.selectionarea.css("left",p),this.selectionarea.css("top",f)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2);var o=this.showtoolbar?this.toolbar.height():0;s+=o;var n=this.selectionarea.coord(),a=this.host.coord();this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host),n=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(s-=2);var l=n.left-a.left,d=n.top-r-a.top-s,h=d,c=l+this.selectionarea.width(),u=l,p=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;d<h+this.selectionarea.height();){var m=this._hittestrow(l,d),g=m.row,v=m.index;-1!=v&&(f[v]||(f[v]=!0,p[p.length]=m)),d+=20}var h=0;e.each(p,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==h?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),h++)})}else{"multiplecellsadvanced"==i.selectionmode&&(d+=2);var x=i.hScrollInstance,w=x.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(w=x.max-x.value),"hidden"!=this.vScrollBar[0].style.visibility&&(w-=this.scrollbarsize+4));var b=i.table[0].rows[0],y=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&y>0&&(i.selectedcells=new Array);
for(var _=y;h+_>d;){var m=i._hittestrow(l,d);if(m){var g=m.row,v=m.index;if(-1!=v&&!f[v]){f[v]=!0;for(var j=0;j<b.cells.length;j++){var q=parseFloat(e(i.columnsrow[0].cells[j]).css("left"))-w,T=q+e(i.columnsrow[0].cells[j]).width();(u>=q&&T>=u||c>=q&&T>=c||q>=u&&c>=q)&&i._applycellselection(i.getboundindex(g),i._getcolumnat(j).datafield,!0,!1)}}d+=5}else d+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;e>t;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length,t=e-1;t>=0;t--){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length>0,i.disabled)return!1;var r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(r>=33&&40>=r))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(void 0!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0;if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0;if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var s=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var o=String.fromCharCode(r).toLowerCase();if(this.clipboardbegin){var n=null;if("c"==o?n=this.clipboardbegin("copy",this.copyselection()):"x"==o?n=this.clipboardbegin("cut",this.copyselection()):"v"==o&&(n=this.clipboardbegin("paste")),n===!1)return!1}if("c"==o||"x"==o){var a=this.copyselection();if("c"==o&&this.clipboardend&&this.clipboardend("copy"),"x"==o&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",a);else{var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');l.val(a),e("body").append(l),l.select(),setTimeout(function(){document.designMode="off",l.select(),l.remove(),i.focus()},100)}if("c"==o&&e.jqx.browser.msie)return!1;if("c"==o)return!0}else if("v"==o){var d=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(d),d.select();var h=this;return setTimeout(function(){h._clipboardselection=new Array;var e=d.val();if(0==e.length&&window.clipboardData){d.val(window.clipboardData.getData("Text"));var e=d.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("	").length>0){var r=t[i].split("	");if(1==r.length&&i==t.length-1&&""==r[0])continue;r.length>0&&h._clipboardselection.push(r)}h.pasteselection(),d.remove(),h.focus()},100),!0}if("x"==o)return this.deleteselection(),this.host.focus(),!1}var c=Math.round(i._gettableheight()),u=Math.round(c/i.rowsheight),p=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var f=i.getselectedcell();if(null!=f){var m=this.getrowvisibleindex(f.rowindex),g=m,v=f.datafield,x=i._getcolumnindex(v),w=(i.columns.records.length,function(e,r,o,n){var a=function(e,t){var r=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){var a=e;"up"==n&&a++,"down"==n&&a--;for(var r=i.getdisplayrows()[a],l=function(e){return e.group?i.expandedgroups[e.uniqueid]?i.expandedgroups[e.uniqueid].expanded:void 0:!1},d=1,h=!0;h&&300>d&&(h=!1,"down"==n?r=i.getdisplayrows()[a+d]:"up"==n&&(r=i.getdisplayrows()[a-d]),r);){r&&r.group&&(h=!0);for(var c=r.parentItem;c;)c&&!l(c)&&(h=!0),c=c.parentItem;if(!h)break;d++}if(300==d&&(r=null),i.pageable){var u=!1;if(r){for(var p=0;p<i.dataview.rows.length;p++)i.dataview.rows[p].boundindex==r.boundindex&&(u=!0);u||(r=null)}}}if(void 0!=r&&null!=t){(o||void 0==o)&&i.clearselection();var f=i.getboundindex(r);return i.selectcell(f,t),i._oldselectedcell=i.selectedcell,s=!0,i.ensurecellvisible(e,t),!0}return!1};a(e,r)||(i.ensurecellvisible(e,r),a(e,r),i.virtualmode&&i.host.focus());var l=i.groupable&&i.groups.length>0;if(!l)if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,r);var d=i.dataview.loadedrecords[e],h=i.getboundindex(d);return void(i.selectedcell={rowindex:h,datafield:r})}}else t.shiftKey||(i._lastClickedCell={row:e,column:r})}),b=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,y=function(){w(0,v,!b)},_=function(){var e=p.rowscount-1;w(e,v,!b)},j=9==r&&!t.shiftKey,q=9==r&&t.shiftKey;if(i.rtl){var T=j;j=q,q=T}if((j||q)&&(b=!1),(j||q)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;var C=t.ctrlKey||t.metaKey;if(C&&37==r){var k=i._getfirstvisiblecolumn(x);null!=k&&w(g,k.datafield)}else if(C&&39==r){var S=i._getlastvisiblecolumn(x);null!=S&&w(g,S.datafield)}else if(39==r||j){var D=i._getnextvisiblecolumn(x);if(null!=D)w(g,D.datafield,!b);else if(j){var I=i._getfirstvisiblecolumn();r=40,v=I.displayfield}else s=!0}else if(37==r||q){var k=i._getprevvisiblecolumn(x);if(null!=k)w(g,k.datafield,!b);else if(q){var P=i._getlastvisiblecolumn();r=38,v=P.displayfield}else s=!0}else if(36==r)y();else if(35==r)_();else if(33==r)if(g-u>=0){var A=g-u;w(A,v,!b)}else y();else if(34==r)if(p.rowscount>g+u){var A=g+u;w(A,v,!b)}else _();38==r&&(C?y():g>0?w(g-1,v,!b,"up"):s=!0),40==r&&(C?_():p.rowscount>g+1||i.groupable&&i.groups.length>0?w(g+1,v,!b,"down"):s=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var g=i.getselectedrowindex();if(null==g||-1==g)return!0;g=this.getrowvisibleindex(g);var B=function(e,o,n){var a=function(e){var t=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){"up"==n&&e++,"down"==n&&e--;for(var t=i.getdisplayrows()[e],r=function(e){return e.group?i.expandedgroups[e.uniqueid]?i.expandedgroups[e.uniqueid].expanded:void 0:!1},a=1,l=!0;l&&300>a&&(l=!1,"down"==n?t=i.getdisplayrows()[e+a]:"up"==n&&(t=i.getdisplayrows()[e-a]),t);){t&&t.group&&(l=!0);for(var d=t.parentItem;d;)d&&!r(d)&&(l=!0),d=d.parentItem;if(!l)break;a++}if(300==a&&(t=null),i.pageable){var h=!1;if(t){for(var c=0;c<i.dataview.rows.length;c++)i.dataview.rows[c].boundindex==t.boundindex&&(h=!0);h||(t=null)}}}if(void 0!=t){var u=i.getboundindex(t),p=i.selectedrowindex;(o||void 0==o)&&i.clearselection(),i.selectedrowindex=p,i.selectrow(u,!1);var f=i.ensurerowvisible(e);return(!f||i.autoheight||i.groupable)&&i._rendervisualrows(),s=!0,!0}return!1};a(e)||(i.ensurerowvisible(e),a(e,o),i.virtualmode&&setTimeout(function(){a(e,o)},25),i.virtualmode&&i.host.focus());var l=i.groupable&&i.groups.length>0;if(!l)if(t.shiftKey&&9!=r){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},b=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,y=function(){B(0,!b)},_=function(){var e=p.rowscount-1;B(e,!b)},C=t.ctrlKey||t.metaKey;if(36==r||C&&38==r)y();else if(35==r||C&&40==r)_();else if(33==r)if(g-u>=0){var A=g-u;B(A,!b)}else y();else if(34==r)if(p.rowscount>g+u){var A=g+u;B(A,!b)}else _();else 38==r?g>0?B(g-1,!b,"up"):s=!0:40==r&&(p.rowscount>g+1||i.groupable&&i.groups.length>0?B(g+1,!b,"down"):s=!0)}return s?(i.autosavestate&&i.savestate&&i.savestate(),!1):!0},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var r,s,o,n,a;if(i.enablehover||"multiplerows"==i.selectionmode){r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;var l=this.showtoolbar?this.toolbarheight:0;if(s+=l,o=this.host.coord(),this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var d=this._getBodyOffset();o.left-=d.left,o.top-=d.top}n=t.pageX-o.left,a=t.pageY-r-o.top-s}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var h=this._hittestrow(n,a);if(h){var c=h.row,u=h.index;if((-1==this.hoveredrow||-1==u||this.hoveredrow!=u||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=u&&void 0!=c)){var p=this.hittestinfo[u].visualrow;if(null!=p&&!(this.hittestinfo[u].details||t.clientX>e(p).width()+e(p).coord().left)){var f=0,m=p.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:f=this.groups.length),0!=p.cells.length){var g=p.cells[f].className;if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=g.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=u,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var v=f;m>v;v++){var x=p.cells[v];e(x).addClass(this.toTP("jqx-grid-cell-hover")),e(x).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(x,t.pageX,t.pageY)}else{var w=-1,b=this.hScrollInstance,y=b.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=b.max-b.value);for(var v=f;m>v;v++){var _=parseInt(e(this.columnsrow[0].cells[v]).css("left"))-y;this.columns.records[v].pinned&&!this.rtl&&(_=parseInt(e(this.columnsrow[0].cells[v]).css("left")));var j=_+e(this.columnsrow[0].cells[v]).width();if(j>=n&&n>=_){w=v;break}}if(-1!=w){var x=p.cells[w];if(this.cellhover&&this.cellhover(x,t.pageX,t.pageY),-1==x.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var q=this._getcolumnat(w);if(q&&this.editcell.row==u&&this.editcell.column==q.datafield)return}e(x).addClass(this.toTP("jqx-grid-cell-hover")),e(x).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all");var r=this.that,s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records)),i=void 0==i?0:parseInt(i);var o=s.length;if(void 0==o&&void 0!=s){var n=new Array;e.each(s,function(e){n.push(this)}),s=n,o=s.length}var a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var l=[],d=[],h=[],c=[],u=r.host.width();"hidden"!=r.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),0>u&&(u=0);for(var p=0;o>p;p++)for(var f=s[p],m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(!(g.hidden||this.groups.length>0&&m<=this.groups.length-1)){void 0==d[g.displayfield]&&(d[g.displayfield]=0),void 0==h[g.displayfield]&&(h[g.displayfield]="");var v=f[g.displayfield];if(""!=g.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(v)?v=e.jqx.dataFormat.formatdate(v,g.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(v)&&(v=e.jqx.dataFormat.formatnumber(v,g.cellsformat,this.gridlocalization)));else if(g.cellsrenderer){var x=r._defaultcellsrenderer(v,g),w=g.cellsrenderer(p,g.datafield,v,x,g.getcolumnproperties(),f);void 0!=w&&(v=e(w).text())}if((void 0==t||"cells"==t||"all"==t)&&null!=v){var l=v.toString().length,b=v.toString(),y=b.replace(/[^A-Z]/g,"").length;if(l>d[g.displayfield]&&(d[g.displayfield]=l,h[g.displayfield]=v,c[g.displayfield]=y),l>0&&l>=y){var _=20*y+15*(l-y),j=20*c[g.displayfield]+15*(d[g.displayfield]-c[g.displayfield]);_>j&&_>0&&j>0&&(d[g.displayfield]=l,h[g.displayfield]=v,c[g.displayfield]=y)}}if("column"==t||"all"==t){if(g.text.toString().length>d[g.displayfield]){h[g.displayfield]=g.text,d[g.displayfield]=g.text.length;var b=g.text.toString(),y=b.replace(/[^A-Z]/g,"").length;c[g.displayfield]=y}var v=g.text,l=v.toString().length,b=v.toString(),y=b.replace(/[^A-Z]/g,"").length;if(l>0&&l>=y){var _=20*y+15*(l-y),j=20*c[g.displayfield]+15*(d[g.displayfield]-c[g.displayfield]);_>j&&_>0&&j>0&&(d[g.displayfield]=l,h[g.displayfield]=v,c[g.displayfield]=y)}}}}if(this.columns.records){for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(g.displayfield){void 0==h[g.displayfield]&&(h[g.displayfield]=g.text),a[0].className.indexOf("jqx-grid-column-header")>=0&&a.removeClass(this.toThemeProperty("jqx-grid-column-header")),h[g.displayfield]==g.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header")),a[0].innerHTML=h[g.displayfield].toString();var q=a.outerWidth()+10;if(a.children().length>0&&(q=a.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(q+=10),this.filterable&&this.showfilterrow&&(q+=5),q+=i,q>g.maxwidth&&(q=g.maxwidth),void 0!=g._width&&(g.__width=g._width),g._width=null,"auto"==g.maxwidth||q<=g.maxwidth){var T=g.width;q<g.minwidth&&(q=g.minwidth),g.width=q,void 0!=g._percentagewidth&&(g._percentagewidth=null),this._raiseEvent(14,{columntext:g.text,column:g.getcolumnproperties(),datafield:g.datafield,displayfield:g.displayfield,oldwidth:T,newwidth:q})}}}a.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];void 0!=g.__width&&(g._width=g.__width)}}},autoresizecolumn:function(t,i,r){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),void 0==t)return!1;var s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records));var o=this.getcolumn(t);if(void 0==o)return!1;r=void 0==r?0:parseInt(r);var n=s.length,a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var l=0,d="",h=0,c=this.that,u=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),0>u&&(u=0),void 0==i||"cells"==i||"all"==i)for(var p=0;n>p;p++){var f=s[p][o.displayfield];if(""!=o.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(f)?f=e.jqx.dataFormat.formatdate(f,o.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(f)&&(f=e.jqx.dataFormat.formatnumber(f,o.cellsformat,this.gridlocalization)));else if(o.cellsrenderer){var m=o.cellsrenderer(p,o,f);void 0!=m&&(f=e(m).text())}if(null!=f){var g=f.toString().length,v=f.toString(),x=v.replace(/[^A-Z]/g,"").length;if(g>l&&(l=g,d=f,h=x),g>0&&g>=x){var w=20*x+15*(g-x),b=20*h+15*(l-h);w>b&&w>0&&b>0&&(l=g,d=f,h=x)}}}if("column"==i||"all"==i){o.text.toString().length>l&&(d=o.text);var f=o.text.toString(),g=f.toString().length,v=f.toString(),x=v.replace(/[^A-Z]/g,"").length;if(g>0&&g>=x){var w=20*x+15*(g-x),b=20*h+15*(l-h);w>b&&w>0&&b>0&&(l=g,d=f,h=x)}}void 0==d&&(d=o.text),a[0].innerHTML=d,d==o.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header"));var y=a.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=5),this.filterable&&this.showfilterrow&&(y+=5),y+=r,a.remove(),y>o.maxwidth&&(y=o.maxwidth),"auto"==o.maxwidth||y<=o.maxwidth){var _=o.width;y<o.minwidth&&(y=o.minwidth),o.width=y,void 0!=o._width&&(o.__width=o._width),o._width=null,void 0!=o._percentagewidth&&(o._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:o.text,column:o.getcolumnproperties(),datafield:t,displayfield:o.displayfield,oldwidth:_,newwidth:y}),this._renderrows(this.virtualsizeinfo),void 0!=o._width&&(o._width=o.__width)}},_handlecolumnsresize:function(){var t=this.that;if(this.columnsresize){var i=!1;t.isTouchDevice()&&t.touchmode!==!0&&(i=!0);var r="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,o="mouseup.resize"+this.element.id;if(i)var r=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){var s=e.data(document.body,"contextmenu"+t.element.id);if(null!=s&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){var o=(t.resizablecolumn.columnelement,t.host.coord()),n=parseInt(t.resizestartline.coord().left),a=n-t._startcolumnwidth,l=t.resizablecolumn.column.minwidth;l="auto"==l?0:parseInt(l);var d=t.resizablecolumn.column.maxwidth;d="auto"==d?0:parseInt(d);var h=r.pageX;if(i){var c=t.getTouches(r),u=c[0];h=u.pageX}a+=l;var p=d>0?n+d:0,f=0==d?!0:t._startcolumnwidth+h-n<d;if(t.rtl)var f=!0;if(f)if(t.rtl){if(h>=o.left&&h<=o.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=o.left&&h>=a&&(0!=p&&r.pageX<p?t.resizeline.css("left",h):0==p&&t.resizeline.css("left",h),i))return!1}return i||null==t.resizablecolumn?void 0:!1}),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(i){var r=e.data(document.body,"contextmenu"+t.element.id);if(null!=r&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);if(t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._lastmouseDownResize&&t.columnsautoresize&&t._lastmouseDownResize-t._mouseDownResize<300&&t._lastmouseDownResize-t._mouseDownResize>-500){var o=t.resizablecolumn.column;if(o.resizable){var n=(t.resizablecolumn.column.width,t.hScrollBar[0].style.visibility);return t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t.columndragstarted=!1,t.dragmousedown=null,t.__drag=!1,t.autoresizecolumn(o.displayfield,"all"),n!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t.autosavestate&&t.savestate&&t.savestate(),i.stopPropagation(),t.suspendClick=!0,setTimeout(function(){t.suspendClick=!1},100),!1}}t._lastmouseDownResize=new Date,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var a=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999);var l=function(e){t.rtl?e.css("left",parseInt(a.left)):e.css("left",parseInt(a.left)+t._startcolumnwidth);var i=t._groupsheader(),r=i?t.groupsheader.height():0,s=t.showtoolbar?t.toolbarheight:0;r+=s;var o=t.showstatusbar?t.statusbarheight:0;r+=o;var n=0;t.pageable&&(n=t.pagerheight);var l="visible"==t.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(a.top)),e.css("z-index",99999),t.columngroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-n-r-l-t.columngroupslevel*t.columnsheight):e.height(t.host.height()-n-r-l),t.enableanimations?e.show("fast"):e.show()};l(t.resizeline),l(t.resizestartline),t.dragmousedown=null}});var n=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){t._mouseUpResize=new Date;var i=t._mouseUpResize-t._mouseDownResize;if(200>i)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var r=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(r-=20),0>r&&(r=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),o=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-o;if(t.rtl)var n=t._startcolumnwidth-s+o;var a=t._resizecolumn.width;t._closemenu(),n<t._resizecolumn.minwidth&&(n=t._resizecolumn.minwidth),t._resizecolumn.width=n,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/r*100);for(var l=0;l<t._columns.length;l++)if(t._columns[l].datafield===t._resizecolumn.datafield){t._columns[l].width=t._resizecolumn.width,t._columns[l].width<t._resizecolumn.minwidth&&(t._columns[l].width=t._resizecolumn.minwidth);break}var d=t.hScrollBar[0].style.visibility;t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:a,newwidth:n}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),d!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){n()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(d){}this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){var r=e.data(document.body,"contextmenu"+t.element.id);return null!=r&&t.autoshowcolumnsmenubutton?!0:void n()})}}})}(jqxBaseFramework),function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,r){var s=Object.prototype.toString;if(null==i)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();void 0==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i;var o=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var n=[],a=!1;if("constructor"==o&&(o=""),!this.virtualmode&&null!=this.sortcache[o]){var l=this.sortcache[o];n=l._sortdata,l.direction==i?n.reverse():(!l.direction&&i&&n.reverse(),a=!0),n.length<this.totalrecords&&(this.sortcache={},a=!1,n=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var d=this.records,h=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){return this.name==t?(this.type&&(h=this.type),!1):void 0}),0==n.length)if(d.length)for(var c=d.length,u=0;c>u;u++){var p=d[u];if(null!=p){var f=p,m=f.toString();n.push({sortkey:m,value:f,index:u})}}else{var g=!1;for(obj in d){var p=d[obj];if(void 0==p){g=!0;break}var f=p;n.push({sortkey:f.toString(),value:f,index:obj})}g&&e.each(d,function(e,t){n.push({sortkey:t.toString(),value:t,index:e})})}if(!a)if(null==r){this._sortcolumntype=h;var v=this;n.sort(function(e,t){return v._compare(e,t,h)})}else n.sort(r);i||n.reverse(),Object.prototype.toString=s,this.sortdata=n,this.sortcache[o]={_sortdata:n,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,r){var t=t.sortkey,i=i.sortkey;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if(this.sortdirection){var r=function(i,r){var s=t.getcolumn(i);s&&(r.ascending?e.jqx.aria(s.element,"aria-sort","ascending"):r.descending?e.jqx.aria(s.element,"aria-sort","descending"):e.jqx.aria(s.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&r(this._oldsortinfo.column,{ascending:!1,descending:!1}),r(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(r,s){var o=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=o&&(o.sortasc.hide(),o.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=o&&(o.sortasc.show(),o.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=o&&(o.sortasc.hide(),o.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,r,s){if(this._loading&&s!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),void 0!=e){var o=this.that;if(void 0==i&&null!=o.source.sortcomparer&&(i=o.source.sortcomparer),"a"==t||"asc"==t||"ascending"==t||1==t?ascending=!0:ascending=!1,null!=t?o.sortdirection={ascending:ascending,descending:!ascending}:o.sortdirection={ascending:!1,descending:!1},null!=t?o.sortcolumn=e:o.sortcolumn=null,o.source.sort||o.virtualmode){if(o.dataview.sortfield=e,null==t?o.dataview.sortfielddirection="":o.dataview.sortfielddirection=ascending?"asc":"desc",o.source.sort&&!this._loading)return o.source.sort(e,t),void o._raiseEvent(6,{sortinformation:o.getsortinformation()})}else o.dataview.sortby(e,t,i);if(r===!1)return;o.groupable&&o.groups.length>0?(o._render(!0,!1,!1),o._updategroupheadersbounds&&o.showgroupsheader&&o._updategroupheadersbounds(),o._postrender("sort")):(o.pageable&&o.dataview.updateview(),o._updaterowsproperties(),o.rendergridcontent(!0),o._postrender("sort")),o._raiseEvent(6,{sortinformation:o.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),r=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(r=i.sortdirection.ascending,r=t.sorttogglestates>1?1==r?!1:null:!r):r=!0,t.sortby(e.displayfield,r,null)}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,r=0,s=this;if(this.filterrow){for(var o=0;i>o;o++){var n=this.columns.records[o],a=n.width;a<n.minwidth&&(a=n.minwidth),a>n.maxwidth&&(a=n.maxwidth);var l=e(this.filterrow[0].cells[o]);l.css("left",r);var d=!0;if(l.width()==a&&(d=!1),t&&(d=!0),l.width(a),l[0].left=r,n.hidden&&n.hideable?l.css("display","none"):r+=a,d)if(n.createfilterwidget&&"custom"==n.filtertype)n.createfilterwidget(n,l);else if(n.filterable){var h=function(t,i){var r=e(i.children()[0]);r.width(a-10),r.attr("disabled",t.disabled)};switch(n.filtertype){case"number":case"input":e(l.children()[0]).width(a),l.find("input").width(a-30),l.find("input").attr("disabled",s.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:s.theme,disabled:s.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:s.theme,disabled:s.disabled,width:a-10}):h(this,l);break;case"textbox":case"default":h(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:s.theme,disabled:s.disabled,width:a-10}):h(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:s.theme,disabled:s.disabled}):h(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(r)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,r=0;i>r;r++){var s=this.columns.records[r],o=e(this.filterrow[0].cells[r]);if(("string"!=typeof t||s.displayfield==t)&&s.filterable){var n=function(t,i){var r=e(i.children()[0]);r.val(""),r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(s.filtertype){case"number":case"input":if(o.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(o).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){var d=(this._getfiltersbytype("number"==s.filtertype?"number":"string"),new e.jqx.filter),h=d.getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter");null!=s.filtercondition?(l=h.indexOf(s.filtercondition.toUpperCase()),-1==l&&(l="number"==s.filtertype?0:2)):l="number"==s.filtertype?0:2}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(o.children()[0]).jqxDateTimeInput("setDate",null):n(this,o);break;case"textbox":case"default":n(this,o);break;case"list":this.host.jqxDropDownList?e(o.children()[0]).jqxDropDownList("clearSelection"):n(this,o);break;case"checkedlist":this.host.jqxDropDownList?e(o.children()[0]).jqxDropDownList("checkAll",!1):n(this,o);break;case"bool":case"boolean":this.host.jqxCheckBox?e(o.children()[0]).jqxCheckBox({checked:null}):n(this,o)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,r=0;t>r;r++){var s=new e.jqx.filter,o=this.columns.records[r];if(o.filterable&&null!==o.datafield){var n=i._getcolumntypebydatafield(o),a=i._getfiltertype(n),l=1,d=!0,h=(o.filtertype,function(e,t,r){var s=!0;if(e._filterwidget){var o=e._filterwidget.val();if(""!=o){var n="equal";if("stringfilter"==t)var n="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&o.indexOf(i.gridlocalization.decimalseparator)>=0&&(o=o.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=o.indexOf(">")&&(n="greater_than",a=1),-1!=o.indexOf("<")&&(n="less_than",a=1),-1!=o.indexOf("=")&&("greater_than"==n?(n="greater_than_or_equal",
a=2):"less_than"==n?(n="less_than_or_equal",a=2):(n="equal",a=1)),0!=a&&(o=o.substring(a),o.length<1))return!1}if(void 0!=e.filtercondition&&(n=e.filtercondition),"datefilter"==t)var d=r.createfilter(t,o,n,null,e.cellsformat,i.gridlocalization);else var d=r.createfilter(t,o,n);r.addfilter(l,d)}else s=!1}return s});switch(o.filtertype){case"range":case"date":if(o._filterwidget.jqxDateTimeInput)if("range"==o.filtertype){var c=o._filterwidget.jqxDateTimeInput("getRange");if(null!=c&&null!=c.from&&null!=c.to){var u="GREATER_THAN_OR_EQUAL",p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.from.getFullYear(),c.from.getMonth(),c.from.getDate());var f=new Date(0);f.setHours(0),f.setMinutes(0),f.setFullYear(c.to.getFullYear(),c.to.getMonth(),c.to.getDate()),f.setHours(c.to.getHours()),f.setMinutes(c.to.getMinutes()),f.setSeconds(c.to.getSeconds());var m=s.createfilter(a,p,u);s.addfilter(0,m);var g="LESS_THAN_OR_EQUAL",v=s.createfilter(a,f,g);s.addfilter(0,v)}else d=!1}else{var c=o._filterwidget.jqxDateTimeInput("getDate");if(null!=c){var p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());var u="EQUAL";void 0!=o.filtercondition&&(u=o.filtercondition);var m=s.createfilter(a,p,u);s.addfilter(0,m)}else d=!1}else d=h(o,a,s);break;case"input":if(o._filterwidget){var c=o._filterwidget.find("input").val(),x=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),w=s.getoperatorsbyfiltertype(a)[x];if(i.updatefilterconditions){var b=i.updatefilterconditions(a,s.getoperatorsbyfiltertype(a));void 0!=b&&s.setoperatorsbyfiltertype(a,b);var w=s.getoperatorsbyfiltertype(a)[x]}var y="NULL"==w||"NOT_NULL"==w,_="EMPTY"==w||"NOT_EMPTY"==w;void 0!=c&&c.length>0||y||_?(m=s.createfilter(a,c,w,null,o.cellsformat,i.gridlocalization),s.addfilter(0,m)):d=!1}else d=!1;break;case"number":if(o._filterwidget){var c=o._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&c.indexOf(i.gridlocalization.decimalseparator)>=0&&(c=c.replace(i.gridlocalization.decimalseparator,"."));var x=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),w=s.getoperatorsbyfiltertype(a)[x];if(i.updatefilterconditions){var b=i.updatefilterconditions(a,s.getoperatorsbyfiltertype(a));void 0!=b&&s.setoperatorsbyfiltertype(a,b);var w=s.getoperatorsbyfiltertype(a)[x]}var y="NULL"==w||"NOT_NULL"==w,_="EMPTY"==w||"NOT_EMPTY"==w;void 0!=c&&c.length>0||y||_?(m=s.createfilter(a,new Number(c),w,null,o.cellsformat,i.gridlocalization),s.addfilter(0,m)):d=!1}else d=!1;break;case"textbox":case"default":d=h(o,a,s);break;case"bool":case"boolean":if(o._filterwidget.jqxCheckBox){var c=o._filterwidget.jqxCheckBox("checked");if(null!=c){var u="equal",j=s.createfilter(a,c,u);s.addfilter(l,j)}else d=!1}else d=h(o,a,s);break;case"list":var q=o._filterwidget.jqxDropDownList("listBox");if(q.selectedIndex>0){var T=q.getItem(q.selectedIndex),c=T.label,C=T.value,u="equal";""===c&&(u="NULL");var j=s.createfilter(a,c,u);s.addfilter(l,j),C!==c&&(j.data=C)}else d=!1;break;case"checkedlist":if(o._filterwidget.jqxDropDownList){var q=o._filterwidget.jqxDropDownList("listBox"),k=q.getCheckedItems();if(0==k.length){for(var S=1;S<q.items.length;S++){var c=q.items[S].label,C=q.items[S].value,u="not_equal";""===c&&(u="NULL");var j=s.createfilter(a,c,u);C!==c&&(j.data=C),s.addfilter(0,j)}d=!0}else if(k.length!=q.items.length)for(var S=0;S<k.length;S++){var c=k[S].label,C=k[S].value,u="equal";""===c&&(u="NULL");var j=s.createfilter(a,c,u);C!==c&&(j.data=C),s.addfilter(l,j)}else d=!1}else d=h(o,a,s)}this._loading||(d?this.addfilter(o.displayfield,s,!1):this.removefilter(o.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),s+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var o=r+10,n=new Array,a=this.that;this.filterrow[0].cells=n,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,d=new Array,h=document.createDocumentFragment(),c=0;r>c;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var f=document.createElement("div");f.style.overflow="hidden",f.style.position="absolute",f.style.height="100%",f.className=s,f=e(f),h.appendChild(f[0]),f[0].style.left=i+"px",this.rtl?(f.css("z-index",o++),f.css("border-left-width","1px")):f.css("z-index",o--),"auto"==p&&(p=0),f[0].style.width=parseFloat(p)+"px",f[0].left=i,u.hidden&&u.hideable?f.css("display","none"):i+=p,n[n.length]=f[0];var m=!0;if(this.rtl){if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g+c>r-1&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==r-1&&(m=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g>c&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(m=!1)}if(m)if("custom"==u.filtertype&&u.createfilterwidget){var v=function(){a._applyfilterfromfilterrow()};u.createfilterwidget(u,f,v)}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,f.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,f,p),d[u.datafield]=u._filterwidget))}t[0].appendChild(h),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseFloat(i)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var s=this.that,o="",n="",a=0;a<s.dataview.filters.length;a++){var l=s.dataview.filters[a];if(l.datafield&&l.datafield==t.datafield){var a=l.filter.getfilters()[0];o=a.value,n=a.condition,t.filtercondition=n;break}}var d=function(i,s){var n=e('<input autocomplete="off" type="textarea"/>');n[0].id=e.jqx.utilities.createId(),n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-input")),n.addClass(i.toThemeProperty("jqx-rc-all")),n.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&n.css("direction","rtl"),i.disabled&&n.attr("disabled",!0),n.attr("disabled",!1),n.appendTo(s),n.width(r-10),n.height(i.filterrowheight-10),n.css("margin","4px"),n.css("box-sizing","border-box"),t.createfilterwidget&&t.createfilterwidget(t,s,n),t._filterwidget=n,n.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=n,n.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),n.blur(function(){n.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),n.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),n[0]._writeTimer&&clearTimeout(n[0]._writeTimer),n[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+n[0].id]||(i["_oldWriteText"+n[0].id]=""),i["_oldWriteText"+n[0].id].length>0&&i["_oldWriteText"+n[0].id]!=n.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+n[0].id]=n.val()):0==i["_oldWriteText"+n[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+n[0].id]=n.val()))},t.filterdelay),i.focusedfilter=n}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),n.val(o)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var h=e("<div></div>");h.width(i.width()),h.height(this.filterrowheight),i.append(h);var r=i.width()-21,c=function(i,r,n){var a=e('<input style="float: left;" autocomplete="off" type="textarea"/>');return s.rtl&&(a.css("float","right"),a.css("direction","rtl")),a[0].id=e.jqx.utilities.createId(),a.addClass(s.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),a.appendTo(i),a.width(r-16),s.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.height(s.filterrowheight-10),a.css("margin","4px"),a.css("margin-right","2px"),a.focus(function(){s.focusedfilter=a,a.addClass(s.toThemeProperty("jqx-fill-state-focus"))}),a.blur(function(){a.removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),a.keydown(function(e){"13"==e.keyCode&&s._applyfilterfromfilterrow(),a[0]._writeTimer&&clearTimeout(a[0]._writeTimer),a[0]._writeTimer=setTimeout(function(){s._loading||s["_oldWriteText"+a[0].id]!=a.val()&&(s._applyfilterfromfilterrow(),s["_oldWriteText"+a[0].id]=a.val())},t.filterdelay),s.focusedfilter=a}),a.val(o),a};c(h,r);var u=s._getfiltersbytype("number"==t.filtertype?"number":"string"),p=e("<div class='filter' style='float: left;'></div>");p.css("margin-top","4px"),p.appendTo(h),s.rtl&&p.css("float","right");var f=0;if(null!=t.filtercondition){var a=new e.jqx.filter,m=a.getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter"),g=m.indexOf(t.filtercondition.toUpperCase());-1!=g&&(f=g)}var v=180;if("input"==t.filtertype&&(v=240,0==f)){var g=u.indexOf("contains")||2;-1!=g&&null==t.filtercondition&&(f=g)}p.jqxDropDownList({disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:f,width:18,height:21,dropDownHeight:150,dropDownWidth:v,source:u,theme:s.theme}),p.jqxDropDownList({selectionRenderer:function(e){return""}}),p.jqxDropDownList("setContent",""),p.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,h),t._filterwidget=h;var x=null;this.addHandler(p,"select",function(){var e=p.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!s.refreshingfilter&&s._applyfilterfromfilterrow(),"input"!=t.filtertype||s.refreshingfilter?0!=t._filterwidget.find("input").val().length||s.refreshingfilter||"null"!=x&&"not null"!=x&&"null"!=e&&"not null"!=e||s._applyfilterfromfilterrow():s._applyfilterfromfilterrow(),x=e});break;case"textbox":case"default":default:d(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var w=e("<div></div>");w.css("margin","4px"),w.appendTo(i);var b={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};w.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:s.disabled,localization:b,rtl:s.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,w),o&&o.toString().length>1&&w.val(o),t._filterwidget=w,this.addHandler(w,"valueChanged",function(e){s.refreshingfilter||(s._applyfilterfromfilterrow(),s.focusedfilter=null)})}else d(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var y=this._getfilterdataadapter(t),_=!1,p=e("<div></div>");p.css("margin","4px");var j=t.datafield,q="checkedlist"==t.filtertype,v=150>r?220:"auto";y.dataBind();var T=y.records,C=T.length<8;_=C,p.appendTo(i),p.jqxDropDownList({placeHolder:s.gridlocalization.filterchoosestring,disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,checkboxes:q,dropDownWidth:v,source:y.records,autoDropDownHeight:C,theme:this.theme,width:r-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:j}),t.createfilterwidget&&t.createfilterwidget(t,i,p);var k=p.jqxDropDownList("listBox");if(q){p.jqxDropDownList({selectionRenderer:function(){var e='<span class="'+s.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>";return e}});var S=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>");if(S.addClass(this.toThemeProperty("jqx-item")),void 0!=k){_||k.host.height(200),k.insertAt(s.gridlocalization.filterselectallstring,0),p.jqxDropDownList("setContent",S);var D=!0;new Array;k.checkAll(!1),s.addHandler(k.host,"checkChange",function(e){if(p[0]._selectionChanged=!0,D)if(e.args.label!=s.gridlocalization.filterselectallstring){D=!1,k.host.jqxListBox("checkIndex",0,!0,!1);var t=k.host.jqxListBox("getCheckedItems"),i=k.host.jqxListBox("getItems");1==t.length?k.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&k.host.jqxListBox("indeterminateIndex",0,!0,!1),D=!0}else D=!1,e.args.checked?k.host.jqxListBox("checkAll",!1):k.host.jqxListBox("uncheckAll",!1),D=!0})}}else k.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),p.jqxDropDownList({selectedIndex:0});t._filterwidget=p;p.jqxDropDownList("dropdownlistWrapper");"list"==t.filtertype?this.addHandler(p,"select",function(e){s.refreshingfilter||e.args&&"none"!=e.args.type&&(s._applyfilterfromfilterrow(),s.focusedfilter=null)}):this.addHandler(p,"close",function(e){p[0]._selectionChanged&&(s._applyfilterfromfilterrow(),s.focusedfilter=null,p[0]._selectionChanged=!1)})}else d(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');I.appendTo(i),I.jqxCheckBox({disabled:s.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,I),o===!0||"true"==o?I.jqxCheckBox({checked:!0}):o!==!1&&"false"!=o||I.jqxCheckBox({checked:!1}),t._filterwidget=I,this.addHandler(I,"change",function(e){s.refreshingfilter||e.args&&(s.focusedfilter=null,s._applyfilterfromfilterrow())})}else d(this,i)}},_getfilterdataadapter:function(t){var i=!!this.source._source;if(i){var r={localdata:this.source.records,datatype:this.source.datatype,async:!1},s=this;dataadapter=new e.jqx.dataAdapter(r,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var r=s._getcolumntypebydatafield(t),o=0;o<e.length;o++){i.push(e[o]);var n=e[o][t.displayfield];e[o][t.displayfield+"JQValue"]=n,"date"===r?null!=n?e[o][t.displayfield]=dataadapter.formatDate(n,t.cellsformat,s.gridlocalization):e[o][t.displayfield]="":"number"!==r&&"float"!==r&&"int"!==r||(null!=n?e[o][t.displayfield]=dataadapter.formatNumber(n,t.cellsformat,s.gridlocalization):e[o][t.displayfield]="")}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){var r={localdata:t.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new e.jqx.dataAdapter(r,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,r=0;i>r;r++){var s=this.columns.records[r];if(s.filterable&&s.filter){var o=s.filter.getfilters();if(o.length>0){var n=o[0].value,a=s._filterwidget,l=s._filterwidget.parent();if(null!=a)switch(s.filtertype){case"number":if(l.find("input").val(n),this.host.jqxDropDownList){var d=s.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition))}break;case"input":if(l.find("input").val(n),this.host.jqxDropDownList){var d=s.filter.getoperatorsbyfiltertype("stringfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var n=s.filter.getfilterat(0).filtervalue;if(void 0!=n){if(s.filter.getfilterat(1))var h=s.filter.getfilterat(1).filtervalue;else h=n;"range"==s.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(n),new Date(h)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(n))}}else a.val(n);break;case"textbox":case"default":a.val(n),t["_oldWriteText"+a[0].id]=n;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:n}):a.val(n)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var t=(this.that,this.columns.records.length),i=0;t>i;i++){var r=this.columns.records[i];if(r.filterable){var s=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(s,"select"),this.removeHandler(s,"close"),s.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(s,"valueChanged"),s.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(s,"change"),s.jqxCheckBox("destroy");else if("number"==r.filtertype){var o=s.find(".jqx-input");this.removeHandler(o,"keydown");var n=e(s.children()[1]);n.jqxDropDownList("destroy")}else this.removeHandler(s,"keydown");s.remove()}}},_updatelistfilters:function(t,i){for(var r=this.that,s=this.columns.records.length,o=0;s>o;o++){var n=this.columns.records[o];if(n.filterable&&("list"==n.filtertype||"checkedlist"==n.filtertype)){var a=n._filterwidget;if(t){var l=this._getfilterdataadapter(n);a.jqxDropDownList({source:l});var d=a.jqxDropDownList("getItems"),h=!0;if(d.length!=l.records.length+1&&(h=!1),h)for(var c=1;c<d.length;c++)if(d[c].label!=l.records[c-1][n.displayfield]){h=!1;break}if(h&&!i)continue}else if(void 0==n.filter){a.jqxDropDownList("renderSelection");continue}var u="checkedlist"==n.filtertype,d=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),u){a.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),p.insertAt(this.gridlocalization.filterselectallstring,0);var f=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(f.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",f),p.checkAll(!1),n.filter){for(var m=n.filter.getfilters(),c=0;c<p.items.length;c++){var g=p.items[c].label,v=void 0;e.each(m,function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=void 0==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(c,!1,!1):p.uncheckIndex(c,!1,!1)}p._updateCheckedItems();var x=p.getCheckedItems().length;p.items.length!=x&&x>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),n.filter){for(var m=n.filter.getfilters(),w=-1,c=0;c<p.items.length;c++){var g=p.items[c].label;e.each(m,function(){return"NOT_EQUAL"==this.condition?!0:g==this.value?(w=c,!1):void 0})}-1!=w&&p.selectIndex(w)}d.length<8?a.jqxDropDownList("autoDropDownHeight",!0):a.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,r){var s=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),s=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),s=!0),"right"!=this.align||this.renderer||this.element&&(s?this.element.firstChild.firstChild.style.marginRight="18px":this.element.firstChild.firstChild.style.marginRight="2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(!r.datatype){var s="";e.each(t,function(){return this.name==r.displayfield?(this.type&&(s=this.type),!1):void 0}),""!=s?r.datatype=s:r.datatype=""}}}},_getcolumntypebydatafield:function(t){var i=this.that,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var o="";if(e.each(s,function(){return this.name==t.displayfield?(this.type&&(o=this.type),!1):void 0}),o)return o}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var n=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return n=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(n=this.dataview.cachedrecords[0][t.displayfield],null!=n&&""==n.toString())return"string"}if(null!=n)if("boolean"==typeof n)r="boolean";else if(e.jqx.dataFormat.isNumber(n))r="number";else{var a=new Date(n);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(a=e.jqx.dataFormat.tryparsedate(n),null!=a){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(n);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var s=e(i).find(".filter1"),o=e(i).find(".filter2"),n=e(i).find(".filter3"),a=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=a.val(),h=l.val(),c=t._getcolumntypebydatafield(r),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var f=s.jqxDropDownList("selectedIndex"),m=o.jqxDropDownList("selectedIndex"),g=n.jqxDropDownList("selectedIndex"),v=null,x=null;if(t.updatefilterconditions){var w=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));void 0!=w&&u.setoperatorsbyfiltertype(p,w)}var b=!1,y=u.getoperatorsbyfiltertype(p)[f],n=u.getoperatorsbyfiltertype(p)[g],_="NULL"==y||"NOT_NULL"==y,j="EMPTY"==y||"NOT_EMPTY"==y;void 0==y&&(y=u.getoperatorsbyfiltertype(p)[0]),void 0==n&&(n=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||j)&&(v=u.createfilter(p,d,y,null,r.cellsformat,t.gridlocalization),u.addfilter(m,v),b=!0);var q="NULL"==n||"NOT_NULL"==n,T="EMPTY"==n||"NOT_EMPTY"==n;if((h.length>0||q||T)&&(x=u.createfilter(p,h,n,null,r.cellsformat,t.gridlocalization),u.addfilter(m,x),b=!0),b){var C=r.displayfield;this.addfilter(C,u,!0)}else this._clearfilter(t,i,r)}else if("excel"===t.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var k=!1,S=s.data().jqxListBox.instance,D="excel"===this.filtermode||"checkedlist"===r.filtertype,I=S.getCheckedItems();if(!D)var I=S.getSelectedItems();if(0==I.length){for(var P=1;P<S.items.length;P++){var A=S.items[P].value;void 0===A&&(A="");var B="not_equal";if(A&&A.indexOf&&(A.indexOf("|")>=0||A.indexOf(" AND ")>=0||A.indexOf(" OR ")>=0||A.indexOf(" and ")>=0||A.indexOf(" or ")>=0)){A=A.replace("|",""),A=A.replace("AND",""),A=A.replace("OR",""),A=A.replace("and",""),A=A.replace("or","");var B="equal"}if("datefilter"==p)var M=u.createfilter(p,A,B,null,r.cellsformat,t.gridlocalization);else var M=u.createfilter(p,A,B,null);u.addfilter(0,M)}k=!0}else if(I.length!=S.items.length){k=!0;for(var P=0;P<I.length;P++)if(t.gridlocalization.filterselectallstring!==I[P].value){var A=I[P].value;void 0===A&&(A="");var B="equal";if("datefilter"==p)var M=u.createfilter(p,A,B,null,r.cellsformat,t.gridlocalization);else var M=u.createfilter(p,A,B,null);var H=1;u.addfilter(H,M)}}else k=!1;if(k){var C=r.displayfield;this.addfilter(C,u,!0)}else{var C=r.displayfield;this.removefilter(C,!0)}}},_clearfilter:function(e,t,i){var r=i.displayfield;this.removefilter(r,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),s=this._getcolumn(e);void 0!=r&&null!=r&&(r.filter=t,s.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&t===!1||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==t||t!==!1;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!r)})}t!==!1&&(1!=t&&t===!1||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),r=e(e.find("#filter1"+this.element.id)),s=e(e.find("#filter2"+this.element.id)),o=e(e.find("#filter3"+this.element.id)),n=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));n.length>0&&a.length>0&&(n.removeClass(),a.removeClass(),n.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy");var r=e(e.find("#filter1"+this.element.id+"ex")),s=e(e.find("#filter2"+this.element.id+"ex")),o=e(e.find("#filter3"+this.element.id+"ex"));r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){null!=t&&void 0!=t||(t=this);var s=t._getcolumntypebydatafield(r),o=t._getfiltersbytype(s);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),e(i).children().detach();var n=e(t.menuitemsarray[6]);if(e(n).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var a=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(a),r.createfilterpanel(r.displayfield,a),r.filterpanel=a}"list"===r.filtertype||"checkedlist"===r.filtertype?e(i).append(t.excelfilterpanel):"custom"!==r.filtertype?e(i).append(t.filterpanel):r.filterpanel&&e(i).append(r.filterpanel);var l=e(i),d=l.find("#filterclearbutton"+t.element.id),h=l.find("#filterbutton"+t.element.id),c=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var g=f.parent(),v=m.parent();if(g.children().remove(),v.children().remove(),"date"==r.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var x=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.append(x);var w=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:23,value:null,formatString:r.cellsformat,theme:t.theme})};w(x);var x=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");v.append(x),w(x)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var x=e("<input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");g.append(x);var w=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-21)};w(x);var x=e("<input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");v.append(x),w(x)}var f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id)}if("date"!=r.filtertype?(f.val(""),m.val("")):(f.val(null),m.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._buildfilter(t,i,r),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,r),t._closemenu()}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,r),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,r),t._closemenu())}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){
if(c.jqxDropDownList("source")!=o&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o})),"boolean"==s||"bool"==s)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var b=!1;o&&o.length&&o.length<5&&(b=!0),c.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var y=r.filter,_=new e.jqx.filter,j="";switch(s){case"number":case"int":case"float":case"decimal":j="numericfilter",q=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":j="booleanfilter",q=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":j="datefilter",q=_.getoperatorsbyfiltertype("datefilter");break;case"string":j="stringfilter",q=_.getoperatorsbyfiltertype("stringfilter")}if(null!=y){var g=y.getfilterat(0),v=y.getfilterat(1);y.getoperatorat(0);if(t.updatefilterconditions){var q=[],T=t.updatefilterconditions(j,q);if(void 0!=T){for(var C=0;C<T.length;C++)T[C]=T[C].toUpperCase();y.setoperatorsbyfiltertype(j,T),q=T}}var k="default";if(null!=g){var S=q.indexOf(g.comparisonoperator),D=g.filtervalue;f.val(D),c.jqxDropDownList({selectedIndex:S,animationType:k})}if(null!=v){var I=q.indexOf(v.comparisonoperator),P=v.filtervalue;m.val(P),p.jqxDropDownList({selectedIndex:I,animationType:k})}void 0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:k}):"and"==y.getoperatorat(0)||0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,f,m,h,d,y,j,q),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(f.focus(),setTimeout(function(){f.focus()},10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var A=t._getfilterdataadapter(r),j=t._getfiltertype(s),B="excel"===this.filtermode||"checkedlist"===r.filtertype;if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),r.cellsformat?c.jqxListBox({checkboxes:B,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:A}):c.jqxListBox({checkboxes:B,displayMember:r.displayfield,valueMember:r.displayfield,source:A}),B){c.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0);var M=c.data().jqxListBox.instance;M.checkAll(!1);if(r.filter){M.uncheckAll(!1);for(var H=r.filter.getfilters(),z=0;z<M.items.length;z++){var E=M.items[z].value;e.each(H,function(){if("NOT_EQUAL"==this.condition){if(E!=this.value)return M.uncheckIndex(z,!1,!1),!1;if(null!=E&&null!=this.value&&E.toString()!=this.value.toString())return M.uncheckIndex(z,!1,!1),!1}else if("EQUAL"==this.condition){if(E==this.value)return M.checkIndex(z,!1,!1),!1;if(null!=E&&null!=this.value&&E.toString()==this.value.toString())return M.checkIndex(z,!1,!1),!1}})}M._updateCheckedItems();var O=M.getCheckedItems().length;M.items.length!=O&&O>0&&M.host.jqxListBox("indeterminateIndex",0,!0,!1),O===M.items.length-1&&M.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var M=c.data().jqxListBox.instance;M.clearSelection();for(var H=r.filter.getfilters(),z=0;z<M.items.length;z++){var E=M.items[z].value;e.each(H,function(){if("NOT_EQUAL"==this.condition){if(E!=this.value)return M.unselectIndex(z,!1,!1),!1}else if("EQUAL"==this.condition&&E==this.value)return M.selectIndex(z,!0,!1),!1})}M._renderItems()}}},_initfilterpanel:function(t,i,r,s,o){null!=t&&void 0!=t||(t=this),i[0].innerHTML="";var n=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(n);var a=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var l=o?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),h=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(r);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=s,this.columns&&this.columns.records){for(var f=0;f<this.columns.records.length;f++)if("date"==this.columns.records[f].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(var f=0;f<this.columns.length;f++)if("date"==this.columns[f].filtertype){this._hasdatefilter=!0;break}var m=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(s-21);var v=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),x=v.find("input");x.addClass(this.toThemeProperty("jqx-input")),x.addClass(this.toThemeProperty("jqx-widget-content")),x.addClass(this.toThemeProperty("jqx-rc-all")),x.width(s-21),t.rtl&&(g.css("direction","rtl"),x.css("direction","rtl"));var w=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),b=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");w.append(b);var y=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");w.append(y),b.jqxButton({height:20,theme:t.theme}),y.jqxButton({height:20,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||o){if("excel"===this.filtermode||o){n.append(a),n.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:s-15,height:130,theme:t.theme});var j=!0;t.addHandler(d,"checkChange",function(e){if(j)if(e.args.label!=t.gridlocalization.filterselectallstring){j=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),r=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),j=!0}else j=!1,e.args.checked?d.jqxListBox("checkAll",!1):d.jqxListBox("uncheckAll",!1),j=!0})}}else{n.append(a),n.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-15,height:23,dropDownHeight:150,dropDownWidth:s-15,selectionRenderer:_,source:p,theme:t.theme}),n.append(m);var q=new Array;q[0]=t.gridlocalization.filterandconditionstring,q[1]=t.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:q,selectionRenderer:_,theme:t.theme}),n.append(h),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-15,height:23,dropDownHeight:150,dropDownWidth:s-15,selectionRenderer:_,source:p,theme:t.theme}),n.append(c),n.append(v)}n.append(w),t.updatefilterpanel&&t.updatefilterpanel(d,c,h,m,v,b,y,null,null,p)}})}(jqxBaseFramework),function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,r,s,o,n,a,l,d){for(var h=t,c=this,u=new Array,p=0;p<c.groups.length;p++)u[p]=c.generatekey();var f=new Array,m=0,u=u,g=new Array,v=i,x=i,w=c.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var b=null!=this.sortdata,y=b?this.sortdata:this.records;if(this.pageable){var _=new Array,j=0;y[i]||(e.each(y,function(e,t){_[i+e++]=this}),y=_)}if(this.virtualmode){for(var _=new Array,j=0,v=0;r-i>v;v++)y[v]?_[i+j++]=y[v]:y[i+j]&&(_[i+j]=y[i+j],j++);v=0,y=_}for(var q=i;r>q;q++){var T={};T=b?e.extend({},y[q].value):e.extend({},y[q]),id=T[c.uniqueId],(o>=l||id!=a[o][c.uniqueId]||n&&n[id])&&(d[d.length]=o);for(var C=new Array,k=0,p=0;w>p;p++){var S=c.groups[p],D=T[S];null==D&&(D=""),C[k++]={value:D,hash:u[p]}}if(C.length!=w)break;for(var I=null,P="",A=-1,B=0;B<C.length;B++){A++;var M=C[B].value,H=C[B].hash;if(P=P+"_"+H+"_"+M,void 0==g[P]||null==g[P]){if(null==I)I={group:M,subItems:new Array,subGroups:new Array,level:0},f[m++]=I,I.uniqueid=c.generatekey(),c.loadedgroupsByKey[M]=I;else{var z={group:M,subItems:new Array,subGroups:new Array,parentItem:I,level:I.level+1};c.loadedgroupsByKey[I.uniqueid+"_"+M]=z,z.uniqueid=c.generatekey(),I.subGroups[I.subGroups.length++]=z,I=z}g[P]=I}else I=g[P]}null!=I?(void 0==T.uid&&(T.uid=this.getid(this.source.id,T,v)),b?(T.boundindex=y[q].index,this.recordsbyid["id"+T.uid]=y[q].value):(T.boundindex=v,this.recordsbyid["id"+T.uid]=y[q]),this.bounditems[T.boundindex]=T,this.sortedgroups[v]=T,T.uniqueid=c.generatekey(),T.parentItem=I,T.level=I.level+1,I.subItems[I.subItems.length++]=T):(void 0==T.uid&&(T.uid=this.getid(this.source.id,T,v)),b?(T.boundindex=y[q].index,this.recordsbyid["id"+T.uid]=y[q].value):(T.boundindex=v,this.recordsbyid["id"+T.uid]=y[q]),this.sortedgroups[v]=T,this.bounditems[T.boundindex]=T,T.uniqueid=c.generatekey()),o++,v++,x++}var E=function(e,i,r){for(var s=0;s<i.subItems.length;s++)i.subItems[s].visibleindex=t+r,e.rows[r]=i.subItems[s],e.loadedrecords[r]=i.subItems[s],r++;return r},O=function(e,i,r){var s=function(i){if(1==e.aggregates){var s=i,o={};null!=s&&(o.level=s.level,o.visibleindex=t+r,o.uniqueid=e.generatekey(),e.rows[r]=o,e.loadedrecords[r++]=o,o.totalsrow=!0,i.subItems.length>0?(s=i.subItems[i.subItems.length-1],o.parentItem=s.parentItem,o.parentItem.subItems&&(o.parentItem.subItems[o.parentItem.subItems.length]=o)):i.subGroups.length>0&&(s=i.subGroups[i.subGroups.length-1],o.level=s.level,o.parentItem=i,i.subGroups[i.subGroups.length]=o))}};for(subGroup in i.subGroups){var o=i.subGroups[subGroup];o.subGroups&&(e.loadedgroups[e.loadedgroups.length]=o,o.visibleindex=t+r,e.rows[r]=o,e.loadedrecords[r]=o,r++,o.subGroups.length>0?r=O(e,o,r):o.subItems.length>0&&(r=E(e,o,r)),s(o))}return i.subItems.length>0&&(r=E(e,i,r)),s(i),r},L=f.length;this.loadedgroups=new Array,this.rows=new Array;for(var h=0,v=0;L>v;v++){var S=f[v];this.loadedrootgroups[v]=S,this.loadedgroups[this.loadedgroups.length]=S,S.visibleindex=t+h,this.rows[h]=S,this.loadedrecords[h]=S,h++,h=O(this,S,h)}return h},this._updategroupsinpage=function(t,i,r,s,o,n,a){var l=new Array,d=[];if(this.groupable&&this.groups.length>0){for(var h=0,c=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey();var f=0,m=new Array,g=0;a>this.totalrecords&&(a=this.totalrecords);for(var v=n;a>v;v++){var x=e.extend({},t.sortedgroups[v]);if(id=x[t.uniqueId],!t.pagesize||r>=t.pagesize*t.pagenum&&r<t.pagesize*(t.pagenum+1)){(s>=o||id!=l[s][t.uniqueId]||updated&&updated[id])&&(d[d.length]=s);for(var w=new Array,b=0,p=0;p<t.groups.length;p++){var y=t.groups[p],_=x[y];null==_&&(_=""),w[b++]={value:_,hash:u[p]}}if(w.length!=t.groups.length)break;for(var j=null,q="",T=-1,C=0;C<w.length;C++){T++;var k=w[C].value,S=w[C].hash;if(q=q+"_"+S+"_"+k,void 0==c[q]||null==c[q]){if(null==j){j={group:k,subItems:new Array,subGroups:new Array,level:0},m[g++]=j;var D=t.loadedgroupsByKey[k];void 0!=D&&(j.visibleindex=D.visibleindex,j.uniqueid=D.uniqueid)}else{var I={group:k,subItems:new Array,subGroups:new Array,parentItem:j,level:j.level+1},D=t.loadedgroupsByKey[j.uniqueid+"_"+k];I.visibleindex=D.visibleindex,I.uniqueid=D.uniqueid,j.subGroups[j.subGroups.length++]=I,j=I}c[q]=j}else j=c[q]}null!=j&&(x.parentItem=j,x.level=j.level+1,j.subItems[j.subItems.length++]=x),s++}f++,r++}for(var P=function(t,i,r){for(var s=0;s<i.subItems.length;s++)l[r]=e.extend({},i.subItems[s]),r++;return r},A=function(e){var t=!1;for(subGroup in e.subGroups){var i=e.subGroups[subGroup];if(i.subGroups){if(i.subGroups.length>0){var r=A(i);if(r)return t=!0,!0}if(i.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},B=function(e,t,i){for(subGroup in t.subGroups){var r=t.subGroups[subGroup];r.subGroups&&A(r)&&(l[i]=r,i++,r.subGroups.length>0?i=B(e,r,i):r.subItems.length>0&&(i=P(e,r,i)))}return t.subItems.length>0&&(i=P(e,t,i)),i},f=0;f<m.length;f++){var y=m[f];A(y)&&(l[h]=y,h++,h=B(this,y,h))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,i=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var r=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var s=new Array;if(r>0)e.each(this.groups,function(i){var o=this,n=t._getColumnText(this),a=n.label,l=t._rendergroupcolumn(a,o);if(l.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(l),t.closeablegroups){var d=e(l.find(".jqx-icon-close"));t.isTouchDevice()&&t.touchmode!==!0?t.addHandler(d,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(d,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(l,"click",function(){var e=t.getcolumn(o);return null!=e&&t._togglesort(e),!1}),s[s.length]=l,t._handlegroupstocolumnsdragdrop(this,l),r-1>i){var h=l.height(),c=e('<div style="float: left; position: relative;"></div>');t.rtl&&c.css("float","right"),c.width(t.groupindentwidth/3),c.height(1),c.css("top",h/2),c.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(c)}});else{var o=e('<div style="position: relative;">'+i+"</div>");this.groupsheaderdiv.append(o),this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=s,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),r=(this.groupsheader.height()-i)/2;this.groupsheaderdiv.css("top",r),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",r)):(this.groupsheaderdiv.css("left",r),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord();t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(void 0!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups),i.groups.splice(e,0,t.toString()),i.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:i.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&void 0!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){var e=this.dataview.loadedrootgroups.length;return e},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var r=0;r<t.length;r++){var e=parseInt(t[r]);if(0==r){var i=this.dataview.loadedrootgroups[e];this.groupsVisibility[i.group]=null}else{var s=i.subGroups[e];s&&(i=s,r==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,r=0;r<t.length;r++){var e=parseInt(t[r]);if(0==r){var i=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var s=i.subGroups[e];s&&(i=s,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];if(null==t)return null;var i=this.expandedgroups[t.uniqueid].expanded;return i},getgroup:function(t){var i=this.dataview.loadedrootgroups[t];if(null==i)return null;var r=this.expandedgroups[i.uniqueid].expanded,s=i.group,o=i.level,n=new Array;this._getsubgroups(n,i);var a=this,l={group:s,level:o,expanded:r,subgroups:n};if(i.subItems){var d=new Array;e.each(i.subItems,function(){var e=this.boundindex;d[d.length]=a.getrowdata(e)}),d.length>0&&(l.subrows=d)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;e>i;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(t,i){var r=this;for(obj in i.subGroups){var s=i.subGroups[obj],o=r.expandedgroups[s.uniqueid].expanded,n=s.group,a=s.level;if(t[t.length]={group:n,level:a,expanded:o},s.subItems){var l=new Array;e.each(s.subItems,function(){var e=this.boundindex;l[l.length]=r.getrowdata(e)}),t[t.length-1].subrows=l}if(s.subGroups){var d=new Array;r._getsubgroups(d,s)}}return t},_setbatchgroupstate:function(e,t){var i=this;for(obj in this.dataview.loadedrootgroups)i._setrootgroupstate(obj,e,!1,!0);if(0==t)return i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0;var r=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(r!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,r){if(void 0==e||null==e||0>e)return!1;if(!this.groupable||0==this.groups.length)return!1;var s=void 0!=i?i:!0;if(e>=0&&e<this.dataview.loadedrootgroups.length){var o=this.dataview.loadedrootgroups[e];if(this.pageable){for(var n=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&n.push(this.dataview.rows[a]);if(o=n[e],!o)return}return this._setgroupstate(o,t,s,r)}return!1},_togglegroupstate:function(e,t){if(null==e||void 0==e)return!1;var i=this.vScrollInstance.value,r=this.expandedgroups[e.uniqueid];r=void 0==r?!1:r.expanded,r=!r,this.groupsVisibility||(this.groupsVisibility=new Array),r?this.groupsVisibility[e.group]=e:this.groupsVisibility[e.group]=null;var s=this._setgroupstate(e,r,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),s},_setgroupstate:function(e,t,i,r){if(null==e||void 0==e)return!1;var s=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var o=this.expandedgroups[e.uniqueid];if(void 0==o&&(o={expanded:!1},s=!0),o.expanded!=t&&(s=!0),s){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,r),i){var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return void 0!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var r=0;r<t.subItems.length;r++)e._setrowvisibility(t.subItems[r].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,r){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var s=t.subGroups[subGroup];i||e._setrowvisibility(s.visibleindex,i,!1);var o=!i;r?this.expandedgroups[s.uniqueid]={expanded:o,group:s}:o=void 0==e.expandedgroups[s.uniqueid]?!1:e.expandedgroups[s.uniqueid].expanded,s.subGroups&&(s.subGroups.length>0?e._setsubgroupsvisibility(e,s,!o||i,r):s.subItems.length>0&&e._setgroupitemsvisibility(e,s,!o||i)),i&&e._setrowvisibility(s.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,r=!1;if(t.groupable){var s="mousemove.grouping"+this.element.id,o="mousedown.grouping"+this.element.id,n="mouseup.grouping"+this.element.id,a=!1;this.isTouchDevice()&&this.touchmode!==!0&&(a=!0,s=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var o=parseInt(s.pageX),n=parseInt(s.pageY);if(a){var l=t.getTouches(s),d=l[0];o=parseInt(d.pageX),n=parseInt(d.pageY)}var h=t.host.coord(),c=parseInt(h.left),u=parseInt(h.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var p=parseInt(o)-parseInt(t.dragmousedownoffset.left),f=parseInt(n)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:p+"px",top:f+"px"}),r=!1,o>=c&&o<=c+t.host.width()&&n>=u&&n<=u+t.host.height()&&(r=!0),i=-1,r){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.groupsheader.coord(),g=m.top+t.groupsheader.height(),v=e.data(t.dragcolumn[0],"datarecord");if(v)var x=t.groups.indexOf(v.toString());else var x=-1;var w=-1==x||t.groups.length>1&&x>-1;null!=t.dropline&&(n>=m.top&&g>=n?w&&(i=t._handlegroupdroplines(o)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(a)return s.preventDefault(),s.stopPropagation(),!1}}),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(s){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");var o=parseInt(s.pageX),n=parseInt(s.pageY);if(a){var l=t.getTouches(s),d=l[0];o=parseInt(d.pageX),n=parseInt(d.pageY)}var h=t.host.coord(),c=(parseInt(h.left),parseInt(h.top)),u=t.groupsheader.height();if(t.showtoolbar&&(c+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var p=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=p){if(!t.getcolumn(p).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(r)if(-1!=i){var f=i.index,m=t.groups[f],g=t._getGroupIndexByDataField(p);g!=f&&(void 0!=g&&g>=0&&t.groups.splice(g,1),"before"==i.position?t.rtl?t._insertaftergroup(m,p):t._insertbeforegroup(m,p):t.rtl?t._insertbeforegroup(m,p):t._insertaftergroup(m,p))}else if(0==t.groups.length)n>c&&c+u>=n&&t.addgroup(p);else if(n>c+u){var g=t._getGroupIndexByDataField(p);t.removegroupat(g)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var i=this,r=-1;return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var s=this.left-3;return e>0&&(s=this.left-1-i.groupindentwidth/6),i.dropline.css("left",s),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),r={index:e,position:"before"},i.rtl&&(r={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),r={index:e,position:"after"},i.rtl&&(r={index:i.groupheadersbounds.length-1-e,position:"after"}))}),r},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r,s=this,o="mousedown",n="mousemove",a=!1;this.isTouchDevice()&&this.touchmode!==!0&&(a=!0,o=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,o,function(t){if(!s.showgroupsheader)return!0;var i=t.pageX,r=t.pageY;if(s.__drag=!0,s.dragmousedown={left:i,top:r},a){var o=s.getTouches(t),n=o[0];i=n.pageX,r=n.pageY,s.dragmousedown={left:i,top:r},t.preventDefault&&t.preventDefault()}var l=e(t.target).coord();s.dragmousedownoffset={left:parseInt(i)-parseInt(l.left),top:parseInt(r-l.top)}}),this.addHandler(i,n,function(o){if(!s.showgroupsheader)return!0;if(s.dragmousedown){if(r={left:o.pageX,top:o.pageY},a){var n=s.getTouches(o),l=n[0];r={left:l.pageX,top:l.pageY}}if(!s.dragstarted&&null==s.dragcolumn){var d=Math.abs(r.left-s.dragmousedown.left),h=Math.abs(r.top-s.dragmousedown.top);(d>3||h>3)&&(s._createdragcolumn(i,r,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.dragcolumn[0],"datarecord",t),o.preventDefault&&o.preventDefault())}}})},_createdragcolumn:function(t,i,r){var s=this,o=i;s.dragcolumn=e("<div></div>");var n=t.clone();s.dragcolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var a=e(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(n.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),s.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.dragcolumn.css("float","left"),s.dragcolumn.css("position","absolute");s.host.coord();n.width(t.width()+16),s.dragcolumn.append(n),s.dragcolumn.height(t.height()),s.dragcolumn.width(n.width()),s.dragcolumn.append(s.dragcolumnicon),e(document.body).append(s.dragcolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.dragcolumn.css("left",o.left+s.dragmousedown.left),s.dragcolumn.css("top",o.top+s.dragmousedown.top),void 0!=r&&r&&(s.dropline=e('<div style="display: none; position: absolute;"></div>'),s.dropline.width(2),s.dropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(s.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r,s=this,o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0);var n="mousedown.drag",r="mousemove.drag";o?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",r=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(r){if(!s.showgroupsheader)return!0;if(s.__drag=!0,s._isColumnInGroups(t.displayfield))return"col-resize"!=i.css("cursor"),!0;if(0==t.groupable)return!0;var n=r.pageX,a=r.pageY;if(o){var l=s.getTouches(r),d=l[0];n=d.pageX,a=d.pageY}s.dragmousedown={left:n,top:a},o&&r.preventDefault&&r.preventDefault();var h=e(r.target).coord();s.dragmousedownoffset={left:parseInt(n)-parseInt(h.left),top:parseInt(a-h.top)}}),this.addHandler(i,r,function(n){if(!s.showgroupsheader)return!0;if(s._isColumnInGroups(t.displayfield))return"col-resize"!=i.css("cursor"),!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(o){var d=s.getTouches(n),h=d[0];a=h.pageX,l=h.pageY}if(r={left:a,top:l},!s.dragstarted&&null==s.dragcolumn){var c=Math.abs(r.left-s.dragmousedown.left),u=Math.abs(r.top-s.dragmousedown.top);(c>3||u>3)&&(s._createdragcolumn(i,r,!0),e.data(s.dragcolumn[0],"datarecord",t.displayfield),n.preventDefault&&n.preventDefault())}}})},_rendergroupcolumn:function(t,i){var r=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&r.css("float","right"),null!=this.groupcolumnrenderer&&(r[0].innerHTML=this.groupcolumnrenderer(t),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==r[0].innerHTML&&(r[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(r[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var s=this.rtl?"left":"right",o='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){var o='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}r[0].innerHTML+=o}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');
if(this.rtl){var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}n.css("display","none"),a.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.css("float","left"),a.css("float","left")),r.append(n),r.append(a),e.data(document.body,"groupsortelements"+i,{sortasc:n,sortdesc:a})}return r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r},_rendergroup:function(t,i,r,s,o,n,a){var l=i,d=i.cells[r.level];this.rtl&&(d=i.cells[i.cells.length-1-r.level]);var h=this._findgroupstate(r.uniqueid);if(r.bounddata.subGroups.length>0||r.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),h?d.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):d.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[r.level]).label,f=this.groupindentwidth,m=this.rowdetails&&this.showrowdetailscolumn?(1+t)*f:t*f,g=a-m,v=r.level+1;this.rtl&&(v=0);for(var x=l.cells[v],w=2;void 0!=x&&"none"==x.style.display&&w<l.cells.length-1;)x=l.cells[v+w-1],w++;var b=e(x);if(x){if(x.style.width=parseInt(g)+"px",-1!=x.className.indexOf("jqx-grid-cell-filter")&&b.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=x.className.indexOf("jqx-grid-cell-sort")&&b.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=x.className.indexOf("jqx-grid-cell-pinned")&&b.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var y={group:r.group,level:r.level,parent:r.bounddata.parentItem,subGroups:r.bounddata.subGroups,subItems:r.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[r.level]).column},_=this.groupsrenderer(p+": "+r.group,r.group,h,y);if(_)x.innerHTML=_;else{var j=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length;x.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+r.group+" ("+j+")</span></div>"}}else{var q=this._getcolumnbydatafield(this.groups[r.level]),T=r.group;if(null==q)throw new Error("jqxGrid: Unable to find '"+this.groups[r.level]+"' group in the Grid's columns collection.");q.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(T)?T=e.jqx.dataFormat.formatdate(T,q.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(T)&&(T=e.jqx.dataFormat.formatnumber(T,q.cellsformat,this.gridlocalization)));var j=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length;x.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+T+" ("+j+")</span></div>"}if(this.rtl){q||(q=this._getcolumnbydatafield(this.groups[r.level]));var C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,k="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,m=this.rowdetails&&this.showrowdetailscolumn?(2+r.level)*f:(1+r.level)*f;x.style.width=a+parseInt(C)-m-k+"px",b.addClass(this.toThemeProperty("jqx-rtl"));var S=e(i.cells[i.cells.length-1]).css("z-index");b.css("z-index",S);var D=b.find("div"),g=D.width();D.css("left","100%");var I=null!=this.columns.records[i.cells.length-2-r.level]?this.columns.records[i.cells.length-2-r.level].pinned:!1;if(this.table.width()<a&&(a=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(a+=this.vScrollBar.outerWidth())),q.pinned||I)this.rowdetails&&this.showrowdetailscolumn&&(a+=30),D.css("margin-left",-g),x.style.width=a+C-m-k+"px";else{var C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;x.style.width=a+C-m-k+"px";var g=D.width();D.css("margin-left",-g)}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,r=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var o=this.pagerrenderer();null!=o&&this.pagerdiv.append(e(o)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",s),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var n=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(n);var a=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var d=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d);var h=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(h),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=r,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,r=t.dataview.pagenum*t.dataview.pagesize,s=c[i],o=t.pagesize;t.pagesize=parseInt(s),isNaN(t.pagesize)&&(t.pagesize=10),s>=100?t.pagershowrowscombo.jqxDropDownList({width:"auto"}):t.pagershowrowscombo.jqxDropDownList({width:44}),t.dataview.pagesize=t.pagesize;var n=Math.floor(r/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:n,oldpagesize:o,pagesize:t.dataview.pagesize}),t.gotopage(n),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(f,"change",function(){var e=f.val();e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});var m=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){n.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){n.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){n.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){n.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),a&&(a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),n.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(m.rtl){var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}else m.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(r),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var o=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var n=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};n(this,this.pagerrightbutton),n(this,this.pagerleftbutton);var a=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&void 0!=e||(e=0),-1==e&&(e=0),!(0>e)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var r=Math.ceil(t/this.pagesize);if(e>=r&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=r-1),0>e&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var s=e*this.dataview.pagesize,o=s+this.dataview.pagesize;if(null!=s&&null!=o)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var n=this.host.height()-this._gettableheight();height=n+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=r)),t++;var s=Math.ceil(r/this.dataview.pagesize);if(s>=1&&s--,s++,"simple"!==this.pagermode){var o=this.pagergotoinput.find("input");o.val(this.dataview.pagenum+1)}else{var n="",a=this.pagerbuttonscount;0!=a&&a||(a=5);var l=0;for(this.rtl&&(l=a-1);this.rtl&&l>=0||!this.rtl&&a>l;){var d=1+l,h=this.dataview.pagenum/a,c=Math.floor(h);d+=c*a;var u=this.toTP("jqx-grid-pager-number");if(u+=" "+this.toTP("jqx-rc-all"),d>s)break;if(this.rtl||0==l&&d>a&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+d)+"'>...</a>"),this.dataview.pagenum===d-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(l===a-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),s>=1+d&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+d)+"'>...</a>")}this.dataview.pagenum===d-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+d+"'>"+d+"</a>"}else if(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+d+"'>"+d+"</a>",l===a-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),s>=1+d&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+d)+"'>...</a>")}if(this.rtl){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),0==l&&d>a&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+d)+"'>...</a>")}this.rtl?l--:l++}var p=this.pagerbuttons.find("a");this.removeHandler(p,"click"),this.removeHandler(p,"mouseenter"),this.removeHandler(p,"mouseleave"),this.pagerbuttons[0].innerHTML=n;var f=this,m=function(){f.addHandler(p,"click",function(t){var i=e(t.target).attr("data-page");return f.gotopage(parseInt(i)-1),!1}),f.addHandler(p,"mouseenter",function(t){e(t.target).addClass(f.toTP("jqx-fill-state-hover"))}),f.addHandler(p,"mouseleave",function(t){e(t.target).removeClass(f.toTP("jqx-fill-state-hover"))})},p=this.pagerbuttons.find("a");m(p)}this.pagergotoinput.attr("title","1 - "+s),0==i&&t>i&&(t=0),this.rtl?this.pagerdetails[0].innerHTML=r+this.gridlocalization.pagerrangestring+i+"-"+t:this.pagerdetails[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+r,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var r=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var s=this.dataview.rows.length,o=0;s>o;o++){var n=this.dataview.rows[o].visibleindex,a={index:n,height:this.heights[n],hidden:this.hiddens[n],details:this.details[n]};if(void 0==this.heights[n]&&(this.heights[n]=this.rowsheight,a.height=this.rowsheight),void 0==this.hiddens[n]&&(this.hiddens[n]=!1,a.hidden=!1),void 0==this.details[n]&&(this.details[n]=null),a.height!=r.rowsheight&&(t-=r.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var l=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(l=a.details.rowdetailsheight,i+=l,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){if(null!=t.target&&!i.disabled&&!e(t.target).ischildof(this.columnsheader)){var r;if(t.which?r=3==t.which:t.button&&(r=2==t.button),!r){var s;if(t.which?s=2==t.which:t.button&&(s=1==t.button),!s){var o=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,a=this.showtoolbar?this.toolbarheight:0;n+=a;var l=this.host.offset(),d=t.pageX-l.left,h=t.pageY-o-l.top-n,c=this._hittestrow(d,h);if(c){var u=c.row,p=c.index,f=t.target.className,m=this.table[0].rows[p];if(null!=m){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-n};for(var g=this.hScrollInstance,v=g.value,x=0,w=(this.groupable?this.groups.length:0,0);w<m.cells.length;w++){var b=parseInt(e(this.columnsrow[0].cells[w]).css("left")),y=b-v;i.columns.records[w].pinned&&(y=b);var _=this._getcolumnat(w);if(null==_||!_.hidden){var j=y+e(this.columnsrow[0].cells[w]).width();if(j>=d&&d>=y){x=w;break}}}if(null!=u){var _=this._getcolumnat(x);-1==f.indexOf("jqx-grid-group-expand")&&-1==f.indexOf("jqx-grid-group-collapse")&&-1!=u.boundindex&&i.begincelledit(i.getboundindex(u),_.datafield,_.defaulteditorvalue)}}}}}}},_getpreveditablecolumn:function(e){for(var t=this;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(i.editable&&!i.hidden)return i}return null},_getnexteditablecolumn:function(e){for(var t=this;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(i.editable&&!i.hidden)return i}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation){var r=i.handlekeyboardnavigation(t);if(1==r)return!0}var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===s)return this.endrowedit(this.editcell.row,!1),!1;if(27===s)return this.endrowedit(this.editcell.row,!0),!1;if(32==s&&this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype){var o=this.getcolumn(this._currentColumn);if(o.editable){var n=!this.getcellvalue(this.editcell.row,o.datafield),a=this.getrowdata(this.editcell.row),l=this.editcell.row,a=i.getrowdata(i.editcell.row);this.setcellvalue(this.editcell.row,o.datafield,n,!1);var d=this._focusedColumn,h=this._currentColumn,c=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(l,!1),this._currentColumn=h,this._focusedColumn=d,this._currentEditableColumn=c,this._renderrows(),this.selectcell(l,o.datafield),this._oldselectedcell=this.selectedcell,d){var u=this;setTimeout(function(){u.selectcell(l,o.datafield),u._oldselectedcell=u.selectedcell,e(u._checkboxCells[o.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}}if(9===s){var p=this.editcell.datafield,f=this._getcolumnindex(p);this._currentEditableColumn?f=this._currentEditableColumn:this._currentEditableColumn=f;var o=this._getnexteditablecolumn(f);if(t.shiftKey&&(o=this._getpreveditablecolumn(f)),o){var f=this._getcolumnindex(o.datafield);if(this.editcell[o.datafield]){this._currentEditableColumn=f;var m=this.editcell[o.datafield].editor;m&&(m.data().jqxWidget&&m.data().jqxWidget.focus?m.data().jqxWidget.focus():m.focus()),this._focusedColumn=o.datafield,this._currentColumn=o.datafield}else if("checkbox"==o.columntype)return this._currentColumn=o.datafield,this._currentEditableColumn=f,this.selectcell(this.editcell.row,o.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[o.datafield]&&e(this._checkboxCells[o.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(s>=33&&40>=s&&"multiplecellsadvanced"==i.selectionmode){var m="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),g=i._selection(m),v=m.val().length;g.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),g.start>0&&37==s&&(i._cancelkeydown=!0),g.start<v&&39==s&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==s&&g.start+g.length<v&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==s||39==s&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0);if(32==s&&"checkbox"==i.editcell.columntype){var o=i.getcolumn(i.editcell.datafield);if(o.editable){var n=!i.getcellvalue(i.editcell.row,i.editcell.column);if(o.cellbeginedit){var x=o.cellbeginedit(i.editcell.row,o.datafield,o.columntype,!n);if(0==x)return!1}var a=i.getrowdata(i.editcell.row);return i.setcellvalue(i.editcell.row,i.editcell.column,n,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:a,datafield:i.editcell.column,oldvalue:!n,value:n,columntype:"checkbox"}),!1}}if(9==s){var w=this.editcell.row,p=this.editcell.column,b=p,f=i._getcolumnindex(p),y=!1,_=i.getrowvisibleindex(w);this.editchar="";
var j=this.editcell.validated;if(!this.editcell.validated)var j=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=j){if(t.shiftKey){var o=i._getpreveditablecolumn(f);if(o)p=o.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(w,b),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10));else{var q=i._getlastvisiblecolumn();y=!0,p=q.displayfield,w--,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(w,p),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10))}}else{var o=i._getnexteditablecolumn(f);if(o)p=o.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(w,b),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10));else{var T=i._getfirstvisiblecolumn();y=!0,p=T.displayfield,w++,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(w,p),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10))}}if(!y)return null!=this.editcell&&(i.endcelledit(w,p,!1),this._renderrows(this.virtualsizeinfo)),!0;i.begincelledit(w,p),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==s){var C=this.selectedcell;if(C)var k=this.getrowvisibleindex(C.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode){var S=i.getselectedcell();if(null!=S&&i.selectcell&&null==this.editcell&&S.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=S.datafield){var _=this.getrowvisibleindex(S.rowindex),D=this.dataview.loadedrecords[_+1];if(D&&(!this.pageable||this.pageable&&_+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(D),S.datafield);var S=this.getselectedcell();this.ensurecellvisible(D.visibleindex,S.datafield)}}else if(null!=C){var I=this.dataview.loadedrecords[k+1];if(I)if(!this.pageable||this.pageable&&k+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(I),S.datafield);else if(this.pageable&&k+1>=this.pagesize){this.clearselection(!1);var I=this.dataview.loadedrecords[k];this.selectcell(this.getboundindex(I),S.datafield)}}}return!1}if(27==s)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var P=!1;if(113==s&&(P=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(s>=48&&57>=s&&(this.editchar=String.fromCharCode(s),P=!0),189===s&&(P=!0),s>=65&&90>=s){this.editchar=String.fromCharCode(s);var A=!1;t.shiftKey?A=t.shiftKey:t.modifiers&&(A=!!(4&t.modifiers)),A||(this.editchar=this.editchar.toLowerCase()),P=!0}else s>=96&&105>=s&&(this.editchar=s-96,this.editchar=this.editchar.toString(),P=!0);var B=e(".jqx-grid").length;P=P&&(1==B||B>1&&i.focused);var M=e.data(document.body,"jqxgrid.edit");if(void 0!==M&&""!==M&&(13===s||P)&&M!=i.element.id)return!0}if((13==s||P)&&i.getselectedrowindex){var w=i.getselectedrowindex();if("selectedrow"===i.editmode)return i.beginrowedit(w),!1;switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(w>=0){for(var p="",H=0;H<i.columns.records.length;H++){var o=i.getcolumnat(H);if(o.editable){p=o.datafield;break}}"selectedrow"===i.editmode?i.beginrowedit(w):i.begincelledit(w,p)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var S=i.getselectedcell();if(null!=S){var o=i._getcolumnbydatafield(S.datafield);"checkbox"!=o.columntype&&i.begincelledit(S.rowindex,S.datafield)}break;case"multiplecellsadvanced":var S=i.getselectedcell();if(null!=S)if(13==s){if(i.selectcell){var _=this.getrowvisibleindex(S.rowindex);if(_+1<i.dataview.totalrecords){var D=this.dataview.loadedrecords[_+1];if(D){this.clearselection(!1),this.selectcell(this.getboundindex(D),S.datafield);var S=this.getselectedcell();this.ensurecellvisible(D.visibleindex,S.datafield)}}}}else"selectedrow"!==i.editmode&&i.begincelledit(S.rowindex,S.datafield)}return!1}if(46==s){var z=i.getselectedcells();if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(z=i._getcellsforcopypaste()),null!=z&&z.length>0){for(var E=0;E<z.length;E++){var S=z[E];if(S.datafield){var o=i.getcolumn(S.datafield),O=i.getcellvalue(S.rowindex,S.datafield);if(""!==O&&o.editable&&i.enablekeyboarddelete){var L=null;if("checkbox"==o.columntype&&(o.threestatecheckbox||(L=!1)),o.cellbeginedit){var x=o.cellbeginedit(S.rowindex,o.datafield,o.columntype,L);if(0==x)return!1}var a=i.getrowdata(S.rowindex);if(i._raiseEvent(17,{rowindex:S.rowindex,row:a,datafield:S.datafield,value:O}),E==z.length-1?(i.setcellvalue(S.rowindex,S.datafield,L,!0),o.displayfield!=o.datafield&&i.setcellvalue(S.rowindex,o.displayfield,L,!0)):(i.setcellvalue(S.rowindex,S.datafield,L,!1),o.displayfield!=o.datafield&&i.setcellvalue(S.rowindex,o.displayfield,L,!0)),o.cellendedit){o.cellendedit(S.rowindex,o.datafield,o.columntype,L)}i._raiseEvent(18,{rowindex:S.rowindex,row:a,datafield:S.datafield,oldvalue:O,value:L})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==s){var S=i.getselectedcell();if(null!=S){var o=i.getcolumn(S.datafield);if("checkbox"==o.columntype&&o.editable){var n=!i.getcellvalue(S.rowindex,S.datafield);if(o.cellbeginedit){var x=o.cellbeginedit(S.rowindex,o.datafield,o.columntype,!n);if(0==x)return!1}var a=i.getrowdata(S.rowindex);return i._raiseEvent(17,{rowindex:S.rowindex,row:a,datafield:S.datafield,value:!n,columntype:"checkbox"}),i.setcellvalue(S.rowindex,S.datafield,n,!0),i._raiseEvent(18,{rowindex:S.rowindex,row:a,datafield:S.datafield,oldvalue:!n,value:n,columntype:"checkbox"}),!1}}}}return!0},begincelledit:function(t,i,r,s,o){var n=this.getcolumn(i);if(this._cellscache=new Array,null!=i&&"number"!=n.columntype&&"button"!=n.columntype&&!n.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(n.displayfield)>=0)return}if(void 0==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if("selectedrow"===this.editmode&&this.editcell.row==t)return;var a=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0==a)return}var l="checkbox"==n.columntype||"button"==n.columntype||n.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),n.editable){if(n.cellbeginedit){var d=this.getcell(t,i),h=n.cellbeginedit(t,i,n.columntype,null!=d?d.value:null);if(0==h)return}var c=this.getrowvisibleindex(t);if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=c,!this.editcell.editing)){if(l||(this.editcell.editing=!0),this.editcell.columntype=n.columntype,this.editcell.defaultvalue=r,void 0!=n.defaultvalue&&(this.editcell.defaultvalue=n.defaultvalue),this.editcell.init=!0,"checkbox"!=n.columntype&&"selectedrow"!=this.editmode){var u=this.getrowdata(t);this._raiseEvent(17,{rowindex:t,row:u,datafield:n.datafield,value:this.editcell.value,columntype:n.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!l){var p=this.getrowvisibleindex(t);s!==!1&&(this.autorowheight||this.ensurecellvisible(p,n.datafield)),o!==!1&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,o!==!1&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return t=t.clientHeight?t:e,t.scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return t=t.clientHeight?t:e,t.scrollLeft},endcelledit:function(t,i,r,s,o){if(void 0!=t&&void 0!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),void 0==r&&(r=!0)),this.editcell){var n=this.getcolumn(i),a=this;if("selectedrow"===a.editmode)return void this.endrowedit(t,r);var l=function(){if(0!=o){if(a.isTouchDevice())return;if(!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)},10)}catch(i){}}}};if("checkbox"==n.columntype||"button"==n.columntype||n.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var d=this._geteditorvalue(n),h=function(e){if(e._hidecelleditor(),n.cellendedit&&n.cellendedit(t,i,n.columntype,e.editcell.value,d),e.editchar=null,n.displayfield!=n.datafield){var r=e.getcellvalue(e.editcell.row,n.displayfield),o=e.editcell.value;oldvalue={value:o,label:r}}else oldvalue=e.editcell.value;var a=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:a,datafield:i,displayfield:n.displayfield,oldvalue:d,value:d,columntype:n.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(s||void 0==s)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(r)return h(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),n.cellvaluechanging){var c=n.cellvaluechanging(t,i,n.columntype,this.editcell.value,d);void 0!=c&&(d=c)}if(n.validation){var u=this.getcell(t,i);try{var p=n.validation(u,d),f=this.gridlocalization.validationstring;void 0!=p.message&&(f=p.message);var m="boolean"==typeof p?p:p.result;if(!m)return void 0!=p.showmessage&&1!=p.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(g){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(n.displayfield!=n.datafield){var v=this.getcellvalue(this.editcell.row,n.displayfield),x=this.editcell.value;oldvalue={value:x,label:v}}else oldvalue=this.editcell.value;var w=this.getrowdata(t);if(n.cellendedit){var b=n.cellendedit(t,i,n.columntype,this.editcell.value,d);if(0==b)return this._raiseEvent(18,{rowindex:t,row:w,datafield:i,displayfield:n.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:n.columntype}),h(this),!1}return this._raiseEvent(18,{rowindex:t,row:w,datafield:i,displayfield:n.displayfield,oldvalue:oldvalue,value:d,columntype:n.columntype}),this._hidecelleditor(!1),void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,d,s),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||l(),e.data(document.body,"jqxgrid.edit",""),!0}},beginrowedit:function(t){var i=this;i._oldselectedrow=t,this._cellscache=new Array;var r=!1;if("selectedrow"!=this.editmode&&(r=!0),r){var s=this.editmode;this.editmode="selectedrow"}var o=null;e.each(this.columns.records,function(e,r){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;o||(o=this.datafield);var s=i.getcell(t,this.datafield);i.begincelledit(t,this.datafield,null,!1,!1);var n=i.getrowdata(t);i._raiseEvent(17,{rowindex:t,row:n,datafield:this.datafield,value:s.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),r&&(this.editmode=s),o&&i.editcell&&setTimeout(function(){if(i.editcell){var e=i.editcell[o].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)},endrowedit:function(t,i){var r=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(void 0==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var s=!1;if("selectedrow"!=this.editmode&&(s=!0),s){var o=this.editmode;this.editmode="selectedrow"}var n=!1,a={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++){var d=this.columns.records[l];if(d.editable&&!d.hidden&&"checkbox"!=d.columntype&&!d.createwidget){var h=this._geteditorvalue(d),c=function(e){e._hidecelleditor();var i=e.getcellvalue(e.editcell.row,d.displayfield);if(d.cellendedit&&d.cellendedit(t,f,d.columntype,i,h),e.editchar=null,d.displayfield!=d.datafield){var r=e.getcellvalue(e.editcell.row,d.displayfield),s=i;u={value:s,label:r}}else u=i;var o=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:o,datafield:f,displayfield:d.displayfield,oldvalue:i,value:i,columntype:d.columntype}),e.editcell.editing=!1};if(i)c(this);else{if(d.cellvaluechanging){var u=this.getcellvalue(this.editcell.row,d.displayfield),p=d.cellvaluechanging(t,f,d.columntype,u,h);void 0!=p&&(h=p)}var f=d.datafield;if(d.validation){var m=this.getcell(t,d.datafield);try{var g=d.validation(m,h),v=this.gridlocalization.validationstring;void 0!=g.message&&(v=g.message);var x="boolean"==typeof g?g:g.result;if(!x){void 0!=g.showmessage&&1!=g.showmessage||this._showvalidationpopup(t,f,v),n=!0,this.editcell[d.datafield].validated=!1;continue}}catch(w){this._showvalidationpopup(t,f,this.gridlocalization.validationstring),this.editcell[d.datafield].validated=!1,n=!0;continue}}if(d.displayfield!=d.datafield){var b=this.getcellvalue(this.editcell.row,d.displayfield),y=this.editcell.value;u={value:y,label:b}}else u=this.getcellvalue(this.editcell.row,d.displayfield);a[d.datafield]={newvalue:h,oldvalue:u}}}}var _={},j={};if(!n){this._hidecelleditor(!1);for(var l=0;l<this.columns.records.length;l++){var d=this.columns.records[l],f=d.datafield;if(!d.hidden&&d.editable){var q=this.getrowdata(t);if(!d.createwidget)if("checkbox"!=d.columntype){if(a[d.datafield]){var h=a[d.datafield].newvalue,u=a[d.datafield].oldvalue;if(d.cellendedit){var T=d.cellendedit(t,f,d.columntype,u,h);if(0==T){this._raiseEvent(18,{rowindex:t,row:q,datafield:f,displayfield:d.displayfield,oldvalue:u,value:u,columntype:d.columntype}),c(this);continue}}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:q,datafield:d.datafield,displayfield:d.displayfield,oldvalue:u,value:h,columntype:d.columntype}),_[d.datafield]=h,j[d.datafield]=u}}else{var h=this.getcellvalue(t,d.displayfield);this._raiseEvent(18,{rowindex:t,row:q,datafield:d.datafield,displayfield:d.displayfield,oldvalue:h,value:h,columntype:d.columntype})}}}var C=this.getrowid(t),q=this.getrowdata(t);if(e.each(_,function(e,t){if(t&&void 0!=t.label){var i=r.getcolumn(e);q[i.displayfield]=t.label,q[i.datafield]=t.value}else q[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow){var k=!1,r=this,x=function(i){var s=r.source.updaterow;r.source.updaterow=null,0==i?(e.each(j,function(e,t){if(t&&void 0!=t.label){var i=r.getcolumn(e);q[i.displayfield]=t.label,q[i.datafield]=t.value}else q[e]=t}),r.updaterow(C,q)):r.updaterow(C,q);for(var o=0;o<r.columns.records.length;o++){var n=r.columns.records[o];n.datafield;r._raiseEvent(18,{rowindex:t,datafield:n.datafield,row:q,displayfield:n.displayfield,oldvalue:j[n.datafield],value:q[n.displayfield],columntype:n.columntype})}r.source.updaterow=s};try{k=this.source.updaterow(C,q,x),void 0==k&&(k=!0)}catch(w){return void(k=!1)}}else this.updaterow(C,q),this._renderrows(this.virtualsizeinfo)}return s&&(this.editmode=o),n},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var r=document.selection.createRange();if(null==r)return{start:0,end:t.value.length,length:0};var s=e[0].createTextRange(),o=s.duplicate();s.moveToBookmark(r.getBookmark()),o.setEndPoint("EndToStart",s);var i=r.text.length;return{start:o.text.length,end:o.text.length+r.text.length,length:i,text:r.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var r=i[0].createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}},findRecordIndex:function(e,t,i){var i=i;if(t)for(var r=i.length,s=0;r>s;s++){var o=i[s],n=o.label;if(e==n)return s}return-1},_destroyeditors:function(){var t=this;this.columns.records&&(e.each(this.columns.records,function(i,r){var s=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var o=t.editors["dropdownlist_"+s];o&&(o.jqxDropDownList("destroy"),t.editors["dropdownlist_"+s]=null);break;case"combobox":var n=t.editors["combobox_"+s];n&&(n.jqxComboBox("destroy"),t.editors["combobox_"+s]=null);break;case"datetimeinput":var a=t.editors["datetimeinput_"+this.datafield];a&&(a.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+s]=null);break;case"numberinput":var l=t.editors["numberinput_"+s];l&&(l.jqxNumberInput("destroy"),t.editors["numberinput_"+s]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+s]&&(t.destroyeditor(t.editors["templateeditor_"+s]),t.editors["templateeditor_"+s]=null),t.destroyeditor)for(var d=t.getrows.length(),h=0;d>h;h++)t.editors["customeditor_"+s+"_"+h]&&(t.destroyeditor(t.editors["customeditor_"+s+"_"+h],h),t.editors["customeditor_"+s+"_"+h]=null);break;case"textbox":default:var c=t.editors["textboxeditor_"+s];c&&(t.removeHandler(c,"keydown"),t.editors["textbox_"+s]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,r,s,o){if(void 0!=r&&null!=this.editcell){if("checkbox"==i.columntype&&i.editable)return void("selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=r));void 0==o&&(o=!0),"selectedrow"==this.editmode&&(this.editchar="",o=!1);var n=i.datafield,a=e(r),l=this,d=this.editcell.editor,h=this.getcellvalue(t,n),c=this.getcelltext(t,n),u=this.hScrollInstance,p=u.value,f=parseInt(p);this.columns.records.indexOf(i);if(this.editcell.element=r,0==this.editcell.validated){var m="";this.validationpopup&&(m=this.validationpopup.text()),this._showvalidationpopup(t,n,m)}var g=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||o&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join(""),x=e.trim(i.displayfield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".","")),-1!=x.indexOf(".")&&(x=x.replace(".",""));var w=this.editors["dropdownlist_"+v];if(d=void 0==w?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):w,d.css("top",e(r).parent().position().top),this.oldhscroll?d.css("left",-f+parseInt(e(r).position().left)):d.css("left",parseInt(e(r).position().left)),i.pinned&&d.css("left",f+parseInt(e(r).position().left)),void 0==w){d.prependTo(this.table),d[0].id="dropdownlisteditor"+this.element.id+v;var b=!!this.source._source,y=null;if(b){var _={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[x],autoSort:!0,autoSortField:x})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[x],async:!1,autoSort:!0,autoSortField:x});var j=!i.createeditor;d.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:j,theme:this.theme,width:a.width()-2,height:a.height()-2,displayMember:x,valueMember:n}),this.editors["dropdownlist_"+v]=d,i.createeditor&&i.createeditor(t,h,d)}i._requirewidthupdate&&d.jqxDropDownList({width:a.width()-2});var q=d.jqxDropDownList("listBox").visibleItems;i.createeditor||(q.length<8?d.jqxDropDownList("autoDropDownHeight",!0):d.jqxDropDownList("autoDropDownHeight",!1));var h=this.getcellvalue(t,x),T=this.findRecordIndex(h,x,q);if(s&&(""!=h?d.jqxDropDownList("selectIndex",T,!0):d.jqxDropDownList("selectIndex",-1)),!this.editcell)return;void 0!=this.editcell.defaultvalue&&d.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),o&&d.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join(""),x=e.trim(i.displayfield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".","")),-1!=x.indexOf(".")&&(x=x.replace(".",""));var C=this.editors["combobox_"+v];if(d=void 0==C?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):C,d.css("top",e(r).parent().position().top),this.oldhscroll?d.css("left",-f+parseInt(e(r).position().left)):d.css("left",parseInt(e(r).position().left)),i.pinned&&d.css("left",f+parseInt(e(r).position().left)),void 0==C){d.prependTo(this.table),d[0].id="comboboxeditor"+this.element.id+v;var b=!!this.source._source,y=null;if(b){var _={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[x],autoSort:!0,autoSortField:x})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[x],async:!1,autoSort:!0,autoSortField:x});var j=!i.createeditor;d.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:j,theme:this.theme,width:a.width()-2,height:a.height()-2,displayMember:x,valueMember:n}),d.removeAttr("tabindex"),d.find("div").removeAttr("tabindex"),this.editors["combobox_"+v]=d,i.createeditor&&i.createeditor(t,h,d)}i._requirewidthupdate&&d.jqxComboBox({width:a.width()-2});var q=d.jqxComboBox("listBox").visibleItems;i.createeditor||(q.length<8?d.jqxComboBox("autoDropDownHeight",!0):d.jqxComboBox("autoDropDownHeight",!1));var h=this.getcellvalue(t,x),T=this.findRecordIndex(h,x,q);if(s&&(""!=h?(d.jqxComboBox("selectIndex",T,!0),d.jqxComboBox("val",h)):(d.jqxComboBox("selectIndex",-1),d.jqxComboBox("val",h))),!this.editcell)return;void 0!=this.editcell.defaultvalue&&d.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&d.jqxComboBox("input").val(this.editchar),o&&setTimeout(function(){if(g(d.jqxComboBox("input")),d)if(d.jqxComboBox("_setSelection",0,0),l.editchar)d.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(d.jqxComboBox("input")){var e=d.jqxComboBox("input").val();d.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var k=this.editors["datetimeinput_"+v];if(d=void 0==k?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):k,d.show(),d.css("top",e(r).parent().position().top),this.oldhscroll?d.css("left",-f+parseInt(e(r).position().left)):d.css("left",parseInt(e(r).position().left)),i.pinned&&d.css("left",f+parseInt(e(r).position().left)),void 0==k){d.prependTo(this.table),d[0].id="datetimeeditor"+this.element.id+v;var S={calendar:this.gridlocalization};d.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:S,_editor:!0,theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+v]=d,i.createeditor&&i.createeditor(t,h,d)}if(i._requirewidthupdate&&d.jqxDateTimeInput({width:a.width()-2}),s){if(""!=h&&null!=h){var D=new Date(h);"Invalid Date"==D&&this.source.getvaluebytype&&(D=this.source.getvaluebytype(h,{name:i.datafield,type:"date"})),d.jqxDateTimeInput("setDate",D)}else d.jqxDateTimeInput("setDate",null);void 0!=this.editcell.defaultvalue&&d.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}o&&setTimeout(function(){g(d.jqxDateTimeInput("dateTimeInput"))},10)}break;case"numberinput":if(this.host.jqxNumberInput){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var I=this.editors["numberinput_"+v];if(d=void 0==I?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):I,d.show(),d.css("top",e(r).parent().position().top),this.oldhscroll?d.css("left",-f+parseInt(e(r).position().left)):d.css("left",parseInt(e(r).position().left)),i.pinned&&d.css("left",f+parseInt(e(r).position().left)),void 0==I){d.prependTo(this.table),d[0].id="numbereditor"+this.element.id+v;var P="",A="left",B=2;i.cellsformat?-1!=i.cellsformat.indexOf("c")?(P=this.gridlocalization.currencysymbol,A=this.gridlocalization.currencysymbolposition,A="before"==A?"left":"right",i.cellsformat.length>1&&(B=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(P=this.gridlocalization.percentsymbol,A="right",i.cellsformat.length>1&&(B=parseInt(i.cellsformat.substring(1),10))):B=0,d.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:B,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:a.width()-1,height:a.height()-1,spinButtons:!0,symbol:P,symbolPosition:A}),this.editors["numberinput_"+v]=d,i.createeditor&&i.createeditor(t,h,d)}if(i._requirewidthupdate&&d.jqxNumberInput({width:a.width()-2}),s){if(""!=h&&null!=h){var M=h;d.jqxNumberInput("setDecimal",M)}else d.jqxNumberInput("setDecimal",0);if(void 0!=this.editcell.defaultvalue&&d.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var H=parseInt(this.editchar);isNaN(H)||d.jqxNumberInput("setDecimal",H)}o&&setTimeout(function(){if(g(d.jqxNumberInput("numberInput")),d.jqxNumberInput("_setSelectionStart",0),l.editchar)i.cellsformat.length>0?d.jqxNumberInput("_setSelectionStart",2):d.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else{var e=d.jqxNumberInput("spinButtons");if(e){var t=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],t.length,t.length)}else{var t=d.jqxNumberInput("numberInput").val();l._setSelection(d.jqxNumberInput("numberInput")[0],0,t.length)}d.jqxNumberInput("selectAll")}},10)}}break;case"custom":r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var z=this.editors["customeditor_"+v+"_"+t];if(d=void 0==z?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):z,d.show(),d.css("top",e(r).parent().position().top),this.oldhscroll?d.css("left",-f+parseInt(e(r).position().left)):d.css("left",parseInt(e(r).position().left)),i.pinned&&d.css("left",f+parseInt(e(r).position().left)),void 0==z){d.prependTo(this.table),d[0].id="customeditor"+this.element.id+v+"_"+t,this.editors["customeditor_"+v+"_"+t]=d;var E=a.width()-1,O=a.height()-1;d.width(E),d.height(O),i.createeditor&&i.createeditor(t,h,d,c,E,O,this.editchar)}i._requirewidthupdate&&d.width(a.width()-2);break;case"template":r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var L=this.editors["templateeditor_"+v];if(d=void 0==L?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):L,d.show(),d.css("top",e(r).parent().position().top),this.oldhscroll?d.css("left",-f+parseInt(e(r).position().left)):d.css("left",parseInt(e(r).position().left)),i.pinned&&d.css("left",f+parseInt(e(r).position().left)),void 0==L){d.prependTo(this.table),d[0].id="templateeditor"+this.element.id+v,this.editors["templateeditor_"+v]=d;var E=a.width()-1,O=a.height()-1;d.width(E),d.height(O),i.createeditor&&i.createeditor(t,h,d,c,E,O,this.editchar)}i._requirewidthupdate&&d.width(a.width()-2);break;case"textbox":default:r.innerHTML="",d=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"),d[0].id="textboxeditor"+this.element.id+i.datafield,d.appendTo(a),this.rtl&&d.css("direction","rtl"),(s||""==d[0].className)&&(d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?d.val(this.editchar):(""!=i.cellsformat&&(h=this.getcelltext(t,n)),void 0==h&&(h=""),d.val(h)),void 0!=this.editcell.defaultvalue&&d.val(this.editcell.defaultvalue),d.width(a.width()+1),d.height(a.height()+1),i.createeditor&&i.createeditor(t,h,d),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||d.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,r=String.fromCharCode(t),s=parseInt(r);if(isNaN(s))return!0;if(l._selection(d).length>0)return!0;var o="",n=d.val();if(i.cellsformat.length>1){var a=parseInt(i.cellsformat.substring(1));isNaN(a)&&(a=0)}else var a=0;if(a>0&&-1!=n.indexOf(l.gridlocalization.decimalseparator)&&l._selection(d).start>n.indexOf(l.gridlocalization.decimalseparator))return!0;for(var h=0;h<n.length-a;h++){var c=n.substring(h,h+1);null!=c.match(/^[0-9]+$/)&&(o+=c)}return o.length>=11?!1:void 0}))),this.editors["textboxeditor_"+i.datafield]=d,s&&o&&setTimeout(function(){g(d),l.editchar?(l._setSelection(d[0],1,1),l.editchar=null):l._setSelection(d[0],0,d.val().length)},25)}d&&(d[0].style.zIndex=1+r.style.zIndex,e.jqx.browser.msie&&e.jqx.browser.version<8&&(d[0].style.zIndex=1+this.columns.records.length+r.style.zIndex),d.css("display","block"),this.editcell.editor=d,this.editcell[n]?this.editcell[n].editor=d:(this.editcell[n]={},this.editcell[n].editor=d)),s&&i.initeditor&&i.initeditor(t,h,d,c,this.editchar),l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select()}}catch(s){}},_hideeditors:function(){if(null!=this.editcells){var e=this;for(var t in this.editcells)e.editcell=e.editcells[t],e._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell){if("selectedrow"===this.editmode){for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(this.editcell[i.datafield]&&this.editcell[i.datafield].editor){this.editcell[i.datafield].editor.hide();var r=this.editcell[i.datafield].editor;switch(i.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300});break;case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300});break;case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}return void(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()))}if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({
closeDelay:300});break;case"datetimeinput":var s=this.editcell.editor;s.jqxDateTimeInput("isOpened")&&(s.jqxDateTimeInput({closeDelay:0}),s.jqxDateTimeInput("hideCalendar"),s.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}},_geteditorvalue:function(t){var i=new String;if(!this.editcell)return null;var r=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[t.datafield])var r=this.editcell[t.datafield].editor;if(r){switch(t.columntype){case"textbox":default:if(i=r.val(),""!=t.cellsformat){var s="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var n="";e.each(o,function(){return this.name==t.displayfield?(this.type&&(n=this.type),!1):void 0}),n&&(s=n)}var a="number"===s||"float"===s||"int"===s||"integer"===s,l="date"===s||"time"===s;if(a||"string"===s&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return"";i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var d=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r},h=i;if(h=new Number(h),!isNaN(h))return h;i=d(i,this.gridlocalization.thousandsseparator,""),i=i.replace(this.gridlocalization.decimalseparator,"."),i.indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var c="",u=0;u<i.length;u++){var p=i.substring(u,u+1);"-"===p&&(c+="-"),"."===p&&(c+="."),null!=p.match(/^[0-9]+$/)&&(c+=p)}i=c,i=i.replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(l||"string"===s&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return"";var f=i;e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(f,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":r.jqxCheckBox&&(i=r.jqxCheckBox("checked"));break;case"datetimeinput":if(r.jqxDateTimeInput){if(r.jqxDateTimeInput({isEditing:!1}),r.jqxDateTimeInput("_validateValue"),i=r.jqxDateTimeInput("getDate"),null==i)return null;i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":if(r.jqxDropDownList){var m=r.jqxDropDownList("selectedIndex"),g=r.jqxDropDownList("listBox").getVisibleItem(m);i=t.displayfield!=t.datafield?g?{label:g.label,value:g.value}:"":g?g.label:"",null==i&&(i="")}break;case"combobox":if(r.jqxComboBox){if(i=r.jqxComboBox("val"),t.displayfield!=t.datafield){var g=r.jqxComboBox("getSelectedItem");null!=g&&(i={label:g.label,value:g.value})}null==i&&(i="")}break;case"numberinput":if(r.jqxNumberInput){this.touchdevice&&r.jqxNumberInput("_doTouchHandling");var v=r.jqxNumberInput("getDecimal");i=new Number(v),i=parseFloat(i),isNaN(i)&&(i=0),null===v&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),r):t.geteditorvalue(this.editcell.row,this.editcell.value,r))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,r){if(void 0==r)var r=this.gridlocalization.validationstring;var s=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(r),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.prependTo(this.table),o.prependTo(this.table);for(var n=this.hScrollInstance,a=n.value,l=parseInt(a),d=this.getcolumn(i).uielement,h=null,c=0;c<this.hittestinfo.length;c++)t===this.hittestinfo[c].row.visibleindex&&(h=this.hittestinfo[c]);if(!h){this.ensurerowvisible(t);var u=this;return s.remove(),o.remove(),void setTimeout(function(){for(var e=null,s=0;s<u.hittestinfo.length;s++)t===u.hittestinfo[s].row.visibleindex&&(e=u.hittestinfo[s]);e&&u.showvalidationpopup(t,i,r)},25)}var p=e(h.visualrow);s.css("top",parseInt(p.position().top)+30+"px");var f=parseInt(s.css("top"));o.css("top",f-12),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var m=!1;f>=this._gettableheight()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=parseInt(p.position().top)-this.rowsheight-5,0>f&&(f=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=!0),s.css("top",f+"px"),o.css("top",f+s.outerHeight()-9));var g=-l+parseInt(e(d).position().left);o.css("left",l+g+30);var v=s.width();if(v+g>this.host.width()-20){var x=v+g-this.host.width()+40;g-=x}m?s.css("left",l+parseInt(e(d).position().left)-s.outerWidth()):s.css("left",l+g),s.show(),o.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:s,validationrow:o}},_showvalidationpopup:function(t,i,r){var s=this.editcell,o=this.editcell.editor;if("selectedrow"==this.editmode){var s=this.editcell[i];s&&s.editor&&(o=s.editor,s.element=o)}if(o&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===r&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(r);else{var n=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(r),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.prependTo(this.table),a.prependTo(this.table),this.validationpopup=n,this.validationpopuparrow=a}var l=this.hScrollInstance,d=l.value,h=parseInt(d);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(s.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(s.element).parent().position().top)+(this.rowsheight+5)+"px");var c=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",c-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=this._gettableheight(),p=!1;c>=u&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=parseInt(e(s.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(c=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(s.editor).position().top)-this.rowsheight-5),0>c&&(c=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),this.validationpopup.css("top",c+"px"),this.validationpopuparrow.css("top",c+this.validationpopup.outerHeight()-9));var f=-h+parseInt(e(s.element).position().left);this.validationpopuparrow.css("left",h+f+30);var m=this.validationpopup.width();if(m+f>this.host.width()-20){var g=m+f-this.host.width()+40;f-=g}p?this.validationpopup.css("left",h+parseInt(e(s.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",h+f),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,r,s){var o=t.aggregates;if(o||(o=i),o){for(var n=new Array,a=0;a<o.length;a++)"count"!=o[a]&&(n[n.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==s&&(s=this.getrows()),this.virtualmode){var s=new Array;e.each(this.source._source.records,function(){s.push(this)})}if(void 0==r||1==r){var l=this.source.getAggregatedData([{name:t.datafield,aggregates:o,formatStrings:n}],this.gridlocalization,s);return l}var l=this.source.getAggregatedData([{name:t.datafield,aggregates:o}],this.gridlocalization,s);return l}}return null},getcolumnaggregateddata:function(e,t,i,r){var s=this.getcolumn(e),o=void 0==i||0==i?!1:i;if(null==t)return"";var n=s.aggregates;s.aggregates=null;var a=this._calculateaggregate(s,t,o,r),l={};return a&&(l=a[e]),s.aggregates=n,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,r){var s=this;if(i)if(r.children().remove(),r.html(""),t.aggregatesrenderer){if(i){var o=t.aggregatesrenderer(i[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,i[t.datafield]));r.html(o)}}else e.each(i,function(){var t=this;for(n in t){var i=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),o=n;o=s._getaggregatename(o),i.html(o+":"+t[n]),s.rtl&&i.addClass(s.toThemeProperty("jqx-rtl")),r.append(i)}});else if(r.children().remove(),r.html(""),t.aggregatesrenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesrenderer({},t,r,null);r.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),i=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var r=0;i>r;r++){var s=e(this.statusbar[0].cells[r]),o=this.columns.records[r],n=this._calculateaggregate(o,null,!0,t);this._updatecolumnaggregates(o,n,s)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var o=r+10,n=new Array;this.statusbar[0].cells=n;for(var a=this.getrows(),l=0;r>l;l++){var d=this.columns.records[l],h=this._calculateaggregate(d,d.aggregates,!0,a),c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth);var u=s;d.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+d.cellsalign+"-align"));var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>');t.append(p),p.css("left",i),this.rtl?p.css("z-index",o++):p.css("z-index",o--),p.width(c),p[0].left=i,d.hidden&&d.hideable?p.css("display","none"):i+=c,n[n.length]=p[0],this._updatecolumnaggregates(d,h,p)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseFloat(i)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),function(e){var t=function(){function i(e,t,i,o,n,a,l){return this.hierarchy=n,this.exportFormat=a,this.filename=l,e.beginFile(l),r(e),s(e),e.endFile(l),e.getFile()}function r(t){var i=!0;e.each(p,function(){return this.hidden?(i=!1,!1):void 0}),t.beginHeader(i);var r=0;for(var s in p){p[s].columnsDataFields&&(s=p[s].columnsDataFields[r].displayfield);var o=n(s,p[s]);t.appendHeaderCell(p[s],s,o,i,r),r++}t.endHeader(i)}function s(e){if(e.beginBody(),this.hierarchy){var t=function(i){for(var r=0;r<i.length;r+=1)void 0!==i[r]&&(e.beginRow(i[r].level),o(e,i[r],r,!0),i[r].records&&(e.beginRows(i[r].level),t(i[r].records),e.endRows(i[r].level)),e.endRow(i[r].level))};return t(u),void e.endBody()}for(var i=0;i<u.length;i+=1)void 0!==u[i]&&o(e,u[i],i);e.endBody()}function o(t,i,r,s){var o;1!=s&&t.beginRow();var n=0;for(var a in p){if(p[a].columnsDataFields&&(a=p[a].columnsDataFields[n].displayfield),o=l(r,a)){if(void 0!=o.level&&o.index-1>i.level&&o.index-1<o.maxLevel){n++;continue}void 0!=o.maxLevel&&o.index-1==o.maxLevel&&(o=e.extend({},o),o.merge=o.maxLevel-i.level-1)}if(void 0!=i.level&&void 0!=i.label&&("xml"===this.exportFormat||"json"===this.exportFormat)){var d={};d.text="group",t.appendBodyCell(i.label,d,o,i,n,"group");break}i.hasOwnProperty(a)?t.appendBodyCell(i[a],p[a],o,i,n):t.appendBodyCell("",p[a],o,i,n),n++}1!=s&&t.endRow()}function n(e,t){if(t.style)return f[t.style];var i=a();return i.length>0?i[0].style:null}function a(){return g||(g=new Array,e.each(f,function(e,t){g[g.length]={name:e,style:t}})),g}function l(e,t){var i=p[t];if(i){if(i.customCellStyles){var r=i.customCellStyles[e];if(r)return f[r]}if(i.cellStyle){if(i.cellAltStyle){var s=e%2;return 0==s?f[i.cellStyle]:f[i.cellAltStyle]}return f[i.cellStyle]}var o=a();if(o.length>0){var s=e%(o.length-1),n=o[s+1].style;return n}}return null}function d(e,t,i){var r=document.createElement("input");return r.name=t,r.value=e,r.type="hidden",i.appendChild(r),r}function h(e,t,i){var r=document.createElement("textarea");return r.name=t,r.value=e,i.appendChild(r),r}function c(e,t,i,r,s){var o=document.createElement("form");return d(e,"filename",o),d(t,"format",o),h(i,"content",o),void 0!=r&&""!=r||(r=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"http://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),o.action=r,o.method="post",s&&(o.acceptCharset=s),document.body.appendChild(o),o}var u,p,f,m,g,v={};return m=function(r,s,o,n,a,l){return this instanceof t?(u=r,p=s,f=o,this.exportTo=function(t,r,s,o){t=t.toString().toLowerCase();var n=v[t];if("undefined"==typeof n)throw"You can't export to "+t+" format.";if("pdf"===t&&void 0==o){var a=this.exportTo(t,r,t,"pdf");e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var l=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);l.cellInitialize();var d=e(a).find("th"),h=e(a).find("tr"),c=0;l.setFontSize(9.75);var m=595;switch(e.jqx.pdfExport.paperSize){case"legal":var m=612;"portrait"!==e.jqx.pdfExport.orientation&&(m=1008);break;case"letter":var m=612;"portrait"!==e.jqx.pdfExport.orientation&&(m=792);break;case"a3":var m=841;"portrait"!==e.jqx.pdfExport.orientation&&(m=1190);break;case"a4":var m=595;"portrait"!==e.jqx.pdfExport.orientation&&(m=842);break;case"a5":var m=420;"portrait"!==e.jqx.pdfExport.orientation&&(m=595)}m-=20;var g=0,x=[];if(e.each(d,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;x[e]=i,g+=i}),g>m&&e.each(x,function(e){x[e]=x[e]/g*100,x[e]=x[e]*m/100}),e.each(d,function(t){var i=x[t],r=18.75,s=l.getTextDimensions(e(this).html()),o=e(this).html();if(s.w+3>i){var n=l.splitTextToSize(o,i-3),a=n[0];o=a.length>3?a.substring(0,a.length-3)+"...":a.substring(0,1)+"...";var n=l.splitTextToSize(o,i-3),a=n[0];a!=o&&(o=a)}l.cell(10,10,i,r,o,c)}),c++,e.each(h,function(t){if(0===t)return!0;var i=e(this).children(),r=i.length>d.length;if(r){for(var s=i.length-d.length,o="",n=x[0],a=18.75,h=0;s>=h;h++){var u=i[h].innerHTML;"+"!==u&&"-"!==u||(u+=" "),"&nbsp;"===u&&(u="   "),o+=u}var p=l.getTextDimensions(o);if(p.w+3>n){var f=l.splitTextToSize(o,n-3),m=f[0];o=m.length>3?m.substring(0,m.length-3)+"...":m.substring(0,1)+"...";var f=l.splitTextToSize(o,n-3),m=f[0];m!=o&&(o=m)}l.cell(10,10,n,a,o,c);for(var h=s+1;h<i.length;h++){var t=h-s,n=x[t],a=18.75,o=e(i[h]).html(),p=l.getTextDimensions(e(i[h]).html());if(p.w+3>n){var f=l.splitTextToSize(o,n-3),m=f[0];o=m.length>3?m.substring(0,m.length-3)+"...":m.substring(0,1)+"...";var f=l.splitTextToSize(o,n-3),m=f[0];m!=o&&(o=m)}l.cell(10,10,n,a,o,c)}return c++,!0}e.each(i,function(t){var i=x[t],r=18.75,s=e(this).html(),o=l.getTextDimensions(e(this).html());if(o.w+3>i){var n=l.splitTextToSize(s,i-3),a=n[0];s=a.length>3?a.substring(0,a.length-3)+"...":a.substring(0,1)+"...";var n=l.splitTextToSize(s,i-3),a=n[0];a!=s&&(s=a)}l.cell(10,10,i,r,s,c)}),c++}),e.jqx.browser.msie&&e.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return l}return i(n,u,p,f,r,s,o)},this.exportToFile=function(t,i,r,s,o){if("pdf"===t){var n=this.exportTo(t,o,t,i);e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var a=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);"utf-8"!=s&&"UTF-8"!=s||a.setFont("courier","normal"),a.cellInitialize();var l=e(n).find("th"),d=e(n).find("tr"),h=0;a.setFontSize(9.75);var u=595;switch(e.jqx.pdfExport.paperSize){case"legal":var u=612;"portrait"!==e.jqx.pdfExport.orientation&&(u=1008);break;case"letter":var u=612;"portrait"!==e.jqx.pdfExport.orientation&&(u=792);break;case"a3":var u=841;"portrait"!==e.jqx.pdfExport.orientation&&(u=1190);break;case"a4":var u=595;"portrait"!==e.jqx.pdfExport.orientation&&(u=842);break;case"a5":var u=420;"portrait"!==e.jqx.pdfExport.orientation&&(u=595)}u-=20;var p=0,f=[];if(e.each(l,function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;f[e]=i,p+=i}),p>u&&e.each(f,function(e){f[e]=f[e]/p*100,f[e]=f[e]*u/100}),e.each(l,function(t){var i=f[t],r=18.75,s=a.getTextDimensions(e(this).html()),o=e(this).html();if(s.w+3>i){var n=a.splitTextToSize(o,i-3),l=n[0];o=l.length>3?l.substring(0,l.length-3)+"...":l.substring(0,1)+"...";var n=a.splitTextToSize(o,i-3),l=n[0];l!=o&&(o=l)}a.cell(10,10,i,r,o,h)}),h++,e.each(d,function(t){if(0===t)return!0;var i=e(this).children(),r=i.length>l.length;if(r){for(var s=i.length-l.length,o="",n=f[0],d=18.75,c=0;s>=c;c++){var u=i[c].innerHTML;"+"!==u&&"-"!==u||(u+=" "),"&nbsp;"===u&&(u="   "),o+=u}var p=a.getTextDimensions(o);if(p.w+3>n){var m=a.splitTextToSize(o,n-3),g=m[0];o=g.length>3?g.substring(0,g.length-3)+"...":g.substring(0,1)+"...";var m=a.splitTextToSize(o,n-3),g=m[0];g!=o&&(o=g)}a.cell(10,10,n,d,o,h);for(var c=s+1;c<i.length;c++){var t=c-s,n=f[t],d=18.75,o=e(i[c]).html();"&nbsp;"===o&&(o="   ");var p=a.getTextDimensions(e(i[c]).html());if(p.w+3>n){var m=a.splitTextToSize(o,n-3),g=m[0];o=g.length>3?g.substring(0,g.length-3)+"...":g.substring(0,1)+"...";var m=a.splitTextToSize(o,n-3),g=m[0];g!=o&&(o=g)}a.cell(10,10,n,d,o,h)}return h++,!0}e.each(i,function(t){var i=f[t],r=18.75,s=e(this).html();"&nbsp;"===s&&(s="   ");var o=a.getTextDimensions(e(this).html());if(o.w+3>i){var n=a.splitTextToSize(s,i-3),l=n[0];s=l.length>3?l.substring(0,l.length-3)+"...":l.substring(0,1)+"...";var n=a.splitTextToSize(s,i-3),l=n[0];l!=s&&(s=l)}a.cell(10,10,i,r,s,h)}),h++}),e.jqx.browser.msie&&e.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return void a.save(i+".pdf")}var m=this.exportTo(t,o,t,i),g=c(i,t,m,r,s);g.submit(),document.body.removeChild(g)},void(this.exportToLocalFile=function(e,t,i,r){var s=this.exportTo(e,i,r);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(s)})):new t(r,s,o,a,l)},m.extend=function(t,i){if(!(i instanceof e.jqx.dataAdapter.DataExportModuleBase))throw"The module "+t+" is not instance of DataExportModuleBase.";v[t]=i},m}();e.jqx.dataAdapter.ArrayExporter=t}(jqxBaseFramework),function(e){var t=function(){this.formatData=function(t,i,r,s){if("date"===i){var o="";if("string"==typeof t&&(o=e.jqx.dataFormat.tryparsedate(t),t=o),""===t||null===t)return"";if(o=e.jqx.dataFormat.formatdate(t,r,s),"NaN"==o.toString()||null==o)return"";t=o}else if("number"===i||"float"===i||"int"===i||"integer"==i){if(""===t||null===t)return"";if(!isNaN(new Number(t))){var n=e.jqx.dataFormat.formatnumber(t,r,s);if("NaN"==n.toString())return"";t=n}}else t=t;return null===t?"":t},this.getFormat=function(e){var t=e?e.formatString:"",i=e?e.localization:"",r="string";return r=e?e.type:"string","number"!=r&&"float"!=r||t||(t="f2"),"int"!=r&&"integer"!=r||t||(t="n0"),"date"==r&&(t||(t="d")),{type:r,formatString:t,localization:i}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}};e.jqx.dataAdapter.DataExportModuleBase=t}(jqxBaseFramework),function(e){var t=function(e){function t(e,t){if(t){var i=n.getFormat(t);e=n.formatData(e,i.type,i.formatString,i.localization)}return e='"'+e+'"'}function i(i,s){i=t(i,s),r+=i+e}var r,s,o=0,n=this;this.beginFile=function(){r=""},this.beginHeader=function(){},this.appendHeaderCell=function(e,t,r,o,n){if(r&&void 0!=r.level){if(n<r.maxLevel)return;if(n===r.maxLevel){o&&i(e.text);for(var a=0;a<r.maxLevel;a++)i("");return}}s=o,o&&i(e.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){o=0},this.beginRow=function(){(o>0||0==o&&s)&&(r+="\n"),o++},this.appendBodyCell=function(e,t,r,s,o){if(r&&void 0!=r.maxLevel&&o===r.maxLevel){i(e,t);for(var n=0;n<r.maxLevel-s.level-1;n++)i("",t)}else i(e,t)},this.endRow=function(){r=r.substring(0,r.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return r}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t(",");var r=function(){};r.prototype=new t("	"),e.jqx.dataAdapter.ArrayExporter.extend("csv",new i),e.jqx.dataAdapter.ArrayExporter.extend("tsv",new r)}(jqxBaseFramework),function(e){var t=function(){function e(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(r&&"font-size"==i&&(e[i]="100%"),t+=i+":"+e[i]+";");return t}var t,i,r=!1,s=0;this.setPDF=function(){r=!0},this.beginFile=function(e){t=r||void 0==e?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n	<head>\n		<title></title>\n		<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n	</head>\n	<body>\n		<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){t+=r?"\n	<thead><tr>":"\n			<thead>"},this.appendHeaderCell=function(s,o,n,a){if(i=a,a)if(r)t+='\n				<th style="'+e(n)+'">'+s.text+"</th>";else{if(n.disabled)return;t+=n.merge?s.width?"\n				<th colspan="+(1+n.merge)+' style="width: '+s.width+"px; "+e(n)+'">'+s.text+"</th>":"\n				<th colspan="+(1+n.merge)+' style="'+e(n)+'">'+s.text+"</th>":s.width?'\n				<th style="width: '+s.width+"px; "+e(n)+'">'+s.text+"</th>":'\n				<th style="'+e(n)+'">'+s.text+"</th>"}},this.endHeader=function(){t+=r?"\n	</tr></thead>":"\n			</thead>"},this.beginBody=function(){t+=r?"\n	<tbody>":"\n			<tbody>",s=0},this.beginRow=function(){t+=r?"\n	<tr>":"\n				<tr>",s++},this.appendBodyCell=function(o,n,a){var l=this.getFormat(n);""===o&&(o="&nbsp;"),t+=r?1!=s||i?'\n					<td style="'+e(a)+'">'+this.formatData(o,l.type,l.formatString,l.localization)+"</td>":'\n					<td style="'+e(a)+' border-top-width: 1px;">'+this.formatData(o,l.type,l.formatString,l.localization)+"</td>":a.merge?1!=s||i?"\n					<td colspan="+(1+a.merge)+' style="'+e(a)+'">'+this.formatData(o,l.type,l.formatString,l.localization)+"</td>":"\n					<td colspan="+(1+a.merge)+' style="'+e(a)+' border-top-width: 1px;">'+this.formatData(o,l.type,l.formatString,l.localization)+"</td>":1!=s||i?'\n					<td style="'+e(a)+'">'+this.formatData(o,l.type,l.formatString,l.localization)+"</td>":'\n					<td style="'+e(a)+' border-top-width: 1px;">'+this.formatData(o,l.type,l.formatString,l.localization)+"</td>"},this.endRow=function(){t+=r?"\n	</tr>":"\n				</tr>"},this.endBody=function(){t+=r?"\n	</tbody>":"\n			</tbody>"},this.endFile=function(e){t+=r||void 0==e?"\n</table>":"\n		</table>\n	</body>\n</html>\n"},this.getFile=function(){return t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t;var r=function(){};r.prototype=new t;var s=new r;e.jqx.dataAdapter.ArrayExporter.extend("html",new i),e.jqx.dataAdapter.ArrayExporter.extend("pdf",s)}(jqxBaseFramework),function(e){var t=function(){function e(e,t,i,r){var s="String",n=this.getFormat(t);null!=e&&"_AG"==e.toString().substring(0,3)?(e=e.toString().substring(3),s="String"):("date"==n.type&&(e=this.formatData(e,n.type,n.formatString,n.localization),null!==e&&""!==e||(e="",s="String")),"string"==n.type&&(null===e||void 0===e?e="":(e.toString().indexOf("&")>=0&&(e=e.toString().replace(/&/g,"&amp;")),e.toString().indexOf(">")>=0&&(e=e.toString().replace(/>/g,"&gt;")),e.toString().indexOf("<")>=0&&(e=e.toString().replace(/</g,"&lt;")),e.toString().indexOf('"')>=0&&(e=e.toString().replace(/"/g,"&quot;")),e.toString().indexOf("'")>=0&&(e=e.toString().replace(/'/g,"&apos;")))),"number"!=i.dataType&&"float"!=i.dataType&&"int"!=i.dataType&&"integer"!=i.dataType||(s="Number",e=parseFloat(e),(null===e||isNaN(e)||""===e)&&(e="",s="String"),e&&"String"!=s&&""!=e&&t&&t.formatString&&t.formatString.indexOf("p")>=0&&(e/=100),i.currencysymbol=t.localization.currencysymbol));var l=o(i);a+=i.merge?'\n				<Cell ss:MergeAcross="'+i.merge+'" ss:StyleID="'+l+'"><Data ss:Type="'+s+'">'+e+"</Data></Cell>":'\n				<Cell ss:StyleID="'+l+'"><Data ss:Type="'+s+'">'+e+"</Data></Cell>"}function t(){return c+=1,"xls-style-"+c}function i(e){for(var t in h)if(r(e,h[t])&&r(h[t],e))return t}function r(e,t){var i=!0;for(var r in e)e[r]!==t[r]&&(i=!1);return i}function s(e,t){u.startStyle(e),u.buildAlignment(t),u.buildBorder(t),u.buildFont(t),u.buildInterior(t),u.buildFormat(t),u.closeStyle(),n+=u.toString()}function o(e){if(!e)return"";var r=i(e);return"undefined"==typeof r&&(r=t(),h[r]=e,s(r,e)),r}var n,a,l,d,h,c,u={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n		<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(e){if(e["text-align"]){var t=this.stylesMap.alignment[e["text-align"]];t||(t="Left");var i='\n			<Alignment ss:Vertical="Bottom" ss:Horizontal="'+t+'"/>';this.style+=i}},buildBorder:function(e){if(e["border-color"]){var t="\n			<Borders>",i='\n				<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',r='\n				<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',s='\n				<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',o='\n				<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>';t+=i,t+=r,t+=s,t+=o,t+="\n			</Borders>",this.style+=t}},buildFont:function(e){var t=this.stylesMap.font,i="\n			<Font ";for(var r in t)"undefined"!=typeof e[r]&&("font-style"===r&&"italic"===e[r].toString().toLowerCase()?i+='ss:Italic="1" ':"font-weight"===r&&"bold"===e[r].toString().toLowerCase()?i+='ss:Bold="1" ':"color"===r&&(i+="ss:"+t[r]+'="'+e[r]+'" '));i+="/>",this.style+=i},buildInterior:function(e){var t=this.stylesMap.interior,i="\n			<Interior ",r=!1;for(var s in t)"undefined"!=typeof e[s]&&(i+="ss:"+t[s]+'="'+e[s]+'" ',r=!0);r&&(i+='ss:Pattern="Solid"'),i+="/>",this.style+=i},buildFormat:function(e){if("number"==e.dataType||"float"==e.dataType||"int"==e.dataType||"integer"==e.dataType){var t=e.formatString;""==t||-1!=t.indexOf("n")||-1!=t.indexOf("N")?this.style+='\n			<NumberFormat ss:Format="0"/>':"f"==t||"F"==t||"D"==t||-1!=t.indexOf("d")?this.style+='\n			<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=t.indexOf("p")||-1!=t.indexOf("P")?this.style+='\n			<NumberFormat ss:Format="Percent"/>':-1==t.indexOf("c")&&-1==t.indexOf("C")||(8364==parseInt(e.currencysymbol.charCodeAt(0))?this.style+='\n			<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n			<NumberFormat ss:Format="Currency"/>')}else"date"==e.dataType&&(this.style+='\n			<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n		</Style>"},toString:function(){var e=this.style;return this.style="",e}};this.beginFile=function(){h={},c=0,n='<?xml version="1.0"?>\n	<?mso-application progid="Excel.Sheet"?> \n	<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n	xmlns:o="urn:schemas-microsoft-com:office:office" \n	xmlns:x="urn:schemas-microsoft-com:office:excel" \n	xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n	xmlns:html="http://www.w3.org/TR/REC-html40"> \n	<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n	<Version>12.00</Version> \n	</DocumentProperties> \n	<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n	<WindowHeight>8130</WindowHeight> \n	<WindowWidth>15135</WindowWidth> \n	<WindowTopX>120</WindowTopX> \n	<WindowTopY>45</WindowTopY> \n	<ProtectStructure>False</ProtectStructure> \n	<ProtectWindows>False</ProtectWindows> \n	</ExcelWorkbook> \n	<Styles>'},this.beginHeader=function(){a='\n	<Worksheet ss:Name="Sheet1">\n		<Table>',l=[],d=[]},this.appendHeaderCell=function(e,t,i){var r=void 0!=e.width?e.width:10*e.text.length;a+='\n			<Column ss:Width="'+r+'"/>',l.push(e),d.push(i)},this.endHeader=function(t){if(t){this.beginRow();for(var i=0;i<l.length;i+=1)d[i].disabled||e.call(this,l[i].text,null,d[i]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(e){if(void 0!=e){a+="\n			";for(var t=0;e>t;t++)a+="	";return void(a+="<Row>")}a+="\n			<Row>"},this.beginRows=function(e){a+="\n				<Rows>"},this.appendBodyCell=function(t,i,r,s){e.call(this,t,i,r,s)},this.endRow=function(e){if(void 0!=e){a+="\n			";for(var t=0;e>t;t++)a+="	";return void(a+="</Row>")}a+="\n			</Row>"},this.endRows=function(e){if(void 0!=e){a+="\n			";for(var t=0;e>t;t++)a+="	";return void(a+="</Rows>")}},this.endBody=function(){a+="\n		</Table>"},this.endFile=function(){a+="\n	</Worksheet>\n</Workbook>",n+="\n	</Styles>"},this.getFile=function(){return n+a}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),function(e){var t=function(){var e,t,i;this.beginFile=function(){e='<?xml version="1.0" encoding="UTF-8" ?>',e+="\n<table>"},this.beginHeader=function(){t=[]},this.appendHeaderCell=function(e,i){t.push(i)},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(t){if(void 0!=t&&this.hierarchy){e+="\n	";for(var r=0;t>r;r++)e+="		";return e+="<row>",void(i=0)}e+="\n	<row>",i=0},this.beginRows=function(t){if(void 0!=t){e+="\n		";for(var r=0;t>r;r++)e+="		";
return e+="<rows>",void(i=0)}e+="\n		<rows>"},this.appendBodyCell=function(r,s,o,n,a,l){var d=this.getFormat(s);if(r=this.formatData(r,d.type,d.formatString,d.localization),"string"==d.type&&(r.toString().indexOf("&")>=0&&(r=r.toString().replace(/&/g,"&amp;")),r.toString().indexOf(">")>=0&&(r=r.toString().replace(/>/g,"&gt;")),r.toString().indexOf("<")>=0&&(r=r.toString().replace(/</g,"&lt;")),r.toString().indexOf('"')>=0&&(r=r.toString().replace(/"/g,"&quot;")),r.toString().indexOf("'")>=0&&(r=r.toString().replace(/'/g,"&apos;"))),void 0!=n.level)if(this.hierarchy){e+="\n		";for(var h=0;h<n.level;h++)e+="		";e+=void 0===l?"<"+t[i]+">"+r+"</"+t[i]+">":"<"+l+">"+r+"</"+l+">"}else e+=void 0!=l?"\n		<"+l+">"+r+"</"+l+">":"\n		<"+t[i]+">"+r+"</"+t[i]+">";else e+="\n		<"+t[i]+">"+r+"</"+t[i]+">";i++},this.endRow=function(t){if(void 0!=t&&this.hierarchy){e+="\n	";for(var r=0;t>r;r++)e+="		";return e+="</row>",void(i=0)}e+="\n	</row>",i=0},this.endRows=function(t){if(void 0!=t){e+="\n		";for(var r=0;t>r;r++)e+="		";return e+="</rows>",void(i=0)}e+="\n		</rows>"},this.endBody=function(){},this.endFile=function(){e+="\n</table>"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),function(e){function t(e){return'"'+e.replace(h,function(e){var t=c[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function i(e){return 10>e?"0"+e:e}function r(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+'Z"':"null"}function s(e){var t,i=e.length,r=[];for(t=0;i>t;t++)r.push(l(t,e)||"null");return"["+r.join(",")+"]"}function o(e){var i,r,s=[];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r=l(i,e),r&&s.push(t(i)+":"+r));return"{"+s.join(",")+"}"}function n(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return r(e);case"[object Array]":return s(e)}return o(e)}function a(e,i){switch(i){case"string":return t(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function l(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),r=typeof i),/(number|float|int|integer|string|boolean)/.test(r)||!i&&"object"===r?a(i,r):n(i)}function d(e){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(e):l("",{"":e})}var h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u=function(){var e=this;this.prepareData=function(t,i){if(i){var r=e.getFormat(i);t=e.formatData(t,r.type,r.formatString,r.localization)}return t};var t,i,r,s=[],o=0;this.beginFile=function(){i=[]},this.beginHeader=function(){},this.appendHeaderCell=function(e){},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(){hierarchy?s[o]={}:r={}},this.beginRows=function(){s[o].rows=[],o++,s[o]={}},this.endRows=function(){o--},this.appendBodyCell=function(e,t){var i=this.prepareData(e,t);hierarchy?s[o][t.text]=i:r[t.text]=i},this.endRow=function(){hierarchy?0==o?i.push(s[o]):s[o-1].rows.push(s[o]):i.push(r)},this.endBody=function(){},this.endFile=function(){t=d(i)},this.getFile=function(){return t}};u.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("json",new u)}(jqxBaseFramework);var pdfDataExport=function(){function e(r,s,o,n){r="undefined"==typeof r?"p":r.toString().toLowerCase(),"undefined"==typeof s&&(s="mm"),"undefined"==typeof o&&(o="a4"),"undefined"==typeof n&&"undefined"==typeof zpipe&&(n=!1);var a,l,d,h,c,u,p,f,m,g=o.toString().toLowerCase(),v="0.9.0rc2",x=[],w=0,b=n,y="1.3",_={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},j="0 g",q="0 G",T=0,C=[],k=2,S=!1,D=[],I={},P={},A=16,B=.200025,M={title:"",subject:"",author:"",keywords:"",creator:""},H=0,z=0,E={},O=new i(E),L=function(e){return e.toFixed(2)},N=function(e){return e.toFixed(3)},F=function(e){var t=e.toFixed(0);return 10>e?"0"+t:t},R=function(e){var t=e.toFixed(0);return t.length<10?new Array(11-t.length).join("0")+t:t},W=function(e){S?C[T].push(e):(x.push(e),w+=e.length+1)},V=function(){return k++,D[k]=w,W(k+" 0 obj"),k},G=function(e){W("stream"),W(e),W("endstream")},U=function(){p=d*h,f=l*h;var e,t,i,r,s,o;for(e=1;T>=e;e++){if(V(),W("<</Type /Page"),W("/Parent 1 0 R"),W("/Resources 2 0 R"),W("/Contents "+(k+1)+" 0 R>>"),W("endobj"),t=C[e].join("\n"),V(),b){for(i=[],r=0;r<t.length;++r)i[r]=t.charCodeAt(r);o=adler32cs.from(t),s=new Deflater(6),s.append(new Uint8Array(i)),t=s.flush(),i=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&o,o>>8&255,o>>16&255,o>>24&255])],t="";for(r in i)i.hasOwnProperty(r)&&(t+=String.fromCharCode.apply(null,i[r]));W("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else W("<</Length "+t.length+">>");G(t),W("endobj")}for(D[1]=w,W("1 0 obj"),W("<</Type /Pages"),m="/Kids [",r=0;T>r;r++)m+=3+2*r+" 0 R ";W(m+"]"),W("/Count "+T),W("/MediaBox [0 0 "+L(p)+" "+L(f)+"]"),W(">>"),W("endobj")},$=function(e){e.objectNumber=V(),W("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&W("/Encoding/"+e.encoding),W("/Subtype/Type1>>"),W("endobj")},Y=function(){var e;for(e in I)I.hasOwnProperty(e)&&$(I[e])},K=function(){O.publish("putXobjectDict")},X=function(){W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),W("/Font <<");var e;for(e in I)I.hasOwnProperty(e)&&W("/"+e+" "+I[e].objectNumber+" 0 R");W(">>"),W("/XObject <<"),K(),W(">>")},Z=function(){Y(),O.publish("putResources"),D[2]=w,W("2 0 obj"),W("<<"),X(),W(">>"),W("endobj"),O.publish("postPutResources")},J=function(e,t,i){var r;P[t]===r&&(P[t]={}),P[t][i]=e},Q=function(e,i,r,s){var o="F"+(t(I)+1).toString(10),n=I[o]={id:o,PostScriptName:e,fontName:i,fontStyle:r,encoding:s,metadata:{}};return J(o,i,r),O.publish("addFont",n),o},ee=function(){var e,t,i,r,s="helvetica",o="times",n="courier",a="normal",l="bold",d="italic",h="bolditalic",c="StandardEncoding",u=[["Helvetica",s,a],["Helvetica-Bold",s,l],["Helvetica-Oblique",s,d],["Helvetica-BoldOblique",s,h],["Courier",n,a],["Courier-Bold",n,l],["Courier-Oblique",n,d],["Courier-BoldOblique",n,h],["Times-Roman",o,a],["Times-Bold",o,l],["Times-Italic",o,d],["Times-BoldItalic",o,h]];for(e=0,t=u.length;t>e;e++){var p=c;i=Q(u[e][0],u[e][1],u[e][2],p),r=u[e][0].split("-"),J(i,r[0],r[1]||"")}O.publish("addFonts",{fonts:I,dictionary:P})},te=function(e,t){var i,r,s,o,n,l,d,h,c,u;if(t===s&&(t={}),o=t.sourceEncoding?o:"Unicode",l=t.outputEncoding,(t.autoencode||l)&&I[a].metadata&&I[a].metadata[o]&&I[a].metadata[o].encoding&&(n=I[a].metadata[o].encoding,!l&&I[a].encoding&&(l=I[a].encoding),!l&&n.codePages&&(l=n.codePages[0]),"string"==typeof l&&(l=n[l]),l)){for(h=!1,d=[],i=0,r=e.length;r>i;i++)c=l[e.charCodeAt(i)],c?d.push(String.fromCharCode(c)):d.push(e[i]),d[i].charCodeAt(0)>>8&&(h=!0);e=d.join("")}for(i=e.length;h===s&&0!==i;)e.charCodeAt(i-1)>>8&&(h=!0),i--;if(h){for(d=t.noBOM?[]:[254,255],i=0,r=e.length;r>i;i++){if(c=e.charCodeAt(i),u=c>>8,u>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");d.push(u),d.push(c-(u<<8))}return String.fromCharCode.apply(s,d)}return e},ie=function(e,t){return te(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},re=function(){W("/Producer (pdfDataExport "+v+")"),M.title&&W("/Title ("+ie(M.title)+")"),M.subject&&W("/Subject ("+ie(M.subject)+")"),M.author&&W("/Author ("+ie(M.author)+")"),M.keywords&&W("/Keywords ("+ie(M.keywords)+")"),M.creator&&W("/Creator ("+ie(M.creator)+")");var e=new Date;W("/CreationDate (D:"+[e.getFullYear(),F(e.getMonth()+1),F(e.getDate()),F(e.getHours()),F(e.getMinutes()),F(e.getSeconds())].join("")+")")},se=function(){W("/Type /Catalog"),W("/Pages 1 0 R"),W("/OpenAction [3 0 R /FitH null]"),W("/PageLayout /OneColumn"),O.publish("putCatalog")},oe=function(){W("/Size "+(k+1)),W("/Root "+k+" 0 R"),W("/Info "+(k-1)+" 0 R")},ne=function(){T++,S=!0,C[T]=[]},ae=function(){ne(),W(L(B*h)+" w"),W(q),0!==H&&W(H.toString(10)+" J"),0!==z&&W(z.toString(10)+" j"),O.publish("addPage",{pageNumber:T})},le=function(e,t){var i,r;e===r&&(e=I[a].fontName),t===r&&(t=I[a].fontStyle);try{i=P[e][t]}catch(s){i=r}if(!i)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return i},de=function(){S=!1,x=[],D=[],W("%PDF-"+y),U(),Z(),V(),W("<<"),re(),W(">>"),W("endobj"),V(),W("<<"),se(),W(">>"),W("endobj");var e,t=w;for(W("xref"),W("0 "+(k+1)),W("0000000000 65535 f "),e=1;k>=e;e++)W(R(D[e])+" 00000 n ");return W("trailer"),W("<<"),oe(),W(">>"),W("startxref"),W(t),W("%%EOF"),S=!0,x.join("\n")},he=function(e){var t="S";return"F"===e?t="f":"FD"!==e&&"DF"!==e||(t="B"),t},ce=function(e,t){var i,r,s,o,n,a;switch(e){case i:return de();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return E.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return E.output("dataurlnewwindow")}for(r=de(),s=r.length,o=new Uint8Array(new ArrayBuffer(s)),n=0;s>n;n++)o[n]=r.charCodeAt(n);a=new Blob([o],{type:"application/pdf"}),saveAs(a,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(de());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(de());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(de()));break;default:throw new Error('Output type "'+e+'" is not supported.')}};if("pt"===s)h=1;else if("mm"===s)h=72/25.4;else if("cm"===s)h=72/2.54;else{if("in"!==s)throw"Invalid unit: "+s;h=72}if(_.hasOwnProperty(g))l=_[g][1]/h,d=_[g][0]/h;else try{l=o[1],d=o[0]}catch(ue){throw"Invalid format: "+o}if("p"===r||"portrait"===r)r="p",d>l&&(c=d,d=l,l=c);else{if("l"!==r&&"landscape"!==r)throw"Invalid orientation: "+r;r="l",l>d&&(c=d,d=l,l=c)}E.internal={pdfEscape:ie,getStyle:he,getFont:function(){return I[le.apply(E,arguments)]},getFontSize:function(){return A},btoa:btoa,write:function(e,t,i,r){W(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return L(e*h)},getVerticalCoordinateString:function(e){return L((l-e)*h)},collections:{},newObject:V,putStream:G,events:O,scaleFactor:h,pageSize:{width:d,height:l},output:function(e,t){return ce(e,t)}},E.addPage=function(){return ae(),this};var pe=["","0","00","000","0000"],fe=function(e,t){for(var i,r=["FEFF"],s=0,o=e.length;o>s;++s)i=e.charCodeAt(s).toString(16).toUpperCase(),r.push(pe[4-i.length],i);return r.join("")};E.text16=function(e,t,i,r){var s,o,n,d,c,u,p;if("number"==typeof e&&(o=i,n=e,d=t,e=o,t=n,i=d),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),"undefined"==typeof r?r={noBOM:!0,autoencode:!0}:(r.noBOM===s&&(r.noBOM=!0),r.autoencode===s&&(r.autoencode=!0)),r.autoencode=!1,"string"==typeof e)u=fe(e,r);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(c=e.concat(),p=c.length-1;-1!==p;p--)c[p]=fe(c[p],r);u=c.join("> Tj\nT* <")}return W("BT\n/"+a+" "+A+" Tf\n"+A+" TL\n"+j+"\n"+L(t*h)+" "+L((l-i)*h)+" Td\n<"+u+"> Tj\nET"),this},E.text=function(e,t,i,r){var s,o,n,d,c,u,p;if("number"==typeof e&&(o=i,n=e,d=t,e=o,t=n,i=d),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),"undefined"==typeof r?r={noBOM:!0,autoencode:!0}:(r.noBOM===s&&(r.noBOM=!0),r.autoencode===s&&(r.autoencode=!0)),"string"==typeof e)u=ie(e,r);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(c=e.concat(),p=c.length-1;-1!==p;p--)c[p]=ie(c[p],r);u=c.join(") Tj\nT* (")}return W("BT\n/"+a+" "+A+" Tf\n"+A+" TL\n"+j+"\n"+L(t*h)+" "+L((l-i)*h)+" Td\n("+u+") Tj\nET"),this},E.line=function(e,t,i,r){return W(L(e*h)+" "+L((l-t)*h)+" m "+L(i*h)+" "+L((l-r)*h)+" l S"),this},E.lines=function(e,t,i,r,s){var o,n,a,d,c,u,p,f,m,g,v,x,w,b,y;for("number"==typeof e&&(n=i,a=e,d=t,e=n,t=a,i=d),s=he(s),r=r===o?[1,1]:r,W(N(t*h)+" "+N((l-i)*h)+" m "),c=r[0],u=r[1],f=e.length,b=t,y=i,p=0;f>p;p++)m=e[p],2===m.length?(b=m[0]*c+b,y=m[1]*u+y,W(N(b*h)+" "+N((l-y)*h)+" l")):(g=m[0]*c+b,v=m[1]*u+y,x=m[2]*c+b,w=m[3]*u+y,b=m[4]*c+b,y=m[5]*u+y,W(N(g*h)+" "+N((l-v)*h)+" "+N(x*h)+" "+N((l-w)*h)+" "+N(b*h)+" "+N((l-y)*h)+" c"));return W(s),this},E.rect=function(e,t,i,r,s){var o=he(s);return W([L(e*h),L((l-t)*h),L(i*h),L(-r*h),"re",o].join(" ")),this},E.triangle=function(e,t,i,r,s,o,n){return this.lines([[i-e,r-t],[s-i,o-r],[e-s,t-o]],e,t,[1,1],n),this},E.roundedRect=function(e,t,i,r,s,o,n){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*s,0],[s*a,0,s,o-o*a,s,o],[0,r-2*o],[0,o*a,-(s*a),o,-s,o],[-i+2*s,0],[-(s*a),0,-s,-(o*a),-s,-o],[0,-r+2*o],[0,-(o*a),s*a,-o,s,-o]],e+s,t,[1,1],n),this},E.ellipse=function(e,t,i,r,s){var o=he(s),n=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*r;return W([L((e+i)*h),L((l-t)*h),"m",L((e+i)*h),L((l-(t-a))*h),L((e+n)*h),L((l-(t-r))*h),L(e*h),L((l-(t-r))*h),"c"].join(" ")),W([L((e-n)*h),L((l-(t-r))*h),L((e-i)*h),L((l-(t-a))*h),L((e-i)*h),L((l-t)*h),"c"].join(" ")),W([L((e-i)*h),L((l-(t+a))*h),L((e-n)*h),L((l-(t+r))*h),L(e*h),L((l-(t+r))*h),"c"].join(" ")),W([L((e+n)*h),L((l-(t+r))*h),L((e+i)*h),L((l-(t+a))*h),L((e+i)*h),L((l-t)*h),"c",o].join(" ")),this},E.circle=function(e,t,i,r){return this.ellipse(e,t,i,i,r)},E.setProperties=function(e){var t;for(t in M)M.hasOwnProperty(t)&&e[t]&&(M[t]=e[t]);return this},E.setFontSize=function(e){return A=e,this},E.setFont=function(e,t){return a=le(e,t),this},E.setFontStyle=E.setFontType=function(e){var t;return a=le(t,e),this},E.getFontList=function(){var e,t,i,r={};for(e in P)if(P.hasOwnProperty(e)){r[e]=i=[];for(t in P[e])P[e].hasOwnProperty(t)&&i.push(t)}return r},E.setLineWidth=function(e){return W((e*h).toFixed(2)+" w"),this},E.setDrawColor=function(e,t,i,r){var s;return s=void 0===t||void 0===r&&e===t===i?"string"==typeof e?e+" G":L(e/255)+" G":void 0===r?"string"==typeof e?[e,t,i,"RG"].join(" "):[L(e/255),L(t/255),L(i/255),"RG"].join(" "):"string"==typeof e?[e,t,i,r,"K"].join(" "):[L(e),L(t),L(i),L(r),"K"].join(" "),W(s),this},E.setFillColor=function(e,t,i,r){var s;return s=void 0===t||void 0===r&&e===t===i?"string"==typeof e?e+" g":L(e/255)+" g":void 0===r?"string"==typeof e?[e,t,i,"rg"].join(" "):[L(e/255),L(t/255),L(i/255),"rg"].join(" "):"string"==typeof e?[e,t,i,r,"k"].join(" "):[L(e),L(t),L(i),L(r),"k"].join(" "),W(s),this},E.setTextColor=function(e,t,i){return j=0===e&&0===t&&0===i||"undefined"==typeof t?N(e/255)+" g":[N(e/255),N(t/255),N(i/255),"rg"].join(" "),this},E.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},E.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H=t,W(t.toString(10)+" J"),this},E.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return z=t,W(t.toString(10)+" j"),this},E.output=ce,E.save=function(e){E.output("save",e)};for(u in e.API)e.API.hasOwnProperty(u)&&("events"===u&&e.API.events.length?!function(e,t){var i,r,s;for(s=t.length-1;-1!==s;s--)i=t[s][0],r=t[s][1],e.subscribe.apply(e,[i].concat("function"==typeof r?[r]:r))}(O,e.API.events):E[u]=e.API[u]);return ee(),a="F1",ae(),O.publish("initialized"),E}"undefined"==typeof btoa&&(window.btoa=function(e){var t,i,r,s,o,n,a,l,d,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=h.split(""),u=0,p=0,f="",m=[];do t=e.charCodeAt(u++),i=e.charCodeAt(u++),r=e.charCodeAt(u++),l=t<<16|i<<8|r,s=l>>18&63,o=l>>12&63,n=l>>6&63,a=63&l,m[p++]=c[s]+c[o]+c[n]+c[a];while(u<e.length);return f=m.join(""),d=e.length%3,(d?f.slice(0,d-3):f)+"===".slice(d||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,i,r,s,o,n,a,l,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,c=0,u="",p=[];if(!e)return e;e+="";do s=d.indexOf(e.charAt(h++)),o=d.indexOf(e.charAt(h++)),n=d.indexOf(e.charAt(h++)),a=d.indexOf(e.charAt(h++)),l=s<<18|o<<12|n<<6|a,t=l>>16&255,i=l>>8&255,r=255&l,64===n?p[c++]=String.fromCharCode(t):64===a?p[c++]=String.fromCharCode(t,i):p[c++]=String.fromCharCode(t,i,r);while(h<e.length);return u=p.join("")});var t="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},i=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var i,r,s,o,n=this.topics[e],a=[],l=function(){};for(t=Array.prototype.slice.call(arguments,1),r=0,s=n.length;s>r;r++)o=n[r],i=o[0],o[1]&&(o[0]=l,a.push(r)),i.apply(this.context,t);for(r=0,s=a.length;s>r;r++)n.splice(a[r],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t,i,r=this.topics[e.topic];for(t=0,i=r.length;i>t;t++)r[t][0]===e.callback&&r.splice(t,1)}}};return e.API={events:[]},e}();!function(e){var t,i,r,s=0,o=0,n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,d=function(e,t,i,r,s){n={x:e,y:t,w:i,h:r,ln:s}},h=function(){return n},c=function(e){s=e},u=function(){return s},p=function(e){o=e},f=function(e){return o};e.getTextDimensions=function(e){t=this.internal.getFont().fontName,i=this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var s,o,n=19.049976/25.4;return o=document.createElement("font"),o.id="pdfDataExportCell",o.style.fontStyle=r,o.style.fontName=t,o.style.fontSize=i+"pt",o.innerHTML=e,document.body.appendChild(o),s={w:(o.offsetWidth+1)*n,h:(o.offsetHeight+1)*n},document.body.removeChild(o),s},e.cellAddPage=function(){this.addPage(),d(void 0,void 0,void 0,void 0,void 0),l=!0,a+=1,p(1)},e.cellInitialize=function(){s=0,n={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,p(0)},e.cell=function(e,t,i,r,s,o){this.lnMod=void 0===this.lnMod?0:this.lnMod,this.printingHeaderRow!==!0&&0!==this.lnMod&&(o+=this.lnMod),(o*r+t+2*r)/a>=this.internal.pageSize.height&&1===a&&!l?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1),0===u()&&c(Math.round((this.internal.pageSize.height-2*r)/r))):l&&h().ln!==o&&f()===u()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1));var n=h(),m=(this.getTextDimensions(s),1);void 0!==n.x&&n.ln===o&&(e=n.x+n.w),void 0!==n.y&&n.y===t&&(t=n.y),void 0!==n.h&&n.h===r&&(r=n.h),void 0!==n.ln&&n.ln===o&&(o=n.ln,m=0),l?t=r*(f()+m):t+=r*Math.abs(u()*a-o-u()),this.rect(e,t,i,r);var g=/[--]/.test(s);return g?this.text16(s,e+3,t+r-3):this.text(s,e+3,t+r-3),p(f()+m),d(e,t,i,r,o),this},e.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},e.arrayMax=function(e,t){var i,r,s,o=e[0];for(i=0,r=e.length;r>i;i+=1)s=e[i],t?-1===t(o,s)&&(o=s):s>o&&(o=s);return o},e.table=function(t,i,r){var s,o,n,a,l,d,h,c,u,p,f,m,g=[],v=[],x={},w={},b=[],y=[];if(this.lnMod=0,r&&(o=r.autoSize||!1,n=this.printHeaders=r.printHeaders||!0,a=r.autoStretch||!0),!t)throw"No data for PDF table";if(void 0===i||null===i)g=this.getKeys(t[0]);else if(i[0]&&"string"!=typeof i[0])for(l=0,d=i.length;d>l;l+=1)s=i[l],g.push(s.name),v.push(s.prompt);else g=i;if(r.autoSize)for(m=function(e){return e[s]},l=0,d=g.length;d>l;l+=1){for(s=g[l],x[s]=t.map(m),b.push(this.getTextDimensions(v[l]||s).w),c=x[s],u=0,d=c.length;d>u;u+=1)h=c[u],b.push(this.getTextDimensions(h).w);w[s]=e.arrayMax(b)}if(r.printHeaders){for(l=0,d=g.length;d>l;l+=1)s=g[l],y.push([10,10,w[s],25,String(v.length?v[l]:s)]);this.setTableHeaderRow(y),this.printHeaderRow(1)}for(l=0,d=t.length;d>l;l+=1)for(p=t[l],u=0,f=g.length;f>u;u+=1)s=g[u],this.cell(10,10,w[s],25,String(p[s]),l+2);return this},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,i,r,s;for(this.printingHeaderRow=!0,r=0,s=this.tableHeaderRow.length;s>r;r+=1)t=this.tableHeaderRow[r],i=[].concat(t),this.cell.apply(this,i.concat(e));this.printingHeaderRow=!1}}(pdfDataExport.API),function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var i,r,s,o=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,n=o.fof?o.fof:1,a=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,d=0,h=o[0]||n,c=[];for(i=0,r=e.length;r>i;i++)s=e.charCodeAt(i),c.push((o[s]||h)/n+(a[s]&&a[s][d]||0)/l),d=s;return c},i=function(e){for(var t=e.length,i=0;t;)t--,i+=e[t];return i},r=(e.getStringUnitWidth=function(e,r){return i(t.call(this,e,r))},function(e,t,i,r){for(var s=[],o=0,n=e.length,a=0;o!==n&&a+t[o]<i;)a+=t[o],o++;s.push(e.slice(0,o));var l=o;for(a=0;o!==n;)a+t[o]>r&&(s.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&s.push(e.slice(l,o)),s}),s=function(e,s,o){o||(o={});var n,a,l,d,h,c=t(" ",o)[0],u=e.split(" "),p=[],f=[p],m=o.textIndent||0,g=0,v=0;for(l=0,d=u.length;d>l;l++)if(n=u[l],a=t(n,o),v=i(a),m+g+v>s){if(v>s){for(h=r(n,a,s-(m+g),s),p.push(h.shift()),p=[h.pop()];h.length;)f.push([h.shift()]);v=i(a.slice(n.length-p[0].length))}else p=[n];f.push(p),m=v,g=c}else p.push(n),m+=g+v,g=c;var x=[];for(l=0,d=f.length;d>l;l++)x.push(f[l].join(" "));return x};e.splitTextToSize=function(e,t,i){i||(i={});var r,o=i.fontSize||this.internal.getFontSize(),n=function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var r=this.internal.getFont(e.fontName,e.fontStyle),s="Unicode";return r.metadata[s]?{widths:r.metadata[s].widths||t,kerning:r.metadata[s].kerning||i}:{widths:t,kerning:i}}.call(this,i);r=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e];var a=1*this.internal.scaleFactor*t/o;n.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/o:0;var l,d,h=[];for(l=0,d=r.length;d>l;l++)h=h.concat(s(r[l],a,n));return h}}(pdfDataExport.API),function(e){var t="addImage_",i=function(e){var t,i;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var r=256*e.charCodeAt(4)+e.charCodeAt(5),s=4,o=e.length;o>s;){if(s+=r,255!==e.charCodeAt(s))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(s+1))return i=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),t=256*e.charCodeAt(s+7)+e.charCodeAt(s+8),[t,i];s+=2,r=256*e.charCodeAt(s)+e.charCodeAt(s+1)}},r=function(e){var t=this.internal.newObject(),i=this.internal.write,r=this.internal.putStream;if(e.n=t,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+e.w),i("/Height "+e.h),"Indexed"===e.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(i("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+e.bpc),"f"in e&&i("/Filter /"+e.f),"dp"in e&&i("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var s="",o=0;o<e.trns.length;o++)s+=e[s][o]+" "+e.trns[o]+" ",i("/Mask ["+s+"]");"smask"in e&&i("/SMask "+(t+1)+" 0 R"),i("/Length "+e.data.length+">>"),r(e.data),i("endobj")},s=function(){var e=this.internal.collections[t+"images"];for(var i in e)r.call(this,e[i])},o=function(){var e,i=this.internal.collections[t+"images"],r=this.internal.write;for(var s in i)e=i[s],r("/I"+e.i,e.n,"0","R")};e.addImage=function(e,r,n,a,l,d){if("object"==typeof e&&1===e.nodeType){var h=document.createElement("canvas");h.width=e.clientWidth,h.height=e.clientHeight;var c=h.getContext("2d");if(!c)throw"addImage requires canvas to be supported by browser.";c.drawImage(e,0,0,h.width,h.height),e=h.toDataURL("image/jpeg"),r="JPEG"}if("JPEG"!==r.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+r+"'");var u,p=this.internal.collections[t+"images"],f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),p?u=Object.keys?Object.keys(p).length:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(p):(u=0,this.internal.collections[t+"images"]=p={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o));var g=i(e),v={w:g[0],h:g[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:u,data:e};return p[u]=v,l||d||(l=-96,d=-96),0>l&&(l=-1*v.w*72/l/this.internal.scaleFactor),0>d&&(d=-1*v.h*72/d/this.internal.scaleFactor),0===l&&(l=d*v.w/v.h),0===d&&(d=l*v.h/v.w),this.internal.write("q",f(l),"0 0",f(d),f(n),m(a+d),"cm /I"+v.i,"Do Q"),this}}(pdfDataExport.API),function(e){var t=function(e){for(var t="0123456789abcdef",i="klmnopqrstuvwxyz",r={},s=0;s<i.length;s++)r[i[s]]=t[s];var o,n,a,l,d,h={},c=1,u=h,p=[],f="",m="",g=e.length-1;for(s=1;s!=g;)d=e[s],s+=1,"'"==d?n?(l=n.join(""),n=o):n=[]:n?n.push(d):"{"==d?(p.push([u,l]),u={},l=o):"}"==d?(a=p.pop(),a[0][a[1]]=u,l=o,u=a[0]):"-"==d?c=-1:l===o?r.hasOwnProperty(d)?(f+=r[d],l=parseInt(f,16)*c,c=1,f=""):f+=d:r.hasOwnProperty(d)?(m+=r[d],u[l]=parseInt(m,16)*c,c=1,l=o,m=""):m+=d;return h},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},s={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,i,o,n,a,l="Unicode";for(i in e.fonts)e.fonts.hasOwnProperty(i)&&(t=e.fonts[i],o=s[l][t.PostScriptName],o&&(n=t.metadata[l]?t.metadata[l]:t.metadata[l]={},n.widths=o.widths,n.kerning=o.kerning),a=r[l][t.PostScriptName],a&&(n=t.metadata[l]?t.metadata[l]:t.metadata[l]={},n.encoding=a,a.codePages&&a.codePages.length&&(t.encoding=a.codePages[0])))}])}(pdfDataExport.API);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){var t=e.document,i=function(){return e.URL||e.webkitURL||e},r=e.URL||e.webkitURL||e,s=$("<a></a>")[0],o="download"in s,n=function(i){var r=t.createEvent("MouseEvents");return r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(r)},a=e.webkitRequestFileSystem,l=e.requestFileSystem||a||e.mozRequestFileSystem,d=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},h="application/octet-stream",c=0,u=[],p=function(){for(var e=u.length;e--;){var t=u[e];"string"==typeof t?r.revokeObjectURL(t):t.remove()}u.length=0},f=function(e,t,i){t=[].concat(t);for(var r=t.length;r--;){var s=e["on"+t[r]];if("function"==typeof s)try{s.call(e,i||e)}catch(o){d(o)}}},m=function(t,r){var d,p,m,g=this,v=t.type,x=!1,w=function(){var e=i().createObjectURL(t);return u.push(e),e},b=function(){f(g,"writestart progress write writeend".split(" "))},y=function(){!x&&d||(d=w(t)),p&&(p.location.href=d),g.readyState=g.DONE,b()},_=function(e){return function(){return g.readyState!==g.DONE?e.apply(this,arguments):void 0}},j={create:!0,exclusive:!1};return g.readyState=g.INIT,r||(r="download"),o&&(d=w(t),s.href=d,s.download=r,n(s))?(g.readyState=g.DONE,void b()):(e.chrome&&v&&v!==h&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,h),x=!0),a&&"download"!==r&&(r+=".download"),p=v===h||a?e:e.open(),l?(c+=t.size,void l(e.TEMPORARY,c,_(function(e){e.root.getDirectory("saved",j,_(function(e){var i=function(){e.getFile(r,j,_(function(e){e.createWriter(_(function(i){i.onwriteend=function(t){p.location.href=e.toURL(),u.push(e),g.readyState=g.DONE,f(g,"writeend",t)},i.onerror=function(){var e=i.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach(function(e){i["on"+e]=g["on"+e]}),i.write(t),g.abort=function(){i.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),y)}),y)};e.getFile(r,{create:!1},_(function(e){e.remove(),i()}),_(function(e){e.code===e.NOT_FOUND_ERR?i():y()}))}),y)}),y)):void y())},g=m.prototype,v=function(e,t){return new m(e,t)};return g.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,e.addEventListener&&e.addEventListener("unload",p,!1),v}(self);!function(e){e.output=function(e,t){return this.internal.output(e,t)}}(pdfDataExport.API),function(e){e.extend(e.jqx._jqxGrid.prototype,{exportdata:function(t,i,r,s,o,n,a){if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";void 0==r&&(r=!0);var l=this;if(void 0==s){var s=this.getrows();if(0==s.length)throw"No data to export."}this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var d=void 0!=o?o:!1,h={},c={},u=this.host.find(".jqx-grid-cell:first"),p=this.host.find(".jqx-grid-cell-alt:first");u.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),u.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),p.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),p.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),u.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),u.removeClass(this.toThemeProperty("jqx-fill-state-hover")),p.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),p.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var f="cell",m=1,g="column",v=1,x=[],w=0;w<this.columns.records.length;w++){var b=this.columns.records[w];if(""!=b.cellclassname)if(b.customCellStyles=new Array,"string"==typeof b.cellclassname)for(var y=0;y<s.length;y++)b.customCellStyles[y]=b.cellclassname;else for(var y=0;y<s.length;y++){var _=this.getrowboundindex(y),j=b.cellclassname(_,b.displayfield,s[y][b.displayfield],s[y]);j&&(b.customCellStyles[y]=j)}}var q=new Array,T=null,C=null,k=null;if(e.each(this.columns.records,function(i){var o=e(l.table[0].rows[0].cells[i]);if(l.table[0].rows.length>1){var n=e(l.table[0].rows[1].cells[i]);k||(k=n)}C||(C=o);var a=this,u=function(e){if(e.removeClass(l.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(l.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(l.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(l.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(u(o),n&&u(n),null==this.displayfield)return!0;l.showaggregates&&l.getcolumnaggregateddata&&x.push(l.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,s));var p=l._getexportcolumntype(this);!this.exportable||this.hidden&&!d||(h[this.displayfield]={},h[this.displayfield].text=this.text,h[this.displayfield].width=parseInt(this.width),isNaN(h[this.displayfield].width)&&(h[this.displayfield].width=60),h[this.displayfield].formatString=this.cellsformat,h[this.displayfield].localization=l.gridlocalization,h[this.displayfield].type=p,h[this.displayfield].cellsAlign=this.cellsalign,h[this.displayfield].hidden=!r,h[this.displayfield].displayfield=this.displayfield,q.push(h[this.displayfield])),f="cell"+m;var w=e(this.element);if(void 0==this.element&&(w=e(this.uielement)),T?a._rendered||(w=T,o=C,n=k):T=w,g="column"+v,"html"==t||"xls"==t||"pdf"==t){var b=function(e,i,r,s,o,n,a,l,u){c[e]={},void 0!=i&&(c[e]["font-size"]=i.css("font-size"),c[e]["font-weight"]=i.css("font-weight"),c[e]["font-style"]=i.css("font-style"),c[e]["background-color"]=n._getexportcolor(i.css("background-color")),c[e].color=n._getexportcolor(i.css("color")),c[e]["border-color"]=n._getexportcolor(i.css("border-top-color")),r?c[e]["text-align"]=o.align:(c[e]["text-align"]=o.cellsalign,c[e].formatString=o.cellsformat,c[e].dataType=p),"html"!=t&&"pdf"!=t||(c[e]["border-top-width"]=i.css("border-top-width"),c[e]["border-left-width"]=i.css("border-left-width"),c[e]["border-right-width"]=i.css("border-right-width"),c[e]["border-bottom-width"]=i.css("border-bottom-width"),c[e]["border-top-style"]=i.css("border-top-style"),c[e]["border-left-style"]=i.css("border-left-style"),c[e]["border-right-style"]=i.css("border-right-style"),c[e]["border-bottom-style"]=i.css("border-bottom-style"),r?(0==a&&(c[e]["border-left-width"]=i.css("border-right-width")),c[e]["border-top-width"]=i.css("border-right-width"),c[e]["border-bottom-width"]=i.css("border-bottom-width")):0==a&&(c[e]["border-left-width"]=i.css("border-right-width")),c[e].height=i.css("height")),!o.exportable||o.hidden&&!d||(1==l?(h[o.displayfield].customCellStyles||(h[o.displayfield].customCellStyles=new Array),h[o.displayfield].customCellStyles[u]=e):r?h[o.displayfield].style=e:s?h[o.displayfield].cellAltStyle=e:h[o.displayfield].cellStyle=e))};if(b(g,w,!0,!1,this,l,i),v++,b(f,o,!1,!1,this,l,i),l.altrows&&(f="cellalt"+m,b(f,n,!1,!0,this,l,i)),this.customCellStyles){for(var y in a.customCellStyles)o.removeClass(a.customCellStyles[y]);for(var y in a.customCellStyles)o.addClass(a.customCellStyles[y]),b(f+a.customCellStyles[y],o,!1,!1,this,l,i,!0,y),o.removeClass(a.customCellStyles[y])}m++}}),e.each(this.columns.records,function(e){h[this.displayfield]&&(h[this.displayfield].columnsDataFields=q)}),this.showaggregates){var S=[],D="xls"==t?"_AG":"",I=this.groupable?this.groups.length:0;this.rowdetails&&I++,x.length>0&&(e.each(this.columns.records,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(S[t]||(S[t]={}),S[t]){var i=l._getaggregatename(this.aggregates[t]),r=l._getaggregatetype(this.aggregates[t]),s=x[e-I];s&&(S[t][this.displayfield]=D+i+": "+s[r])}}),e.each(this.columns.records,function(e){for(var t=0;t<S.length;t++)void 0==S[t][this.displayfield]&&(S[t][this.displayfield]=D)})),e.each(S,function(){s.push(this)})}var P=this,A=e.jqx.dataAdapter.ArrayExporter(s,h,c);if(void 0==i){this._renderrows(this.virtualsizeinfo);var B=A.exportTo(t);return this.showaggregates&&e.each(S,function(){s.pop(this)}),setTimeout(function(){P.exporting=!1},50),B}A.exportToFile(t,i,n,a),this.showaggregates&&e.each(S,function(){s.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){P.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),s=parseInt(i[1]),o=parseInt(i[2]),n=parseInt(i[3].substring(1,4)),a={r:r,g:s,b:o},l=this._rgbToHex(a);return 0==r&&0==s&&0==o&&0==n?"#ffffff":"#"+l}var r=parseInt(i[0].substring(4)),s=parseInt(i[1]),o=parseInt(i[2].substring(1,4)),a={r:r,g:s,b:o},l=this._rgbToHex(a);return"#"+l}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var o="";if(e.each(s,function(){return this.name==t.displayfield?(this.type&&(o=this.type),!1):void 0}),o)return o}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var n=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return n=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(n=this.dataview.cachedrecords[0][t.displayfield],null!=n&&""==n.toString())return"string"}if(null!=n){if(-1!=t.cellsformat.indexOf("c"))return"number";if(-1!=t.cellsformat.indexOf("n"))return"number";if(-1!=t.cellsformat.indexOf("p"))return"number";if(-1!=t.cellsformat.indexOf("d"))return"date";if(-1!=t.cellsformat.indexOf("y"))return"date";if(-1!=t.cellsformat.indexOf("M"))return"date";if(-1!=t.cellsformat.indexOf("m"))return"date";if(-1!=t.cellsformat.indexOf("t"))return"date";if("boolean"==typeof n)r="boolean";else if(e.jqx.dataFormat.isNumber(n))r="number";else{var a=new Date(n);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(a=e.jqx.dataFormat.tryparsedate(n),null!=a){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(n);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}}return r}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{savestate:function(t){var i=this.getstate();return void 0===t||e.isEmptyObject(t)||(-1==t.indexOf("sort")&&(delete i.sortcolumn,delete i.sortdirection),-1==t.indexOf("pager")&&(delete i.pagenum,delete i.pagesizeoptions,delete i.pagesize),-1==t.indexOf("selection")&&(delete i.selectedcells,delete i.selectedrowindexes,delete i.selectedrowindex),-1==t.indexOf("grouping")&&delete i.groups,-1==t.indexOf("filter")&&delete i.filters,e.each(this.columns.records,function(e){var r=i.columns[this.datafield];-1==t.indexOf("hidden_columns")&&delete r.hidden,-1==t.indexOf("reorder")&&delete r.index,-1==t.indexOf("columns_width")&&delete r.width,-1==t.indexOf("columns_text")&&delete r.text,-1==t.indexOf("alignment")&&(delete r.align,delete r.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(i)),this._savedstate=i,i},loadstate:function(t,i){var r="";if(void 0!=t&&void 0!=t.width)r=t;else if(window.localStorage){var s=window.localStorage["jqxGrid"+this.element.id];if(s)var r=e.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var r=this._savedstate;if(null!=r&&""!==r){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var o=r;if(void 0!==o.width&&(this.width=o.width),void 0!==o.height&&(this.height=o.height),this.pageable&&(void 0!=o.pagesize&&(this.pagesize=o.pagesize,this.dataview.pagesize=o.pagesize),void 0!=o.pagenum&&(this.dataview.pagenum=o.pagenum),void 0!=o.pagesizeoptions&&(this.pagesizeoptions=o.pagesizeoptions),this.pagesizeoptions)){for(var n=0,a=0;a<this.pagesizeoptions.length;a++)this.pagesize>=this.pagesizeoptions[a]&&(n=a);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:n})}if(this.sortable)if(this._loading&&(this._loading=!1),o.sortdirection){if(o.sortdirection.ascending||o.sortdirection.descending){this.dataview.sortfield=o.sortcolumn;var l=o.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=l,this.source.sortcolumn=o.sortcolumn,this.source.sortdirection=l,this.sortby(o.sortcolumn,l)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&o.groups&&(this.dataview.groups=o.groups,this.groups=o.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(o),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==i?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(t){this.loadingstate=!0;var i="";if(void 0!=t&&void 0!=t.width)i=t;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])var i=e.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var i=this._savedstate;if(null!=i&&""!=i){var r=this._loading;this._loading=!1;var s=i,o=this,n=!1,a=[];a.length=0;if(e.each(this.columns.records,function(e){var t=s.columns[this.datafield];if(void 0!=t){if(this.text!=t.text&&(n=!0),this.hidden!=t.hidden&&(n=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),o._columns)for(var i=0;i<o._columns.length;i++)o._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(o._columns[i].hidden=t.hidden),void 0!==t.width&&(o._columns[i].width=t.width));void 0!==t.index&&(a[this.datafield]=t.index,a.length++)}}),a.length>0){if(this.setcolumnindex){var l=this.rowdetails?1:0;l+=this.groupable?this.groups.length:0;for(var d=new Array,h=0;h<this.columns.records.length;h++)d.push(this.columns.records[h]);for(var c=0,u=new Array,h=0;h<d.length;h++){var p=d[h],f=a[p.datafield];if(this.groupable&&p.grouped)c++;else if(0==h&&this.rowdetails)c++;else if(h!==f||this.groupable||this.rowdetails){var m=c+f;u.push({column:p,key:m})}}u.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}),u.reverse(),e.each(u,function(e,t){var i=this.key;o.setcolumnindex(this.column.datafield,i,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==s.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var g="",v=new e.jqx.filter,h=0;h<s.filters.filterscount;h++){var x=s.filters["filtercondition"+h],w=s.filters["filterdatafield"+h],p=this.getcolumn(w);if(w!=g&&(v=new e.jqx.filter),g=w,p&&p.filterable){var b=s.filters["filtervalue"+h],y=s.filters["filteroperator"+h],_=s.filters["filtertype"+h];if("datefilter"==_)var j=v.createfilter(_,b,x,null,p.cellsformat,this.gridlocalization);else var j=v.createfilter(_,b,x);if(v.addfilter(y,j),this.showfilterrow){var q=p._filterwidget,T=p._filterwidget.parent();if(null!=q)switch(p.filtertype){case"number":if(T.find("input").val(b),this.host.jqxDropDownList){var C=v.getoperatorsbyfiltertype("numericfilter");q.find(".filter").jqxDropDownList("selectIndex",C.indexOf(x))}break;case"date":this.host.jqxDateTimeInput?e(T.children()[0]).jqxDateTimeInput("setDate",b):q.val(b);break;case"range":if(this.host.jqxDateTimeInput){var k=s.filters["filtervalue"+(h+1)],_=s.filters["filtertype"+h],j=v.createfilter(_,k,"LESS_THAN_OR_EQUAL");v.addfilter(y,j);var S=new Date(b),D=new Date(k);isNaN(S)&&(S=e.jqx.dataFormat.tryparsedate(b)),isNaN(D)&&(D=e.jqx.dataFormat.tryparsedate(b)),e(T.children()[0]).jqxDateTimeInput("setRange",S,D),h++}else q.val(b);break;case"textbox":case"default":q.val(b),o["_oldWriteText"+q[0].id]=b;break;case"list":if(this.host.jqxDropDownList){var I=e(T.children()[0]).jqxDropDownList("getItems"),f=-1;e.each(I,function(e){return this.value==b?(f=e,!1):void 0}),e(T.children()[0]).jqxDropDownList("selectIndex",f)}else q.val(b);break;case"checkedlist":this.host.jqxDropDownList||q.val(b);break;case"bool":case"boolean":this.host.jqxCheckBox?e(T.children()[0]).jqxCheckBox({checked:b}):q.val(b)}}this.addfilter(w,v)}}s.filters&&s.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&e.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&o.host.jqxDropDownList){var t=this,i=t._filterwidget,r=(i.jqxDropDownList("getItems"),i.jqxDropDownList("listBox"));if(r.checkAll(!1),t.filter){r.uncheckAll(!1);for(var s=t.filter.getfilters(),n=0;n<r.items.length;n++){var a=r.items[n].label;e.each(s,function(){return"NOT_EQUAL"==this.condition?!0:void(a==this.value&&r.checkIndex(n,!1,!1))})}r._updateCheckedItems();var l=r.getCheckedItems().length;r.items.length!=l&&l>0&&r.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==s.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(s.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(s.pagenum))}if(s.selectedrowindexes&&s.selectedrowindexes&&s.selectedrowindexes.length>0&&(this.selectedrowindexes=s.selectedrowindexes,this.selectedrowindex=s.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),s.selectedcells&&this._applycellselection&&e.each(s.selectedcells,function(){o._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==s.groups)return this._refreshdataview(),this.render(),this._loading=r,void(this.loadingstate=!1);if(n){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=r,this.loadingstate=!1,this.updating())return!1}else this._loading=r,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=r,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var t=this.getdatainformation(),i={};if(i.width=this.width,i.height=this.height,i.pagenum=t.paginginformation.pagenum,i.pagesize=t.paginginformation.pagesize,i.pagesizeoptions=this.pagesizeoptions,i.sortcolumn=t.sortinformation.sortcolumn,i.sortdirection=t.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var r=this.getselectedcells(),s=new Array;e.each(r,function(){s.push({datafield:this.datafield,rowindex:this.rowindex})}),i.selectedcells=s}else{var o=this.getselectedrowindexes();i.selectedrowindexes=o,i.selectedrowindex=this.selectedrowindex}var n={},a=0;if(this.dataview.filters)for(var l=0;l<this.dataview.filters.length;l++){var d=this.dataview.filters[l].datafield,h=this.dataview.filters[l].filter,c=h.getfilters();n[d+"operator"]=h.operator;for(var u=0;u<c.length;u++){if(c[u].datafield=d,"datefilter"==c[u].type)if(c[u].value&&c[u].value.toLocaleString){var p=this.getcolumn(c[u].datafield);if(p.cellsformat){var f=this.source.formatDate(c[u].value,p.cellsformat,this.gridlocalization);f?n["filtervalue"+a]=f:n["filtervalue"+a]=c[u].value.toLocaleString()}else n["filtervalue"+a]=c[u].value.toLocaleString()}else n["filtervalue"+a]=c[u].value;else n["filtervalue"+a]=c[u].value;n["filtercondition"+a]=c[u].condition,n["filteroperator"+a]=c[u].operator,n["filterdatafield"+a]=d,n["filtertype"+a]=c[u].type,a++}}n.filterscount=a,i.filters=n,i.groups=this.groups,i.columns={};var m=0;return this.columns.records&&e.each(this.columns.records,function(e,t){if(!this.datafield)return!0;var r={};r.width=this.width,r.hidden=this.hidden,r.pinned=this.pinned,r.groupable=this.groupable,r.resizable=this.resizable,r.draggable=this.draggable,r.text=this.text,r.align=this.align,r.cellsalign=this.cellsalign,r.index=m++,i.columns[this.datafield]=r}),i},_stringify:function(e){if(window.JSON&&"function"==typeof window.JSON.stringify){var t=this,i="";try{i=window.JSON.stringify(e)}catch(r){return t._str("",{"":e})}return i}var i=this._str("",{"":e});return i},_quote:function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(t,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(e){for(var t,i=e.length,r=[],t=0;i>t;t++)r.push(this._str(t,e)||"null");return"["+r.join(",")+"]"},_stringifyObject:function(e){var t,i,r=[],s=this;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=s._str(t,e),i&&r.push(s._quote(t)+":"+i));return"{"+r.join(",")+"}"},_stringifyReference:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return this._stringifyArray(e)}return this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),r=typeof i),/(number|string|boolean)/.test(r)||!i&&"object"===r?this._stringifyPrimitive(i,r):this._stringifyReference(i)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{getcolumnindex:function(e){var t=this.getcolumn(e),i=this.columns.records.indexOf(t);return i},setcolumnindex:function(t,i,r){var s=this.getcolumn(t);if(!(s.pinned||s.hidden||s.checkboxcolumn||s.grouped)){var o=this.columns.records.indexOf(s);this.columns.records.splice(o,1),this.columns.records.splice(i,0,s);var n=0,a=this.headerZIndex;this.columnsrow.children().detach();var l=this.toThemeProperty("jqx-grid-cell");l+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(e(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var d=this,h=null;if(void 0!=d.filterrow)var h=e(d.filterrow.children()[0]);this.columnsrow[0].cells=[];var c=!1;if(e.each(this.columns.records,function(t,i){var r=this.uielement;d.columnsrow.append(r),d.rtl?r.css("z-index",a++):r.css("z-index",a--);var s=this.width;if(r.css("left",n),d.columnsrow[0].cells[d.columnsrow[0].cells.length]=r[0],d.filterrow){var o=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+l+'"></div>');h.append(o),o.css("left",n),o.css("z-index",a+1),o.width(this.width),o[0].left=n,o.append(this._filterwidget),d.filterrow[0].cells[d.filterrow[0].cells.length]=o[0]}this.hidden&&(c=!0),this.hidden&&this.hideable||(n+=s)}),this.groupable){var u=this.groups.length;u>0&&o-u>=0&&(o-=u,i-=u)}this.rowdetails&&o-1>=0&&(o--,i--),"checkbox"==this.selectionmode&&o-1>=0&&(o--,i--);var s=this._columns[o];this._columns.splice(o,1),this._columns.splice(i,0,s),this._raiseEvent(24,{columntext:s.text,datafield:s.datafield,oldindex:o,newindex:i}),0!=r&&(c||"checkbox"==s.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),"checkbox"==this.selectionmode&&t++,t},_handlecolumnsreorder:function(){var t=this,i=-1,r=!1;if(t.columnsreorder){var s="mousemove.reorder"+this.element.id,o="mousedown.reorder"+this.element.id,n="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&this.touchmode!==!0&&(a=!0,s=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),s),
this.addHandler(e(document),s,function(e){if(t.resizing)return!0;if(null!=t.reordercolumn){var s=parseInt(e.pageX),o=parseInt(e.pageY);if(a){var n=t.getTouches(e),l=n[0];void 0!=l&&(s=parseInt(l.pageX),o=parseInt(l.pageY))}var d=t.host.coord(),h=parseInt(d.left),c=parseInt(d.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(s)-parseInt(t.dragmousedownoffset.left),p=parseInt(o)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:u+"px",top:p+"px"}),r=!1,s>=h&&s<=h+t.host.width()&&o>=c&&o<=c+t.host.height()&&(r=!0),i=-1,r){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var f=t.columnsheader.coord(),m=f.top+t.columnsheader.height();null!=t.columnsdropline&&(o>=f.top&&m>=o?i=t._handlereordercolumnsdroplines(s):t.columnsdropline.fadeOut("slow"))}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(a)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var r=t.host.coord().left,s=t.host.coord().top;t.showtoolbar&&(s+=t.toolbarheight),t.groupable&&t.showgroupsheader&&(s+=t.groupsheaderheight);var o=0;e.each(t.columns.records,function(i){var n=this;if(n.hidden)return t.columnsbounds[t.columnsbounds.length]={top:s,column:n,left:r,width:0,height:2+t.rowsheight},!0;0==o&&(r=t.rtl?"hidden"!=t.hScrollBar.css("visibility")?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),o++;var a=2+t.columnsheight;t.columnshierarchy&&(s=e(n.uielement).coord().top,a=e(n.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:s,column:n,left:r,width:n.width,height:a},r+=n.width})}),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(s){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");var o=parseInt(s.pageX),n=parseInt(s.pageY);if(a){var l=t.getTouches(s),d=l[0];o=parseInt(d.pageX),n=parseInt(d.pageY)}var h=t.host.coord(),c=(parseInt(h.left),parseInt(h.top));t.groupsheader.height();if(t.showtoolbar&&(c+=t.toolbarheight),t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var u=e.data(t.reordercolumn[0],"reorderrecord"),p=t.columns.records.indexOf(t.getcolumn(u));t.reordercolumn.remove(),t.reordercolumn=null;var f=0;if(f+=t._pinnedColumnsLength(),null!=u){if(r&&-1!=i){var m=i.index;if(m>=f){var g=t.columns.records[m];if(void 0!=g){var v=t.columns.records.indexOf(t.getcolumn(g.datafield));if(null==g.datafield)var v=t.columns.records.indexOf(t.getcolumnbytext(g.text));if(t.columngroups){var x=g;if(v>p&&"before"==i.position&&(x=t.columns.records[v-1]),x.columngroup!=t.getcolumn(u).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}v>p?"before"==i.position?t.setcolumnindex(u,v-1):t.setcolumnindex(u,v):p>v&&t.setcolumnindex(u,v),t.autosavestate&&t.savestate&&t.savestate()}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.text==t?(i=this,!1):void 0}),i},_handlereordercolumnsdroplines:function(t){var i=this,r=-1,s=i._pinnedColumnsLength(),o=parseInt(i.host.coord().left),n=o+i.host.width(),a="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(a=0),e.each(i.columnsbounds,function(e){if(e>=s){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>n?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",a+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",a+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"after"}}}}),r},_createreordercolumn:function(t,i,r){var s=this,o=i;s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=e("<div></div>");var n=t.clone();s.reordercolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var a=e(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(n.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),s.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute");s.host.coord();n.width(t.width()+16),s.reordercolumn.append(n),s.reordercolumn.height(t.height()),s.reordercolumn.width(n.width()),s.reordercolumn.append(s.reordercolumnicon),e(document.body).append(s.reordercolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.reordercolumn.css("left",o.left+s.dragmousedown.left),s.reordercolumn.css("top",o.top+s.dragmousedown.top),void 0!=r&&r&&(s.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var r,s=this,o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0);var n="mousedown.drag",r="mousemove.drag";o?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",r=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(i){if(0==t.draggable)return!0;if(s.resizing)return!0;s.__drag=!0;var r=i.pageX,n=i.pageY;if(o){var a=s.getTouches(i),l=a[0];r=l.pageX,n=l.pageY}s.dragmousedown={left:r,top:n};var d=e(i.target).coord();return s.dragmousedownoffset={left:parseInt(r)-parseInt(d.left),top:parseInt(n-d.top)},!0}),this.addHandler(i,r,function(n){if(!t.draggable)return!0;if(void 0==t.datafield)return!0;if(t.pinned)return!0;if(s.resizing)return!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(o){var d=s.getTouches(n),h=d[0];void 0!=h&&(a=h.pageX,l=h.pageY)}if(r={left:a,top:l},!s.columndragstarted&&null==s.reordercolumn){var c=Math.abs(r.left-s.dragmousedown.left),u=Math.abs(r.top-s.dragmousedown.top);(c>3||u>3)&&(s._createreordercolumn(i,r,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.reordercolumn[0],"reorderrecord",t.datafield))}}})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListMenu","",{});var t=0,i=0;e.extend(e.jqx._jqxListMenu.prototype,{defineInstance:function(){var t={filterCallback:function(t,i){var r=e.jqx.string.containsIgnoreCase(e.trim(t),i);return r},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},destroy:function(){this.host.remove()},createInstance:function(){e.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(e){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(e,t){this.width=e,this.height=t,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(t){var t,i,r=this.host.find(".jqx-listmenu-auto-separator"),s=this.host.find('[data-role="listmenu"]');for(r.remove(),i=0;i<s.length;i+=1)t=e(s[i]),(t.data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(t)},_renderSublists:function(){var t,i,r,s,o,n=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(n[0]);n.length;){r=n.pop(),t=this._getChildrenByTagName(r,"li","LI"),s=t.length;for(var a=0;s>a;a+=1)i=t[a],e(i).attr("role","treeitem"),o=this._getChildList(i),this._refreshLi(i,a,s),o&&(n.push(o),this._refreshList(o,i,!0))}},_refreshList:function(t,i,r){t=e(t),"listmenu"===t.data("role")&&(t.is(".jqx-listmenu")||(this._renderList(t),this._handleListId(t),this._addListClasses(t)),i&&this._expandHierarchy(t[0],i),r&&this._handleSublist(t[0]))},_renderList:function(t){t=e(t),t.is(".jqx-listmenu")||(t.detach(),t.appendTo(this.host))},_handleListId:function(e){e[0].id||(e[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(t){for(var i,r,s=t.children("li"),o={},n=0;n<s.length;n+=1)if(r=e(s[n]),!r.data("role")){if(e.trim(r.text())[0]!==i){i=e.trim(r.text())[0];var a=e('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+i+"</li>");a.insertBefore(r),a[0].items=new Array,o=a[0]}o.items&&(o.items[o.items.length]=r[0])}},_addListClasses:function(e){e.addClass("jqx-listmenu")},_expandHierarchy:function(e,t){if(t&&e){var i=t.id,r=e.id;this._childrenMap[i]=r,this._parentMap[r]=i}},_handleSublist:function(e){this._currentPage&&e===this._currentPage[0]?e.style.display="block":e.style.display="none"},_getChildrenByTagName:function(e,t,i){var r=[],s={};for(s[t]=s[i]=!0,e=e.firstChild;e;)s[e.nodeName]&&r.push(e),e=e.nextSibling;return r},_renderFilterBar:function(){this._filterBar||(this._filterBar=e("<div/>"),this._filterInput=e('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var t=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(t=!0),t||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=e("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=e("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){if(!this._backButton&&(this._backButton=e('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl)){var t=e.jqx.browser.msie&&e.jqx.browser.version<8;t?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15))}this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var t=this.isTouchDevice()&&!this.touchMode,i=e.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,t?i:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var t=this,i=this.isTouchDevice()&&!this.touchMode,r=e.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,i?r:"click",function(){t.back()}),this.addHandler(this._filterInput,"keyup change",function(){t._filter(e(this).val())})},_getChildList:function(e){if(e){var t,i=this._childrenMap[e.id];if(e.className.indexOf("jqx-listmenu-item")>=0&&i)return document.getElementById(i);var r=this._getChildrenByTagName(e,"ul","UL")[0],s=this._getChildrenByTagName(e,"ol","OL")[0];return t=r||s}},_refreshLi:function(e,t,i){if(e.parentNode&&"listmenu"===e.parentNode.getAttribute("data-role")){if(""==e.id);this._handleLiId(e),this._renderLi(e),this._removeLiEventHandlers(e),this._addLiEventHandlers(e),this._addLiClasses(e,t,i)}},_handleLiId:function(e){e.id||(e.id="jqx-listmenu-item-"+t,t+=1)},_renderLi:function(t){if(!(/(separator|header)/.test(e(t).data("role"))||e(t).children(".jqx-listmenu-arrow-right").length>0)&&(e(t).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var i=e("<span/>"),r=e(t).find("ul"),s=e(t).find("ol");(this.alwaysShowNavigationArrows||r.length>0&&/(listmenu)/.test(r.data("role"))||s.length>0&&/(listmenu)/.test(s.data("role")))&&(i.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),i.prependTo(t)):(i.addClass(this.toThemeProperty("jqx-icon-arrow-right")),i.appendTo(t)))}},_removeLiEventHandlers:function(t){var i=this.isTouchDevice(),r=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),o=(e.jqx.mobile.getTouchEventName("touchmove"),(i?r:"mousedown")+".listmenu"),n=(i?s:"mouseup")+".listmenu";this.removeHandler(e(t),o),this.removeHandler(e(document),n+"."+t.id)},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(t=!0),t},_addLiEventHandlers:function(t){t=e(t);var i=this,r=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),s=t.children(".jqx-listmenu-arrow-right"),o=e.jqx.mobile.isTouchDevice(),n=e.jqx.mobile.getTouchEventName("touchstart"),a=e.jqx.mobile.getTouchEventName("touchend"),l=(e.jqx.mobile.getTouchEventName("touchmove"),(o?n:"mousedown")+".listmenu"),d=(o?a:"mouseup")+".listmenu",h=null,c="";/(separator|readonly)/.test(t.data("role"))||this.readOnly||(this.addHandler(t,"dragstart",function(){return!1}),this.addHandler(t,l,function(n){i.disabled||(h=n.target,c=e.jqx.position(n),0==t.find('div[data-role="content"]').length&&(o||(t.addClass(i.toThemeProperty("jqx-fill-state-pressed")),s.addClass(r))))}),this.addHandler(t,d,function(r){i.disabled||h!=r.target&&o||(o?e.jqx.position(r).top===c.top&&i.next(t):e.jqx.position(r).top===c.top&&i.next(t))}),this.addHandler(e(document),d+"."+t[0].id,function(){i.disabled||(t.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),s.removeClass(r))}))},_addLiClasses:function(t,i,r){t=e(t),"separator"===t.data("role")?this._handleSeparatorStyle(t):"header"===t.data("role")?this._handleHeaderStyle(t):(this.readOnly||"readonly"===t.data("role")?t.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):t.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(t)),0!==i||this.showHeader||this.showFilter||t.addClass(this.toThemeProperty("jqx-rc-t")),i===r-1&&t.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-separator")),e.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e[0].style.listStyle="none"},_handleHeaderStyle:function(e){e.css("display","none")},_handleItemStyle:function(e){e.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&e.addClass(this.toThemeProperty("jqx-rtl")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-item"))},back:function(){var t,i=this._currentPage;i&&(t=this._parentMap[i[0].id]),this._back=!0,e("#"+t).length>0&&e.jqx.aria(e("#"+t),"aria-expanded",!1),this._changePage(i,e("#"+t).parent(),this.animationDuration,!0),this._back=!1},next:function(t){var i=t.attr("id"),r=this._childrenMap[i],s=e("#"+r),o=e("#"+i).parent();e.jqx.aria(t,"aria-expanded",!0),this._changePage(o,s,this.animationDuration)},changePage:function(t){if("string"==typeof t&&(t=e(t)),!t[0]||"listmenu"!==t.attr("data-role")||t.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=t[0]&&this._changePage(this._currentPage,t,this.animationDuration)},_changePage:function(t,i,r,s){if(!this._lock){var o="_"+this.animationType+"Change"+(s?"Back":"");i[0]&&(this.showFilter&&(i.find('div[data-role="content"]').length>0?(e.each(i.find("li"),function(){"separator"===e(this).data("role")&&e(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[o](t,i,this.animationDuration,function(){this._lock=!1,this._changeHeader(i),this._currentPage=i}))}},_changeHeader:function(t){var i=e(t).find('li[data-role="header"]').first();if(i[0]){var r=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){r._headerLabel.html(i.html()),r._headerLabel.fadeIn(r.headerAnimationDuration/2)})}},_slideChange:function(t,i,r,s){var o=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var n=this.rtl;this._initSlide(t,i),n?(t.animate({"margin-left":t.width()+parseInt(t.css("margin-right"),10)||0},r,"easeInOutSine"),i.animate({"margin-left":0},r,"easeInOutSine",function(){o._slideEnd(t,i),s.call(o,e(this))})):(t.animate({"margin-left":-t.width()-parseInt(t.css("margin-right"),10)||0},r,"easeInOutSine"),i.animate({"margin-left":0},r,"easeInOutSine",function(){o._slideEnd(t,i),s.call(o,e(this))}))},_initSlide:function(e,t){var i=this.rtl;e.width(e.width()),t.css({marginTop:-e.outerHeight(!0),marginLeft:i?-e.width()-(parseInt(e.css("margin-right"),10)||0):e.width()+(parseInt(e.css("margin-right"),10)||0),display:"block",height:"auto",width:e.width()})},_slideEnd:function(e,t){this.host.css("height","auto"),e.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),t.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(t,i,r,s){var o=this;this._initSlideBack(t,i),t.animate({"margin-left":this.rtl?-t.width()-parseInt(t.css("margin-right"),10)||0:t.width()+parseInt(t.css("margin-right"),10)||0},r),i.animate({"margin-left":0},r,function(){o._slideEnd(t,i),s.call(o,e(this))})},_initSlideBack:function(e,t){e.css({marginTop:-t.outerHeight(!0),width:e.width()}),t.css({width:e.width(),marginLeft:this.rtl?e.width()+parseInt(e.css("margin-right"),10)||0:-e.width()-parseInt(e.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(e,t,i,r){this._fadeChange(e,t,i,r)},_fadeChange:function(t,i,r,s){var o=this;t.fadeOut(r/2,function(){i.fadeIn(r/2,function(){s.call(o,e(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(t){for(var i=this.host.find(".jqx-listmenu-item"),r=0;r<i.length;r+=1){var s=e.trim(e(i[r]).text());this.filterCallback(s,t)?i[r].style.display="block":i[r].style.display="none"}for(var i=this.host.find(".jqx-listmenu-separator"),r=0;r<i.length;r+=1){var o=!1;e.each(i[r].items,function(){return"none"!=e(this).css("display")?(o=!0,!1):void 0}),o?i[r].style.display="block":i[r].style.display="none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(e,t,i,r){if("disabled"==t&&(r?e.disable():e.enable()),"backLabel"===t)return void e._backButton.html(r);if("placeHolder"===t)e._filterInput.attr("placeholder",r);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(t))return void e._render()}})}(jqxBaseFramework);try{!function(e,t){t.jqwidgets=t.jqwidgets||{},t.jqwidgets.knockout=function(i){var r={},s=i.name;r.init=function(r,o,n,a){var l=t.utils.unwrapObservable(o()),d=t.toJS(l);if(i.reset&&i.reset(),void 0==e.data(r)[s]){var h=[];e(r)[s](),widget=e.data(r)[s].instance,e.each(i,function(e,r){if(widget.hasOwnProperty(e)&&d.hasOwnProperty(e)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var s=!1;i.serialize&&i.serialize(widget,e)&&(t.toJSON(d[e])!=t.toJSON(i.serialize(widget,e))&&i.setProperty(widget,e,widget[e],d[e]),s=!0),s||t.toJSON(d[e])!=t.toJSON(widget[e])&&i.setProperty(widget,e,widget[e],d[e])}catch(o){i.setProperty(widget,e,widget[e],d[e])}h[e]=e,widget.koupdatingFromObservable=!1}});var c={};e.each(d,function(e,t){void 0==h[e]&&(c[e]=d[e])}),widget.host[s](c)}widget=e.data(r)[s].instance,widget.koupdatingFromObservable=!1,widget.koupdating=!1,i.events&&e.each(i.events,function(){var n=this;e(r).on(n+"."+r.id,function(a){if(widget=e.data(r)[s].instance,!widget.koupdatingFromObservable){var d=widget;d.koupdating=!0;var h=o(),c=i.getProperty(widget,a,n,l);void 0!=c&&(h.hasOwnProperty(c.name)&&e.isFunction(h[c.name])?t.isObservable(h[c.name])&&h[c.name].push?o(c.value):h[c.name](c.value):h[c.name]&&o(c.value)),d.koupdating=!1}})})},r.update=function(r,o,n,a,l){var d=t.utils.unwrapObservable(o()),h=t.toJS(d);widget=e.data(r)[s].instance,widget.koupdating||e.each(i,function(e,r){if(widget.hasOwnProperty(e)&&h.hasOwnProperty(e)&&!widget.koupdating){widget.koupdatingFromObservable=!0;var s=!1;i.serialize&&i.serialize(widget,e)&&(t.toJSON(h[e])!=t.toJSON(i.serialize(widget,e))&&i.setProperty(widget,e,widget[e],h[e]),s=!0),s||t.toJSON(h[e])!=t.toJSON(widget[e])&&i.setProperty(widget,e,widget[e],h[e]),widget.koupdatingFromObservable=!1}})},t.bindingHandlers[i.name]=r};new t.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxGauge({disabled:r}),"min"==t&&e.host.jqxGauge({min:r}),"max"==t&&e.host.jqxGauge({max:r}),"value"==t&&e.host.jqxGauge({value:r})}}),new t.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxLinearGauge({disabled:r}),"min"==t&&e.host.jqxLinearGauge({min:r}),"max"==t&&e.host.jqxLinearGauge({max:r}),"value"==t&&e.host.jqxLinearGauge({value:r})}}),new t.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"value",value:t.args.value}:void 0},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxSlider({disabled:r}),"min"==t&&e.host.jqxSlider({min:parseFloat(r)}),"max"==t&&e.host.jqxSlider({max:parseFloat(r)}),"value"==t&&e.host.jqxSlider({value:parseFloat(r)})}}),new t.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){return"valueChanged"==i?{name:"value",value:parseInt(t.currentValue)}:void 0},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxScrollBar({disabled:r}),"min"==t&&e.host.jqxScrollBar({min:parseFloat(r)}),"max"==t&&e.host.jqxScrollBar({max:parseFloat(r)}),"value"==t&&e.host.jqxScrollBar({value:parseFloat(r)})}}),new t.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){return"valueChanged"==i?{name:"value",value:parseInt(t.currentValue)}:void 0},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxProgressBar({disabled:r}),"value"==t&&e.host.jqxProgressBar({value:parseFloat(r)})}}),new t.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxButton({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"checked",value:t.args.checked}:void 0},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxCheckBox({disabled:r}),"checked"==t&&i!=r&&e.host.jqxCheckBox({checked:r})}}),new t.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"checked",value:t.args.checked}:void 0},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxRadioButton({disabled:r}),"checked"==t&&i!=r&&e.host.jqxRadioButton({checked:r})}}),new t.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){return"valueChanged"==i?{name:"value",value:t.args.date}:void 0},setProperty:function(e,t,i,r){"value"==t&&e.setDate(r),"disabled"==t&&e.host.jqxDateTimeInput({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(e,t,i){return"valueChanged"==i?{name:"value",value:t.args.date}:void 0},setProperty:function(e,t,i,r){"value"==t&&e.setDate(r),"disabled"==t&&e.host.jqxCalendar({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){return"valueChanged"==i?{name:"value",value:e.val()}:void 0},setProperty:function(e,t,i,r){"value"==t&&e.host.jqxNumberInput("val",r),"disabled"==t&&e.host.jqxNumberInput({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(e,t,i){return"valueChanged"==i?{name:"value",value:e.val()}:void 0},setProperty:function(e,t,i,r){"value"==t&&e.host.jqxMaskedInput("val",r),"disabled"==t&&e.host.jqxMaskedInput({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?(this.selectedIndex=e.selectedIndex,{name:"selectedIndex",value:e.selectedIndex}):void 0},setProperty:function(e,t,i,r){if("source"==t&&(e.source=r,e.refresh()),"disabled"==t&&(e.disabled=r,e._renderItems()),"selectedIndex"==t){var s=e.disabled;e.disabled=!1,e.selectIndex(r),e.disabled=s,s&&e._renderItems()}}}),new t.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"selectedIndex",value:e.selectedIndex}:void 0},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxDropDownList({source:r}),"disabled"==t&&e.host.jqxDropDownList({disabled:r}),"selectedIndex"==t&&e.host.jqxDropDownList({selectedIndex:r})}}),new t.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"selectedIndex",value:e.selectedIndex}:void 0},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxComboBox({source:r}),"disabled"==t&&e.host.jqxComboBox({disabled:r}),"selectedIndex"==t&&e.host.jqxComboBox({selectedIndex:r})}}),new t.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"value",value:e.host.val()}:void 0},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxInput({source:r}),"disabled"==t&&e.host.jqxInput({disabled:r}),"value"==t&&e.host.jqxInput({value:r})}}),new t.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"value",value:e.host.val()}:void 0},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxComplexInput({source:r}),"disabled"==t&&e.host.jqxComplexInput({
disabled:r}),"value"==t&&e.host.jqxComplexInput({value:r})}}),new t.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"value",value:e.host.val()}:void 0},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxFormattedInput({source:r}),"disabled"==t&&e.host.jqxFormattedInput({disabled:r}),"value"==t&&e.host.jqxFormattedInput({value:r})}}),new t.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(e,t,i){return"change"==i?{name:"value",value:e.host.val()}:void 0},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxPasswordInput({source:r}),"disabled"==t&&e.host.jqxPasswordInput({disabled:r}),"value"==t&&e.host.jqxPasswordInput({value:r})}}),new t.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxTree({source:r}),"disabled"==t&&e.host.jqxTree({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"disabled"==t&&e.host.jqxTabs({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"disabled"==t?e.host.jqxWindow({disabled:r}):"content"==t?e.host.jqxWindow("setContent",r):"title"==t&&e.host.jqxWindow({title:r})}}),new t.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"disabled"==t&&r!=this.disabled&&(this.disabled=r,e.host.jqxNavigationBar({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&e.host.jqxMenu({source:r}),"disabled"==t&&e.host.jqxMenu({disabled:r})}}),new t.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&(this.source=r,e.host.jqxChart({source:r})),"disabled"==t&&(this.disabled=r,e.host.jqxChart({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&(this.source=r,e.host.jqxDataTable({source:r})),"disabled"==t&&(this.disabled=r,e.host.jqxDataTable({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&(this.source=r,e.host.jqxTreeGrid({source:r})),"disabled"==t&&(this.disabled=r,e.host.jqxTreeGrid({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"value"==t&&(this.value=r,e.host.jqxKnob({value:r})),"disabled"==t&&(this.disabled=r,e.host.jqxKnob({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&(this.source=r,e.host.jqxScheduler({source:r})),"disabled"==t&&(this.disabled=r,e.host.jqxScheduler({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"source"==t&&(this.source=r,e.host.jqxKanban({source:r})),"disabled"==t&&(this.disabled=r,e.host.jqxKanban({disabled:r}))}}),new t.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(e,t){return"source"==t&&e.source&&e.source._source?e.source.records:!1},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(i,r,s,o){if("cellvaluechanged"==s){var n=i.host.jqxGrid("getrowid",r.args.rowindex),a=i.host.jqxGrid("getrowdata",n),l=o.source;if(void 0!=l){var d={},h={},c=!1,u=!1;return l()[n]&&e.each(l()[n],function(e,i){d[e]=i,h[e]="",t.isObservable(i)&&!t.isComputed(i)&&(c=!0,i(a[e])),t.isObservable(i)&&t.isComputed(i)&&(u=!0)}),c?(d=a,l.replace&&l.replace(l()[n],d)):(d=a,l.replace&&(l.replace(l()[n],h),l.replace(l()[n],d))),u&&i.host.jqxGrid("updaterow",n,t.toJS(l)[n]),{name:"source",value:l}}}},setProperty:function(i,r,s,o){if("selectedRowIndex"==r&&i.host.jqxGrid("selectrow",o),"source"==r)if(null==this.source||null==o){if(this.source!=o){this.source=o;var n={localdata:o,datatype:"local"},a=new e.jqx.dataAdapter(n);i.host.jqxGrid({source:a})}}else{var n={localdata:o,datatype:"local"},a=new e.jqx.dataAdapter(n);if(a.dataBind(),!s.records||!a.records)return;var l=Math.max(s.records.length,a.records.length),d=Math.abs(s.records.length-a.records.length);if(0==d&&l>10)return void i.host.jqxGrid({source:a});d>1&&i.host.jqxGrid("beginupdate");for(var h=new Array,c=0;l>c;c++){var u=a.records[c];if(void 0==u){var p=i.host.jqxGrid("getrowid",c);h.push(p)}else{var f=void 0!=s.records[c];if(f){if(t.toJSON(u)!=t.toJSON(s.records[c])){if(void 0!=s.records[c].uid&&(u.uid=s.records[c].uid,t.toJSON(u)==t.toJSON(s.records[c])))continue;var p=i.host.jqxGrid("getrowid",c);i.host.jqxGrid("updaterow",p,u)}}else i.host.jqxGrid("addrow",null,u)}}h.length>0&&i.host.jqxGrid("deleterow",h),d>1&&i.host.jqxGrid("endupdate")}"disabled"==r&&i.host.jqxGrid({disabled:o})}}),new t.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(e,t,i){},setProperty:function(e,t,i,r){"pointer"==t&&e.host.jqxBulletChart({pointer:r}),"target"==t&&e.host.jqxBulletChart({target:r}),"disabled"==t&&e.host.jqxBulletChart({disabled:r})}})}(jqxBaseFramework,ko)}catch(error){var er=error}if(function(e){var t=0;e.jqx.jqxWidget("jqxScrollView","",{}),e.extend(e.jqx._jqxScrollView.prototype,{defineInstance:function(){var t={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove")}};return e.extend(!0,this,t),t},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=this;e.jqx.utilities.resize(this.host,function(){i.refresh()})},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),this.moveThreshold.toString().indexOf("%")>=0&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var e=this;this.slideShowTimer=setInterval(function(){e.currentPage>=e._pages.length-1?e._changePage(0,!0,e.animationDuration):e._changePage(e.currentPage+1,!0,e.animationDuration)},this.slideDuration)}else void 0!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(e(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(t,i){if(this._isTouchDevice){var r=e.jqx.position(t);if("pageX"==i)return r.left;if("pageY"==i)return r.top;if(t.originalEvent.touches)return t.originalEvent.touches[0][i]}return t[i]},_draggedRight:function(){if(this.currentPage>0){var t=this.currentPage-1,i=e(this._pages[t]),r=i.offset().left+i.outerWidth(),s=r-this.host.offset().left;if(s>=this.host.width()*this.moveThreshold)return this.changePage(t),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var t=this.currentPage+1,i=e(this._pages[t]),r=this.host.width()-(i.offset().left-this.host.offset().left);if(r>=this.host.width()*this.moveThreshold)return this.changePage(t),!0}return!1},_dropTarget:function(){var e;e=this._movedLeft?this._draggedLeft():this._draggedRight(),e||this.changePage(this.currentPage,!1)},_scrollEnabled:function(e){return this._mouseDown?(this._movePermited||Math.abs(this._getCoordinate(e,"pageX")-this._startX)>=15&&(this._movePermited=!0),this._movePermited):!1},_setMoveDirection:function(e){this._lastOffset>e?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(e){var t=-(this._innerWrapper.width()-this.host.width());return e>0?e=0:t>e&&(e=t),e},_addEventListeners:function(){var t=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(e){t._mouseDown=!0,t._startX=t._getCoordinate(e,"pageX"),t._startOffset=t._lastOffset=parseInt(t._innerWrapper.css("margin-left"),10)}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(e){if(t._scrollEnabled(e)){var i=t._startOffset+t._getCoordinate(e,"pageX")-t._startX;return t.bounceEnabled||(i=t._getBounceOffset(i)),t._innerWrapper.css("margin-left",i),t._setMoveDirection(i),t._lastOffset=i,e.preventDefault(),!1}return!0}),this.addHandler(e(document),this._getEvent("mouseup")+this._eventNamespace(),function(e){t._movePermited&&t._dropTarget(),t._movePermited=!1,t._mouseDown=!1});try{if((""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var i=function(e){t._movePermited&&t._dropTarget(),t._movePermited=!1,t._mouseDown=!1};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}catch(r){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=e("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(e){e.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(e)},_refreshPages:function(){var t=this,i=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){t._refreshPage(e(this)),i+=e(this).outerWidth(!0)}),this._innerWrapper.width(i)},_performPageLayout:function(e){e.css("float","left"),e.width(this.host.width()),e.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(){t.removeHandler(e(this))})},_addButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(i){t.addHandler(e(this),"click",function(){t.changePage(i)})})},_performButtonsLayout:function(){var e=(this.host.width()-this._buttonsContainer.width())/2,t=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:e+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*t+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){this._buttonsContainer&&this._buttonsContainer.remove();var t;this._buttons=[],this._buttonsContainer=e("<span/>");for(var i=0;i<this._pages.length;i+=1)t=e('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(t),this._buttons[i]=t;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(t,i){var r=new e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_swapButtons:function(e,t){this._buttons[e].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[t].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[t].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(t,i,r){if(!this.disabled){var s=e(this._pages[t]),o=(this.host.width()-s.width())/2,n=s.offset().left-this._innerWrapper.offset().left-o,a=this.currentPage,l=this;"undefined"==typeof r&&(r=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,t),this.currentPage=t,this._innerWrapper.animate({marginLeft:-n},r,function(){i&&l._raiseEvent(0,{currentPage:t,oldPage:a})})}},propertyChangedHandler:function(e,t,i,r){if("currentPage"===t)e.currentPage=i,e.changePage(r);else if(/(buttonsOffset|width|height)/.test(t))e.refresh();else{if("showButtons"===t)return void(r?e._buttonsContainer.css("display","block"):e._buttonsContainer.css("display","none"));"slideShow"==t&&e.refresh()}},changePage:function(e){if(e>=this._pages.length||0>e)throw new Error("Invalid index!");this._changePage(e,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){this.currentPage-1>=0&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),function(e){var t=0;e.jqx.jqxWidget("jqxTouch","",{}),e.extend(e.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var e=this;this._rotateHandler||(this._rotateHandler=function(){e._checkOrientation()})},_getEvent:function(e){return this._isTouchDevice&&(e=this._eventsMap[e]),e+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(e(document),this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var e=this;this.addHandler(this.host,this._getEvent("mouseup"),function(t){e._resetSwipe(),e._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(t){e._initSwipe(t),e._initTap(t)}),this.addHandler(this.host,this._getEvent("mousemove"),function(t){return e._maxSwipeVerticalDistance=Math.max(e._maxSwipeVerticalDistance,Math.abs(e._startY-e._getCoordinates(t).y)),e._maxSwipeHorizontalDistance=Math.max(e._maxSwipeHorizontalDistance,Math.abs(e._startX-e._getCoordinates(t).x)),e._mouseMoved=!0,e._handleSwipeEvents(t)}),this._rotationListeners()},_handleSwipeEvents:function(e){var t=!0;return this._mouseDown&&!this._tapHoldFired&&(t=this._handleVerticalSwipeEvents(e),t=this._handleHorizontalSwipeEvents(e)),this._lastPosition=this._getCoordinates(e),t},_handleVerticalSwipeEvents:function(e){var t,i;return t=this._getCoordinates(e).y,i=t-this._startY,this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance?this._swiped(e,i,2):!0},_handleHorizontalSwipeEvents:function(e){var t,i;return t=this._getCoordinates(e).x,i=t-this._startX,this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance?this._swiped(e,i):!0},_swiped:function(e,t,i){return i=i||0,Math.abs(t)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(t,i)),Math.abs(t)<=this.swipeMax?(e.stopImmediatePropagation(),!1):!0},_getSwipeEvent:function(e,t){var i;return i=0>e?{eventId:3+t,data:{target:this.host}}:{eventId:4+t,data:{target:this.host}}},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(e){var t=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){t._mouseMoved||(t._raiseEvent(1,{target:this.host}),t._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(e){var t=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(e).x,this._startY=this._getCoordinates(e).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var e=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){e._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var e="vertical";window.orientation===this._previousOrientation&&this._previousWidth===screen.width||((90===window.orientation||screen.width>screen.height)&&(e="horizontal"),this._raiseEvent(7,{orientation:e})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(t,i){var r=e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_getCoordinates:function(t){var i=e.jqx.position(t);return i.x=i.left,i.y=i.top,i},propertyChangedHandler:function(e,t,i,r){"orientationChangeEnabled"===t&&this.refresh()},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:e("<ul></ul>"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,item:'<li><a href:"#"></a></li>',minLength:1,maxLength:null};return e.extend(!0,this,i),i},createInstance:function(e){this.render()},render:function(){if("textarea"==this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"==this.element.nodeName.toLowerCase()){this.baseHost=this.element;var t=this.host.find("input"),i=!1;if(e.each(t,function(){var r=this.type;return null==r||"text"==r||"textarea"==r?(t=e(this),i=!0,!1):void 0}),!i)throw new Error("jqxInput: Missing Text Input in the Input Group");if(t.length>0){this.baseHost=e(this.element);var r=this.host.data();this.host=t,this.element=t[0],this.host.data(r),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var s=this.baseHost.children(),o=this;e.each(s,function(t){e(this).addClass(o.toThemeProperty("jqx-input-group-addon")),e(this).removeClass(o.toThemeProperty("jqx-rc-all")),0==t&&e(this).addClass(o.toThemeProperty("jqx-rc-l")),t==s.length-1&&e(this).addClass(o.toThemeProperty("jqx-rc-r")),this!=o.element&&e(this).addClass(o.toThemeProperty("jqx-fill-state-normal"))})}}this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!=this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(i){var r=new Array;return r=e.map(i,function(e){if(void 0==e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==0){var i="",r="";return""!=t.displayMember&&void 0!=t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!=t.valueMember&&void 0!=t.valueMember&&(r=e[t.valueMember]),""==i&&(i=e.label),""==r&&(r=e.value),{label:i,value:r}}return e})};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(e){t.source=i(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(e){t.source=i(t.adapter.records)})}return void this.source.dataBind()}e.isFunction(this.source)||(this.source=i(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass";this.host[i](this.toThemeProperty("jqx-widget-content")),this.host[i](this.toThemeProperty("jqx-input")),this.host[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.$popup[i](this.toThemeProperty("jqx-noshadow")),this.$popup[i](this.toThemeProperty("jqx-input-popup")),this.$popup[i](this.toThemeProperty("jqx-menu")),this.$popup[i](this.toThemeProperty("jqx-menu-vertical")),this.$popup[i](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-widget-content")),this.roundedCorners&&(this.host[i](this.toThemeProperty("jqx-rc-all")),this.$popup[i](this.toThemeProperty("jqx-rc-all"))),this.disabled?this.host[i](this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.host;this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var t=this,i=0,r=this.baseHost.height()-2;e.jqx.browser.msie&&e.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),e.each(this.baseHost.children(),function(){e(this).css("height","100%"),e.jqx.browser.msie&&e.jqx.browser.version<8&&e(this).css("height",r+"px"),this!==t.element&&(i+=e(this).outerWidth()+2)}),this.host.css("width",this.baseHost.width()-i-4+"px"),e.jqx.browser.msie&&e.jqx.browser.version<9&&(this.host.css("min-height",r+"px"),this.host.css("line-height",r+"px"))}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled),this.maxLength&&this.host.attr("maxlength",this.maxLength),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var e=this;""==this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){e.element.value==e.placeHolder&&(e.element.value="")}),this.host.blur(function(){""!=e.element.value&&e.element.value!=e.placeHolder||(e.element.value=e.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this.$popup.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,r,s){if("placeHolder"==i)return void t._refreshPlaceHolder();if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("theme"===i&&e.jqx.utilities.setTheme(r,s,t.host),"opened"==i)return void(s?t.open():t.close());"source"==i&&(t._oldsource=s,t._updateSource()),"displayMember"!=i&&"valueMember"!=i||(t.source=t._oldsource,t._updateSource()),"disabled"==i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"==i&&(t.element.value=s),t.refresh()}},select:function(e,t,i){var r=this.$popup.find(".jqx-fill-state-pressed").attr("data-value"),s=this.$popup.find(".jqx-fill-state-pressed").attr("data-name");return this.element.value=this.renderer(s,this.element.value),this.selectedItem={label:s,value:r},this.host.attr("data-value",r),this.host.attr("data-label",s),this._raiseEvent("0",{item:{label:s,value:r},label:s,value:r}),this._raiseEvent("3",{type:i,item:{label:s,value:r},label:s,value:r}),this.close()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!=this.displayMember&&""!=this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.host.attr("data-value",e.value),this.host.attr("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.host.attr("data-value",e),this.host.attr("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this.host.trigger(s);return o},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.host[0].offsetHeight});if(0==this.$popup.parent().length){var i=this.element.id+"_popup";this.$popup[0].id=i,e.jqx.aria(this,"aria-owns",i)}this.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:t.top+t.height,left:t.left}).show();var r=0,s=this.$popup.children();return e.each(s,function(){r+=e(this).outerHeight(!0)-1}),this.$popup.height(r),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.hide(),this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(t){var i;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(i=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source,i?this.load(i):this)},load:function(t){var i=this;return t=e.grep(t,function(e){return i.filter(e)}),t=this.sort(t),t.length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,r=t;switch(null!=t.label?r=t.label:this.displayMember&&(r=t[this.displayMember]),this.searchMode){case"none":break;case"containsignorecase":default:return e.jqx.string.containsIgnoreCase(r,i);case"contains":return e.jqx.string.contains(r,i);case"equals":return e.jqx.string.equals(r,i);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(r,i);case"startswith":return e.jqx.string.startsWith(r,i);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(r,i);case"endswith":return e.jqx.string.endsWith(r,i);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(r,i)}},_sort:function(e){for(var t,i=[],r=[],s=[],o=0;o<e.length;o++){var t=e[o],n=t;t.label?n=t.label:this.displayMember&&(n=t[this.displayMember]),0===n.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?i.push(t):n.toString().indexOf(this.query)>=0?r.push(t):n.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&s.push(t)}return i.concat(r,s)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var i=this;return t=e(t).map(function(t,r){var s=r;t=void 0!=r.value?void 0!=r.label?e(i.item).attr({"data-name":r.label,"data-value":r.value}):e(i.item).attr({"data-name":r.value,"data-value":r.value}):void 0!=r.label?e(i.item).attr({"data-value":r.label,"data-name":r.label}):void 0!=i.displayMember&&""!=i.displayMember?e(i.item).attr({"data-name":r[i.displayMember],"data-value":r[i.valueMember]}):e(i.item).attr({"data-value":r,"data-name":r}),r.label?s=r.label:i.displayMember&&(s=r[i.displayMember]),t.find("a").html(i.highlight(s));var o="";return i.rtl&&(o=" "+i.toThemeProperty("jqx-rtl")),t[0].className=i.toThemeProperty("jqx-item")+" "+i.toThemeProperty("jqx-menu-item")+" "+i.toThemeProperty("jqx-rc-all")+o,t[0]}),t.first().addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(t),this.dropDownWidth?this.$popup.width(this.dropDownWidth):this.$popup.width(this.host.outerWidth()-6),this},next:function(t){var i=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r=i.next();r.length||(r=e(this.$popup.find("li")[0])),r.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(e){var t=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=t.prev();i.length||(i=this.$popup.find("li").last()),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var t=this;t.addHandler(t.host,"focus",e.proxy(t.onFocus,t)),t.addHandler(t.host,"blur",e.proxy(t.onBlur,t)),t.addHandler(t.host,"change.jqxinput"+t.element.id,function(e){if(!e.args){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation();var i=t.val();if(i&&i.label)var r=i.label,s=i.val;else var r=i,s=i;t._raiseEvent("3",{
type:"keyboard",item:{label:r,value:s},label:r,value:s})}}),t.addHandler(t.host,"keypress",e.proxy(t.keypress,t)),t.addHandler(t.host,"keyup",e.proxy(t.keyup,t)),t.addHandler(t.host,"keydown",e.proxy(t.keydown,t)),t.addHandler(t.$popup,"mousedown",e.proxy(t.click,t)),t.host.on?t.$popup.on("mouseenter","li",e.proxy(t.mouseenter,t)):t.$popup.bind("mouseenter","li",e.proxy(t.mouseenter,t))},removeHandlers:function(){var t=this;t.removeHandler(t.host,"change.jqxinput"+t.element.id),t.removeHandler(t.host,"focus",e.proxy(t.onFocus,this)),t.removeHandler(t.host,"blur",e.proxy(t.onBlur,this)),t.removeHandler(t.host,"keypress",e.proxy(t.keypress,this)),t.removeHandler(t.host,"keyup",e.proxy(t.keyup,this)),t.removeHandler(t.host,"keydown",e.proxy(t.keydown,this)),t.removeHandler(t.$popup,"mousedown",e.proxy(t.click,this)),t.host.off?t.$popup.off("mouseenter","li",e.proxy(t.mouseenter,this)):t.$popup.unbind("mouseenter","li",e.proxy(t.mouseenter,this))},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.host.val("")},onBlur:function(e){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),this.value=this.host.val()},onFocus:function(e){var t=this;t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e(t.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))}})}(jqxBaseFramework),function(e){e.jqx.response=function(){this.defineInstance()},e.jqx.response.prototype={defineInstance:function(){this._handlers=new Array,this.refresh();var t=this;this.layouts=[],this.addHandler(e(document),"scroll.jqxresponse",function(){t.scroll=t.getScroll()})},refresh:function(){this.os=this.getOS(),this.browser=this.getBrowser(),this.device=this.getDevice(),this.viewPort=this.getViewPort(),this.document=this.getDocument(),this.scroll=this.getScroll(),this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort(),this.document=this.getDocument()},addHandler:function(e,t,i,r){switch(t){case"mousemove":if(window.addEventListener&&!r)return e[0].addEventListener("mousemove",i,!1),!1}e.on?e.on(t,i):e.bind(t,i)},removeHandler:function(e,t,i){return void 0==t?void(e.off?e.off():e.unbind()):void(void 0==i?e.off?e.off(t):e.unbind(t):e.off?e.off(t,i):e.unbind(t,i))},responsive:function(t){this._counter||(this._counter=0);for(var i=this.getDevice().type,r=e(t.container),s=0;s<r.length;s++){var o=r[s];o.style.position="relative",o.style.clear="both";for(var n=(e(o).width(),e(o).children()),a=0;a<n.length;a++){var l=n[a];l.className;l.style.position="relative",l.style.top="0px",e(l).css("float","left"),l._className=l.className,t.colClass&&e(l).addClass(t.colClass)}}var d=function(){for(var s=0;s<r.length;s++){var o=r[s],a=e(o).width(),l=function(r){for(var s=e(o).children(),n=t.margin,a=t.padding,l=t.colOffsets,d=0,h=0;h<s.length;h++){var c=s[h];c.className=c._className;var u=c._className;t.colClass&&(""!=u?u+=" "+t.colClass:u=t.colClass);var p=r/s.length;if(p=t.colWidths[h]?r*t.colWidths[h]:r/s.length,!t.deviceTypes||t.deviceTypes&&t.deviceTypes.indexOf(i)>=0)for(var f=0;f<t.breakpoints.length;f++){var m=t.breakpoints[f-1],g=t.breakpoints[f];f>0&&m.width>=r&&g.width<r?m.colWidths[h]&&(p=r*m.colWidths[h],m.colClass&&(u=""!=c._className?c._className+" "+m.colClass:m.colClass,c.className=u),m.margin?n=m.margin:(m.margin={left:0,right:0,top:0,bottom:0},n=m.margin),m.padding?a=m.padding:(m.padding={left:0,right:0,top:0,bottom:0},a=m.padding),m.colOffsets?l=m.colOffsets:(m.colOffsets=new Array(s.length),l=m.colOffsets)):r<=g.width&&g.colWidths[h]&&(p=r*g.colWidths[h],g.colClass&&(u=""!=c._className?c._className+" "+g.colClass:g.colClass,c.className=u),g.margin?n=g.margin:(g.margin={left:0,right:0,top:0,bottom:0},n=g.margin),g.padding?a=g.padding:(g.padding={left:0,right:0,top:0,bottom:0},a=g.padding),g.colOffsets?l=g.colOffsets:(g.colOffsets=new Array(s.length),l=g.colOffsets))}c.className=u;var v=p;a&&(void 0==a.left&&(a.left=0),void 0==a.top&&(a.top=0),void 0==a.bottom&&(a.bottom=0),void 0==a.right&&(a.right=0),v-=a.left,v-=a.right,c.style.paddingLeft=a.left+"px",c.style.paddingRight=a.right+"px",c.style.paddingTop=a.top+"px",c.style.paddingBottom=a.bottom+"px"),c.style.marginLeft="0px",c.style.marginRight="0px",c.style.marginTop="0px",c.style.marginBottom="0px",n&&(void 0==n.left&&(n.left=0),void 0==n.top&&(n.top=0),void 0==n.bottom&&(n.bottom=0),void 0==n.right&&(n.right=0),v-=n.left,v-=n.right,c.style.marginRight=n.right+"px",c.style.marginLeft=n.left+"px",c.style.marginTop=n.top+"px",c.style.marginBottom=n.bottom+"px"),d+=v,d>=r-1&&5>=d-r&&(v--,d=0),l&&void 0!=l[h]&&(c.style.marginLeft=parseInt(c.style.marginLeft)+l[h]*r+"px"),c.style.width=v+"px"}},d=n.css("visibility");n.css("visibility","hidden"),l(a);var h=e(o).width();a!=h&&(l(h),e(window).trigger("resize")),n.css("visibility",d)}};if(this.layouts.push({object:t,resize:d}),1==this.layouts.length){var h=this;e(window).on("resize.response"+this._counter,function(){for(var e=0;e<h.layouts.length;e++)h.layouts[e].resize()}),e(window).on("orientationchange.response"+this._counter,function(){for(var e=0;e<h.layouts.length;e++)h.layouts[e].resize()}),e(window).on("orientationchanged.response"+this._counter,function(){for(var e=0;e<h.layouts.length;e++)h.layouts[e].resize()})}for(var s=0;s<this.layouts.length;s++)this.layouts[s].resize()},destroy:function(){if(this.removeHandler(e(window),"resize.jqxresponse"),this.removeHandler(e(document),"scroll.jqxresponse"),this._counter>0)for(var t=0;t<this._counter;t++)e(window).off("resize.response"+t),e(window).off("orientationchange.response"+t),e(window).off("orientationchanged.response"+t);for(var t=0;t<this._handlers.length;t++){var i=this._handlers[t];this.removeHandler(e(i),"mousedown.response"+i[0].id),this.removeHandler(e(i),"touchstart.response"+i[0].id),this.removeHandler(e(i),"mousemove.response"+i[0].id),this.removeHandler(e(i),"touchmove.response"+i[0].id),this.removeHandler(e(i),"mouseup.response"+i[0].id),this.removeHandler(e(i),"touchend.response"+i[0].id)}},resize:function(t){var i=this;this.removeHandler(e(window),"resize.jqxresponse"),this.addHandler(e(window),"resize.jqxresponse",function(r){if(t)if(e.isArray(t))for(var s=0;s<t.length;s++)t[s]();else t();i.refreshSize()}),null==t&&this.removeHandler(e(window),"resize.jqxresponse")},pointerDown:function(t,i){if(t&&i){var r=e.jqx.mobile.isTouchDevice(),s=!0;if(r){var o=e.jqx.mobile.getTouchEventName("touchstart")+".response"+t[0].id;null!=i?this.addHandler(e(t),o,function(t){var r=e.jqx.position(t),o=i(t,r,"touch");return s=!1,setTimeout(function(){s=!0},500),o}):this.removeHandler(e(t),o)}null!=i?this.addHandler(e(t),"mousedown.response"+t[0].id,function(t){var r=e.jqx.position(t);return s?i(t,r,"mouse"):void 0}):this.removeHandler(e(t),"mousedown.response"+t[0].id),this._handlers.push(t)}},pointerUp:function(t,i){if(t){var r=e.jqx.mobile.isTouchDevice(),s=!0;if(r){var o=e.jqx.mobile.getTouchEventName("touchend")+".response"+t[0].id;null!=i?this.addHandler(e(t),o,function(t){var r=e.jqx.position(t),o=i(t,r,"touch");return s=!1,setTimeout(function(){s=!0},500),o}):this.removeHandler(e(t),o)}null!=i?this.addHandler(e(t),"mouseup.response"+t[0].id,function(t){var r=e.jqx.position(t);return s?i(t,r,"mouse"):void 0}):this.removeHandler(e(t),"mouseup.response"+t[0].id),this._handlers.push(t)}},pointerMove:function(t,i){if(t){var r=e.jqx.mobile.isTouchDevice();if(r){var s=e.jqx.mobile.getTouchEventName("touchmove")+".response"+t[0].id;null!=i?this.addHandler(e(t),s,function(t){var r=e.jqx.mobile.getTouches(t);if(1==r.length){var s=e.jqx.position(t);return i(t,s,"touch")}}):this.removeHandler(e(t),s)}else null!=i?this.addHandler(e(t),"mousemove.response"+t[0].id,function(t){var r=e.jqx.position(t);return i(t,r,"mouse")}):this.removeHandler(e(t),"mousemove.response"+t[0].id);this._handlers.push(t)}},isHidden:function(t){return e.jqx.isHidden(e(t))},inViewPort:function(e){var t=this.viewPort;if(e.getBoundingClientRect){var i=e.getBoundingClientRect?e.getBoundingClientRect():{};return i&&i.bottom>=0&&i.top<=t.height&&i.right>=0&&i.left<=t.width}return!1},getScroll:function(){var e={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};return void 0==e.left&&(e.left=0),void 0==e.top&&(e.top=0),e},getDocument:function(){return{width:e(document).width(),height:e(document).height()}},getViewPort:function(){return{width:e(window).width(),height:e(window).height()}},getTouch:function(){var t="ontouchstart",i=t in window;if(i)return!0;var t="MSPointerDown",i=t in window;return i?!0:!!e.jqx.mobile.isWindowsPhone()},getDevice:function(){var e=this.os.name,t=window.location.search.match(/deviceType=(Tablet|Phone)/),i=window.deviceType,r="";return t&&t[1]?r=t[1]:"iPhone"===i?r="Phone":"iPad"===i?r="Tablet":"Android"!=e&&"iOS"!=e&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(e)?r="Desktop":"iOS"==e&&navigator.userAgent.toLowerCase().indexOf("ipad")>=0?r="Tablet":"RIMTablet"==e?r="Tablet":"Android"==e?(r=this.os.version&&this.os.version.substring(0,1).indexOf("3")>=0?"Tablet":this.os.version&&this.os.version.substring(0,1).indexOf("4")>=0&&-1==navigator.userAgent.search(/mobile/i)?"Tablet":"Phone",navigator.userAgent.toLowerCase().indexOf("kindle fire")>=0&&(r="Tablet")):r="Phone",/Windows/.test(e)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?r="Phone":navigator.userAgent.indexOf("Touch")>=0&&(r="Tablet",this.getTouch()||(r="Desktop"))),{type:r,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var e=!1,t=document.createElement("canvas");return t&&t.getContext&&t.getContext("2d")&&(e=!0),e},vml:function(){if(void 0==this._vmlSupport){var e=document.body.appendChild(document.createElement("div"));e.innerHTML='<v:shape id="vml_flag1" adj="1" />';var t=e.firstChild;t.style.behavior="url(#default#VML)",this._vmlSupport=t?"object"==typeof t.adj:!0,e.parentNode.removeChild(e)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var t=navigator.userAgent.toLowerCase(),i="",r=null;if(browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(t)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(t)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(t)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(t)},edge:{name:"Edge",eval:/Edge/i.exec(t)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(t)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(t)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(t)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(t)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(t)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(t)},msie11:{name:"Internet Explorer 11",eval:t.indexOf("rv:11.0")>=0&&t.indexOf(".net4.0c")>=0},winphone:{name:"Internet Explorer Mobile",eval:t.indexOf("windows phone 8.1")>=0},other:{name:"Other",eval:t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)}},e.each(browserNames,function(e,s){if(this.eval)if("Other"==this.name)r||(r=this.eval,i=this.name);else if("Internet Explorer 11"==this.name)r||(r=["","msie",11],i="Internet Explorer");else if("Edge"==this.name)r=["","edge",t.substring(t.indexOf("edge")+5)],i=this.name;else if("Internet Explorer Mobile"==this.name)r||(r=["","msie",11],i="Internet Explorer");else{if("Chrome"==i&&"Safari"==this.name)return!0;r=this.eval,i=this.name}}),r){var s={name:i,accessName:r[1]||"",version:r[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};s[r[1]]=r[1]}else s={name:"Other",browser:"other",version:""};return s},getOS:function(){var t=null,i="",r=navigator.userAgent,s="Other",o={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}},n="",a=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var l in a){var d=a[l];if(d.r.test(r)){n=d.s;break}}var h="";switch(/Windows/.test(n)&&(h=/Windows (.*)/.exec(n)[1],n="Windows"),/BB10/.test(n)&&(h="10",n="BlackBerry"),s){case"Mac OS X":h=/Mac OS X (10[\.\_\d]+)/.exec(r)[1];break;case"Android":h=/Android ([\.\_\d]+)/.exec(r)[1];break;case"iOS":h=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer),h=h[1]+"."+h[2]+"."+(0|h[3])}return""!=h&&(i=h),e.each(o,function(e,o){return t=r.match(this.regex)||r.toLowerCase().match(this.regex),t?(this.name.match(/Windows|Linux|MacOS/)||(i=!t[1]||"HTC_"!=t[1]&&"Silk/"!=t[1]?t[t.length-1]:"2.3"),s={name:this.name,version:i,platform:navigator.platform},!1):void 0}),s&&"Other"==s.name&&(s.name=n),s&&""!=s.name&&""!=n&&(s.name=n),s&&""==s.version&&""!=h&&(s.version=h),s}}}(jqxBaseFramework),function(e){function t(e,t,i,r,s,o,n,a){this.label=e,this.value=t,this.parent=i,this.children=r,this.area=s||null,this.color=o,this.data=n,this.record=a}e.jqx.jqxWidget("jqxTreeMap","",{});var i={};i["default"]=function(){function e(t,i,r,s){this.height=s,this.width=r,this.xoffset=t,this.yoffset=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t=[],i=this.xoffset,r=this.yoffset,s=d(e)/this.height,o=d(e)/this.width;if(this.width>=this.height)for(var n=0;n<e.length;n+=1)t.push([i,r,i+s,r+e[n]/s]),r+=e[n]/s;else for(var n=0;n<e.length;n+=1)t.push([i,r,i+e[n]/o,r+o]),i+=e[n]/o;return t},this.cutArea=function(t){var i;if(this.width>=this.height){var r=t/this.height,s=this.width-r;i=new e(this.xoffset+r,this.yoffset,s,this.height)}else{var o=t/this.width,n=this.height-o;i=new e(this.xoffset,this.yoffset+o,this.width,n)}return i}}function t(e,t){for(var i=[],r=d(e),s=t/r,o=0;o<e.length;o+=1)i[o]=e[o]*s;return i}function i(e,t,s,o,n){o="undefined"==typeof o?0:o,n="undefined"==typeof n?0:n;var a,d=[],c=[];if(l(e[0])){for(var u=0;u<e.length;u+=1)d[u]=h(e[u]);a=r(d,t,s,o,n);for(var u=0;u<e.length;u+=1)c.push(i(e[u],a[u][2]-a[u][0],a[u][3]-a[u][1],a[u][0],a[u][1]))}else c=r(e,t,s,o,n);return c}function r(i,r,n,a,l){a="undefined"==typeof a?0:a,l="undefined"==typeof l?0:l;var d=o(t(i,r*n),[],new e(a,l,r,n),[]);return s(d)}function s(e){for(var t=[],i=0;i<e.length;i+=1)for(var r=0;r<e[i].length;r+=1)t.push(e[i][r]);return t}function o(e,t,i,r){var s,a,l;return 0===e.length?void r.push(i.getCoordinates(t)):(s=i.shortestEdge(),a=e[0],n(t,a,s)?(t.push(a),o(e.slice(1),t,i,r)):(l=i.cutArea(d(t),r),r.push(i.getCoordinates(t)),o(e,[],l,r)),r)}function n(e,t,i){var r;if(0===e.length)return!0;r=e.slice(),r.push(t);var s=a(e,i),o=a(r,i);return s>=o}function a(e,t){var i=Math.min.apply(Math,e),r=Math.max.apply(Math,e),s=d(e);return Math.max(Math.pow(t,2)*r/Math.pow(s,2),Math.pow(s,2)/(Math.pow(t,2)*i))}function l(e){return e&&e.constructor===Array}function d(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t}function h(e){var t=0;if(l(e[0]))for(var i=0;i<e.length;i+=1)t+=h(e[i]);else t=d(e);return t}return i}();var r={HORIZONTAL:0,VERTICAL:1,BOTH:2};e.extend(e.jqx._jqxTreeMap.prototype,{defineInstance:function(){var t={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(e){return e},hoverEnabled:!1,selectionEnabled:!0,singleSelection:!0,showLegend:!0,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};return e.extend(!0,this,t),t},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new t(void 0,0,null,[],this.host);var r=function(e,t){for(var r,s={},o=null,n=0;n<e.length;n+=1)if(e[n].items){o=!0;break}var a=new Array;if(o){var l=function(e,t){for(var i=0;i<e.length;i+=1){if(e[i].parent=t,e[i].data||(e[i].data=e[i].value),null==e[i].value&&(e[i].value=0),isNaN(parseFloat(e[i].value))){for(var r=e[i].value.toString(),s="",o=0;o<r.length;o++){var n=r.substring(o,o+1);null==n.match(/^[0-9]+$/)&&"."!=n||(s+=n)}e[i].value=new Number(s)}else e[i].value=parseFloat(e[i].value);a.push(e[i]),e[i].items&&l(e[i].items,e[i].label)}};l(e,null),e=a}for(var n=0;n<e.length;n+=1)r=e[n],r.value&&null!=r.parent&&(s[r.parent]||(s[r.parent]=0),s[r.parent]+=r.value);for(var n=0;n<e.length;n+=1)r=e[n],void 0!==s[r.label]&&(r.value=s[r.label]);t._buildTree(e,t._root),t._dataList=t._buildList(),t._setStyles();var d=i["default"];"simple"===t.layout&&(d=i.simple),t._render(t._root,d),t._renderLegend()};return e.jqx.dataAdapter&&null!=this.source&&this.source._source?void this.dataBind(this.source,r):(r(this.source,this),void this._trigger("bindingComplete"))},dataBind:function(t,i){this.records=new Array;var r=!!t._source,s=new e.jqx.dataAdapter(t,{autoBind:!1});r&&(s=t,t=t._source);var o=function(e){void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async)},n=function(e,t){e.records=s.records;for(var r=new Array,o=0;o<e.records.length;o++){var n=e.records[o];e.displayMember&&(n.label=n[e.displayMember]),e.valueMember&&(n.value=n[e.valueMember]),n.record=n,r.push(n)}e._trigger("bindingComplete"),i(r,e)};o(this);var a=this;switch(t.datatype){case"local":case"array":default:null!=t.localdata&&(s.unbindBindingUpdate(this.element.id),s.dataBind(),n(this),s.bindBindingUpdate(this.element.id,function(e){n(a,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(this.element.id),s.dataBind(),n(this),void s.bindBindingUpdate(this.element.id,function(){n(a)});var l={};s._options.data?e.extend(s._options.data,l):(t.data&&e.extend(l,t.data),s._options.data=l);var d=function(){n(a)};s.unbindDownloadComplete(a.element.id),s.bindDownloadComplete(a.element.id,d),s.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(e){e||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0);var i=this;e.jqx.utilities.resize(this.host,function(){i.resizeTimer&&clearTimeout(i.resizeTimer),i.resizeTimer=setTimeout(function(){i.performLayout()},50)})},resize:function(e,t){this.width=e,this.height=t,this.performLayout()},performLayout:function(){var e=i["default"];this.clearSelection(),this._layout(this._root,e)},_getValues:function(e){for(var t=[],i=0;i<e.length;i+=1)t.push(e[i].value);return t},_isColor:function(e){if(!e)return!1;var t=this._colorEvaluator;return!(!t._isRgb(e)&&!t._isHex(e))},_colorEvaluator:{_toRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},_toHex:function(e){var t=e.r.toString(16),i=e.g.toString(16),r=e.b.toString(16);return t=1===t.length?"0"+t:t,i=1===i.length?"0"+i:i,r=1===r.length?"0"+r:r,"#"+t+i+r},_isRgb:function(e){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(e)},_isHex:function(e){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(e)},getColorByValue:function(e,t,i){var r,s,o,n,a,t,l=this._colorEvaluator;l._isRgb(i)&&(i=l._toHex(i)),i=l._toRgb(i),o=t.length,r=-(1/0);for(var d=0;o>d;d+=1)r<t[d].value&&(r=t[d].value);return s=e/r,n=Math.round(s*this.colorRange),a=l._toHex({r:Math.max(i.r-n,0),g:Math.max(i.g-n,0),b:Math.max(i.b-n,0)})},parent:function(e){var t=e.parent.color,i=this._colorEvaluator;return e.parent?(t||(t=this.baseColor),t=i.getColorByValue.call(this,e.value,e.parent.children,t),e.color=t,t):"#fff"},autoColors:function(e){var t=this.baseColor,i=this._colorEvaluator;return t=i.getColorByValue.call(this,e.value,this._dataList,t),e.color=t,t},rangeColors:function(e){for(var t,i=e.value,r=0;r<this.colorRanges.length;r+=1)if(t=this.colorRanges[r],t.min<i&&t.max>=i)return t.color;return"#fff"}},_getColor:function(e){var t=e.color,i=this.colorMode;if(this._isColor(t))return t;if("function"==typeof this._colorEvaluator[i])return this._colorEvaluator[i].call(this,e);throw"Invalid colorMode"},_renderRect:function(t,i){var r=e("<div/>"),s=t[2]-t[0],o=t[3]-t[1],n=this._getColor(i);r.css({position:"absolute",left:t[0]-1,top:t[1]-1,width:s,height:o,backgroundColor:n}),r.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var a=this._colorEvaluator,l={data:i.data,label:i.label,value:i.value,parent:i.parent,record:i.record,color:n,rgb:a._toRgb(n)};if(i.parent==this._root&&(l.parent=null),"function"==typeof this.renderCallbacks["*"]){var d=this.renderCallbacks["*"](r,l);if(void 0!==d)return r}if("function"==typeof this.renderCallbacks[i.label])this.renderCallbacks[i.label](r,l);else{var s=r.width()-2;r.html('<span style="max-width:'+s+'px;" class="jqx-treemap-label">'+i.label+"</span>")}return r},_centerLabel:function(e,t){var i=e[0].firstChild;i.style.position="absolute",t!==r.HORIZONTAL&&t!==r.BOTH||(i.style.left=(e[0].offsetWidth-i.offsetWidth)/2+"px"),t!==r.VERTICAL&&t!==r.BOTH||(i.style.top=(e[0].offsetHeight-i.offsetHeight)/2+"px")},_trigger:function(t,i){var r=e.Event(t);return r.args=i,this.host.trigger(r)},_addHandlers:function(t,i){var r=this;t.bind("mouseenter",function(e){r.hoverEnabled&&(r.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),t.addClass(r.toThemeProperty("jqx-treemap-rectangle-hover"))),r._trigger("mouseenterSector",i)}),t.bind("mouseleave",function(e){r.hoverEnabled&&t.removeClass("jqx-treemap-rectangle-hover"),r._trigger("mouseleaveSector",i)}),t.bind("click",function(i){if(r.selectionEnabled){var s=e.data(this,"jqx-treemap-selected")||!1;r.singleSelection&&r.host.find(".jqx-treemap-rectangle-hover").each(function(t,i){e.data(i,"jqx-treemap-selected",!1),e(i).removeClass("jqx-treemap-rectangle-hover")}),s?(t.removeClass("jqx-treemap-rectangle-hover"),s=!1):(t.addClass(r.toThemeProperty("jqx-treemap-rectangle-hover")),s=!0),e.data(this,"jqx-treemap-selected",s),i.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),e.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(e,t){e.children.length&&e.children.length>0?(this._centerLabel(t,r.HORIZONTAL),t.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(t,r.BOTH)},_render:function(e,t){if(e.children.length){var i=0;e.value&&(i=this.headerHeight);for(var r,s,o=this._getValues(e.children),n=(e.area.offset(),t(o,e.area.width(),e.area.height()-i,0,i)),a=0;a<e.children.length;a+=1)r=e.children[a],s=this._renderRect(n[a],r),r.area=s,e.area.append(s),this._addHandlers(s,{label:r.label,value:r.value,color:r.color,sector:r.area,data:r.data}),this._layoutArea(r,s),this._render(r,t)}},_layout:function(t,i){if(t.children.length){var r=0;t.value&&(r=this.headerHeight);for(var s=this._getValues(t.children),o=(t.area.offset(),i(s,t.area.width(),t.area.height()-r,0,r)),n=0;n<t.children.length;n+=1){var a=t.children[n];this._layoutRect(o[n],a),this._layoutArea(a,a.area),this._layout(a,i)}this.showLegend&&(e(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(e,t){var i=t.area,r=e[2]-e[0],s=e[3]-e[1];i.css({left:e[0]-1,top:e[1]-1,width:r,height:s});var o=this._colorEvaluator,n=this._getColor(t),a={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:n,rgb:o._toRgb(n)};if(t.parent==this._root&&(a.parent=null),"function"==typeof this.renderCallbacks["*"]){var l=this.renderCallbacks["*"](i,a);if(void 0!==l)return i}if("function"==typeof this.renderCallbacks[t.label])this.renderCallbacks[t.label](i,a);else{var r=i.width()-2;i.find(".jqx-treemap-label:first").css("max-width",r)}},_getBoundValues:function(){var e,t=this._root,i=[],r={},s={};for(r.value=t.value||1/0,s.value=t.value||-(1/0),i.push(t);i.length;){e=i.pop(),r.value>e.value&&(r=e),s.value<e.value&&(s=e);for(var o=0;o<e.children.length;o+=1)i.push(e.children[o])}return[r,s]},_getAutocolorRanges:function(){for(var e,t=this._getBoundValues(),i=5,r=t[1].value,s=t[0].value,o=(r-s)/i,n=[],a=s;r>a;a+=o)e=Math.round(a),n.push({min:e,max:a+o,color:this._colorEvaluator.getColorByValue.call(this,e,this._dataList,this.baseColor)});return n},_renderLegend:function(){if(/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend){var e=this.colorRanges;"autoColors"===this.colorMode&&(e=this._getAutocolorRanges());var t=this._renderColorLegend(e);this._renderLegendLabel(t)}},_renderLegendLabel:function(t){var i=e('<tr><td colspan="'+t.find("td").length/2+'"/></tr>'),r=e('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');r.text(this.legendLabel),i.children().append(r),t.prepend(i)},_renderColorLegend:function(t){var i,r,s=e('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),o=function(e){return e};"function"==typeof this.legendScaleCallback&&(o=this.legendScaleCallback);var n=e('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');s.append(n),n.append("<tr/>"),s.append("<div/>"),this.host.append(s),i=e(s.find("tr")[0]),r=e(s.find("div")[0]),r.addClass(this.toThemeProperty("jqx-treemap-legend-values"));var a=function(e,t){try{if(e.min<t.min)return-1;if(e.min>t.min)return 1}catch(i){}return 0};t.sort(a);for(var l=Math.round(s.width()/t.length),d=-2,h=0,c=0;c<t.length;c+=1){var u=e('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');if(u.css("backgroundColor",t[c].color),i.append(u),0===c){var p=e('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');p.text(o(t[c].min)),r.append(p),n.css("margin-left",p.width()/2),d+=p.width()/2,h=d}var p=e('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');d+=l,p.text(o(t[c].max)),r.append(p),c==t.length-1&&(h+=p.width()/2,s.css("padding-right",h+5),d-=2),d-=p.width()/2,p.css("left",d),d+=p.width()/2}return s.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),s},_buildTree:function(e,i){var r,s,o=null,n=[];for(n.push(i);n.length;){o=n.pop();for(var a=0;a<e.length;a+=1)if(s=e[a],s.parent===o.label||!s.parent&&!o.label){var l=o;r=new t(s.label,parseFloat(s.value,10),l,[],null,s.color,s.data,s.record),o.children.push(r),n.push(r)}}return i},_buildList:function(){var e,t=[],i=[];for(i.push(this._root);i.length;){e=i.pop(),e!==this._root&&t.push(e);for(var r=0;r<e.children.length;r+=1)i.push(e.children[r])}return t},propertyChangedHandler:function(e,t,i){"renderCallbacks"!==t&&(/hoverEnabled|selectionEnabled/.test(t)?i||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===t?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPasswordInput","",{}),e.extend(e.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this,i=e.jqx.browser.browser,r=e.jqx.browser.version;this._browserCheck="msie"!=i||"7.0"!=r&&"8.0"!=r,this.widgetID=t.element.id;var s=t.host,o="Invalid input type. Please set the type attribute of the input element to password.";if("password"!=s.attr("type"))throw o;t._hidden=!0,t._setTheme(),t._setAttributes(),t._showPassword(),t._showStrength()},refresh:function(t){var i=this;1!=t&&(i.removeHandler(i.host,"change.passwordinput"+i.widgetID),i.removeHandler(i.host,"focus.passwordinput"+i.widgetID),i.removeHandler(i.host,"blur.passwordinput"+i.widgetID),i.removeHandler(i.host,"click.passwordinput"+i.widgetID),i.removeHandler(e(window),"resize.passwordinput"+i.widgetID),i.removeHandler(i.host,"keyup.passwordinput"+i.widgetID),i.removeHandler(i.icon,"mousedown.passwordinput"+i.iconID),i.removeHandler(i.icon,"mouseup.passwordinput"+i.iconID),i.removeHandler(e(document),"mousedown.passwordinput"+i.iconID),i._setAttributes(),i._setTheme(),i._showPassword(),i._showStrength())},val:function(t){var i=this,r=i.element.value,s="placeholder"in i.element;if(e.isEmptyObject(t)&&""!=t)return s||r!==i.placeHolder||(r=""),r;if(!s||t!==r){if(!s){
if(""===t)return void(r!==i.placeHolder&&(i.element.value=i.placeHolder,i.host.attr("type","text")));i.host.attr("type","password")}i.element.value=t,i.showStrength===!0&&i._evaluateStrength()}},propertyChangedHandler:function(t,i,r,s){var o=this.host;return"theme"===i?void e.jqx.utilities.setTheme(r,s,t.host):"disabled"==i?void(1==t.disabled?(t.host.attr("disabled","disabled"),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")))):void("placeHolder"==i?this._browserCheck&&("placeholder"in this.element?o.attr("placeholder",this.placeHolder):""==o.val()?(o.attr("type","text"),t.element.value=s):o.val()==r&&(t.element.value=s)):this.refresh())},resize:function(e,t){this.width=e,this.height=t,this.host.width(this.width),this.host.height(this.height)},_setAttributes:function(){var e=this,t=e.host;t.width(e.width),t.height(e.height),e.maxLength&&t.attr("maxlength",e.maxLength),e.minLength&&t.attr("minLength",e.minLength),e.placeHolder&&e._browserCheck&&("placeholder"in e.element?t.attr("placeholder",e.placeHolder):""==t.val()&&(t.attr("type","text"),e.element.value=e.placeHolder)),1==e.disabled?(t.attr("disabled","disabled"),t.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(t.removeAttr("disabled"),t.removeClass(e.toThemeProperty("jqx-fill-state-disabled")));var i=!1;e.addHandler(t,"change.passwordinput"+e.widgetID,function(t){i||(t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation(),i=!0,e._raiseEvent(),i=!1)}),e.addHandler(t,"click.passwordinput"+e.widgetID,function(){e.showPasswordIcon&&e.icon&&(e.icon.show(),e._positionIcon())}),e.interval=null,e.addHandler(t,"keydown.passwordinput"+e.widgetID,function(){if(e.changeType="keyboard",e.showPasswordIcon&&e.icon){e.interval&&clearInterval(e.interval);var t=0;e.interval=setInterval(function(){"none"!=e.icon[0].style.display?(e._positionIcon(),t++,t>5&&clearInterval(e.interval)):clearInterval(e.interval)},100)}}),e.addHandler(t,"focus.passwordinput"+e.widgetID,function(){if(e._focused=!0,e.host.addClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||t.val()!=e.placeHolder||(t.val(""),1==e._hidden&&t.attr("type","password")),e.val().length>0&&1==e.showStrength){var i=t.jqxTooltip("content");i&&t.jqxTooltip("open")}e.showPasswordIcon&&e.icon&&(e.icon.show(),e._positionIcon())}),e.addHandler(t,"blur.passwordinput"+e.widgetID,function(){e._focused=!1,e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus")),!e.placeHolder||!e._browserCheck||"placeholder"in e.element||""!=t.val()||(e.element.value=e.placeHolder,t.attr("type","text")),1==e.showPasswordIcon&&e._browserCheck&&(0==e.rtl?e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-ltr")):e.host.removeClass(e.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),1==e.showStrength&&t.jqxTooltip("close"),e.showPasswordIcon&&e.icon&&e.icon.hide()})},destroy:function(){this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var e=this.host,t=this;e.addClass(t.toThemeProperty("jqx-widget")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-rc-all")),1==t.rtl?(e.addClass(t.toThemeProperty("jqx-rtl")),e.css("direction","rtl")):(e.removeClass(t.toThemeProperty("jqx-rtl")),e.css("direction","ltr"))},_showPassword:function(){if(1==this.showPasswordIcon&&this._browserCheck){var t=this;this.iconID=this.widgetID+"-password-icon",e("<span tabindex='-1' hasfocus='false' style='position: absolute; display: none;' id='"+t.iconID+"'></span>").insertAfter(t.host);var i=e("#"+t.iconID);t.icon=i,i.addClass(t.toThemeProperty("jqx-passwordinput-password-icon")),i.attr("title",t.localization.showPasswordString),t._positionIcon();var r=function(){t.host.attr("type","password"),t._hidden=!0,i.attr("title",t.localization.showPasswordString)},s=function(){0==t._hidden?r():1==t._hidden&&(t.host.attr("type","text"),t._hidden=!1)},o=e.jqx.mobile.isTouchDevice();o?t.addHandler(t.icon,"mousedown.passwordinput"+t.iconID,function(e){return s(),!1}):(t.addHandler(t.icon,"mousedown.passwordinput"+t.iconID,function(e){return s(),!1}),t.addHandler(t.icon,"mouseup.passwordinput"+t.iconID,function(e){return r(),!1}),t.addHandler(e(document),"mousedown.passwordinput"+t.iconID,function(e){t._focused&&r()}))}},_positionIcon:function(){var e=this.host.offset(),t=this.host.outerWidth(),i=this.host.outerHeight();1==this.rtl?this.icon.offset({top:parseInt(e.top+i/2-5),left:e.left+2}):this.icon.offset({top:parseInt(e.top+i/2-5),left:e.left+t-18})},_showStrength:function(){var t=this;if(1==t.showStrength){if(void 0==t.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var i,r=t.widgetID+"Strength",s=r+"Value",o=r+"Indicator";if(t.strengthTypeRenderer){var n=t.host.val();"placeholder"in t.element||!t._browserCheck||n!=t.placeHolder||(n=""),t._countCharacters();var a=t.localization.tooShort,l=t.strengthTypeRenderer(n,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},a);i=l}else i="<div style='width: 220px;' id='"+r+"'><div><span style='font-weight: bold;'>"+t.localization.passwordStrengthString+": </span><span id='"+s+"'></span></div><div id='"+o+"'></div></div>";t.host.jqxTooltip({theme:t.theme,position:t.showStrengthPosition,content:i,trigger:"none",autoHide:!1,rtl:t.rtl}),t.strengthTypeRenderer||(e("#"+s).html(t.localization.tooShort),e("#"+o).addClass("jqx-passwordinput-password-strength-inicator").css("background-color",t.strengthColors.tooShort),0==t.rtl?e("#"+o).css("float","left"):e("#"+o).css("float","right")),t._checkStrength()}},_checkStrength:function(){var t=this;t.addHandler(e(window),"resize.passwordinput"+t.widgetID,function(){t.icon&&t.icon.hide()}),t.addHandler(t.host,"keyup.passwordinput"+t.widgetID,function(){t._evaluateStrength()})},_raiseEvent:function(t){var i=new e.Event("change");i.args={type:this.changeType},this.changeType=null,i.owner=this;var r=this.host.trigger(i);return r},_evaluateStrength:function(){var t=this,i=t.host.val(),r=i.length;if(t._countCharacters(),r>0&&1==t.showStrength){var s=!t.host.jqxTooltip("opened");s&&t.host.jqxTooltip("open")}var o,n=t.letters+t.numbers+2*t.specials+t.letters*t.numbers/2+r;if(o=8>r?t.localization.tooShort:20>n?t.localization.weak:30>n?t.localization.fair:40>n?t.localization.good:t.localization.strong,t.strengthTypeRenderer){var a=t.strengthTypeRenderer(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},o);t.host.jqxTooltip({content:a})}else{if(t.passwordStrength){var a=t.passwordStrength(i,{letters:t.letters,numbers:t.numbers,specialKeys:t.specials},o);e.each(t.localization,function(){var e=this;return a==e?(o=a,!1):void 0})}e("#"+t.widgetID+"StrengthValue").html(o);var l=e("#"+t.widgetID+"StrengthIndicator");switch(o){case t.localization.tooShort:l.css({width:"20%","background-color":t.strengthColors.tooShort});break;case t.localization.weak:l.css({width:"40%","background-color":t.strengthColors.weak});break;case t.localization.fair:l.css({width:"60%","background-color":t.strengthColors.fair});break;case t.localization.good:l.css({width:"80%","background-color":t.strengthColors.good});break;case t.localization.strong:l.css({width:"100%","background-color":t.strengthColors.strong})}}},_countCharacters:function(){var e=this;e.letters=0,e.numbers=0,e.specials=0;for(var t="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=",i=e.host.val(),r=i.length,s=0;r>s;s++){var o=i.charAt(s),n=i.charCodeAt(s);n>64&&91>n||n>96&&123>n||n>127&&155>n||n>159&&166>n?e.letters+=1:0!=isNaN(o)?-1==t.indexOf(o)||(e.specials+=1):e.numbers+=1}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRangeSelector","",{}),e.extend(e.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var t={width:400,height:100,min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),!e.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var r=e.jqx.isHidden(this.host);this.render();var s=this.host.width(),o=this.host.height();e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();i.range=i.getRange(),r?(i.refresh(),r=!1):s==e&&o==t||i.refresh(),s=i.host.width(),o=i.host.height()})},render:function(){(this.host.children().length>1||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(e){1!=e&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){this._removeHandlers(),this.host.remove()},setRange:function(e,t){if(e>t)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var i=this._getValue();if(i.from!=e||i.to!=t){var r="number"==this._dataType?"numeric":"date",s="The set values are in the wrong format. Please set "+r+" values.";if("string"==typeof e||e instanceof Date){if("number"==this._dataType)throw new Error(s)}else if("date"==this._dataType)throw new Error(s);e=this._validateInput(e),t=this._validateInput(t),e>this._max&&(e=this._max),e<this._min&&(e=this._min),t>this._max&&(t=this._max),t<this._min&&(t=this._min);var o=t-e;o>this._range._max?t=e+this._range._max:o<this._range._min&&(t=e+this._range._min);var n=this._valuesArray.indexOf(e),a=this._valuesArray.indexOf(t),l=this._ticksArray[n],d=this._ticksArray[a],h=Math.abs(d-l);this.slider[0].style.width=h+"px";var c=this.rtl?d:l;if(this.slider[0].style.left=c,this._moveSlider(c),"date"==this._dataType)var e=new Date(e),t=new Date(t);this._raiseEvent("0",{type:null,from:e,to:t})}},val:function(e){return 0==arguments.length?this.getRange():void(void 0!=e.from&&this.setRange(e.from,e.to))},getRange:function(){var e=this._getValue();return e},propertyChangedHandler:function(t,i,r,s){switch(i){case"showMinorTicks":1==s?e("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):e("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var o=e("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==s?o.css("visibility","visible"):o.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var o=this.host.trigger(s)}catch(n){}return o},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_scale:function(){var e=this.host.width(),t=this._max-this._min;this._unitPerPixel=parseFloat((t/e).toFixed(4)),this._pixelPerUnit=e/t,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=t/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(e/(t/this.majorTicksInterval))),this._unitsCount=t/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(e/(t/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=e("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var t=new String;e("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var i=this.rangeSelector.height();t="number"==this._dataType?this._addNumericTicks(i):this._addDateTicks(i);var r=0;this.showLabels&&(r+=e("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(r+=e("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",r),e("#labelPlaceholder").remove(),e("#"+this._id+"TicksContainer").append(t),this._ticksArray.sort(function(e,t){return e-t});for(var s=1;s<this._ticksArray.length;s++)this._ticksArray[s]=this._roundNumber(this._ticksArray[s]);if(this._valuesArray.sort(function(e,t){return e-t}),"number"==this._dataType)for(var s=1;s<this._valuesArray.length;s++)this._valuesArray[s]=this._roundNumber(this._valuesArray[s],"marker",!0);for(var s=1;s<this._ticksArray.length;s++)this._ticksArray[s-1]==this._ticksArray[s]&&(this._ticksArray.splice(s,1),this._valuesArray.splice(s,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(t){for(var i=this,r=new String,s=0,o=this._min,n=this._max,a=0;a<this._majorTicksCount;a++){var l=this._id+"LabelTick"+(a+1);a==this._majorTicksCount-1&&(s=this.host.width());var d=i.showMajorTicks?"visible":"hidden";r+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+d+"; left: "+s+"px;'></div>",this._ticksArray.push(s),this._majorTicksArray.push(s);var h=this._id+"Label"+(a+1),c=o;this._valuesArray.push(parseFloat(c.toFixed(4))),i.rtl&&(c=n),c=this._formatOutput(c,this.labelsFormat,this.minorTicksInterval>=1?0:2,"label"),e("#labelPlaceholder").html(c);var u=e("#labelPlaceholder").width(),p=i.showLabels?"visible":"hidden";i.labelsOnTicks&&(r+="<div id='"+h+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+p+"; left: "+(s-u/2)+"px; top: "+t+"px;'>"+c+"</div>");var f=s;o+=this.majorTicksInterval,n-=this.majorTicksInterval;var s=(o-i._min)/i._unitPerPixel;if(s=parseInt(s),!this.labelsOnTicks&&a<this._majorTicksCount-1){var m=Math.abs(f-s);r+="<div id='"+h+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+p+"; left: "+(f+m/2-u/2)+"px; top: "+t+"px;'>"+c+"</div>"}}for(var s=0,g=this.showMinorTicks?"visible":"hidden",o=this._min,a=0;a<this._unitsCount;a++){var l=this._id+"MinorTick"+(a+1);a==this._unitsCount-1&&(s=this.host.width()),r+="<div id='"+l+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+g+"; left: "+s+"px;'></div>";var v=o;-1===this._valuesArray.indexOf(parseFloat(v.toFixed(4)))&&(this._valuesArray.push(parseFloat(v.toFixed(4))),this._ticksArray.push(s)),o+=this.minorTicksInterval;var s=(o-i._min)/i._unitPerPixel;s=parseInt(s)}return r},_getMillisecondsByInterval:function(e){var t={};return"year"==e||e.years?(t.divisor=e.years?e.years:1,31536e6*t.divisor):"month"==e||e.months?(t.divisor=e.months?e.months:1,2592e6*t.divisor):"week"==e||e.weeks?(t.divisor=e.weeks?e.weeks:1,6048e5*t.divisor):"day"==e||e.days?(t.divisor=e.days?e.days:1,864e5*t.divisor):"hour"==e||e.hours?(t.divisor=e.hours?e.hours:1,36e5*t.divisor):"minute"==e||e.minutes?(t.divisor=e.minutes?e.minutes:1,60*t.divisor*1e3):"second"==e||e.seconds?(t.divisor=e.seconds?e.seconds:1,1e3*t.divisor):"millisecond"==e||e.milliseconds?(t.divisor=e.milliseconds?e.milliseconds:1,1*t.divisor):t},_addDateTicks:function(t){var i=this,r=new String,s=function(e){var t="majorTicksInterval"==e?i.majorTicksInterval:i.minorTicksInterval,r=new Object;return"year"==t||t.years?(r.period="year",r.interval=864e5,r.divisor=t.years?t.years:1,r.value=31536e6*r.divisor):"month"==t||t.months?(r.period="month",r.interval=864e5,r.divisor=t.months?t.months:1,r.value=2592e6*r.divisor):"week"==t||t.weeks?(r.period="week",r.interval=864e5,r.divisor=t.weeks?t.weeks:1,r.value=6048e5*r.divisor):"day"==t||t.days?(r.period="day",r.interval=36e5,r.divisor=t.days?t.days:1,r.value=864e5*r.divisor):"hour"==t||t.hours?(r.period="hour",r.interval=6e4,r.divisor=t.hours?t.hours:1,r.value=36e5*r.divisor):"minute"==t||t.minutes?(r.period="minute",r.interval=6e4,r.divisor=t.minutes?t.minutes:1,r.value=60*r.divisor*1e3):"second"==t||t.seconds?(r.period="second",r.interval=1e3,r.divisor=t.seconds?t.seconds:1,r.value=1e3*r.divisor):("millisecond"==t||t.milliseconds)&&(r.period="millisecond",r.interval=1,r.divisor=t.milliseconds?t.milliseconds:1,r.value=1*r.divisor),r},o=function(e,t){var i=new Date(e),r=i.getDate(),s="year"==t&&0==i.getMonth()&&1==r,o="month"==t&&1==r,n="week"==t&&0==i.getDay(),a="day"==t&&0==i.getHours(),l="hour"==t&&0==i.getMinutes(),d="minute"==t&&0==i.getSeconds(),h="minute"==t&&0==i.getMilliseconds(),c="millisecond"==t;return!!(s||o||n||a||l||d||h||c)},n=function(s,o,n){var a=(s-i._min)/i._unitPerPixel;i.rtl&&(s="majorTicksInterval"==o?i._dateMajorTicks[i._dateMajorTicks.length-n]:i._dateMinorTicks[i._dateMinorTicks.length-n]),a=parseInt(a);var l=s;if(-1===i._valuesArray.indexOf(l)&&(i._ticksArray.push(a),i._valuesArray.push(l),"majorTicksInterval"==o&&i._majorTicksArray.push(a)),"majorTicksInterval"==o){var d=i._id+"LabelTick"+n,h=i.showMajorTicks?"visible":"hidden";r+="<div id='"+d+"' class='"+i.toThemeProperty("jqx-rangeselector-ticks")+" "+i.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+h+"; left: "+a+"px;'></div>";var c=l;c=i._formatOutput(c,i.labelsFormat,i.labelPrecision,"label"),e("#labelPlaceholder").html(c);var u=e("#labelPlaceholder").width(),p=i._id+"Label"+n,f=i.showLabels?"visible":"hidden";if(i.labelsOnTicks)i.labelsOnTicks&&(r+="<div id='"+p+"' class='"+i.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+f+"; left: "+(a-u/2)+"px; top: "+t+"px;'>"+c+"</div>");else{var m=i._getMillisecondsByInterval(i.majorTicksInterval)/i._unitPerPixel,g=m/2;r+="<div id='"+p+"' class='"+i.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+f+"; left: "+(g+a-u/2)+"px; top: "+t+"px;'>"+c+"</div>"}}else{var h=i.showMinorTicks?"visible":"hidden",v=i._id+"MinorTick"+n;r+="<div id='"+v+"' class='"+i.toThemeProperty("jqx-rangeselector-ticks")+" "+i.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+i.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+h+"; left: "+a+"px;'></div>"}},a=function(e,t,r){for(var s=0,a=1,l=new Date(i._min).getHours(),d=864e5==t.interval,h=new Array,c=i._min;c<=i._max;c+=t.interval){if(1==d){var u=new Date(c).getHours();if(l!=u){var p;1==u?p=1:23==u&&(p=-1),c-=36e5*p,l=new Date(c).getHours()}}var f=o(c,t.period);1==f&&(s%t.divisor==0&&(r?h.push(c):n(c,e,a,t.interval),a++),s++)}return h};return i._dateMajorTicks=a("majorTicksInterval",s("majorTicksInterval"),!0),i._dateMinorTicks=a("minorTicksInterval",s("minorTicksInterval"),!0),a("majorTicksInterval",s("majorTicksInterval")),a("minorTicksInterval",s("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(e("#labelPlaceholder").height()+t),r},_addGroupLabels:function(t){var i=this,r=new Date(this._min),s=new Date(this._max);if(s.getFullYear()-r.getFullYear()>0)var o="year",n=864e5;else if(s.getMonth()-r.getMonth()>0)var o="month",n=864e5;else{if(!(s.getDate()-r.getDate()>0))return;var o="day",n=36e5}for(var a=function(t){var r,s=new Date(t),n=s.getFullYear(),a=s.getMonth(),l=s.getDate(),d=!0;"year"==o&&0==a&&1==l?r=n:"month"==o&&1==l?(r=e.jqx.dataFormat.formatdate(s,"MMMM"),0==a&&(r=n+" "+r)):"day"==o&&0==s.getHours()?r=e.jqx.dataFormat.formatdate(s,"dddd"):d=!1;var h;h=1==d&&i.groupLabelsFormatFunction?i.groupLabelsFormatFunction(r,s):r;var c={check:d,value:h};return c},l=new String,d=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),h=1,c=this._min;c<this._max;c+=n){var u=a(c);if(1==u.check){var p=(c-this._min)/this._unitPerPixel;l+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+p+"px; top: "+t+"px;'><div class='"+d+"'></div><div id='"+this._id+"GroupLabel"+h+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+u.value+"</div></div>",h++}}e("#"+this._id+"TicksContainer").append(l)},_updateCursor:function(e,t){var i=this.element.style.cursor,r=this.slider.offset().left,s=parseInt(this.slider[0].style.width),o=r+s;e>r-5&&r+5>e||e>o-5&&o+5>e?""!=i&&"auto"!=i||(this.element.style.cursor="e-resize"):"e-resize"==i&&(this.element.style.cursor="auto")},_handleMouseMove:function(t){var i=this,r=i.slider,s=t.pageX,o=t.pageY;if(i._isTouchDevice){var n=e.jqx.position(t);s=n.left,o=n.top}var a=i._hostOffset.left,l=i._hostWidth;if(i.resizable&&!i.dragging&&"none"==i.resizeDirection&&s>=a&&a+l>=s&&o>=i._hostOffset.top&&o<=i._hostOffset.top+i._hostHeight&&this._updateCursor(s,o),!i.isMouseDown)return!0;if(i._isTouchDevice&&(o<i._hostOffset.top||o>i._hostOffset.top+i._hostHeight))return!0;var d=i._findNearestTick(i._sliderLeftOffset+s-i._mouseDownX),h=parseInt(d);if(0>h)return!0;0>h&&(h=0);var c=parseInt(r[0].style.width),u=function(e){var t=parseInt(i._maxWidth),r=parseInt(i._minWidth);if(r>e||e>t)return!1;var s=parseInt(i.rightMarker[0].style.left),o=parseInt(i.leftMarker[0].style.left);return!(o>s)};if(1==i.resizable&&!i.dragging){var p=h*i._unitPerPixel+i._min;if("left"==i.resizeDirection||i.isLeftMarkerCaptured){var f=i.isLeftMarkerCaptured?i.leftMarker.outerWidth():0;a-f>s&&(s=a-f),s>a+l+f&&(s=a+l+f+1);var m=r[0].style.left,g=h-parseInt(m),v=parseInt(c-g);if(!u(v))if(s>i._mouseDownX){if(s=i.sliderRight-i._minWidth-a,v=i._minWidth,c==v)return!0;var d=i._findNearestTick(s);if(h=d,0>h)return!0;var p=(parseInt(m)*i._unitPerPixel+i._min,h*i._unitPerPixel+i._min)}else{if(!(0!=i._maxWidth&&s<i._mouseDownX&&v>i._maxWidth))return!0;if(s=i.sliderRight-i._maxWidth-a,v=i._maxWidth,c==v)return!0;var d=i._findNearestTick(s);if(h=d,0>h)return!0;var p=(parseInt(m)*i._unitPerPixel+i._min,h*i._unitPerPixel+i._min)}i.slider[0].style.left=h+"px",m!=r[0].style.left&&(i.slider[0].style.width=v+"px");var x=i._findNearestTick(h),w=i._valuesArray[i._ticksArray.indexOf(x)];void 0!=w?(i.leftMarkerValue[0].innerHTML=i._formatOutput(w,i.markersFormat,0,"left"),h!=x&&(i.slider[0].style.left=x+"px")):i.leftMarkerValue[0].innerHTML=i._formatOutput(p,i.markersFormat,0,"left"),i.oldX=s,i.moved=!0}else if("right"==i.resizeDirection||i.isRightMarkerCaptured){var f=i.isRightMarkerCaptured?i.rightMarker.outerWidth():0,b=!1,y=!1;a-f>s&&(s=a-f,y=!0),s>a+l+f&&(s=a+l+f,b=!0);var _=i._sliderInitialWidth,j=i._findNearestTick(_+i._sliderLeftOffset),q=i._findNearestTick(_+s-i._mouseDownX+i._sliderLeftOffset);if(0>q)return!0;var g=j-q,v=_-g;0>=v&&(g=_,v=0);var T=parseInt(i.element.style.width);i.element.style.width.indexOf("%")>=0&&(T=i.host.width()),(b||i._sliderLeftOffset+v>=T)&&(v=T-i._sliderLeftOffset,boundDetected=!0),v>parseInt(this._maxWidth)&&(v=parseInt(this._maxWidth)),v<parseInt(this._minWidth)&&(v=parseInt(this._minWidth)),i.slider[0].style.width=v+"px";var p=(i._sliderLeftOffset+v)*i._unitPerPixel+i._min,C=i._findNearestTick(i._sliderLeftOffset+v),k=i._valuesArray[i._ticksArray.indexOf(C)];void 0!=k?(i._sliderLeftOffset+v!=C&&(i.slider[0].style.width=C-i._sliderLeftOffset+"px"),i.rightMarkerValue[0].innerHTML=i._formatOutput(k,i.markersFormat,0,"right")):i.rightMarkerValue[0].innerHTML=i._formatOutput(p,i.markersFormat,0,"right"),i.oldX=s}i._layoutShutter(),i._layoutMarkers(),i.moved=!0}1==i.dragging&&(i._moveSlider(h,!0),i.oldX=s)},_moveSlider:function(e,t){var i=this;i.moved=!0;var r=parseInt(this.slider[0].style.width),s=parseInt(e+r),o=this._hostWidth,n=e;if(0>n&&(n=0,e=n),n+r>o&&(n=o-r,e=n),n>=0&&o>=n+r){this.slider[0].style.left=n+"px";var a=this._findNearestTick(n),l=-1!=this._majorTicksArray.indexOf(a),d=this._valuesArray[this._ticksArray.indexOf(a)];if(void 0!=d){if(this.leftMarkerValue[0].innerHTML=this._formatOutput(d,this.markersFormat,0,"left"),e!=a&&l&&t){this.slider[0].style.left=a+"px";var s=parseInt(a+r)}}else this.leftMarkerValue[0].innerHTML=this._formatOutput(n*this._unitPerPixel+this._min,this.markersFormat,0,"left");var h=this._findNearestTick(s),c=this._valuesArray[this._ticksArray.indexOf(h)];if(void 0!=c){var u=-1!=this._majorTicksArray.indexOf(h);if(this.rightMarkerValue[0].innerHTML=this._formatOutput(c,this.markersFormat,0,"right"),s!=h&&u&&l&&t){var p=h-a;this.slider[0].style.width=p+"px"}}else this.rightMarkerValue[0].innerHTML=this._formatOutput((n+r)*this._unitPerPixel+this._min,this.markersFormat,0,"right")}this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var t=this,i=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");e("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+i+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+i+"'></div>"),this.slider=e("#"+this._id+"Slider"),this.shutterLeft=e("#"+this._id+"ShutterLeft"),this.shutterRight=e("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height();var r=this._hostOffset,s=this._initRange(),o=s.left,n=s.right-o,a=n/this._unitPerPixel;this.slider[0].style.width=Math.round(a)+"px";var l=r.left+parseInt((o-this._min)/this._unitPerPixel);if(this.slider.offset({left:l}),this._layoutShutter(),this._initMarkers(),0==this.disabled){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(e(window),"jqxReady.rangeselector",function(){return t._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var d,h,c="mousedown.rangeselector"+this.element.id;this._isTouchDevice&&(c=e.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,c,function(i){t.isMouseDown=!0,t._hostOffset=t.rangeSelector.offset(),t._hostWidth=t.rangeSelector.width(),t._hostHeight=t.rangeSelector.height(),t._sliderLeftOffset=parseInt(t.slider[0].style.left);var r=i.pageX,s=i.pageY;if(t._isTouchDevice){var o=e.jqx.position(i);r=o.left,s=o.top}t._initialSliderOffset=r-t.slider.offset().left;var n=t.slider.width();t._sliderInitialWidth=n,d=t.slider.offset().left,h=t._sliderInitialWidth,t.initialOffset=d;var a=parseInt(d+h);if(t.oldX=r,t._mouseDownX=r,t.resizeDirection="none",t.sliderRight=a,r>d-5&&d+5>r&&t._heightCheck(s))t.isSliderCaptured=!1,t.dragging=!1,t.resizeDirection="left";else if(r>a-5&&a+5>r&&t._heightCheck(s))t.isSliderCaptured=!1,t.dragging=!1,t.resizeDirection="right";else if(r>=d+5&&a+5>=r&&t._heightCheck(s))t.isSliderCaptured=!0,t.dragging=!0;else if(t.isSliderCaptured=!1,t.dragging=!1,t.moveOnClick){if(t.isLeftMarkerCaptured||t.isRightMarkerCaptured)return!1;var l=t._sliderLeftOffset+t._initialSliderOffset,c=t._findNearestTick(l);l=c,0>l&&(l=0);var u=parseInt(t.slider[0].style.width);s>=t.slider.offset().top&&(r>a?t._moveSlider(l-u,!0):t._moveSlider(l,!0))}}),this.addHandler(t.leftMarker,c,function(i){if(t.leftMarkerAndArrow.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.oldLeftX=i.pageX,t._isTouchDevice){var r=e.jqx.position(i);oldLeftX=r.left}t._mouseDownX=t.oldLeftX,t.isLeftMarkerCaptured=!0}),this.addHandler(t.rightMarker,c,function(i){if(t.rightMarkerAndArrow.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.oldRightX=i.pageX,t._isTouchDevice){var r=e.jqx.position(i);oldRightX=r.left}t._mouseDownX=t.oldRightX,t.isRightMarkerCaptured=!0}),this.addHandler(e(document),"selectstart.rangeselector"+this._id,function(e){return 1==t.isSliderCaptured||1==t.isLeftMarkerCaptured||1==t.isRightMarkerCaptured||1==t.dragging?(e.preventDefault(),!1):void 0});var u="mousemove.rangeselector"+this.element.id;this._isTouchDevice&&(u=e.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(e(document),u,function(e){t._handleMouseMove(e)});var p=function(e){try{var i=t.moved;if(t.moved=!1,t.isMouseDown=!1,t.dragging=!1,t.resizeDirection="none",1==t.isLeftMarkerCaptured&&(t.leftMarkerAndArrow.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.isLeftMarkerCaptured=!1),1==t.isRightMarkerCaptured&&(t.rightMarkerAndArrow.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.isRightMarkerCaptured=!1),i){var r=t._getValue();t._raiseEvent("0",{type:"mouse",from:r.from,to:r.to})}}catch(s){}};this.addHandler(e(document),"mouseup.rangeselector"+this._id,function(e){p(e)});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var f=function(e){p(e)},m=null;window.parent&&document.referrer&&(m=document.referrer),m&&-1!=m.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",f,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",f))}}catch(g){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(t.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var t=e("#"+this._id+"TicksContainer"),i=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");t.append("<div id='"+this._id+"LeftMarker' class='"+i+"'></div><div id='"+this._id+"RightMarker' class='"+i+"'></div>");var r=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");r+="bottom"==this.markersPosition?" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),t.append("<div id='"+this._id+"LeftMarkerArrow' class='"+r+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),t.append("<div id='"+this._id+"RightMarkerArrow' class='"+r+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),e("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),e("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var s=e("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow"),o=e("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),n=e("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(1==this.showMarkers?s.css("visibility","visible"):s.css("visibility","hidden"),0==this.disabled&&1==this.resizable){var a=this;this.addHandler(o,"mouseenter.rangeselector"+this._id,function(e){a.element.style.cursor="pointer",
o.addClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(o,"mouseleave.rangeselector"+this._id,function(e){a.element.style.cursor="auto",o.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(n,"mouseenter.rangeselector"+this._id,function(e){a.element.style.cursor="pointer",n.addClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(n,"mouseleave.rangeselector"+this._id,function(e){a.element.style.cursor="auto",n.removeClass(a.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=o,this.rightMarkerAndArrow=n,this.leftMarkerArrow=e("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=e("#"+this._id+"RightMarkerArrow"),this.leftMarker=e("#"+this._id+"LeftMarker"),this.rightMarker=e("#"+this._id+"RightMarker"),this.leftMarkerValue=e("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=e("#"+this._id+"RightMarkerValue");var l=this._initRange();this._updateMarkersValues(l.left,l.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){if(1==this.showMarkers){this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight());var e=(this._hostOffset.top,parseInt(this.slider[0].style.left)+this._hostOffset.left),t=-5;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)+4+this._rightMarkerHeight);var i=t-this._leftMarkerHeight,r=t-this._rightMarkerHeight;"bottom"==this.markersPosition&&(t=parseInt(this.element.style.height)-6);var s=this.leftMarker[0].offsetWidth,o=1+e-s-this._hostOffset.left;this.leftMarker[0].style.left=o+"px",this.leftMarker[0].style.top=i+"px",this.leftMarkerArrow[0].style.left=2+o+s+"px",this.leftMarkerArrow[0].style.top=6+t+"px";var n=e+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=n+"px",this.rightMarker[0].style.top=r+"px",this.rightMarkerArrow[0].style.left=7+n+"px",this.rightMarkerArrow[0].style.top=6+t+"px"}},_updateMarkersValues:function(e,t){var i=e,r=t;this.leftMarkerValue[0].innerHTML=this._formatOutput(i,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(r,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var t=this.element.id,i=e("#"+t+"LeftMarker, #"+t+"LeftMarkerArrow"),r=e("#"+t+"RightMarker, #"+t+"RightMarkerArrow"),s="mousemove.rangeselector"+t,o="mousedown.rangeselector"+t;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+t,o=e.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+t),this.removeHandler(e(document),s),this.removeHandler(e(document),"mouseup.rangeselector"+t),this.removeHandler(this.host,o),this.removeHandler(this.host,"click.rangeselector"+t),this.removeHandler(this.host,"dragstart.rangeselector"+t),this.removeHandler(i,"mouseenter.rangeselector"+t),this.removeHandler(i,"mouseleave.rangeselector"+t),this.removeHandler(r,"mouseenter.rangeselector"+t),this.removeHandler(r,"mouseleave.rangeselector"+t),this.removeHandler(e("#"+t+"LeftMarker"),o),this.removeHandler(e("#"+t+"RightMarker"),o),this.removeHandler(e("#"+t+"LeftMarkerValue, #"+t+"RightMarkerValue"),"selectstart.rangeselector"+t)},_heightCheck:function(e){var t=this.slider,i=t.offset().top;return e>=i&&e<=i+t.height()},_checkProperties:function(){this._range._from<this._min?this._range._from=this._min:this._range._from>this._min&&this._range._from>this._max&&(this._range._from=this._min),this._range._to>this._max?this._range._to=this._max:this._range._to<this._min&&this._range._to<this._max&&(this._range._to=this._max);var e=this._max-this._min;this._range._min>e&&(this._range._min=e),this._range._max>e&&(this._range._max=e);var t=this._range._to-this._range._from;t<this._range._min?this._range._to=this._range._from+this._range._min:t>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(e){for(var t=0,i=Math.abs(e-this._ticksArray[0]),r=1;r<this._ticksArray.length;r++){var s=Math.abs(e-this._ticksArray[r]);i>s&&(i=s,t=r)}return this._ticksArray[t]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(void 0!=this.range.from?this.range.from:0),this._range._to=this._validateInput(void 0!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(void 0!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(void 0!=this.range.max?this.range.max:1/0)},_validateInput:function(e){var t;return"number"==typeof e?t=e:"string"==typeof e?t=Date.parse(e):e instanceof Date&&(t=e.getTime()),t},_minMaxDate:function(e){if("number"!=typeof e){var t;switch(e){case"millisecond":t=1;break;case"second":t=1e3;break;case"minute":t=6e4;break;case"hour":t=36e5;break;case"day":t=864e5;break;case"week":t=6048e5;break;default:t=e.milliseconds?e.milliseconds:0+e.seconds?1e3*e.seconds:0+e.minutes?6e4*e.minutes:0+e.hours?36e5*e.hours:0+e.days?864e5*e.days:0+e.weeks?6048e5*e.weeks:0}return t}return e},_formatOutput:function(t,i,r,s,o){var n;if(this.values||(this.values=new Array),this.values[s]=t,"label"==s&&this.labelsFormatFunction)n="date"==this._dataType?this._roundDate(t):this._roundNumber(t,"label"),n=this.labelsFormatFunction(n);else if("label"!=s&&this.markersFormatFunction)"date"==this._dataType&&(n=this._roundDate(t)),n=this.markersFormatFunction(t,s);else if(i)"number"==this._dataType?n=e.jqx.dataFormat.formatnumber(t,i):(n=this._roundDate(t),n=e.jqx.dataFormat.formatdate(n,i));else{if("date"==this._dataType){var a;null==this.labelsFormat&&null==this.markersFormat?a="both labelsFormat and markersFormat":null==this.labelsFormat?a="labelsFormat":null==this.markersFormat&&(a="markersFormat");var l="When the data format is date, "+a+" should be set.";throw new Error(l)}n=t.toFixed(r)}return n},_getValue:function(e){function t(e){return"number"===i._dataType?Math.round(e/r)*r:i._roundNumber(e,"marker")}var i=this,r=i.minorTicksInterval,s=this.slider,o=s.width(),n=new Object,a=s.offset().left-this.rangeSelector.offset().left,l=a*this._unitPerPixel+this._min;if(n.from=t(l),n.to=t(l+o*this._unitPerPixel),!e&&1==this.snapToTicks){var d=this._findNearestTick((n.from-this._min)/this._unitPerPixel);n.from=this._valuesArray[this._ticksArray.indexOf(d)];var h=this._findNearestTick((n.to-this._min)/this._unitPerPixel);n.to=this._valuesArray[this._ticksArray.indexOf(h)]}return"date"==this._dataType&&(n.from=new Date(n.from),n.to=new Date(n.to)),n},_roundNumber:function(e,t,i){var r;return"marker"==t?(1==i&&(e=parseFloat(e)),r=parseFloat(e)):r="label"==t?parseFloat(e):parseFloat(e),r},_roundDate:function(e){"number"==typeof e&&(e=new Date(e));var t=this._max-this._min;if(t>12096e5){var i=e.getDate(),r=e.getHours();r>12&&(e.setDate(i+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0))}else t>1728e5&&(e.setHours(e.getHours()+Math.round(e.getMinutes()/60)),e.setMinutes(0),e.setSeconds(0));return e},_layoutShutter:function(){var t=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=t+"px",this.shutterLeft[0].style.left="0px",e.jqx.browser.msie&&e.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)");var i=1+t+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=i+"px";var r=parseInt(this.element.style.width);if(this.element.style.width.indexOf("%")>=0)var r=parseInt(this.host.width());var s=r-1-t-parseInt(this.slider[0].style.width);0>s&&(s=0),this.shutterRight[0].style.width=1+s+"px",2+r>i+1+s&&(this.shutterRight[0].style.width=2+s+"px"),0==s&&(this.shutterRight[0].style.width="0px")},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var e=this._range._from,t=this._range._to,i={left:e,right:t};return i}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+s+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return e.extend(!0,this,t),this.that=this,t},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var r=i.host.find("tbody tr"),s=i.host.find("th"),o=new Array;0===s.length&&(s=r[0],r.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var n=[],a=0;a<r.length;a++){for(var l=r[a],d={},h=0;h<s.length;h++){var c=e.trim(e(s[h]).text());if(0===a){var u={name:c};if(i.columns[h]&&i.columns[h].cellsFormat){var p=i.columns[h].cellsFormat.toLowerCase();-1==p.indexOf("p")&&-1==p.indexOf("c")&&-1==p.indexOf("n")&&-1==p.indexOf("f")||(u.type="number"),-1==p.indexOf("d")&&-1==p.indexOf("m")&&-1==p.indexOf("y")&&-1==p.indexOf("h")&&-1==p.indexOf("m")&&-1==p.indexOf("s")&&-1==p.indexOf("t")||(u.type="date")}o.push(u)}var f=e(l).find("td:eq("+h+")"),m=o[h].type;if(m){var g=i.getvaluebytype(e.trim(f.text()),o[h]);d[c]=g}else d[c]=e.trim(f.text())}n[n.length]=d}i.host.wrap("<div></div>");var v=i.host.parent(),x=i.host.data();x.jqxDataTable.host=v,x.jqxDataTable.element=v[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(w){}i.element=v[0],i.host=v,i.host.data(x);var b={dataFields:o,localdata:n,datatype:"array"},y=new e.jqx.dataAdapter(b);i.source=y}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var _=i.source._source.datafields;_&&_.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),r=e(window).height(),s=i.host.width(),o=i.host.height();i._lastHostWidth==s&&i._lastHostHeight==o||i._updatesize(i._lastHostWidth!=s,i._lastHostHeight!=o),i._lastWidth=t,i._lastHeight=r,i._lastHostWidth=s,i._lastHostHeight=o}))},getvaluebytype:function(t,i){var r=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var s=0;s<t.length;s++)t[s]=this.getvaluebytype(t[s],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var o=new Date(t);if("string"==typeof t&&i.format){var n=e.jqx.dataFormat.parsedate(t,i.format);null!=n&&(o=n)}t=("NaN"==o.toString()||"Invalid Date"==o.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):o,null==t&&(t=r)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var r=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(r=!0),r?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,r=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[],o=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&o("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var r=this,s=r.host.width(),o=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=o),void 0!=r._resizeTimer&&(clearTimeout(r._resizeTimer),r._resizeTimer=null);var n=300,a=function(){r._resizeTimer&&clearTimeout(r._resizeTimer),r.resizingGrid=!0,e.jqx.isHidden(r.host)||(r._updatecolumnwidths(),r.refresh(),r._oldWidth=s,r._oldHeight=o,r.resizingGrid=!1)};a(),r._resizeTimer=setTimeout(function(){var e=r.host.width(),t=r.host.height();r._oldWidth==e&&r._oldHeight==t||a()},n)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);for(var s=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],o=this,n=0;n<s.length;n++){var a=s[n];void 0!==t[a]&&(o.gridlocalization[a]=t[a])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),i!==!1&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),r=this.table?this.table.height():0,s=0,o="inherit",n=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)var a=e;else var a=this.host.height();a-=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.filterable&&(a-=this.filter.height()),this.pageable&&(a-=this.pagerHeight,"both"===this.pagerPosition&&(a-=this.pagerHeight)),this.showtoolbar&&(a-=this.toolbarHeight),this.showstatusbar&&(a-=this.statusBarHeight),this.showAggregates&&(a-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&r>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=o,s=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:r-a})):this.vScrollBar[0].style.visibility="hidden",n!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var d=this.table.height();r!=d&&(r=d,!l&&r>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility=o,s=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:r-a})))}0==this.scrollBarSize&&(s=0);var h=this.table?this.table.width():0;h>3&&(h-=3);var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),u=c+this.host.width()-s;if(h>u&&!t){if(this.hScrollBar[0].style.visibility=o,this.hScrollBar.jqxScrollBar({max:h-u}),s=4+parseInt(i),0==i&&(s=0),!l){if(r>a-s+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:c+h-u});var p="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=o,this._updatecolumnwidths(),p&&this.hScrollBar.jqxScrollBar({max:h-u+s+c});var f=this.table?this.table.width():0;f>3&&(f-=3),f!=h&&u>f&&(this.hScrollBar.jqxScrollBar({max:c+f-u}),this.hScrollBar[0].style.visibility="hidden",s=0)}this.vScrollBar.jqxScrollBar({max:r-a+s})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(i+=this.columnGroups?this.showHeader?this.columnsheader.height():-1:this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var r=this.filter.find(".filterrow"),s=this.filter.find(".filterrow-hidden"),o=1;s.length>0&&(o=0),i+=this.filterHeight-1+this.filterHeight*r.length*o}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i].width;this.columns.records[i].hidden||("auto"==r?(r=this._measureElementWidth(this.columns.records[i].text),t+=r):t+=r)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),r=this.filter.find(".filterrow-hidden"),s=1;r.length>0&&(s=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var o=1==s?i.length:0;t+=this.filterHeight*o,e-=this.filterHeight*o}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),r=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var s=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),s+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",
this.filterable){this.filter.width(t),this.filter.css("top",s);var o=this.filter.find(".filterrow"),n=this.filter.find(".filterrow-hidden"),a=1;n.length>0&&(a=0),this.filter.height(this.filterHeight-1+this.filterHeight*o.length*a),s+=this.filterHeight,i-=parseInt(this.filterHeight);var l=1==a?o.length:0;s+=this.filterHeight*l,i-=this.filterHeight*l}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(s)+"px",s+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=s+"px"&&(this.toppager[0].style.top=s+"px");var d="bottom"!=this.pagerPosition?this.pagerHeight:0,h=s+d+"px";this.content[0].style.top!=h&&(this.content[0].style.top=s+this.pagerHeight+"px")}this._updateScrollbars(r);var c=parseInt(this.scrollBarSize),u=4,p=2,f=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(f=c+u),"hidden"!=this.hScrollBar[0].style.visibility&&(p=c+u+2),0==c&&(f=0,p=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var m=this._arrangeAutoHeight(p-2),g=this._arrangeAutoWidth(f+1);if(m||g){var t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(m){var v=this._measureTopAndHeight();s=v.top,i=v.height}}var x=0;this.pageable&&(x=this.pagerHeight,"top"!=this.pagerPosition&&(p+=this.pagerHeight)),this.showAggregates&&(p+=this.aggregatesHeight,x+=this.aggregatesHeight),this.showstatusbar&&(p+=this.statusBarHeight,x+=this.statusBarHeight),this.hScrollBar[0].style.height!=c+"px"&&(this.hScrollBar[0].style.height=parseInt(c)+"px"),this.hScrollBar[0].style.top==s+i-u-c-x+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=s+i-u-c-x-1+"px",this.hScrollBar[0].style.left="0px");var w=this.hScrollBar[0].style.width,b=!1,y=!1;0==f?w!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",b=!0):w!=t-c-u+"px"&&(this.hScrollBar[0].style.width=t-c-u+"px",b=!0),this.vScrollBar[0].style.width!=c+"px"&&(this.vScrollBar[0].style.width=c+"px",y=!0),this.vScrollBar[0].style.height!=parseInt(i)-p+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-p+"px",y=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(c)-u+"px"&&this.vScrollBar[0].style.top==s+"px"||(this.vScrollBar[0].style.top=s+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(c)-u+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:s}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:c+2}));var _=this.vScrollInstance;_.disabled=this.disabled;var j=this.hScrollInstance;j.disabled=this.disabled,b&&j.refresh(),y&&_.refresh();var q=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(c)+3+"px",e.bottomRight[0].style.height=parseInt(c)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(c)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(q(this),this.content[0].style.width!=t-f+"px"&&(this.content[0].style.width=t-f+"px"),this.content[0].style.height!=i-p+3+"px"&&(this.content[0].style.height=i-p+3+"px"),this.content[0].style.top!=s+"px"&&(this.content[0].style.top=parseInt(s)+"px"),this.rtl&&(this.content.css("left",f),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",f),this.table)){var T=this.table.width();t-f>T&&(this.content.css("left",t-T+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-T+2))}this.showAggregates&&(this.aggregates.css("top",s+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:s+i-u-c-x+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+s+i-c-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),q(this)),this.showstatusbar&&(this.statusbar.css("top",s+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(s)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,i=e.top,e=i;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,e!==!1&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,r){if(this.loadingstate!==!0){var s=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var o=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);var n=null;if(null!=t&&(n=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!o.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var a=t._source.sortdirection;if("a"==a||"asc"==a||"ascending"==a||1==a)var l=!0;else var l=!1;null!=a?this.sortdirection={ascending:l,descending:!l}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){o._loading=!1,o.rowsByKey=new Array;var n=o.source._source.datafields;if(o.groups&&o.groups.length>0){var a=Object.prototype.toString,l=o.groups[0];if(Object.prototype.toString="function"==typeof l?l:function(){return this[l]},!o.source.records.sort){var d=new Array,h=0;e.each(data,function(){d[startindex+h++]=this}),data=d}o.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var r=0,s=0;if(t&&t.uid&&(r=t.uid),i&&i.uid&&(s=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(o){}if("number"==typeof r){if(s>r)return-1;if(r>s)return 1}return 0}),Object.prototype.toString=a}for(var c=0;c<o.source.records.length;c++){var u=o.source.records[c];if(o.rowsByKey[u.uid]=u,u.records&&u.records.length>0){var p=function(e){for(var t=0;t<e.length;t++)e[t]&&(o.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&p(e[t].records))};p(u.records)}if(0===c){var f=!1;if(n)for(var m=0;m<n.length;m++)if(n[m]&&!n[m].type){f=!0,n[m].type="string";var g=u[n[m].name];if(void 0==g)continue;if(g!==!0&&g!==!1||(n[m].type="boolean"),null!=g&&g.toString().indexOf(o.gridlocalization.currencysymbol)>-1||g.toString().indexOf(o.gridlocalization.percentsymbol)>-1){var v=g.toString().split(" ").length,x=new Number(o._toNumber(g.toString()));isNaN(x)||1!=v||(n[m].type="number")}(e.jqx.dataFormat.isNumber(g)||!isNaN(parseFloat(g))&&isFinite(g))&&(n[m].type="number"),e.jqx.dataFormat.isDate(g)&&(n[m].type="date")}if(f)for(var m=0;m<n.length;m++){var w=o.source.getvaluebytype(u[n[m].name],n[m]);if(null!=w&&"number"==n[m].type){var b=w;b=new Number(o._toNumber(b.toString())),isNaN(b)||(w=b)}u[n[m].name]=w}}}if("pager"===i||"filter"===i||"sort"===i?o.refresh():o._render(),o.autoShowLoadElement&&!o._loading&&(e(o.dataloadelement).css("visibility","hidden"),e(o.dataloadelement).css("display","none")),o.pageable&&(o.disabled||o.pagernexttop&&(o.pagerfirsttop.jqxButton({disabled:!1}),o.pagerfirstbottom.jqxButton({disabled:!1}),o.pagerlasttop.jqxButton({disabled:!1}),o.pagerlastbottom.jqxButton({disabled:!1}),o.pagernexttop.jqxButton({disabled:!1}),o.pagerprevioustop.jqxButton({disabled:!1}),o.pagershowrowscombotop.jqxDropDownList&&"advanced"==o.pagerMode&&(o.pagershowrowscombotop.jqxDropDownList({disabled:!1}),o.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),o.pagernextbottom.jqxButton({disabled:!1}),o.pagerpreviousbottom.jqxButton({disabled:!1}))),o._updateTouchScrolling(),o._raiseEvent("bindingComplete"),r&&r(),!o.initializedcall){if(o.initializedcall=!0,o.isInitialized=!0,o.ready&&o.ready(),(null!=o.width&&-1!=o.width.toString().indexOf("%")||null!=o.height&&-1!=o.height.toString().indexOf("%"))&&o._updatesize(!0),o._rendercelltexts(),o._gridRenderElement){e(o._gridRenderElement).show("slow");var y=6e3+Math.floor(4e3*Math.random()+1),_=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();s[e.camelCase(_)](function(){e(o._gridRenderElement).hide("slow",function(){e(o._gridRenderElement).remove()})},y)}if("hidden"==o.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version<8;"visible"==o.vScrollBar.css("visibility")&&o.vScrollBar.css("visibility","inherit"),"visible"==o.hScrollBar.css("visibility")&&o.hScrollBar.css("visibility","inherit"),o._intervalTimer=setInterval(function(){"visible"==o.host.css("visibility")&&(o._updatesize(!0),clearInterval(o._intervalTimer))},100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=t;args=i,args.owner=this;var s=new e.Event(r);s.owner=this,s.args=args;var o=this.host.trigger(s);return i=s.args,o},ensureColumnVisible:function(e){for(var t=0,i=0,r=0;r<this.columns.records.length;r++){if(this.columns.records[r].datafield==e){t+=this.columns.records[r].width,i=this.columns.records[r].width;break}t+=this.columns.records[r].width}if("hidden"!=this.hScrollBar.css("visibility")){var s=this.hScrollBar.jqxScrollBar("value"),o=s+this.host.width();s>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>o&&this.hScrollBar.jqxScrollBar("setPosition",s+t-o)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var r=this.vScrollBar.jqxScrollBar("value"),s=this.host.height(),o=0;o+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.filterable&&(o+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(o+=this.pagerHeight),this.showtoolbar&&(o+=this.toolbarHeight),s-=o,this.pageable&&"top"!==this.pagerPosition&&(s-=this.pagerHeight),this.showstatusbar&&(s-=this.statusBarHeightt),this.showAggregates&&(s-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(s-=20);var n=this.host.coord().top+o,a=r,l=s+a,d=i.coord().top+r-n;d=Math.round(d);var h=d+i.outerHeight();if(h=Math.round(h),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),p=this._getuirow(u);if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(a>d){var f=d-i.height();return 0>f&&(f=0),this.vScrollBar.jqxScrollBar("setPosition",f)}return h>l?this.vScrollBar.jqxScrollBar("setPosition",4+h-s-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var r=t;t=t.toLowerCase();var s=this.getColumn(e);if(null!=s){s[t];s[t]=i,s[r]=i;var o=this.getColumn(e);switch(null!=o&&(o[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getColumn(e);return i[t]},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(i);s.id=e.jqx.utilities.createId(),s.innerHTML=t,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(r+t)},this.content[0].appendChild(s),this._gridRenderElement=s}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var r=0;r<this.dataview.filters.length;r++){var s=this.dataview.filters[r];if(s.datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var o=e.jqx.isHidden(e(i.filtericon))?0:16;o+=e.jqx.isHidden(e(i.sortasc))?0:16,o+=e.jqx.isHidden(e(i.sortdesc))?0:16;var n=e(e(e(i.element).children()[0]).children()[0]);this.rtl?o>0?n.css("margin-left",4+o+"px"):n.css("margin-left","4px"):o>0?n.css("margin-right",4+o+"px"):n.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var r=this.host.find("#verticalScrollBar"+this.element.id),s=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var o=this.source.datafields;if(null==o&&this.source._source&&(o=this.source._source.datafields),o)for(var n=0;n<this.columns.length;n++){var a=this.columns[n];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<o.length;l++)if(o[l].name==a.datafield&&!o[l].format){o[l].format=a.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var d=this,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h(),!1}),t!==!0&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsHeight||this.columnGroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new e.jqx.dataCollection(this.element):this._initializeColumns(),this.host.height(this.height),this.host.width(this.width),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showHeader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.height(t),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=e('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderStatusBar&&this.renderStatusBar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showAggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerHeight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){this.pagerdiv.children().remove(),this.toppager.children().remove();var s=this.pagerRenderer();null!=s&&this.pagerdiv.append(e(s)),this.pager.append(this.pagerdiv);var s=this.pagerRenderer();null!=s&&this.toppagerdiv.append(e(s)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",r),this.toppagerdiv.css("top",r);var o=function(r,s){var o=this,n=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),a=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),f=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');n.attr("disabled",o.disabled);var m=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(m[0].id="gridpagerlist"+s+o.element.id,o.removeHandler(l,"mousedown"),o.removeHandler(l,"mouseup"),o.removeHandler(l,"click"),o.removeHandler(d,"mousedown"),o.removeHandler(d,"mouseup"),o.removeHandler(d,"click"),o.removeHandler(h,"mousedown"),o.removeHandler(h,"mouseup"),o.removeHandler(h,"click"),o.removeHandler(c,"mousedown"),o.removeHandler(c,"mouseup"),o.removeHandler(c,"click"),o.rtl?(l.attr("title",o.gridlocalization.pagerpreviousbuttonstring),d.attr("title",o.gridlocalization.pagernextbuttonstring)):(d.attr("title",o.gridlocalization.pagerpreviousbuttonstring),l.attr("title",o.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&f.css("padding-top","3px"),this["pagerfirst"+s]=h,this["pagerlast"+s]=c,this["pagernext"+s]=l,this["pagerprevious"+s]=d,this["pagergotoinput"+s]=n,this["pagerdetails"+s]=u,this["pagershowrows"+s]=p,this["pagergotolabel"+s]=a,this["pagershowrowscombo"+s]=m,this["pagerbuttons"+s]=f,"default"==o.pagerMode){o.rtl?(c.attr("title",o.gridlocalization.pagerfirstbuttonstring),h.attr("title",o.gridlocalization.pagerlastbuttonstring)):(h.attr("title",o.gridlocalization.pagerfirstbuttonstring),c.attr("title",o.gridlocalization.pagerlastbuttonstring));var g=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(o.toThemeProperty("jqx-icon-arrow-first")),h.wrapInner(g);var v=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");v.addClass(o.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),o.rtl?(r.append(c),r.append(l),r.append(f),r.append(d),r.append(h)):(r.append(h),r.append(d),r.append(f),r.append(l),r.append(c)),c.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),h.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme});var x=o.rtl?"right":"left";f.css("float",x),c.css("float",x),h.css("float",x),l.css("float",x),d.css("float",x),u.css("float",o.rtl?"left":"right"),o.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else o.rtl||(r.append(l),r.append(d));l.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),d.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme});var w=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");w.addClass(o.toThemeProperty("jqx-icon-arrow-left")),d.wrapInner(w);var b=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(b.addClass(o.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(b),o.rtl||r.append(u),"default"!=o.pagerMode){o.rtl?(r.append(a),r.append(n),r.append(p),r.append(m),r.append(u),r.append(l),r.append(d)):(r.append(m),r.append(p),r.append(n),r.append(a));var y=o.pageSizeOptions;m.jqxDropDownList({_checkForHiddenParent:!1,rtl:o.rtl,disabled:o.disabled,source:y,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:o.theme});for(var _=0,j=0;j<y.length;j++)this.pageSize>=y[j]&&(_=j);a[0].innerHTML=t,m.jqxDropDownList({selectedIndex:_});var q=n.find("input");q.addClass(o.toThemeProperty("jqx-input")),q.addClass(o.toThemeProperty("jqx-widget-content")),this.rtl&&q.css("direction","rtl");var o=this;this.removeHandler(m,"select"),this.addHandler(m,"select",function(e){if(e.args){o.vScrollInstance&&o.vScrollInstance.setPosition(0);var t=e.args.index;o.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),o.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=o.dataview.pagenum*o.dataview.pagesize,r=y[t],s=o.pageSize;o.pageSize=parseInt(r),isNaN(o.pageSize)&&(o.pageSize=10),r>=100?(o.pagershowrowscombotop.jqxDropDownList({width:55}),o.pagershowrowscombobottom.jqxDropDownList({width:55})):(o.pagershowrowscombotop.jqxDropDownList({width:44}),o.pagershowrowscombobottom.jqxDropDownList({width:44})),o.dataview.pagesize=o.pageSize;var n=Math.floor(i/o.dataview.pagesize);if(n!==o.dataview.pagenum||parseInt(r)!==parseInt(s)){o._raiseEvent("pageSizeChanged",{pagenum:n,oldpageSize:s,pageSize:o.dataview.pagesize});
var a=o.goToPage(n);a||(o.serverProcessing?o.updateBoundData("pager"):o.refresh())}}});var n=n.find("input");n.addClass(o.toThemeProperty("jqx-grid-pager-input")),n.addClass(o.toThemeProperty("jqx-rc-all")),this.removeHandler(n,"keydown"),this.removeHandler(n,"change"),o.addHandler(n,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=n.val();return t=parseInt(t),isNaN(t)||o.goToPage(t-1),!1}}),o.addHandler(n,"change",function(){var e=n.val();e=parseInt(e),isNaN(e)||o.goToPage(e-1)})}p[0].innerHTML=i,o.addHandler(l,"mouseenter",function(){b.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(d,"mouseenter",function(){w.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(l,"mouseleave",function(){b.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(d,"mouseleave",function(){w.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(l,"mousedown",function(){b.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(l,"mouseup",function(){b.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(d,"mousedown",function(){w.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),o.addHandler(d,"mouseup",function(){w.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===o.pagerMode&&(o.addHandler(c,"mouseenter",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(h,"mouseenter",function(){g.addClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(c,"mouseleave",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(h,"mouseleave",function(){g.removeClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(c,"mousedown",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(h,"mousedown",function(){g.addClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))}),o.addHandler(c,"mouseup",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(h,"mouseup",function(){g.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))})),o.addHandler(e(document),"mouseup.pagerbuttons"+s+this.element.id,function(){b.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected")),w.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected")))}),o.addHandler(l,"click",function(){l.jqxButton("disabled")||(o.rtl?o.goToPrevPage():o.goToNextPage())}),o.addHandler(d,"click",function(){d.jqxButton("disabled")||(o.rtl?o.goToNextPage():o.goToPrevPage())}),"default"===this.pagerMode&&(o.addHandler(h,"click",function(){if(!h.jqxButton("disabled"))if(o.rtl){var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize);o.goToPage(t-1)}else o.goToPage(0)}),o.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(o.rtl)o.goToPage(0);else{var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize);o.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),o.call(this,this.pagerdiv,"bottom"),o.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(void 0!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;var r=this.endroweditbykey(this.editKey);if(!r)return!1}if(null!=t&&void 0!=t||(t=0),-1==t&&(t=0),0>t)return!1;var s=this.dataview.totalrecords,o=this.dataview.pagenum,n=Math.ceil(s/this.pageSize);return t>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=n-1)),this.dataview.pagenum!=t?(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:o,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0):!1},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode?this.goToPage(0,e):!1},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),r=0,s=function(o,n){for(var a=0;a<n.length;a++)0==t.dataview.filters.length&&(n[a]._visible=!0),n[a]._visible!==!1&&r++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||n[a].records&&(n[a][i.expanded]||n[a][i.leaf])&&n[a]._visible!==!1&&(s(o+1,n[a].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=o&&r--)};s(0,this.dataview.rows),this.dataview.totalrecords=r}else this.dataview.totalrecords=this.dataview.rows.length;var o=this.dataview.pagenum*this.pageSize,n=(this.dataview.pagenum+1)*this.pageSize;n>=this.dataview.totalrecords&&(n=this.dataview.totalrecords);var a=this.dataview.totalrecords;o++;var l=Math.ceil(a/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&(l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize),l>=1&&l--,l++,a=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var d=this.pagergotoinputbottom.find("input");d.val(this.dataview.pagenum+1),d.attr("title","1 - "+l),d=this.pagergotoinputtop.find("input"),d.val(this.dataview.pagenum+1),d.attr("title","1 - "+l)}}else{var h="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&c>u;){var p=1+u,f=this.dataview.pagenum/c,m=Math.floor(f);p+=m*c;var g=this.toTP("jqx-grid-pager-number");if(g+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break;if(this.rtl&&p>l)u--;else{if(this.rtl||0==u&&p>c&&(h+="<a class='"+g+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(g+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){var g=this.toTP("jqx-grid-pager-number");g+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(h+="<a class='"+g+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(g+=" "+this.toTP("jqx-fill-state-pressed")),h+="<a class='"+g+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(h+="<a class='"+g+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===c-1){var g=this.toTP("jqx-grid-pager-number");g+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(h+="<a class='"+g+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){var g=this.toTP("jqx-grid-pager-number");g+=" "+this.toTP("jqx-rc-all"),0==u&&p>c&&(h+="<a class='"+g+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var v=this.pagerbuttonsbottom.find("a");this.removeHandler(v,"click"),this.removeHandler(v,"mouseenter"),this.removeHandler(v,"mouseleave");var v=this.pagerbuttonstop.find("a");this.removeHandler(v,"click"),this.removeHandler(v,"mouseenter"),this.removeHandler(v,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=h,this.pagerbuttonstop[0].innerHTML=h,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var x=function(){v.click(function(i){if(!t.disabled){var r=e(i.target).attr("data-page");t.goToPage(parseInt(r)-1)}}),v.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),v.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){var v=this.pagerbuttonsbottom.find("a");x(v)}if("both"===this.pagerPosition||"top"===this.pagerPosition){var v=this.pagerbuttonstop.find("a");x(v)}}if(0==n&&o>n&&(o=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=a+this.gridlocalization.pagerrangestring+n+"-"+o,this.pagerdetailstop[0].innerHTML=a+this.gridlocalization.pagerrangestring+n+"-"+o):(this.pagerdetailsbottom[0].innerHTML=o+"-"+n+this.gridlocalization.pagerrangestring+a,this.pagerdetailstop[0].innerHTML=o+"-"+n+this.gridlocalization.pagerrangestring+a)),"default"==this.pagerMode){var w=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",w),this.toppagerdiv.css("min-width",w)}o>n&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columnGroups.length;i++){var r=t.columnGroups[i];if(r.name===e)return r}return null},i=0;i<this.columnGroups.length;i++){var s=this.columnGroups[i];if(s.groups||(s.groups=null),s.parentGroup&&(s.parentgroup=s.parentGroup),s.parentgroup){var o=r(s.parentgroup);o&&(s.parent=o,o.groups||(o.groups=new Array),-1===o.groups.indexOf(s)&&o.groups.push(s))}}for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(s.columngroup){var o=r(s.columngroup);o&&(o.groups||(o.groups=new Array),s.parent=o,-1===o.groups.indexOf(s)&&o.groups.push(s))}}for(var n=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i],a=s;for(s.level=0;a.parent;)a=a.parent,s.level++;var a=s,l=s.level;for(n=Math.max(n,s.level);a.parent;)a=a.parent,a&&(a.level=--l)}for(var d=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=d(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columnGroups.length;i++){var s=this.columnGroups[i],h=d(s);s.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return t.enableBrowserSelection?!0:t.filterable&&e(i.target).ischildof(t.filterrow)?!0:t.rowDetails&&e(i.target).parents("[data-role=details]").length>0?!0:void 0==t.editKey?!1:void 0}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var r=t.host.coord(),s=t.host.width(),o=t.host.height(),n=!1,a=!1,l=!1;if((i.pageY<r.top||i.pageY>r.top+o)&&(n=!0,a=!0),(i.pageX<r.left||i.pageX>r.left+s)&&(n=!0,l=!0),n){var d=function(t){var r=e(t.children()[0]).data();if(r&&!r.jqxWidget&&(r=t.data()),r||(r=t.data()),r.jqxWidget&&r.jqxWidget.container&&"block"==r.jqxWidget.container[0].style.display){var s=r.jqxWidget,o=s.container.coord().top,l=s.container.coord().top+s.container.height();return a&&(i.pageY<o||i.pageY>l)?(n=!0,s.close(),!0):!1}},h=t._editors;if(h)for(var c=0;c<h.length;c++){var u=h[c].editor,p=d(u),f=u.attr("aria-owns");if(f){if(f==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+f)))return!0}else if(f=u.children().attr("aria-owns")){if(f==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+f)))return!0}if(p===!1)return}}n&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});var i=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&t._renderhorizontalscroll():t._timer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},5)};var r="mousedown";this.isTouchDevice()&&(r=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(r="mousedown"));var s=function(e,i){for(var r=null,s=t._table.coord(),o=s.top,n=s.left,a=t._table[0].rows,l=0;l<a.length;l++)for(var d=a[l],h=d.cells,c=0;c<h.length;c++){var u=h[c],p=u.offsetLeft+n,f=u.offsetTop+o,m=u.offsetWidth,g=u.offsetHeight;if(0!==m&&0!==g){if(!(i>=f&&f+g>i))break;if(e>=p&&p+m>e){r=u;break}}}return r},o=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var r=e[i],s=r.className;s=s.replace(" "+t.toTP("jqx-fill-state-hover"),""),s=s.replace(" "+t.toTP("jqx-grid-cell-hover"),""),r.className=s}};if(i(e),t._pinnedTable&&e.length>0){var r=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells;i(r)}}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){o(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var n=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,r=t.rowDetails&&!t.treeGrid,s=r&&!t.treeGrid?1:0,o=0;s>0&&t.rtl&&(s=0,o=1);for(var n=s;n<i.length-o;n++){var a=i[n];a.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length)for(var l=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells,n=s;n<l.length-o;n++){var a=l[n];a.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var r=i.pageX,a=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=s(r,a);if(!l)return!0;var d=e(l).parent();return o(),t.rowDetails&&t.treeGrid&&"row-details"==d.attr("data-role")?!0:t.renderedRecords&&0===t.renderedRecords.length?!0:null!=t.editKey&&t.editKey===d.attr("data-key")?!0:(n(d),!0)}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,r,function(i){var r=(i.target,null);if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){var o=(t.table.coord(),i.pageX),a=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(o=arguments[1].pageX,a=arguments[1].pageY),t.isTouchDevice()){var l=e.jqx.position(i);if(o=l.left,a=l.top,isNaN(o)||isNaN(a)){var l=e.jqx.position(i.originalEvent);o=l.left,a=l.top}}r=s(o,a);var d=e(r).parent(),h=d.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==d.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==h){var u=e(r).index(),p=t.columns.records[u];if(h==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==r)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){var f=t.endroweditbykey(t.editKey);if(!f)return!0}}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){var f=t.endroweditbykey(t.editKey);if(!f)return!0}t.clickedTD=r;var m=t.rowinfo[h];if(m&&m.group)return!0;var g=!1;if(m){var v=t.getrowdisplayindex(m.row),x=t.getrowindex(m.row);t._raiseEvent("rowClick",{index:v,boundIndex:x,key:h,row:m.row,originalEvent:i,dataField:p.datafield});var w=(new Date).getTime(),b=300;t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==h&&w-t.clickTime.getTime()<b&&(t._raiseEvent("rowDoubleClick",{index:v,boundIndex:x,key:h,row:m.row,originalEvent:i,dataField:p.datafield}),g=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,r.className.indexOf("jqx-grid-group")>=0)m.expanded?t.hidedetailsbykey(h):t.showdetailsbykey(h);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)m.expanded?t.treeGrid.collapseRow(h):t.treeGrid.expandRow(h),n(t._getuirow(h)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){var u=e(r).index(),p=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==h&&t.editSettings.editOnDoubleClick&&g){var f=t.beginroweditbykey(h,p);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(h,"mouse",!1),t._lastSelectedKey=h,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var m=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var y=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]"),_=y.index(),j=d.index();return t._selectRange(j,_),t.selectrowbykey(h,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=h,t.clickTime=new Date,"custom"===t.selectionMode?!0:(m&&(m.selected?t.unselectrowbykey(h,"mouse",!1):t.selectrowbykey(h,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}m.checked?t.treeGrid.uncheckRow(h):t.treeGrid.checkRow(h),n(t._getuirow(h)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=this,i=e(t._table.children()[1]).children(),r=t._pinnedTable?e(t._pinnedTable.children()[1]).children():null,s=t.rowDetails&&!t.treeGrid,o=s?1:0,n=0;o>0&&t.rtl&&(o=0,n=1);for(var a=0;a<i.length;a++){var l=i[a].cells;if(r)var d=r[a].cells;var h=null;if(i[a].getAttribute&&(h=i[a].getAttribute("data-key")),t.rowinfo[h]&&"none"!==t.selectionMode)if(t.rowinfo[h].selected)for(var c=o;c<l.length-n;c++){var u=l[c];e(u).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed")),d&&e(d[c]).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed"))}else for(var c=o;c<l.length-n;c++){var u=l[c];if(d)var p=d[c];var f=u.className;f=f.replace(" jqx-fill-state-pressed",""),f=f.replace(" jqx-fill-state-pressed-"+t.theme,""),f=f.replace(" jqx-grid-cell-selected",""),f=f.replace(" jqx-grid-cell-selected-"+t.theme,""),u.className=f,p&&(p.className=f)}}},_selectRange:function(t,i){var r=e(e(this._table.children()[1]).children()[i]),s=this;if(t>i)for(var o=i,n=r;t>o;){var n=n.next(),a=n.attr("data-key");s._doSelection(a,!0,!1),o++}else if(i>t)for(var o=i,n=r;o>t;){var n=n.prev(),a=n.attr("data-key");this._doSelection(a,!0,!1),o--}},_getuikey:function(t,i){var r=null,s=e(this._table.children()[1]).children();if(r=e(s[t]).attr("data-key"),e(s[t]).attr("data-role")){var o=e(s[t]);if("next"==i){for(;o;)if(o=o.next()){var n=o.attr("data-role");if(!n)return r=o.attr("data-key")}}else if("prev"==i)for(;o;)if(o=o.prev()){var n=o.attr("data-role");if(!n)return r=o.attr("data-key")}return null}return r},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),r=new Array,s=function(r,o){if(o)for(var n=0;n<o.length;n++)if(o[n]&&o[n]._visible!==!1){var a=e.extend({},o[n]);r.push(a),o[n][i.expanded]?(a.records=new Array,s(a.records,o[n].records)):t.dataview.filters.length>0&&(a.records=new Array,s(a.records,o[n].records))}};return s(r,this.dataViewRecords),r},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,r=function(){var i=e(this._table.children()[1]).children(),r=null,s=0;if(this.pageable&&(s-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var o=0,n=0;n<i.length;n++){var a=e(i[n]),l=a.children()[0].getAttribute("colspan");if(!(l>0)){if(o===s+t)return r=a.attr("data-key");o++}}return r}if(this.rowDetails)for(var o=0,n=0;n<i.length;n++){if(o===t+s)return r=e(i[n]).attr("data-key");n%2==1&&o++}else r=e(i[s+t]).attr("data-key");return r};if(i=r.call(this),null==i&&this.pageable){var s=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=s){var o=this.getRows()[t];if(o&&null!=o.uid)return o.uid;if(isNaN(s))return null;this.goToPage(s),i=r.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(r){for(var s=e(this._table.children()[1]).children(),o=0;o<s.length;o++){var n=s[o],a=n.getAttribute("data-key");if(t==a)return e(n)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(r){for(var s=e(this._pinnedTable.children()[1]).children(),o=0;o<s.length;o++){var n=s[o],a=n.getAttribute("data-key");if(t==a)return e(n)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t?t:e},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;var r=this.renderedRecords;void 0!=i&&(r=r.slice(i));var s=0;if(this.rowDetails&&!this.treeGrid&&s++,s<this.columns.records.length)var o=this.columns.records[s].datafield;else new Array;var n=new Array;return e.each(r,function(i){var r=this[o];r||(r="");var s=e.jqx.string.startsWithIgnoreCase(r.toString(),t);s&&n.push(this.uid)}),n},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),r=this,s=t.charCode?t.charCode:t.keyCode?t.keyCode:0,o=this._lastSelectedKey,n=(this.rowinfo[o],this._getuirow(o)),a=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(n){if(this.handleKeyboardNavigation){var d=this.handleKeyboardNavigation(s);if(d)return!0}if(this.editable&&void 0==this.editKey&&113===s&&this.editSettings.editOnF2&&this.beginroweditbykey(n.attr("data-key")),void 0==this.editKey&&!l&&!a&&this.incrementalSearch&&!(s>=33&&40>=s)){var h=-1;this._searchString||(this._searchString=""),(8==s||46==s)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var c=String.fromCharCode(s),u=!isNaN(parseInt(c)),p=!1;if(s>=65&&97>=s||u||8==s||32==s||46==s){t.shiftKey||(c=c.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(this._searchString.length>0&&this._searchString.substr(0,1)==c||(this._searchString+=c)),32==s&&(this._searchString+=" "),this._searchTime=new Date;var o=this.getSelection();if(o.length>=1){for(var f=o[0].uid,m=-1,g=0;g<this.renderedRecords.length;g++)if(this.renderedRecords[g].uid==f){m=g;break}var v=this._getMatches(this._searchString,m);if(0==v.length||v.length>0&&v[0]==f)var v=this._getMatches(this._searchString)}else var v=this._getMatches(this._searchString);if(v.length>0){var o=this.getSelection();if(o.length>=1){var x=v.indexOf(o[0].uid);if(-1==x)this.clearSelection(!1),this.selectrowbykey(v[0]);else{var w=x+1;w>=v.length&&(w=0),this.clearSelection(!1),this.selectrowbykey(v[w])}}else this.clearSelection(!1),this.selectrowbykey(v[0]);this._lastSearchString=this._searchString}}if(void 0!=this._searchTimer&&clearTimeout(this._searchTimer),27!=s&&13!=s||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){r._searchString="",r._lastSearchString=""},500),h>=0)return;if(p)return!1}if(void 0!=this.editKey){if(27===s&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===s&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var b=this.columns.records.indexOf(this.editColumn);if(9==s&&b<this.columns.records.length-1&&!t.shiftKey){for(var y=this.editKey,_=null,g=b+1;g<this.columns.records.length;g++)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){_=this.columns.records[g];break}_&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(y,_))}else if(9==s&&t.shiftKey&&b>0){for(var y=this.editKey,j=null,g=b-1;g>=0;g--)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){j=this.columns.records[g];break}j&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(y,j))}if(9==s){var q=this.rowinfo[this.editKey],m=this.getrowindex(q),n=this._getuirow(this.editKey);if(t.shiftKey||_){if(!j&&t.shiftKey){for(var T=null,g=this.columns.records.length-1;g>=0;g--)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){T=this.columns.records[g];break}if(T){for(;n;)if(n=n.prev()){var C=n.attr("data-role");if(!C){var k=n.attr("data-key");break}}if(k){this.clearSelection(!1),this._lastSelectedKey=k;var q=this.rowsByKey[k],m=this.getrowindex(q),S=this.getrowdisplayindex(q);this._raiseEvent("rowSelect",{key:k,index:S,boundIndex:m,row:this.rowsByKey[k]}),this.endroweditbykey(this.editKey,!1),this._doSelection(k,!0,!0),this.beginroweditbykey(k,T)}}}}else{for(var T=null,g=0;g<this.columns.records.length;g++)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){T=this.columns.records[g];break}if(T){for(;n;)if(n=n.next()){var C=n.attr("data-role");if(!C){var k=n.attr("data-key");break}}if(k){this.clearSelection(!1),this._lastSelectedKey=k;var q=this.rowsByKey[k],m=this.getrowindex(q),S=this.getrowdisplayindex(q);this._raiseEvent("rowSelect",{key:k,index:S,boundIndex:m,row:this.rowsByKey[k]});var D=this.endroweditbykey(this.editKey,!1);D?(this._doSelection(k,!0,!0),this.beginroweditbykey(k,T)):this.beginroweditbykey(this.editKey,T)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var I=String.fromCharCode(s).toLowerCase();if("c"==I||"x"==I){var o=this.getSelection();if(o.length>=1){for(var P="",A=0;A<this.renderedRecords.length;A++)for(var B=this.renderedRecords[A],g=0;g<o.length;g++){var q=o[g];if(q.uid===B.uid){for(var M=0;M<this.columns.records.length;M++){var H=this.getCellTextByKey(q.uid,this.columns.records[M].displayfield);P+=H,M<this.columns.records.length-1&&(P+="	")}P+="\r\n";break}}if(""!=P&&(P=P.substring(0,P.length-1)),window.clipboardData)window.clipboardData.setData("Text",P);else{var z=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');z.val(P),e("body").append(z),z.select(),setTimeout(function(){document.designMode="off",z.select(),z.remove()},100)}}}}if(32===s&&this.treeGrid&&this.treeGrid.checkboxes){var o=this.getSelection();if(o.length>1){for(var g=0;g<o.length;g++){var E=o[g].uid;this.rowinfo[E].checked?this.treeGrid.uncheckRow(E,!1):this.treeGrid.checkRow(E,!1)}return this._renderrows(),!1}var f=n.attr("data-key");if(f)return this.rowinfo[f].checked?this.treeGrid.uncheckRow(f):this.treeGrid.checkRow(f),!1}var O=n.index(),L=function(t){var i=null,s=e(r._table.children()[1]).children().length-1,o=e(e(r._table.children()[1]).children()[s]),n=o.attr("data-role");if(n){for(;o;)if(o=o.prev()){var n=o.attr("data-role");if(!n){i=o.attr("data-key");break}}}else i=o.attr("data-key");return"all"==t?{row:o,key:i}:i},N=function(t){var i=null,s=e(e(r._table.children()[1]).children()[0]),o=s.attr("data-role");if(o){for(;s;)if(s=s.next()){var o=s.attr("data-role");if(!o){i=s.attr("data-key");break}}}else i=s.attr("data-key");return"all"==t?{row:s,key:i}:i},f=null,F=function(){if(l||a||r.clearSelection(!1),33==s||37==s){var e=O;f=r._getuikey(e,"prev"),f||(f=N())}else if(34==s||39==s){var e=O;f=r._getuikey(e,"next"),f||(f=L())}else 38==s?f=L():40==s&&(f=N());r._lastSelectedKey=f;var t=r.rowsByKey[f],e=r.getrowindex(t),i=r.getrowdisplayindex(t);r._raiseEvent("rowSelect",{key:f,index:i,boundIndex:e,row:r.rowsByKey[f]}),r._doSelection(f,!0,!0),r.host.focus()},R=function(){r.clearSelection(!1);var e=N();a||l?r._selectRange(n.index(),0):r._lastSelectedKey=e,r.selectrowbykey(e,"keyboard")},W=function(){r.clearSelection(!1);var e=L("all"),t=e.key;a||l?r._selectRange(n.index(),e.row.index()):r._lastSelectedKey=t,r.selectrowbykey(t,"keyboard")};if(this.treeGrid&&this.rtl&&(37==s?s=39:39==s&&(s=37)),36==s||l&&38==s)return R(),!1;if(35==s||l&&40==s)return W(),!1;if(33==s||37==s){var f=n.attr("data-key");if(this.rowDetails&&37==s&&!this.treeGrid)return this.hidedetailsbykey(f),!1;if(this.treeGrid&&37==s){
if(this.rowinfo[f].row&&!this.rowinfo[f].row[i.parent]&&!this.rowinfo[f][i.leaf]&&!this.rowinfo[f].expanded)return!1;if(this.rowinfo[f].expanded&&!this.rowinfo[f][i.leaf])return this.treeGrid.collapseRow(f),!1;if(this.rowinfo[f].row&&this.rowinfo[f].row[i.parent]&&(f=this.rowinfo[f].row[i.parent].uid),this.rowinfo[f][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(F):this.goToPrevPage(F),!1;if(this.treeGrid&&this.pageable&&33==s)return this.goToPrevPage(F),!1}else if(34==s||39==s){var f=n.attr("data-key");if(this.rowDetails&&39==s&&!this.treeGrid)return this.showdetailsbykey(f),!1;if(this.treeGrid&&39==s){if(this.rowinfo[f][i.leaf])return!1;if(!this.rowinfo[f].expanded)return this.treeGrid.expandRow(f),!1;if(this.rowinfo[f].row&&this.rowinfo[f].row.records&&this.rowinfo[f].row.records.length>0)if(this.dataview.filters.length>0){for(var V=this.rowinfo[f].row.records,g=0;g<V.length;g++)if(V[g]._visible){f=V[g].uid;break}}else f=this.rowinfo[f].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(F):this.goToNextPage(F),!1;if(this.treeGrid&&this.pageable&&34==s)return this.goToNextPage(F),!1}else if(38==s){for(;n;)if(n=n.prev()){var C=n.attr("data-role");if(!C){f=n.attr("data-key");break}}if(this.pageable&&null==f)return this.goToPrevPage(F),!1}else if(40==s){for(;n;)if(n=n.next()){var C=n.attr("data-role");if(!C){f=n.attr("data-key");break}}if(this.pageable&&null==f)return this.goToNextPage(F),!1}if(null!=f){if(l||a||this.clearSelection(!1),this.rowinfo[f]&&this.rowinfo[f].selected&&(l||a)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=f;var q=this.rowsByKey[f],m=this.getrowindex(q);r._updateSelection();var S=this.getrowdisplayindex(q);return this._raiseEvent("rowUnselect",{key:f,index:S,boundIndex:m,row:q}),!1}this._lastSelectedKey=f;var q=this.rowsByKey[f],m=this.getrowindex(q);this._doSelection(f,!0,!1),r._updateSelection();var S=this.getrowdisplayindex(q);if(this._raiseEvent("rowSelect",{key:f,index:S,boundIndex:m,row:q}),this.treeGrid)if(37==s){var n=this._getuirow(f),G=null;if(n){var C=n.attr("data-role");C||(G=n.attr("data-key"))}if(this.pageable&&null==G&&this.dataview.pagenum>0)for(;null==this._getuirow(f)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==s){var n=this._getuirow(f),G=null;if(n){var C=n.attr("data-role");C||(G=n.attr("data-key"))}this.pageable&&null==G&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var r=document.selection.createRange();if(null==r)return{start:0,end:t.value.length,length:0};var s=e[0].createTextRange(),o=s.duplicate();s.moveToBookmark(r.getBookmark()),o.setEndPoint("EndToStart",s);var i=r.text.length;return{start:o.text.length,end:o.text.length+r.text.length,length:i,text:r.text}},_doSelection:function(e,t,i){if(null==e)return void this.clearSelection();"singlerow"===this.selectionMode&&this.clearSelection(!1);var r=this.rowinfo[e];if(r)r.selected=t,this.ensurerowvisiblebykey(e);else{this.ensurerowvisiblebykey(e);var r=this.rowinfo[e];r?r.selected=t:this.rowinfo[e]={selected:t}}"none"!=this.selectionMode&&i!==!1&&this._renderrows()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var r=this.rowinfo[i];if(r.selected){r.selected=!1;var s=t.indexOf(r.row),o=this.getrowdisplayindex(r.row);this._raiseEvent("rowUnselect",{key:i,index:o,boundIndex:s,row:r.row})}}}e!==!1&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var r=this.exportSettings.columnsHeader;void 0==r&&(r=!0);var s=this.exportSettings.hiddenColumns;void 0==s&&(s=!1);var o=this.exportSettings.serverURL,n=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords;void 0==a&&(a=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var d=this,h=this.getRows();if(1==this.exportSettings.recordsInView&&(h=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)var h=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",h),u=function(t,i){for(var r=0;r<t.length;r++){var s=e.extend({},t[r]);if(i.push(s),s.records&&s.records.length>0)for(var o=u(s.records,new Array),n=0;n<o.length;n++)o[n].leaf?i.push(o[n]):i.push(o[n])}return i},p=u.call(this,c,new Array);h=p}if(0==h.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var f=new Array,m=0;m<this.columns.records.length;m++)!s&&this.columns.records[m].hidden||f.push(e.extend({},this.columns.records[m]));if(this.groups&&this.groups.length>0&&f.length>0)for(var g=this._names(),m=0;m<h.length;m++)h[m][g.leaf]||(d.rtl?h[m][f[f.length-1].displayfield]=h[m].label:h[m][f[0].displayfield]=h[m].label);var v=0;if(this.treeGrid){var x=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(x=this.getView());var g=this._names(),w=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=i[g.expanded]||!i[g.expanded]&&a;v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&r&&w(e[t].records)}};if(w(x),"xml"!=i&&"json"!=i){for(var b=f.length,m=0;v>m;m++){var y=new t(this,this);y.width=this.indentWidth,y.datafield="Level"+m,y.displayfield="Level"+m,y.align="center",y.cellsalign="center",y.text="",this.rtl?f.splice(b,0,y):f.splice(m,0,y)}var _=new Array,j=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),q=function(t){for(var r=0;r<t.length;r++){for(var s=e.extend({},t[r]),o=0;o<s[g.level];o++)s["Level"+o]="";var n=s[g.expanded]||!s[g.expanded]&&a;("xls"==i||"html"==i||"pdf"==i)&&s.records&&s.records.length>0?s["Level"+s[g.level]]=n?"-":"+":s["Level"+s[g.level]]="",s[g.leaf]&&(s["Level"+s[g.level]]="");for(var o=s[g.level]+1;v>o;o++)s["Level"+o]="";if(j&&!s[g.leaf]&&(d.rtl?s[f[f.length-v-1].displayfield]=s.label:s[f[v].displayfield]=s.label),s.aggregate)for(var l="xls"==i?"_AG":"",o=v;o<f.length;o++){var h=o;d.rtl&&(h=f.length-o-1),void 0!=s[f[h].displayfield]&&(s[f[h].displayfield]=l+s[f[h].displayfield])}_.push(s),n&&!s[g.leaf]&&q(s.records)}};q(x),h=_}else h=x}var T=void 0!=s?s:!1,C={},k={},S=this.host.find(".jqx-grid-cell:first"),D=this.host.find(".jqx-grid-cell-alt:first"),I=this.toThemeProperty;S.removeClass(I("jqx-grid-cell-selected")),S.removeClass(I("jqx-fill-state-pressed")),D.removeClass(I("jqx-grid-cell-selected")),D.removeClass(I("jqx-fill-state-pressed")),S.removeClass(I("jqx-grid-cell-hover")),S.removeClass(I("jqx-fill-state-hover")),D.removeClass(I("jqx-grid-cell-hover")),D.removeClass(I("jqx-fill-state-hover"));for(var P="cell",A=1,B="column",M=1,H=[],z=0;z<f.length;z++){var y=f[z];if(""!=y.cellclassname)if(y.customCellStyles=new Array,"string"==typeof y.cellclassname)y.customCellStyles.push(y.cellclassname);else for(var m=0;m<h.length;m++){var E=m,O=y.cellclassname(E,y.displayfield,h[m][y.displayfield],h[m]);O&&(y.customCellStyles[m]=O)}}if(e.each(f,function(t){var s=t;d.treeGrid&&(t>=v?s=f.length-v-1:v>0&&v>t&&(s=0));var o=e(d._table[0].rows[0].cells[s]);if(d._table[0].rows.length>1){var n=e(d._table[0].rows[1].cells[s]);if(0==n.length)var n=e(d._table[0].rows[1].cells[0])}if(0==o.length)var o=e(d._table[0].rows[0].cells[0]);var a=this,l=function(e){var t=d.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),a.customCellStyles)for(var i in a.customCellStyles)e.removeClass(a.customCellStyles[i])};if(l(o),n&&l(n),null==this.displayfield)return!0;d.showAggregates&&d.getcolumnaggregateddata&&H.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,h));var c=d._getexportcolumntype(this);!this.exportable||this.hidden&&!T||(C[this.displayfield]={},C[this.displayfield].text=this.text,C[this.displayfield].width=parseInt(this.width),isNaN(C[this.displayfield].width)&&(C[this.displayfield].width=60),C[this.displayfield].width>500&&(C[this.displayfield].width=500),C[this.displayfield].formatString=this.cellsFormat,C[this.displayfield].localization=d.gridlocalization,C[this.displayfield].type=c,C[this.displayfield].cellsAlign=this.cellsalign,C[this.displayfield].hidden=!r,C[this.displayfield].index=s,C[this.displayfield].maxIndex=f.length),P="cell"+A;var u=this.element;if("json"!=i&&"xml"!=i){B="column"+M;var p=function(e,t,r,s,o,n,a,l,d){k[e]={index:1+a,maxIndex:f.length},n.rtl&&(k[e].index=f.length-a),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(k[e]["font-size"]=t.css("font-size"),k[e]["font-weight"]=t.css("font-weight"),k[e]["font-style"]=t.css("font-style"),k[e]["background-color"]=n._getexportcolor(t.css("background-color")),k[e].color=n._getexportcolor(t.css("color")),k[e]["border-color"]=n._getexportcolor(t.css("border-top-color"))),r?k[e]["text-align"]=o.align:(k[e]["text-align"]=o.cellsalign,k[e].formatString=o.cellsFormat,k[e].dataType=c),"html"!=i&&"pdf"!=i||(k[e]["border-top-width"]="0px",n.rtl?(k[e]["border-left-width"]="1px",k[e]["border-right-width"]="0px",a==f.length-v-1&&r&&(k[e]["border-right-width"]="1px")):(k[e]["border-left-width"]="0px",k[e]["border-right-width"]="1px"),k[e]["border-bottom-width"]="1px",t&&(k[e]["border-top-style"]=t.css("border-top-style"),k[e]["border-left-style"]=t.css("border-left-style"),k[e]["border-right-style"]=t.css("border-right-style"),k[e]["border-bottom-style"]=t.css("border-bottom-style")),r?(0!=a||n.rtl?a==f.length-1&&n.rtl&&(k[e]["border-right-width"]="1px"):k[e]["border-left-width"]="1px",t&&(k[e]["border-top-width"]="1px",k[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=a||n.rtl?a==f.length-1&&n.rtl&&(k[e]["border-right-width"]="1px"):k[e]["border-left-width"]="1px",t&&(k[e].height=t.css("height")),n.treeGrid&&!r&&(k[e].index-1<v?n.rtl?k[e]["border-left-width"]="0px":k[e]["border-right-width"]="0px":k[e].index-1==v&&(n.rtl?k[e]["border-right-width"]="0px":k[e]["border-left-width"]="0px")))),!o.exportable||o.hidden&&!T||(1==l?(C[o.displayfield].customCellStyles||(C[o.displayfield].customCellStyles=new Array),C[o.displayfield].customCellStyles[d]=e):r?C[o.displayfield].style=e:s?C[o.displayfield].cellAltStyle=e:C[o.displayfield].cellStyle=e)};if(p(B,u,!0,!1,this,d,t),M++,p(P,o,!1,!1,this,d,t),d.altRows&&(P="cellalt"+A,p(P,n,!1,!0,this,d,t)),this.customCellStyles){for(var m in a.customCellStyles)o.removeClass(a.customCellStyles[m]);for(var m in a.customCellStyles)o.addClass(a.customCellStyles[m]),p(P+a.customCellStyles[m],o,!1,!1,this,d,t,!0,m),o.removeClass(a.customCellStyles[m])}A++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var L=v+1;if(this.rtl&&(L=f.length-v),k["column"+L]){var N=k["column"+L];N.merge=v,N["border-left-width"]="1px";for(var m=(k["cell"+L],0);m<f.length;m++){var L=m+1;this.rtl&&(L=f.length-m),k["column"+L].level=m,k["column"+L].maxLevel=v,k["cell"+L].maxLevel=v;var y=f[m];if(y.customCellStyles)for(var F in y.customCellStyles)k["cell"+L+y.customCellStyles[F]]&&(k["cell"+L+y.customCellStyles[F]].maxLevel=v);k["cellalt"+L]&&(k["cellalt"+L].maxLevel=v)}for(var m=0;v>m;m++){var L=m+1,R=m;this.rtl&&(L=f.length-m);var W=k["column"+L];W.disabled=!0,k["cell"+L].level=R,k["cell"+L].maxLevel=v,k["column"+L].level=R,k["cellalt"+L]&&(k["cellalt"+L].level=R,k["cellalt"+L].maxLevel=v);var y=f[m];if(y.customCellStyles)for(var F in y.customCellStyles)k["cell"+L+y.customCellStyles[F]]&&(k["cell"+L+y.customCellStyles[F]].maxLevel=v,k["cell"+L+y.customCellStyles[F]].level=R);if(("html"==i||"pdf"==i||"xls"==i)&&(W["font-size"]=N["font-size"],W["font-weight"]=N["font-weight"],W["font-style"]=N["font-style"],W["background-color"]=N["background-color"],W.color=N.color,W["border-color"]=N["border-color"],"html"==i||"pdf"==i)){W["border-top-width"]=N["border-top-width"],W["border-left-width"]=N["border-left-width"],this.rtl&&(W["border-right-width"]=N["border-right-width"],0==m&&(W["border-right-width"]="1px")),0!=m||this.rtl?0==m&&this.rtl&&(W["border-left-width"]="0px"):W["border-left-width"]="0px",this.rtl?this.rtl&&(W["border-left-width"]="0px"):W["border-right-width"]="0px",W["border-bottom-width"]="0px";var W=k["cell"+L];this.rtl?this.rtl&&(W["border-left-width"]="0px"):W["border-right-width"]="0px"}}}}if(this.showAggregates){var V=[],G="xls"==i?"_AG":"",U=0;this.rowDetails&&!this.treeGrid&&U++,H.length>0&&(e.each(f,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(V[t]||(V[t]={}),V[t]){var i=d._getaggregatename(this.aggregates[t]),r=d._getaggregatetype(this.aggregates[t]),s=H[e-U];s&&(V[t][this.displayfield]=G+i+": "+s[r])}}),e.each(f,function(e){for(var t=0;t<V.length;t++)void 0==V[t][this.displayfield]&&(V[t][this.displayfield]=G)})),e.each(V,function(){h.push(this)})}var $=this,Y=e.jqx.dataAdapter.ArrayExporter(h,C,k,o,this.treeGrid&&("xml"==i||"json"==i));if(void 0==l){this._renderrows();var K=this.treeGrid&&("xml"==i||"json"==i),X=Y.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(V,function(){h.pop(this)}),setTimeout(function(){$.exporting=!1},50),X}var K=this.treeGrid&&("xml"==i||"json"==i);Y.exportToFile(i,l,o,n,K),this.showAggregates&&e.each(V,function(){h.pop(this)}),this._renderrows(),setTimeout(function(){$.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),s=parseInt(i[1]),o=parseInt(i[2]),n=parseInt(i[3].substring(1,4)),a={r:r,g:s,b:o},l=this._rgbToHex(a);return 0==r&&0==s&&0==o&&0==n?"#ffffff":"#"+l}var r=parseInt(i[0].substring(4)),s=parseInt(i[1]),o=parseInt(i[2].substring(1,4)),a={r:r,g:s,b:o},l=this._rgbToHex(a);return"#"+l}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var o="";if(e.each(s,function(){return this.name==t.displayfield?(this.type&&(o=this.type),!1):void 0}),o)return o}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var n=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return n=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(n=this.dataview.cachedrecords[0][t.displayfield],null!=n&&""==n.toString())return"string"}if(null!=n){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof n)r="boolean";else if(e.jqx.dataFormat.isNumber(n))r="number";else{var a=new Date(n);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(a=e.jqx.dataFormat.tryparsedate(n),null!=a){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(n);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}}return r},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,r){var s=this,o=this.rowsByKey[t],n=this.getrowindex(o),a=o;if(null!=a&&a[i]==r)return!1;if(null==a||null!==a[i]||""!==r){var l="";if(null!=a&&a[i]!==r){var d=this.getColumn(i),h="string",c=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(c){var u="";e.each(c,function(){return this.name==d.displayfield?(this.type&&(u=this.type),!1):void 0}),u&&(h=u)}if(l=a[i],!d.nullable||null!=r&&""!==r&&d.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(l)||"number"==h||"float"==h||"int"==h||"decimal"==h&&"date"!=h)r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(l)||"date"==h)&&""!=r){var p=r;p=new Date(p),"Invalid Date"!=p&&null!=p?r=p:"Invalid Date"==p&&(p=new Date,r=p)}if(a[i]===r)return}if(s.dataview._filteredData=null,s.dataview._sortData=null,s.dataview._sortHierarchyData=null,a[i]=r,this.treeGrid){var f=this.treeGrid.getRow(t);f&&(f[i]=r)}if(null!=r&&null!=r.label){var d=this.getColumn(i);if(a[d.displayfield]=r.label,a[i]=r.value,this.treeGrid){var f=this.treeGrid.getRow(t);f&&(f[d.displayfield]=r.label,f[i]=r.value)}}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var m=n,g=this.source._source._localdata()[m];this.source.suspendKO=!0;var v=g;if(v[i]&&v[i].subscribe)null!=r&&null!=r.label?(v[d.displayfield](r.label),v[i](r.value)):v[i](r);else{var c=this.source._source.datafields,x=null;if(c&&e.each(c,function(){return this.name==i?(x=this.map,!1):void 0}),null==x)null!=r&&null!=r.label?(v[i]=r.value,v[d.displayfield]=r.label):v[i]=r;else{var w=x.split(this.source.mapChar);if(w.length>0){for(var b=v,y=0;y<w.length-1;y++)b=b[w[y]];b[w[w.length-1]]=r}}this.source._source._localdata.replace(g,e.extend({},v))}this.source.suspendKO=!1}if(this.source.updaterow&&(void 0==sync||1==sync)){var _=!1,j=function(e){0==e&&this.setCellValue(o,i,l,!0,!1)};try{var q=t;_=this.source.updaterow(q,a,j),void 0==_&&(_=!0)}catch(T){return _=!1,void this.setCellValue(o,i,l)}}var C=this.getrowdisplayindex(o),d=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:r,oldValue:l,dataField:i,displayField:d.displayfield,key:t,boundIndex:n,index:C,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var r=parseInt(e),s=this._getkey(r);this.setCellValueByKey(s,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),r=this._getkey(i);return this.getCellTextByKey(r,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var r=this.getCellValueByKey(t,i),s=this.getColumn(i);return s&&""!=s.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(r)||!isNaN(parseFloat(r))&&isFinite(r))&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsFormat,this.gridlocalization))),r},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),r=this._getkey(i);return this.getCellValueByKey(r,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));var r=(this.getrowindex(i),i);return null!=r?r[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),r=this.getColumn(t);this.beginroweditbykey(i,r)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),r=0;r<i.length;r++)if(e.originalRecord){if(i[r].uid==e.originalRecord.uid){t=r;break}}else if(i[r].uid==e.uid){t=r;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(void 0==e)return i;for(var r=t,s=0;s<r.length;s++)if(r[s].uid==e.uid||e.originalRecord&&r[s].uid==e.originalRecord.uid){i=s;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit){var r=this.beginEdit(t,i);if(r===!1)return!1}var s=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(s>0){var o=this.rowsByKey[t];if(this.treeGrid)var o=this.treeGrid.getRow(t);if(o.level<s)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&void 0!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var n=this.editSettings.editSingleCell;if(!i&&n&&this.columns.records&&this.columns.records.length>0){for(var a=0;a<this.columns.records.length&&(i=this.columns.records[a],!i.editable||i.hidden);a++);if(!i)return!1}if(n&&i&&!i.editable)return this.editKey=null,!1;n&&(this.editColumn=i);var l=this,o=this.rowsByKey[t];if(this.treeGrid)var o=this.treeGrid.getRow(t);var d=this.getrowindex(o),h=this._getuirow(t),c=this._getpinneduirow(t);this._editors=new Array;var u=!1;if(h)for(var p=h[0].cells,f=0,a=0;a<p.length;a++){var m=this.columns.records[a],g=p[a];if(!m.rowDetailscolumn&&!(m.checkboxcolumn||(m.pinned&&(g=c[0].cells[a]),n&&i&&m.datafield!=i.datafield||(e(g).removeClass(this.toTP("jqx-grid-cell-selected")),e(g).removeClass(this.toTP("jqx-fill-state-pressed")),e(g).removeClass(this.toTP("jqx-grid-cell-hover")),e(g).removeClass(this.toTP("jqx-fill-state-hover")),"none"==m.columntype)))){var v=e(g).outerWidth(),x=e(g).width();0===f&&(f=e(g).outerHeight()-1),e(g).css("padding","0px"),cellContent="<div style='height:"+f+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var w=this.getCellTextByKey(t,m.displayfield);g.innerHTML=cellContent;var b=e(g.firstChild);switch(m.columntype){case"textbox":case"default":var y=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(b);if(this.rtl&&y.css("direction","rtl"),y.addClass(this.toThemeProperty("jqx-input")),y.addClass(this.toThemeProperty("jqx-widget-content")),y.addClass(this.toThemeProperty("jqx-cell-editor")),y[0].onfocus=function(t){setTimeout(function(){if(t){var i=e(t.target).parent().parent().index();i>=0&&l.ensureColumnVisible(l.columns.records[i].datafield)}else{var i=e(document.activeElement).parent().parent().index();i>=0&&l.ensureColumnVisible(l.columns.records[i].datafield)}l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)},m.editable){if(!u){u=!0;var _=e.jqx.browser.msie&&e.jqx.browser.version>10;_||y.focus();var j=y;setTimeout(function(){var e=j.val().length;_||j.focus();try{if("selectionStart"in j[0])j[0].setSelectionRange(0,e);else{var t=j[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(i){}},10)}}else y.attr("disabled",!0),y.attr("readOnly",!0),y.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(y.width(x),y.height(f),e.jqx.browser.msie&&e.jqx.browser.version<9&&y.css("line-height",parseInt(f)+"px"),y.css("text-align",m.cellsalign),null===w&&(w=""),void 0==w&&(w=""),y.val(w),m.createeditor){var q=w,w=this.getCellValueByKey(t,m.displayfield);m.createeditor(this.treeGrid?t:d,w,y,q,x,f)}if(this._editors.push({column:m,editor:y}),""!=m.cellsFormat&&(-1==m.cellsFormat.indexOf("p")&&-1==m.cellsFormat.indexOf("c")&&-1==m.cellsFormat.indexOf("n")&&-1==m.cellsFormat.indexOf("f")||y.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),r=parseInt(i);if(isNaN(r))return!0;if(l._selection(y).length>0)return!0;var s="",o=y.val();if(m.cellsFormat.length>1){var n=parseInt(m.cellsFormat.substring(1));isNaN(n)&&(n=0)}else var n=0;if(n>0&&-1!=o.indexOf(l.gridlocalization.decimalseparator)&&l._selection(y).start>o.indexOf(l.gridlocalization.decimalseparator))return!0;for(var a=0;a<o.length-n;a++){var d=o.substring(a,a+1);null!=d.match(/^[0-9]+$/)&&(s+=d)}return s.length>=11?!1:void 0})),m.initeditor){var q=w,w=this.getCellValueByKey(t,m.displayfield);m.initeditor(this.treeGrid?t:d,w,y,q,x,f)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var T=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(b),C=e.trim(m.datafield).split(" ").join("");-1!=C.indexOf(".")&&(C=C.replace(".",""));var k=this.editorsCache["templateeditor_"+C];if("custom"==m.columntype)var k=this.editorsCache["customeditor_"+C+"_"+t];var q=w,w=this.getCellValueByKey(t,m.displayfield);if(k){var y=k;y.width(v),y.height(f),y.appendTo(T)}else{var y=e("<div style='border: none;'></div>");y.width(v),y.height(f),k=y,null===w&&(w=""),"custom"!=m.columntype?this.editorsCache["templateeditor_"+C]=y:this.editorsCache["customeditor_"+C+"_"+t]=y,y.appendTo(T),m.createeditor&&m.createeditor(this.treeGrid?t:d,w,y,q,v,f)}m.initeditor&&m.initeditor(this.treeGrid?t:d,w,y,q,v,f),this._editors.push({column:m,editor:y})}}}this.editKey=t,this.beginUpdate();var S=this.getrowdisplayindex(o);if(this._raiseEvent("rowBeginEdit",{key:t,index:S,boundIndex:d,row:this.rowsByKey[t]}),n){var o=this.rowsByKey[t],D=null,I=null;o&&(D=o[i.datafield],I=o[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:D,displayValue:I,key:t,index:S,dataField:i.datafield,displayField:i.displayfield,boundIndex:d,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||void 0==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));var t=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};e=t(e,this.gridlocalization.thousandsseparator,""),e=e.replace(this.gridlocalization.decimalseparator,"."),e.indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var i="",r=0;r<e.length;r++){var s=e.substring(r,r+1);"-"===s&&(i+="-"),"."===s&&(i+="."),null!=s.match(/^[0-9]+$/)&&(i+=s)}return e=i,e=e.replace(/ /g,"")},_geteditorvalue:function(t,i,r,s){var o=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(o=i.val(),""!=t.cellsFormat){var n="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(a){var l="";e.each(a,function(){return this.name==t.displayfield?(this.type&&(l=this.type),!1):void 0}),l&&(n=l)}var d="number"===n||"float"===n||"int"===n||"integer"===n,h="date"===n||"time"===n;if(d||"string"===n&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===o&&t.nullable)return"";o=this._toNumber(o),o=new Number(o),isNaN(o)&&(o="")}if(h||"string"===n&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===o&&t.nullable)return"";var c=o;o=new Date(o),("Invalid Date"==o||null==o||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(o=e.jqx.dataFormat.parsedate(c,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=o&&null!=o||(o=""))}}t.displayfield!=t.datafield&&(o={label:o,value:o})}if(t.geteditorvalue){var u=this.getCellValueByKey(s,t.displayfield);o=t.geteditorvalue(this.treeGrid?s:r,u,i)}}return o},_validateEditors:function(e){for(var t=this,i=!0,r=t.rowsByKey[e],s=t.getrowindex(r),o=t._editors,e=t.editKey,n=t._getuirow(e),a=0;a<o.length;a++){var l=o[a].editor,d=o[a].column,h=t._geteditorvalue(d,l,s,e);if(d.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=d.datafield;try{var u=d.validation({value:h,row:e,datafield:d.datafield,displayfield:d.displayfield,column:d},h),p=t.gridlocalization.validationstring;void 0!=u.message&&(p=u.message);var f="boolean"==typeof u?u:u.result;f||(void 0!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(n,c,p,l),i=!1)}catch(m){t._showvalidationpopup(n,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(t,i){var r=this;if(null!==r.editKey){if(this.endEdit){var s=this.endEdit(t);if(s===!1)return}var o=r.rowsByKey[t],n=r.getrowindex(o),a=r._editors,l=r.editKey;r._getuirow(l);if(i!==!0){var d=!0;if(a&&(d=r._validateEditors(l))){for(var h=e.extend({},o),c=e.extend({},o),u=0;u<a.length;u++){var p=a[u].editor,f=a[u].column,m=r._geteditorvalue(f,p,n,l);m&&void 0!=m.label?(h[f.displayfield]=m.label,h[f.datafield]=m.value):h[f.displayfield]=m}var g=function(){r.dataview._sortHierarchyData=null,r.dataview._sortData=null;for(var i=0;i<a.length;i++){var s=a[i].editor,d=a[i].column,h=r._geteditorvalue(d,s,n,l),u=c[d.displayfield];if(h&&void 0!=h.label?(o[d.displayfield]=h.label,o[d.datafield]=h.value):o[d.displayfield]=h,r.treeGrid){var p=r.treeGrid.getRow(l);p&&(p[d.displayfield]=h)}if(r.editorsCache){var f=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;if((t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened){var i=e.jqxWidget.isOpened();i&&e.jqxWidget.close()}}},m="customeditor_"+d.displayfield+"_"+t,g="templateeditor_"+d.displayfield;if(r.editorsCache[m]){var v=e(r.editorsCache[m]).data(),x=r.editorsCache[m];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),f(v),r.editorsCache[m].detach()}if(r.editorsCache[g]){r.editorsCache[g].detach();var v=e(r.editorsCache[g]).data(),x=r.editorsCache[g];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),f(v)}}h!=u&&(r.beginUpdate(),r._raiseEvent("cellValueChanged",{value:h,oldValue:u,dataField:d.datafield,displayField:d.displayfield,key:t,index:n,row:o}),r.endUpdate(!1))}};r.updaterowbykey(r.editKey,h,!1,g)}if(!d)return!1}return r._detachEditors(l),!0}},_detachEditors:function(t){var i=this,r=i.rowsByKey[t],s=i.getrowindex(r);if(i.editorsCache)for(var o in i.editorsCache){var n=e(i.editorsCache[o]).data();if(n&&n.jqxWidget){var a=n.jqxWidget.element.className;if((a.indexOf("dropdownlist")>=0||a.indexOf("datetimeinput")>=0||a.indexOf("combobox")>=0||a.indexOf("menu")>=0)&&n.jqxWidget.isOpened){var l=n.jqxWidget.isOpened();l&&n.jqxWidget.close()}}e(i.editorsCache[o]).detach()}i.beginUpdate();var d=i.getrowdisplayindex(r);if(i.editSettings.editSingleCell){var r=i.rowsByKey[t],h=null,c=null;r&&(h=r[i.editColumn.datafield],c=r[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:h,displayValue:c,key:t,index:d,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:s,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:d,boundIndex:s,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,r,s){if(void 0==r)var r=this.gridlocalization.validationstring;s.addClass(this.toThemeProperty("jqx-grid-validation-label"));var o=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),n=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");o.html(r),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.hide(),n.hide(),o.prependTo(this.table),n.prependTo(this.table);var a=this.hScrollInstance,l=a.value,d=parseInt(l),h=this.getColumn(i).uielement;if(t){var c=t;o.css("top",parseInt(c.position().top)+30+"px");var u=parseInt(o.css("top"));n.css("top",u-11),n.removeClass(),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var p=!1;u>=this._table.height()&&(n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),
u=parseInt(c.position().top)-c.outerHeight()-5,0>u&&(u=0,n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),o.css("top",u+"px"),n.css("top",u+o.outerHeight()-9));var f=-d+parseInt(e(h).position().left),m=parseInt(this._table.css("left"));isNaN(m)&&(m=0),0!=m&&(d=0),n.css("left",d+f+30);var g=o.width();if(g+f>this.host.width()-20){var v=g+f-this.host.width()+40;f-=v}p?o.css("left",d+parseInt(e(h).position().left)-o.outerWidth()):o.css("left",d+f),s.mouseenter(function(){s.hasClass("jqx-grid-validation-label")&&(o.show(),n.show())}),s.mouseleave(function(){o.hide(),n.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:o,validationrow:n}}},addRow:function(t,i,r,s){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var o=!1,n=this.that;if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0,l=a?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;var l=a?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var d=new Array;e.each(i,function(e,t){var r=n.dataview.getid(n.dataview.source.id,i[e],l+e);d.push(r),n.getColumn(n.dataview.source.id)&&(i[e][n.dataview.source.id]=r)}),t=d}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,r){var s=t[e];n.getColumn(n.dataview.source.id)&&(i[e][n.dataview.source.id]=s)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var h=this.treeGrid?!!this.treeGrid.virtualModeCreateRecords:!1,c=function(t,i,r,o){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var n=t.vScrollInstance.value,a=!1;if(e.isArray(r)?e.each(r,function(e,r){var n=null;null!=i&&null!=i[e]&&(n=i[e]),this.uid=n,t.rowsByKey[n]=this,i==s&&(s=null),a=t.source.addRecord(this,o,s,h)}):(r.uid=i,t.rowsByKey[i]=r,i==s&&(s=null),a=t.source.addRecord(r,o,s,h)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,d=t.groups[0];if(Object.prototype.toString="function"==typeof d?d:function(){return this[d]},!t.source.records.sort){var c=new Array,u=0;e.each(data,function(){c[startindex+u++]=this}),data=c}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var r=0,s=0;if(t&&t.uid&&(r=t.uid),i&&i.uid&&(s=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(o){}if("number"==typeof r){if(s>r)return-1;if(r>s)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,void 0!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1),t.vScrollInstance.setPosition(n),a};if(this.source.addrow){var u=function(e,s){1!=e&&void 0!=e||(void 0!=s&&(t=s),c(n,t,i,r))};try{o=n.treeGrid?this.source.addrow(t,i,r,s,u):this.source.addrow(t,i,r,u),void 0==o&&(o=!0)}catch(p){o=!1}if(0==o)return!1}else c(this,t,i,r);return o}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(void 0!=t){this._datachanged=!0;var i=!1,r=this.that,s=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var r=!1,s=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){var e=this;if(t.rowsByKey[e]){if(r=!0,t.rowinfo[e].selected&&t.unselectrowbykey(e,!1),t.treeGrid)var i=t._names(),s=t.rowsByKey[e][i.parent];if(delete t.rowsByKey[e],t.treeGrid&&t.rowinfo[e]){var o=t.rowinfo[e].row.records,n=function(e){for(var i=0;i<e.length;i++){var r=e[i].uid;delete t.rowsByKey[r],delete t.rowinfo[r],e[i].records&&n(e[i].records)}};o&&(n(o),delete t.rowinfo[e])}t.source.deleteRecord(e),s&&i&&s.records&&0==s.records.length&&(s[i.leaf]=!0,t.rowinfo[s.uid][i.leaf]=!0)}});else{var r=!1;if(t.rowsByKey[i]){if(r=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var o=t._names(),n=t.rowsByKey[i][o.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var a=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var r=e[i].uid;delete t.rowsByKey[r],delete t.rowinfo[r],e[i].records&&l(e[i].records)}};a&&l(a)}delete t.rowinfo[i],t.source.deleteRecord(i),n&&o&&n.records&&0==n.records.length&&(n[o.leaf]=!0,t.rowinfo[n.uid][o.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.vScrollInstance.setPosition(s),r};if(this.source.deleterow){var o=function(e){1!=e&&void 0!=e||s(r,t)};try{this.source.deleterow(t,o),void 0==i&&(i=!0)}catch(n){i=!1}}else i=s(r,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,r,s){if(void 0!=t&&void 0!=i){var o=this.that,n=!1,a=function(t,i,s){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var o=!1;if(e.isArray(i))e.each(i,function(e,i){var r=t.rowsByKey[this],n=function(t,i){r?r[this]=s[e]:o=!1,o=!0};n(this,r),t.treeGrid&&(r=t.treeGrid.getRow(this),n(this,r))});else{var n=t.rowsByKey[i],a=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=s[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=s[t.columns.records[i].datafield]);o=!0}else o=!1};a(n),t.treeGrid&&(n=t.treeGrid.getRow(i),a(n))}var l=t.vScrollInstance.value;if(void 0!=r&&1!=r||void 0!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var n=t.rowsByKey[i],d=t.getrowindex(n),h=t.source._source._localdata()[d];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},n)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(l),o};if(this.source.updaterow){var l=function(e){1!=e&&void 0!=e||(a(o,t,i),s&&s(),o._renderrows(!1))};try{n=this.source.updaterow(t,i,l),void 0==n&&(n=!0)}catch(d){n=!1}}else n=a(o,t,i),n&&s&&s(),o._renderrows(!1);return n}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var r=i!==!1;this._doSelection(e,!0,r);var s=this.rowsByKey[e],o=this.getrowindex(s),n=this.getrowdisplayindex(s);this._raiseEvent("rowSelect",{key:e,index:n,boundIndex:o,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=t!==!1;this._doSelection(e,!1,i);var r=this.rowsByKey[e],s=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowUnselect",{key:e,index:o,boundIndex:s,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var r=e(this._table.children()[1]).children("[data-key="+t+"]"),s=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(r){var o=s.children(),n=e(o[0]);if(this.rtl)var n=e(o[o.length-1]);this.rtl?(n.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),n.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),n.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(n.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),n.addClass(this.toThemeProperty("jqx-grid-group-expand")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),n.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),r.next().show();var a=s.next();if(a.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(r.next().children().show(),s.next().children().show()),!i.initialized){var l=i.detailsHeight,d=this.initRowDetails(t,i.row,e(e(a).children().children().children()[0]),i);i.details=e(a).children().children().children()[0],i.initialized=!0,d!==!1&&i.detailsHeight==l||(d===!1&&(i.expanded=!1,i.nodetails=!0,a.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var h=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:h,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var r=e(this._table.children()[1]).children("[data-key="+t+"]"),s=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(r){var o=s.children(),n=e(o[0]);if(this.rtl)var n=e(o[o.length-1]);this.rtl?(n.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),n.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),n.addClass(this.toThemeProperty("jqx-icon-arrow-left")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(this.toThemeProperty("jqx-grid-group-collapse")),n.removeClass(this.toThemeProperty("jqx-grid-group-expand")),n.addClass(this.toThemeProperty("jqx-icon-arrow-right")),n.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),r.next().hide(),s.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(r.next().children().hide(),s.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var a=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:a,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var o=0,n=-1,a=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var l=0;i+r>l;l++){if(this.columns.records[l].hidden||(o+=this.columns.records[l].width),o>=e&&-1==n&&(n=l),o>t+e){a=l;break}}return a++,a>i+r&&(a=i+r),-1==n&&(n=0),{start:n,end:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.columnsrow,s=0,o=this.columns.records.length-s,n=this.columns.records,a=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),a&&!this._haspinned)this.table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px";else{if(this._haspinned||void 0==this._haspinned){for(var l=0;s+o>l;l++){var d=n[l];if(d.pinned){var h=null;if(this.showAggregates&&this.statusbar[0].cells&&(h=this.statusbar[0].cells[l]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[l]),this.rtl){var c=r[0].cells[l];c.style.marginLeft=-parseInt(t)+"px",h&&(h.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(t)+"px")}else{var c=r[0].cells[l];c.style.marginLeft=i+"px",h&&(h.style.marginLeft=i+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=i+"px")}}}if(this.columnsVirtualization){for(var u=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),p=u.start,f=u.end,m=0;p>m;m++){var g=m,v=this.columns.records[g].element[0];if(!this.columns.records[g].pinned&&(v.parentNode&&v.parentNode.removeChild(v),this.filterrow&&this.filterrow[0])){var x=this.filterrow[0].cells[g];x.parentNode&&x.parentNode.removeChild(x)}}for(var m=f;m<this.columns.records.length;m++){var g=m,v=this.columns.records[g].element[0];if(!this.columns.records[g].pinned&&(v.parentNode&&v.parentNode.removeChild(v),this.filterrow&&this.filterrow[0])){var x=this.filterrow[0].cells[g];x.parentNode&&x.parentNode.removeChild(x)}}for(var m=p;f>m;m++){var g=m;if(v=this.columns.records[g].element[0],!this.columns.records[g].pinned&&(v.parentNode||this.columnsrow[0].appendChild(v),this.filterrow&&this.filterrow[0])){var x=this.filterrow[0].cells[g];x.parentNode||this.filterrow[0].appendChild(x)}}}this._table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var u=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),p=u.start,f=u.end,m=0;p>m;m++){var g=m,v=this.columns.records[g].element[0];if(v.parentNode&&v.parentNode.removeChild(v),this.filterrow&&this.filterrow[0]){var x=this.filterrow[0].cells[g];x.parentNode&&x.parentNode.removeChild(x)}}for(var m=f;m<this.columns.records.length;m++){var g=m,v=this.columns.records[g].element[0];if(v.parentNode&&v.parentNode.removeChild(v),this.filterrow&&this.filterrow[0]){var x=this.filterrow[0].cells[g];x.parentNode&&x.parentNode.removeChild(x)}}for(var m=p;f>m;m++){var g=m;if(v=this.columns.records[g].element[0],v.parentNode||this.columnsrow[0].appendChild(v),this.filterrow&&this.filterrow[0]){var x=this.filterrow[0].cells[g];x.parentNode||this.filterrow[0].appendChild(x)}}}this.table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var w=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(w="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+w+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var r=i?i.length>0:!1;if(this.columns&&this.columns.records)for(var s=0;s<this.columns.records.length;s++)this._removecolumnhandlers(this.columns.records[s]);var o=this,n=new e.jqx.dataCollection(this.element),a=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode){var l=new t(o,this);l.visibleindex=a++,l.width=o.indentWidth,l.checkboxcolumn=!0,l.editable=!1,l.columntype="checkbox",l.groupable=!1,l.draggable=!1,l.filterable=!1,l.resizable=!1,l.datafield="_checkboxcolumn",n.add(l)}if(this.rowDetails&&!this.treeGrid){var l=new t(o,this);l.visibleindex=a++,l.width=o.indentWidth,l.editable=!1,l.rowDetailscolumn=!0,l.groupable=!1,l.draggable=!1,l.pinned=!0,l.filterable=!1,l.resizable=!1,l.text="",n.add(l)}var d=new Array;e.each(this.columns,function(e){if(void 0!=o.columns[e]){var i=new t(o,this);if(i.visibleindex=a++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(r||(o.source._source.datafields?o.source._source.datafields.push({name:e.toString()}):(o.source._source.datafields=new Array,o.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(d[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");d[this.datafield]=!0}n.add(i)}}),this.rtl&&n.records.reverse(),this.columns=n},addFilter:function(e,t){var i=this.getColumn(e);i&&this.dataview.addFilter(e,t)},removeFilter:function(e){var t=this.getColumn(e);t&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,t!==!1&&this.resetfilter(),e!==!1&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],r=e(i).find("input:first"),s=e(i).find(".filterconditions"),o=this.columns.records[t];if(o.filterable){r.val("");var n=this.getcolumntypebydatafield(o),a=new e.jqx.filter;switch(n){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=a.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=a.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=a.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=a.getoperatorsbyfiltertype("stringfilter")}s.length>0&&("stringfilter"===filtertype?s.jqxDropDownList({selectedIndex:2}):s.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(null==e&&(t=null,e=this.sortcolumn),e){var i=this;"a"==t||"asc"==t||"ascending"==t||1==t?ascending=!0:ascending=!1,null!=t?i.sortdirection={ascending:ascending,descending:!ascending}:i.sortdirection={ascending:!1,descending:!1},null!=t?i.sortcolumn=e:i.sortcolumn=null,i.source.sort&&(i.dataview.sortfield=e,null==t?i.dataview.sortfielddirection="":i.dataview.sortfielddirection=ascending?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){var t=this;if(!this.disabled&&e.sortable&&t.sortable){var i={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},r=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(r=i.sortdirection.ascending,r=1==r?!1:null):r=!0,t.sortBy(e.displayfield,r)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var r=i.find("input"),s=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),r.addClass(this.toThemeProperty("jqx-input")),r.addClass(this.toThemeProperty("jqx-rc-l")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-rc-r")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(r.addClass(this.toThemeProperty("jqx-rtl")),r.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=s;for(var o=new Array,n=0;n<t.columns.records.length;n++)t.columns.records[n].datafield&&t.columns.records[n].filterable&&o.push({label:t.columns.records[n].text,value:t.columns.records[n].displayfield});var a=o.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var d=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:a,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:o,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d;var h=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var r=t.dataview.filters[i];r.datafield===e&&t.filterinput.val(r.filter.getfilterat(0).filtervalue)}};30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=h,this.addHandler(d,"select",function(e){var t=e.args.item.value;h(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!s.hasClass("jqx-fill-state-disabled")){var i=r.val();if(d.jqxDropDownList)var o=d.jqxDropDownList("getSelectedItem");var n=function(i,r,s){var o=new e.jqx.filter,n=t.getcolumntypebydatafield(i),a=t._getfiltertype(n);if("datefilter"==a)var l=o.createfilter(a,r,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==a||"booleanfilter"==a){"numericfilter"==a&&(","==t.gridlocalization.decimalseparator&&r.indexOf(t.gridlocalization.decimalseparator)>=0&&(r=r.replace(t.gridlocalization.decimalseparator,".")),r.indexOf(t.gridlocalization.currencysymbol)>=0&&(r=r.replace(t.gridlocalization.currencysymbol,"")),r.indexOf(t.gridlocalization.percentagesymbol)>=0&&(r=r.replace(t.gridlocalization.percentagesymbol,"")));var l=o.createfilter(a,r,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else var l=o.createfilter(a,r,"CONTAINS");return o.operator=s,o.addfilter(0,l),o};if("simple"!==t.filterMode){if(o){var a=o.value,l=t.getColumn(a),h=n(l,i,"and");i.length>0?(t.removeFilter(a),t.addFilter(a,h),t.applyFilters()):(t.removeFilter(a),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var c=0;c<t.columns.records.length;c++){var l=t.columns.records[c],h=n(l,i,"or");t.addFilter(l.datafield,h)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(r.keydown(function(e){return 13===e.keyCode?(c(),e.preventDefault&&e.preventDefault(),!1):void 0}),s.click(function(){c()}),this.filterinput=r,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var r=function(i){if(t.filterrow)for(var r=0;r<t.filterrow[0].cells.length;r++){var s=t.filterrow[0].cells[r],o=e(s).find("input:first"),n=t.columns.records[r];if(n.filterable){i===!0&&o.val("");for(var a=0;a<t.dataview.filters.length;a++){var l=t.dataview.filters[a];if(l.datafield===n.displayfield){o.val(l.filter.getfilterat(0).filtervalue);break}}}}},s=function(i){if(t.filterrow)for(var r=0,s=0;s<t.filterrow[0].cells.length;s++){var o=t.filterrow[0].cells[s],n=e(o).find("input:first"),a=t.columns.records[s];a.hidden?o.style.visibility="hidden":o.style.visibility="inherit",a.filterable&&(o.style.left=parseInt(r)+parseInt(a.uielement[0].style.left)+"px",o.style.width=6+a.width+"px",n[0]&&(n[0].style.width=a.width-6-22+"px"))}};t._updateFilterRow=r,t._arrangeFilterRow=s;var o=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),o(),r(),t._arrange(),s()):("none"===t.filter.find(".filterrow").css("display")?(o(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),r(),t.filter.find(".filterrow").show(),s()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),h(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?h(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,r=(t.filterinput.val(),0);r<t.filterrow[0].cells.length;r++){var s=t.filterrow[0].cells[r],o=e(s).find("input:first"),n=e(s).find(".filterconditions"),a=t.columns.records[r],l="";if(a.filterable){a.displayfield===i&&t.filterinput.val(o.val());var d=t.getcolumntypebydatafield(a),h=new e.jqx.filter;switch(d){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=h.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=h.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=h.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=h.getoperatorsbyfiltertype("stringfilter")}if(0==n.length)l="stringfilter"===filtertype?conditions[2]:conditions[0];else{var c=n.jqxDropDownList("getSelectedItem");l=c?conditions[c.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var u=o.val();if(u.length>0||0==u.length&&"NOT_NULL"==l||0==u.length&&"NOT_EMPTY"==l||0==u.length&&"EMPTY"==l||0==u.length&&"NULL"==l){var p=a.displayfield,f=new e.jqx.filter;"numericfilter"==filtertype&&(","==t.gridlocalization.decimalseparator&&u.indexOf(t.gridlocalization.decimalseparator)>=0&&(u=u.replace(t.gridlocalization.decimalseparator,".")),u.indexOf(t.gridlocalization.currencysymbol)>=0&&(u=u.replace(t.gridlocalization.currencysymbol,"")),u.indexOf(t.gridlocalization.percentagesymbol)>=0&&(u=u.replace(t.gridlocalization.percentagesymbol,"")));var h=f.createfilter(filtertype,u,l,null,a.cellsFormat,t.gridlocalization);f.addfilter(0,h),t.addFilter(p,f)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)},r=function(){var r=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=r,r[0].cells=new Array,r.height(24),r.width(t.table.width());var s=0,o=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=t.filterinput.val();e.each(t.columns.records,function(){var a=this,l=e("<div></div>").appendTo(r);if(l.css("position","absolute"),l.css("left",s+parseInt(a.uielement[0].style.left)),a.pinned&&(l.css("z-index",t.tableZIndex+t.columns.records.length),l.addClass(t.toThemeProperty("jqx-widget-header"))),r[0].cells.push(l[0]),!this.filterable)return!0;var d=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(l);d.keydown(function(e){13===e.keyCode&&i()}),a.displayfield===o&&d.val(n),d.addClass(t.toThemeProperty("jqx-input")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-widget")),d.addClass(t.toThemeProperty("jqx-widget-content"));var h=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(l);h.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),d.focus(function(){t.ensureColumnVisible(a.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield)},10)}),h.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(h),h.remove();var r=t.getcolumntypebydatafield(a),s=t._getfiltersbytype(r);"string"===r?index=2:index=0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:s,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){d.focus(),setTimeout(function(){d.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),d[0].style.width=a.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(r)};r();var s=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),o=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(s),n=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(s),a=0;o.css("left",a),n.css("left",a),o.jqxButton({theme:t.theme}),n.jqxButton({theme:t.theme}),n.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),o.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var o="";if(e.each(s,function(){return this.name==t.displayfield?(this.type&&(o=this.type),!1):void 0}),o)return o}return r},_getfiltersbytype:function(e){var t=this,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:
i=t.gridlocalization.filterstringcomparisonoperators}return i},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&t!==!1){this.endroweditbykey(this.editKey)}if(this.treeGrid)return void this.treeGrid._renderrows();if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,r=0;this.table[0].rows=new Array;var s=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(s+=" "+this.toTP("jqx-cell-rtl"));var o=this.columns.records.length,n=e.jqx.browser.msie&&e.jqx.browser.version<8;n&&this.host.attr("hideFocus","true");var a=i.groups.length,l=new Array,d=this.source.records;if(d=this.dataview.evaluate(d),this.dataViewRecords=d,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var h=d;if(this.pageable&&this.serverProcessing&&d.length>this.dataview.pagesize)var h=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else var h=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0,u=function(e){for(var t=0,r=new Array,s=0;s<e.length;s++){var o=e[s];if(0==o.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&r.push(o),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return r};if("root"===this.pageSizeMode){var p=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,0);i.rootRecordsLength=p.length,p=u(p)}else var p=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,c);var f=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(t.push(r),r.records&&r.records.length>0)for(var s=f(r.records,new Array),o=0;o<s.length;o++)s[o].leaf?t.push(s[o]):t.push(s[o])}return t},l=f.call(i,p,new Array);h=l,this.rowsByKey=new Array;for(var m=0;m<h.length;m++){var g=h[m];this.rowsByKey[g.uid]=g}}var l=h;this.renderedRecords=l;var v=l.length,x=this.tableZIndex,w=0,b=0;if(n)for(var y=0;o>y;y++){var _=this.columns.records[y],j=_.width;j<_.minwidth&&(j=_.minwidth),j>_.maxwidth&&(j=_.maxwidth);var q=e('<table><tr><td role="gridcell" style="max-width: '+j+"px; width:"+j+'px;" class="'+s+'"></td></tr></table>');e(document.body).append(q);var T=q.find("td");w=1+parseInt(T.css("padding-left"))+parseInt(T.css("padding-right")),q.remove();break}for(var C=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",k="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='table"+this.element.id+"'><colgroup>",S="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='pinnedtable"+this.element.id+"'><colgroup>",D=0,I=o,y=0;o>y;y++){var _=this.columns.records[y];if(_.hidden)D++,I--;else{var j=_.width;if(j<_.minwidth&&(j=_.minwidth),j>_.maxwidth&&(j=_.maxwidth),j-=w,0>j&&(j=0),n){var P=j;if(y==D&&P++,_.rowDetailscolumn){var P=P+4;S+="<col style='max-width: "+P+"px; width: "+P+"px;'>",k+="<col style='max-width: "+P+"px; width: "+P+"px;'>"}else S+="<col style='max-width: "+P+"px; width: "+P+"px;'>",k+="<col style='max-width: "+P+"px; width: "+P+"px;'>"}else S+="<col style='max-width: "+j+"px; width: "+j+"px;'>",k+="<col style='max-width: "+j+"px; width: "+j+"px;'>";b+=j}}k+="</colgroup>",S+="</colgroup>",this._hiddencolumns=!1;var A=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===v){var B='<tr role="row">',M=this.host.height();if(this.pageable&&(M-=this.pagerHeight,"both"===this.pagerPosition&&(M-=this.pagerHeight)),M-=this.columnsHeight,this.filterable){var H=this.filter.find(".filterrow"),z=this.filter.find(".filterrow-hidden"),E=1;z.length>0&&(E=0),M-=this.filterHeight+this.filterHeight*H.length*E}this.showstatusbar&&(M-=this.statusBarHeight),this.showAggregates&&(M-=this.aggregatesHeight),25>M&&(M=25),"hidden"!=this.hScrollBar[0].style.visibility&&(M-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(M=300);var q='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+M+"px; height: "+M+"px; max-width:"+b+"px; width:"+b+"px;",s=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");s+=" "+this.toTP("jqx-center-align"),q+='" class="'+s+'">',q+=this.gridlocalization.emptydatastring,q+="</td>",B+=q,k+=B,S+=B,this.table[0].style.width=b+2+"px",r=b}for(var O=this.getRows(),L=new Array,m=0;m<l.length;m++){var g=l[m],N=g.uid;void 0===g.uid&&(g.uid=this.dataview.generatekey());var B='<tr data-key="'+N+'" role="row" id="row'+m+this.element.id+'">',F='<tr data-key="'+N+'" role="row" id="row'+m+this.element.id+'">';if(a>0&&g.level<a)var B='<tr data-role="row-group" data-key="'+N+'" role="row" id="row'+m+this.element.id+'">',F='<tr data-role="row-group" data-key="'+N+'" role="row" id="row'+m+this.element.id+'">';for(var R=0,W=0,y=0;o>y;y++){var V=this.columns.records[y];(V.pinned||this.rtl&&this.columns.records[o-1].pinned)&&(A=!0);var j=V.width;j<V.minwidth&&(j=V.minwidth),j>V.maxwidth&&(j=V.maxwidth),j-=w,0>j&&(j=0);var s=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");V.pinned&&(s+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===V.displayfield&&(s+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&m%2!=0&&(s+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(s+=" "+this.toTP("jqx-cell-rtl"));var G="";if(a>0&&g.level<a)if(n)s+=" "+this.toTP("jqx-grid-cell-pinned");else{s+=" "+this.toTP("jqx-grid-cell-pinned"),G+=' colspan="'+o+'"';for(var P=0,U=0;o>U;U++){var $=i.columns.records[U],Y=$.width;Y<$.minwidth&&(j=$.minwidth),Y>$.maxwidth&&(j=$.maxwidth),Y-=w,0>Y&&(Y=0),$.hidden||(P+=Y)}j=P}var q='<td role="gridcell" '+G+' style="max-width:'+j+"px; width:"+j+"px;",K='<td role="gridcell" '+G+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+j+"px; width:"+j+"px;";y==o-1&&1==o&&(q+="border-right-color: transparent;",K+="border-right-color: transparent;");var X=!1;a>0&&g.level<a&&(X=!0),X?this.rtl&&(s+=" "+this.toTP("jqx-right-align")):"left"!=V.cellsalign&&(s+="right"===V.cellsalign?" "+this.toTP("jqx-right-align"):" "+this.toTP("jqx-center-align")),this.rowinfo[g.uid]&&(this.rowinfo[g.uid].selected&&!V.rowDetailscolumn&&this.editKey!==g.uid&&"none"!==this.selectionMode&&(s+=" "+this.toTP("jqx-grid-cell-selected"),s+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[g.uid].locked&&(s+=" "+this.toTP("jqx-grid-cell-locked"))),V.hidden?X||(q+="display: none;",K+="display: none;",this._hiddencolumns=!0):(R+=w+j,0==W&&(q+="border-left-width: 0px;",K+="border-left-width: 0px;"),W++),a>0&&n&&X&&y>=a&&(q+="font-size: 1px; border-color: transparent;  color: transparent;",K+="font-size: 1px; border-color: transparent; color: transparent;"),V.pinned&&(q+="pointer-events: auto;",K+="pointer-events: auto;"),!X&&V.rowDetailscolumn&&(this.rowinfo[g.uid]?this.rowinfo[g.uid].nodetails||(this.rowinfo[g.uid].expanded?(s+=this.rtl?" "+this.toTP("jqx-grid-group-expand-rtl"):" "+this.toTP("jqx-grid-group-expand"),s+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(s+=" "+this.toTP("jqx-grid-group-collapse-rtl"),s+=" "+this.toTP("jqx-icon-arrow-left")):(s+=" "+this.toTP("jqx-grid-group-collapse"),s+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(s+=" "+this.toTP("jqx-grid-group-collapse-rtl"),s+=" "+this.toTP("jqx-icon-arrow-left")):(s+=" "+this.toTP("jqx-grid-group-collapse"),s+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!V.autoCellHeight)&&(s+=" "+this.toTP("jqx-grid-cell-nowrap "));var Z=i._getcellvalue(V,g),J=V.cellsFormat;if(a>0&&g.level<a&&(Z=g.label,J=i.getColumn(i.groups[g.level]).cellsFormat),""!=J&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Z)?Z=e.jqx.dataFormat.formatdate(Z,J,i.gridlocalization):(e.jqx.dataFormat.isNumber(Z)||!isNaN(parseFloat(Z))&&isFinite(Z))&&(Z=e.jqx.dataFormat.formatnumber(Z,J,i.gridlocalization))),X)this.groupsRenderer&&(Z=this.groupsRenderer(Z,g,g.level));else{if(""!=V.cellclassname&&V.cellclassname)if("string"==typeof V.cellclassname)s+=" "+V.cellclassname;else{var Q=V.cellclassname(m,V.datafield,Z,g);Q&&(s+=" "+Q)}if(""!=V.cellsRenderer&&V.cellsRenderer){var ee=O.indexOf(g);if(-1===ee&&g.originalRecord)var ee=O.indexOf(g.originalRecord);Z=V.cellsRenderer(ee,V.datafield,Z,g),Z&&(Z.indexOf("<jqx-")>=0||Z.indexOf(" ng-")>=0)&&L.push({rowKey:g.uid,row:ee,column:V.datafield,value:Z,columnIndex:y})}}if(q+='" class="'+s+'">',q+=Z,q+="</td>",K+='" class="'+s+'">',K+=Z,K+="</td>",V.pinned?(F+=q,B+=q):(B+=q,A&&(F+=K)),a>0&&!n&&g.level<a)break}if(0==r&&(this.table[0].style.width=R+2+"px",r=R),B+="</tr>",F+="</tr>",k+=B,S+=F,this.rowinfo[g.uid]?("group"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].group=X),"row"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].row=g),"details"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].details=null),"detailsHeight"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].detailsHeight=200),"initialized"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].initialized=!1),"expanded"in this.rowinfo[g.uid]||(this.rowinfo[g.uid].expanded=!1)):this.rowinfo[g.uid]={group:X,row:g,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[g.uid].row=g),this.rowDetails){var te=this.rowinfo[g.uid].detailsHeight;if(this.rowinfo[g.uid])if(this.rowinfo[g.uid].expanded)var ie='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var ie='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var ie='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';var s=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");s+=" "+this.toTP("jqx-details"),s+=" "+this.toTP("jqx-reset"),ie+='" class="'+s+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px;"><div data-role="details"></div></div></td></tr>',k+=ie,S+=ie}}if(k+="</table>",S+="</table>",A){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(S+k)}):i.table[0].innerHTML=S+k;var re=this.table.find("#table"+this.element.id),se=this.table.find("#pinnedtable"+this.element.id);if(se.css("float","left"),se.css("pointer-events","none"),re.css("float","left"),se[0].style.position="absolute",re[0].style.position="relative",re[0].style.zIndex=x-10,se[0].style.zIndex=x+10,this._table=re,this._table[0].style.left="0px",this._pinnedTable=se,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=r+"px",this._table[0].style.width=r+"px",this.rtl&&r>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-r+parseInt(this.element.style.width)+"px"),this.rowDetails)for(var m=0;v>m;m++){var g=l[m],N=g.uid;if(this.rowinfo[N].details){var oe=e(this._table.children()[1]).children("[data-key="+N+"]"),ne=e(this._pinnedTable.children()[1]).children("[data-key="+N+"]");if(oe){var ae=ne.next(),le=e(e(ae).children().children());le.children().detach(),le.append(this.rowinfo[g.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(k)}):i.table[0].innerHTML=k;var U=this.table.find("#table"+this.element.id);this._table=U,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=r+"px"),0===v&&(this._table[0].style.width=2+r+"px")}if(0===v&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),L&&L.length>0){this._table[0].rows;e.each(L,function(){var t=(this.row,this.rowKey),r=(this.column,this.columnIndex),s=i._getuirow(t);if(s){var o=s[0].cells[r];e.jqx.angularCompile&&e.jqx.angularCompile(o,"<div>"+o.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e),i=this.columns.records.indexOf(t);return i},setcolumnindex:function(t,i,r){var s=this.getColumn(t);if(!(s.pinned||s.hidden||s.checkboxcolumn||s.grouped)){var o=this.columns.records.indexOf(s);this.columns.records.splice(o,1),this.columns.records.splice(i,0,s);var n=0,a=this.headerZIndex;this.columnsrow.children().detach();var l=this.toThemeProperty("jqx-grid-cell");l+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),l+=" "+this.toThemeProperty("jqx-item");var d=this;if(void 0!=d.filterrow){e(d.filterrow.children()[0])}this.columnsrow[0].cells=[];var h=!1;if(e.each(this.columns.records,function(e,t){var i=this.uielement;d.columnsrow.append(i),d.rtl?i.css("z-index",a++):i.css("z-index",a--);var r=d.rtl?250+a+1:250+a-1;this.pinned&&i.css("z-index",r);var s=this.width;i.css("left",n),d.columnsrow[0].cells[d.columnsrow[0].cells.length]=i[0],this.hidden&&(h=!0),this.hidden&&this.hideable||(n+=s)}),this.groupable){var c=this.groups.length;c>0&&o-c>=0&&(o-=c,i-=c)}this.rowDetails&&o-1>=0&&(o--,i--),"checkbox"==this.selectionMode&&o-1>=0&&(o--,i--);var s=this._columns[o];this._columns.splice(o,1),this._columns.splice(i,0,s),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:s.datafield,oldIndex:o,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,r=!1;if(t.columnsReorder){var s="mousemove.reorder"+this.element.id,o="mousedown.reorder"+this.element.id,n="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&this.touchmode!==!0&&(a=!0,s=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(t.resizing)return!0;if(null!=t.reordercolumn){var o=parseInt(s.pageX),n=parseInt(s.pageY);if(a){var l=t.getTouches(s),d=l[0];void 0!=d&&(o=parseInt(d.pageX),n=parseInt(d.pageY))}var h=t.host.coord(),c=parseInt(h.left),u=parseInt(h.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var p=parseInt(o)-parseInt(t.dragmousedownoffset.left),f=parseInt(n)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:p+"px",top:f+"px"}),r=!1,o>=c&&o<=c+t.host.width()&&n>=u&&n<=u+t.host.height()&&(r=!0),i=-1,r){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.columnsheader.coord(),g=m.top+t.columnsheader.height();if(null!=t.columnsdropline)if(n>=m.top&&g>=n){if(i=t._handlereordercolumnsdroplines(o),t.columnGroups&&-1!=i){var v=0;v+=t._pinnedColumnsLength();var x=i.index;if(x>=v){var w=t.columns.records[x];if(void 0!=w){var b=t.columns.records.indexOf(t.getColumn(w.datafield));if(null==w.datafield)var b=t.columns.records.indexOf(t.getcolumnbytext(w.text));var y=e.data(t.reordercolumn[0],"reorderrecord"),_=t.columns.records.indexOf(t.getColumn(y)),j=w;if(b>_&&"before"==i.position&&(j=t.columns.records[b-1]),j.columngroup!=t.getColumn(y).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(s.preventDefault&&(s.preventDefault(),s.stopPropagation()),a)return s.preventDefault(),s.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var r=t.host.coord().left,s=t.host.coord().top;t.showtoolbar&&(s+=t.toolbarHeight),t.filter&&(s+=t.filter.height());var o=0;e.each(t.columns.records,function(i){var n=this;if(n.hidden)return t.columnsbounds[t.columnsbounds.length]={top:s,column:n,left:r,width:0,height:2},!0;0==o&&(r=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),o++;var a=2+t.columnsHeight;t.columnshierarchy&&(s=e(n.uielement).coord().top,a=e(n.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:s,column:n,left:r,width:n.width,height:a},r+=n.width})}),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(s){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");var o=parseInt(s.pageX),n=parseInt(s.pageY);if(a){var l=t.getTouches(s),d=l[0];o=parseInt(d.pageX),n=parseInt(d.pageY)}var h=t.host.coord(),c=(parseInt(h.left),parseInt(h.top));if(t.showtoolbar&&(c+=t.toolbarHeight),t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var u=e.data(t.reordercolumn[0],"reorderrecord"),p=t.columns.records.indexOf(t.getColumn(u));t.reordercolumn.remove(),t.reordercolumn=null;var f=0;if(f+=t._pinnedColumnsLength(),null!=u){if(r&&-1!=i){var m=i.index;if(m>=f){var g=t.columns.records[m];if(void 0!=g){var v=t.columns.records.indexOf(t.getColumn(g.datafield));if(null==g.datafield)var v=t.columns.records.indexOf(t.getcolumnbytext(g.text));if(t.columnGroups){var x=g;if(v>p&&"before"==i.position&&(x=t.columns.records[v-1]),x.columngroup!=t.getColumn(u).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}v>p?"before"==i.position?t.setcolumnindex(u,v-1):t.setcolumnindex(u,v):p>v&&t.setcolumnindex(u,v)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.text==t?(i=this,!1):void 0}),i},_handlereordercolumnsdroplines:function(t){var i=this,r=-1,s=i._pinnedColumnsLength(),o=parseInt(i.host.coord().left),n=o+i.host.width(),a="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(a=0),e.each(i.columnsbounds,function(e){if(e>=s){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>n?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",a+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",a+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"after"}}}}),r},_createreordercolumn:function(t,i,r){var s=this,o=i;s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=e("<div></div>");var n=t.clone();s.reordercolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var a=e(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(n.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),s.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute");s.host.coord();n.width(t.width()+16),s.reordercolumn.append(n),s.reordercolumn.height(t.height()),s.reordercolumn.width(n.width()),s.reordercolumn.append(s.reordercolumnicon),e(document.body).append(s.reordercolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.reordercolumn.css("left",o.left+s.dragmousedown.left),s.reordercolumn.css("top",o.top+s.dragmousedown.top),void 0!=r&&r&&(s.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var r,s=this,o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0);var n="mousedown.drag",r="mousemove.drag";o?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",r=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(i){if(0==t.draggable)return!0;if(s.resizing)return!0;s.__drag=!0;var r=i.pageX,n=i.pageY;if(o){var a=s.getTouches(i),l=a[0];r=l.pageX,n=l.pageY}s.dragmousedown={left:r,top:n};var d=e(i.target).coord();return s.dragmousedownoffset={left:parseInt(r)-parseInt(d.left),top:parseInt(n-d.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,r,function(n){if(!t.draggable)return!0;if(void 0==t.datafield)return!0;if(t.pinned)return!0;if(s.resizing)return!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(o){var d=s.getTouches(n),h=d[0];void 0!=h&&(a=h.pageX,l=h.pageY)}if(r={left:a,top:l},!s.columndragstarted&&null==s.reordercolumn){var c=Math.abs(r.left-s.dragmousedown.left),u=Math.abs(r.top-s.dragmousedown.top);(c>3||u>3)&&(s._createreordercolumn(i,r,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var r="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,o="mouseup.resize"+this.element.id;if(i)var r=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){var s=(t.resizablecolumn.columnelement,t.host.coord()),o=parseInt(t.resizestartline.coord().left),n=o-t._startcolumnwidth,a=t.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var d=r.pageX;if(i){var h=e.jqx.mobile.getTouches(r),c=h[0];d=c.pageX}n+=a;var u=l>0?o+l:0,p=0==l?!0:t._startcolumnwidth+d-o<l;if(t.rtl)var p=!0;if(p)if(t.rtl){if(d>=s.left&&d<=s.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=s.left&&d>=n&&(0!=u&&r.pageX<u?t.resizeline.css("left",d):0==u&&t.resizeline.css("left",d),i))return!1}return i||null==t.resizablecolumn?void 0:!1}),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(i){if(null!=t.resizablecolumn&&!t.disabled){var r=t.resizablecolumn.columnelement;if(r.coord().top+r.height()+5<i.pageY)return void(t.resizablecolumn=null);if(r.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var s=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var o=function(e){t.rtl?e.css("left",parseInt(s.left)):e.css("left",parseInt(s.left)+t._startcolumnwidth);var i=0,r=t.showtoolbar?t.toolbarHeight:0;i+=r;var o=t.showstatusbar?t.statusBarHeight:0;i+=o;var n=t.showAggregates?t.aggregatesHeight:0;i+=n,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var a=0;t.pageable&&"top"!=t.pagerPosition&&(a=t.pagerHeight);var l="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(s.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-a-i-l-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-a-i-l),e.show("fast")};o(t.resizeline),o(t.resizestartline),t.dragmousedown=null}});var n=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){t._mouseUpResize=new Date;var i=t._mouseUpResize-t._mouseDownResize;if(200>i)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var r=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(r-=20),0>r&&(r=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),o=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-o;if(t.rtl)var n=t._startcolumnwidth-s+o;var a=t._resizecolumn.width;t._resizecolumn.width=n,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/r*100);for(var l=0;l<t._columns.length;l++)if(t._columns[l].datafield===t._resizecolumn.datafield){t._columns[l].width=t._resizecolumn.width;break}var d=(t.hScrollBar[0].style.visibility,t._resizecolumn.displayfield);t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:d,oldWidth:a,newWidth:n})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){n()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(d){}this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){var r=e.data(document.body,"contextmenu"+t.element.id);return null!=r&&t.autoshowcolumnsmenubutton?!0:void n()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this,o=!1;e.each(this.columns.records,function(e,o){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var o=0,n="hidden"==s.vScrollBar[0].style.visibility?0:s.scrollBarSize+5;0==s.scrollBarSize&&(n=0),o=parseFloat(this.width)*i/100,void 0!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*i/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=Math.round(o)}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var n=this.columnsheader.find("#columntable"+this.element.id);if(0!=n.length){var a=0,l=n.find(".jqx-grid-column-header"),d=0;e.each(this.columns.records,function(n,h){var c=e(l[n]),u=!1,p=this.width,f=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,p=Math.round(p),u=!0),"auto"==this.width||this._width||u)if(u)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(c[0].style.width)!=p&&(c.width(p),this.width=p);else{var m=Math.floor(t*(this.text.length/r.length));isNaN(m)&&(m=this.minwidth);var g=t*(this.text.length/r.length)-m;a+=g,a>=1&&(a-=1,m++),a>=.5&&n==s.columns.records.length-1&&m++,0>m&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),m=10+$element.width(),$element.remove()),m<this.minwidth&&(m=this.minwidth),m>this.maxwidth&&(m=this.maxwidth),this._width="auto",this.width=m,c.width(this.width)}else parseInt(c[0].style.width)!=this.width&&c.width(this.width);parseInt(c[0].style.left)!=d&&c.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,f!==this.width&&(o=!0)}),this.columnsheader.width(2+d),n.width(this.columnsheader.width()),this._resizecolumnGroups(),o&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s="",o=this.host.width(),n=o,a=new Array,l=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)s+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0;i=parseFloat(this.width)*n/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),a[a.length]=this):l[l.length]=this}),this.rtl){var d=0;a.reverse();for(var h=this.columns.records.length-1;h>=this.columns.records.length-a.length;h--)this.columns.replace(h,a[d++]);for(var c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var h=0;h<a.length;h++)this.columns.replace(h,a[h]);for(var c=0;c<l.length;c++)this.columns.replace(a.length+c,l[c])}var u=this.headerZIndex,p=t.columnsHeight,f=function(e,i){var r=t.columnGroupslevel*t.columnsHeight;return r-=i.level*t.columnsHeight},m=0;e.each(this.columns.records,function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=f(this.datafield,this),p=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=self.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,g=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+d+'"><div style="height: 100%; width: 100%;"></div></div>');
t.rtl&&0===a&&(g[0].style.borderLeftColor="transparent"),t.columnGroups&&(g[0].style.height=p+"px",g[0].style.bottom="0px",this.pinned&&(g[0].style.zIndex=h)),this.uielement=g,this.element=g,""!=this.classname&&this.classname&&g.addClass(this.classname);var v=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*n/100:parseFloat(this.width)*n/100,v=Math.round(v),x=!0),"auto"==this.width||this._width||x)if(x)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),g.width(v),this.width=v;else{var w=Math.floor(o*(this.text.length/s.length)),b=o*(this.text.length/s.length)-w;m+=b,m>=1&&(m-=1,w++),m>=.5&&a==t.columns.records.length-1&&w++,isNaN(w)&&(w=this.minwidth),0>w&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),w=10+$element.width(),$element.remove()),w<this.minwidth&&(w=this.minwidth),w>this.maxwidth&&(w=this.maxwidth),this._width="auto",this.width=parseInt(w),v=this.width,g.width(this.width)}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),g[0].style.width=parseInt(v)+"px";this.hidden&&g.css("display","none");var y=e(g.children()[0]);i[0].cells[a]=g[0];var _=!1,j=!1,q=null!=this.renderer?this.renderer(this.text,this.align,p):t._rendercolumnheader(this.text,this.align,p,t);if(null==q&&(q=t._rendercolumnheader(this.text,this.align,p,t)),null!=this.renderer&&(q=e(q)),_=!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){y.append(e(q))}):this.renderer?y.append(e(q)):q&&(y[0].innerHTML=q),null!=q){var T=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');y.append(T);var C=T.children();this.sortasc=C[1],this.sortdesc=C[2],this.filtericon=C[0],this.iconscontainer=T,t.rtl&&(T.css("margin-left","0px"),T.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(g),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,g);var k=this;if(t.addHandler(g,"click",function(e){return k.checkboxcolumn?!0:(t._togglesort&&(t._loading||t._togglesort(k)),void e.preventDefault())}),t.columnsResize&&!j){var S=!1,D="mousemove";t.isTouchDevice()&&(S=!0,D=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(g,D,function(i){if(!k.resizable)return t.resizablecolumn=null,!0;var r=parseInt(i.pageX),s=5,o=parseInt(g.coord().left);if(t.hasTransform&&(o=e.jqx.utilities.getOffset(g).left),t._handlecolumnsResize){if(S){var n=e.jqx.mobile.getTouches(i),a=n[0];return r=a.pageX,s=40,r>=o+k.width-s?(t.resizablecolumn={columnelement:g,column:k},g.css("cursor","col-resize")):(g.css("cursor",""),t.resizablecolumn=null),!0}var l=k.width;if(t.rtl&&(l=0),r>=o+l-s){if(o+l+s>=r)return t.resizablecolumn={columnelement:g,column:k},g.css("cursor","col-resize"),!1;g.css("cursor",""),t.resizablecolumn=null}else g.css("cursor",""),o+l-s>r&&(k._animating||k._menuvisible||g.mouseenter()),t.resizablecolumn=null}})}if(g.css("left",r),this.hidden||(r+=v),k.rendered){var I=k.rendered(e(y[0].firstChild),k.align,p);I&&null!=T&&T.hide()}}),r>0?this.columnsheader.width(2+r):this.columnsheader.width(r),this.columnsrow=i,t.columnsheader.append(i),i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this,o=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(o+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var n=this.columnsheader.find("#columntable"+this.element.id);n.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columnGroupslevel-1;a++)for(var i=0;i<this.columnGroups.length;i++){var l=this.columnGroups[i],d=l.level;if(d===a){var h=d*this.columnsHeight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseInt(r.element[0].style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsHeight,f=r--,m=e('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+o+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsHeight,this));m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=h+"px",m[0].style.height=p+"px",m[0].style.width=-1+l.width+"px",n.append(m),l.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level,r=i*this.columnsHeight,s=99999;if(t.groups){var o=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=o(r):r.hidden||(t+=r.width,s=Math.min(parseInt(r.element[0].style.left),s))}return t};t.width=o(t),t.left=s;var n=this.columnsHeight,a=t.element;a[0].style.left=s+"px",a[0].style.top=r+"px",a[0].style.height=n+"px",a[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click")}},_calculateaggregate:function(e,t,i,r){if(!e.datafield)return null;var s=e.aggregates;if(s||(s=t),s){for(var o=new Array,n=0;n<s.length;n++)"count"!=s[n]&&(o[o.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){void 0==r&&(r=this.getRows(),this.dataViewRecords&&(r=this.dataViewRecords));var a=r,l=-1;if(this.treeGrid){var d=new Array,h=function(e){for(var t=0;t<e.length;t++)void 0!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||d.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&h(e[t].records))};h(r),r=d}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){for(var c=new Array,n=0;n<r.length;n++)r[n]&&r[n]._visible!==!1&&c.push(r[n]);r=c;for(var u=new Array,n=0;n<a.length;n++)a[n]&&a[n]._visible!==!1&&u.push(a[n]);a=u}if(void 0==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:s,formatStrings:o}],this.gridlocalization,r,l);if(this.treeGrid){var f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if((0==f||l>=f)&&p&&(void 0!=p[e.datafield].sum||void 0!=p[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:s,formatStrings:o}],this.gridlocalization,a,l);void 0!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),void 0!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}}return p}var p=this.source.getAggregatedData([{name:e.datafield,aggregates:s}],this.gridlocalization,r,l);if(this.treeGrid&&p&&(void 0!=p[e.datafield].sum||void 0!=p[e.datafield].avg)){var f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(0==f||l>=f){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:s}],this.gridlocalization,a,l);void 0!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),void 0!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}}return p}}return null},getcolumnaggregateddata:function(e,t,i,r){var s=this.getColumn(e);if(!s)return"";var o=void 0==i||0==i?!1:i;if(null==t)return"";var n=s.aggregates;s.aggregates=null;var a=this._calculateaggregate(s,t,o,r),l={};return a&&(l=a[e],s.aggregates=n),l},_updatecolumnaggregates:function(t,i,r){var s=this;if(i)if(r.children().remove(),r.html(""),t.aggregatesRenderer){if(i){var o=t.aggregatesRenderer(i[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");r.html(o)}}else e.each(i,function(){var t=this;for(n in t){var i=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),o=n;o=s._getaggregatename(o),i.html(o+":"+t[n]),s.rtl&&i.addClass(s.toThemeProperty("jqx-rtl")),r.append(i)}});else if(r.children().remove(),r.html(""),t.aggregatesRenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesRenderer({},t,r,null);r.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var r=0;i>r;r++){var s=e(this.aggregates[0].cells[r]),o=this.columns.records[r],n=this._calculateaggregate(o,null,!0,t);this._updatecolumnaggregates(o,n,s)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var i=0,r=0;t>r;r++){var s=e(this.aggregates[0].cells[r]),o=this.columns.records[r];s&&(s.width(o.width),s[0].style.left=i+"px",o.hidden&&o.hideable?s.css("display","none"):i+=o.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var o=r+10,n=new Array;this.aggregates[0].cells=n;for(var a=0;r>a;a++){var l=this.columns.records[a],d=this._calculateaggregate(l),h=l.width;h<l.minwidth&&(h=l.minwidth),h>l.maxwidth&&(h=l.maxwidth);var c=s;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",o++),0==a&&u.css("border-left-width","0px")):u.css("z-index",o--),u.width(h),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=h,n[n.length]=u[0],this._updatecolumnaggregates(l,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(s),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var t=this;if(t.columns&&t.columns.records)for(var i=0;i<t.columns.records.length;i++)t._removecolumnhandlers(t.columns.records[i]);t.removeHandler(e(document),"mouseup.pagerbuttonstop"),t.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"mousedown"),t.removeHandler(e(document),"mousedown.gridedit"+t.element.id);var r="mousemove.resize"+t.element.id,s="mousedown.resize"+t.element.id,o="mouseup.resize"+t.element.id;t.removeHandler(e(document),r),t.removeHandler(e(document),s),t.removeHandler(e(document),o);var r="mousemove.reorder"+t.element.id,s="mousedown.reorder"+t.element.id,o="mouseup.reorder"+t.element.id;if(t.removeHandler(e(document),r),t.removeHandler(e(document),s),t.removeHandler(e(document),o),t.filterable){if(t.filterrow)for(var i=0;i<t.filterrow[0].cells.length;i++){var n=t.filterrow[0].cells[i],a=e(n).find(".filterconditions");t.columns.records[i];a.length>0&&a.jqxDropDownList("destroy")}t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList("destroy")}if(t.pageable){t.pagershowrowscombotop&&t.pagershowrowscombotop.jqxDropDownList&&t.pagershowrowscombotop.jqxDropDownList("destroy"),t.pagershowrowscombobottom&&t.pagershowrowscombobottom.jqxDropDownList&&t.pagershowrowscombobottom.jqxDropDownList("destroy");var l=t.pagerbuttonsbottom.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove();var l=t.pagerbuttonstop.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove(),t.pagernexttop&&(t.pagernexttop.jqxButton("destroy"),t.pagerprevioustop.jqxButton("destroy"),t.pagernextbottom.jqxButton("destroy"),t.pagerpreviousbottom.jqxButton("destroy"),t.pagerfirsttop.jqxButton("destroy"),t.pagerfirstbottom.jqxButton("destroy"),t.pagerlasttop.jqxButton("destroy"),t.pagerlastbottom.jqxButton("destroy"))}t._removeHandlers(),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&s!==r)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:s}),t.hScrollBar.jqxScrollBar({rtl:s}),t._render();else if("pagerMode"===i)t.pagerMode=s,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var o=!1,n=0;n<s.length;n++)if(parseInt(s[n])==t.pageSize){o=!0;break}o||e.jqx.set(t,[{pageSize:s[0]}])}else if("pageSize"==i){var a=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(a/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(s)!==parseInt(r)){t._raiseEvent("pageSizeChanged",{pagenum:s,oldpageSize:r,pageSize:t.dataview.pagesize});var d=t.goToPage(l);d||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=s.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)s?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:s}),t.pagerprevioustop.jqxButton({disabled:s}),t.pagernextbottom.jqxButton({disabled:s}),t.pagerpreviousbottom.jqxButton({disabled:s}),t.pagerfirsttop.jqxButton({disabled:s}),t.pagerfirstbottom.jqxButton({disabled:s}),t.pagerlasttop.jqxButton({disabled:s}),t.pagerlastbottom.jqxButton({disabled:s}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",s?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(r,s,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var h=e(".filterconditions");h.length>0&&h.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,r){var s="4px";return r.columnGroups?(s=i/2-this._columnheight/2,0>s&&(s=4),s+="px"):25!=this.columnsHeight&&(s=this.columnsHeight/2-this._columnheight/2,0>s&&(s=4),s+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var r=!!t._source,s=null;this._sortData=null,this._sortHierarchyData=null,r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var o=function(e){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.totalrecords=e.totalrecords,s._options.originaldata=e.originaldata,s._options.recordids=e.recordids,s._options.cachedrecords=new Array,s._options.pagenum=e.pagenum,s._options.pageable=e.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),s._options.pagesize=e.pagesize},n=function(e){e.originaldata=s.originaldata,e.records=s.records,e.hierarchy=s.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,s.hierarchy=new Array),s._source.totalrecords?e.totalrecords=s._source.totalrecords:s._source.totalRecords?e.totalrecords=s._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=s.cachedrecords};o(this),this.source=t,void 0!==i&&(uniqueId=i);var a=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&s.dataBind();var l=function(){n(a),a.update()};l(),s.bindBindingUpdate(a.grid.element.id,l)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&s.dataBind();var l=function(e){n(a),a.update()};return l(),void s.bindBindingUpdate(a.grid.element.id,l)}for(var d=0,h={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter,f=p.getfilters();h[u+"operator"]=p.operator;for(var m=0;m<f.length;m++){f[m].datafield=u;var g=f[m].value;h["filtervalue"+d]=g.toString(),h["filtercondition"+d]=f[m].condition,h["filteroperator"+d]=f[m].operator,h["filterdatafield"+d]=u,d++}}h.filterslength=d,e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pageSize});var v=s._options.data;s._options.data?e.extend(s._options.data,h):(t.data&&e.extend(h,t.data),s._options.data=h);var l=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=function(){n(a),a.update()};if(t)try{i()}catch(r){}else i()};s.unbindDownloadComplete(a.grid.element.id),s.bindDownloadComplete(a.grid.element.id,l),s._source.loaderror=function(e,t,i){l()},(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&s.dataBind(),s._options.data=v}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){return null==t?(this.sortfield="",void(this.sortfielddirection="")):(void 0==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,void(this.sortfielddirection=t?"asc":"desc"))},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,r=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var s="";this.source.datafields&&e.each(this.source.datafields,function(){return this.name==i.sortfield?(this.type&&(s=this.type),!1):void 0});for(var o=new Array,n=0;n<t.length;n++)o.push(e.extend({originalRecord:t[n]},t[n]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var a=o.sort(function(e,t){return i._compare(e,t,s)}).reverse();else var a=o.sort(function(e,t){return i._compare(e,t,s)});return this._sortData=a,Object.prototype.toString=r,a},this._compare=function(t,i,r){var t=t,i=i;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var r=this;e.each(t,function(e){this.uid=i,r.grid.rowsByKey[this.uid]=this,i++})}return t}var s=new Array;if(this.filters.length){var o=new Array,n=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];r._visible=!0;for(var s=void 0,n=0;n<this.filters.length;n++){var a=this.filters[n].filter,l=r[this.filters[n].datafield],d=a.evaluate(l);s=void 0==s?d:"or"==a.operator?s||d:s&&d}r._visible=!1,(s||r.aggregate)&&(r._visible=!0,t.push(r),o[r.uid]=r)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var a=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];a.push(r),r.records&&r.records.length>0&&l(r,r.records)}};l(null,t),n.call(this,a,s);for(var d=0;d<s.length;d++)for(var h=s[d];h.parent;){var c=h.parent;o[c.uid]||(c._visible=!0,o[c.uid]=c),h=c}s=t}else n.call(this,t,s);this._filteredData=s,this.rows=s}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var r=this,u=new Array;this._sortData=null;var p=function(t,i){r._sortData=null;var s=null;if(r.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<r.source.hierarchy.groupingDataFields.length){s=new Array;for(var o=0;o<i.length;o++)s.push(e.extend({originalRecord:i[o]},i[o]))}else s=r._sort(i);else s=r._sort(i);t.records?t.records=s:t=t.concat(s);for(var o=0;o<s.length;o++)s[o].records&&s[o].records.length&&p(s[o],s[o].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){var s=this.rows[this.rows.length-1][t];null==s&&(s=null);for(var o=1;100>=o;o++){var n=this.grid.rowsByKey[o+s];if(!n){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var n=this.grid.rowsByKey["jqx"+s+o];if(n)continue;return"jqx"+s+o}return s+o}}}if(void 0!=t&&t.toString().length>0){var a=e(i).attr(t);if(null!=a&&a.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+a:a}if(this.rows&&this.rows.length>0){var n=this.grid.rowsByKey[r];if(n){var s=this.rows[this.rows.length-1][t];null==s&&(s="");for(var o=1;1e3>=o;o++){var n=this.grid.rowsByKey[o+s];if(!n){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var n=this.grid.rowsByKey["jqx"+s+o];if(n)continue;return"jqx"+s+o}return s+o}}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var n=this.grid.rowsByKey["jqx"+r];if(!n)return"jqx"+r;for(var o=r+1;100>=o;o++){var n=this.grid.rowsByKey["jqx"+o];if(!n){var n=this.grid.rowsByKey["jqx"+o];if(n)continue;return"jqx"+o}}}return r},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),e.extend(e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"};var t={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return e.extend(!0,this,t),t},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){var t=this.base;t.deleterowbykey(e)},updateRow:function(e,t){var i=this.base;i.updaterowbykey(e,t)},setCellValue:function(e,t,i){var r=this.base;r.setCellValueByKey(e,t,i)},getCellValue:function(e,t){var i=this.base;return i.getCellValueByKey(e,t)},lockRow:function(e){var t=this.base;t.lockrowbykey(e)},unlockRow:function(e){var t=this.base;t.unlockrowbykey(e)},selectRow:function(e){var t=this.base;t.selectrowbykey(e)},unselectRow:function(e){var t=this.base;t.unselectrowbykey(e)},ensureRowVisible:function(e){var t=this.base;t.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,r=i.getColumn(t);i.beginroweditbykey(e,r)},beginRowEdit:function(e){var t=this.base;t.beginroweditbykey(e)},endCellEdit:function(e,t,i){var r=this.base;r.endroweditbykey(e,i)},endRowEdit:function(e,t){var i=this.base;i.endroweditbykey(e,t)},_showLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","visible"),e(t.dataloadelement).css("display","block"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},_hideLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","hidden"),e(t.dataloadelement).css("display","none"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},getKey:function(e){return e?e.uid:void 0},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var t=this.base,i=t._names(),r=new Array,s=function(o,n){if(n)for(var a=0;a<n.length;a++)if(n[a]){var l=e.extend({},n[a]),d=t.rowinfo[n[a].uid];d&&d[i.checked]?o.push(l):l[i.checked]&&o.push(l),s(r,n[a].records)}};return s(r,t.dataViewRecords),r},getRow:function(e){var t=this.base,i=t.source.records;if(t.source.hierarchy){var r=function(t){for(var i=0;i<t.length;i++)if(t[i]){if(t[i].uid==e)return t[i];if(t[i].records){var s=r(t[i].records);if(s)return s}}},s=r(t.source.hierarchy);return s}for(var o=0;o<i.length;o++)if(i[o]&&i[o].uid==e)return i[o]},_renderrows:function(){var t=this.base,i=this;if(!t._loading&&!t._updating){var r=t._names();if(0===t.source.hierarchy.length&&!t.loadingFailed&&this.virtualModeCreateRecords){var s=function(e){if(e===!1||e&&0==e.length)return t._loading=!1,t.loadingFailed=!0,t.source.hierarchy=new Array,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),void t._arrange();for(var r=0;r<e.length;r++)e[r].level=0,i.virtualModeRecordCreating(e[r]),t.rowsByKey[e[r].uid]=e[r];t.source.hierarchy=e,t.source._source.hierarchy||(t.source._source.hierarchy={}),t._loading=!1,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),t._arrange()};t._loading=!0,this.virtualModeCreateRecords(null,s),this._showLoadElement()}t.rendering&&t.rendering();var o=0;t.table[0].rows=new Array;var n=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content")+" "+t.toTP("jqx-item");t.rtl&&(n+=" "+t.toTP("jqx-cell-rtl"));var a=t.columns.records.length,l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&t.host.attr("hideFocus","true");var d=new Array,h=function(e,i){for(var s=0;s<e.length;s++){var o=e[s];if(o){var n=t.rowinfo[o.uid]?t.rowinfo[o.uid].expanded:o.expanded;
if(0==t.dataview.filters.length&&(o._visible=!0),o._visible!==!1)if(n||o[r.leaf]){if(i.push(o),o.records&&o.records.length>0)for(var a=h(o.records,new Array),l=0;l<a.length;l++)i.push(a[l])}else i.push(o)}}return i},c=0===t.source.hierarchy.length?t.source.records:t.source.hierarchy;if(c=t.dataview.evaluate(c),t.dataViewRecords=c,this.showSubAggregates){var u=function(t,i){0!=t&&i.length>0&&(i[i.length-1]?i[i.length-1].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0}):e.jqx.browser.msie&&e.jqx.browser.version<9&&i[i.length-2]&&(i[i.length-2].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0})));for(var r=0;r<i.length;r++)i[r]&&i[r].records&&u(t+1,i[r].records)};u(0,c)}var p=function(e){for(var i=0,s=new Array,o=0;o<e.length;o++){var n=e[o];if(0==n[r.level]&&i++,i>t.dataview.pagesize*t.dataview.pagenum&&i<=t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize&&s.push(n),i>t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)break}return s};if(0===t.source.hierarchy.length){if("all"==t.dataview.pagesize||!t.pageable||t.serverProcessing){var f=c;if(t.pageable&&t.serverProcessing&&c.length>t.dataview.pagesize)var f=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)}else var f=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);var d=f}else{var c=h.call(t,c,new Array);if("all"!=t.dataview.pagesize&&t.pageable){var f=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(f=p(c))}else var f=c;var d=f,m=t.dataview.pagenum;if(t.updatepagerdetails(),t.dataview.pagenum!=m){if("all"!=t.dataview.pagesize&&t.pageable){var f=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(f=p(c))}else var f=c;var d=f}}t.renderedRecords=d;var g=d.length,v=t.tableZIndex,x=0,w=0;if(l)for(var b=0;a>b;b++){var y=t.columns.records[b],_=y.width;_<y.minwidth&&(_=y.minwidth),_>y.maxwidth&&(_=y.maxwidth);var j=e('<table><tr><td role="gridcell" style="max-width: '+_+"px; width:"+_+'px;" class="'+n+'"></td></tr></table>');e(document.body).append(j);var q=j.find("td");x=1+parseInt(q.css("padding-left"))+parseInt(q.css("padding-right")),j.remove();break}for(var T=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",C="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+T+"' id='table"+t.element.id+"'><colgroup>",k="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+T+"' id='pinnedtable"+t.element.id+"'><colgroup>",S=null,b=0;a>b;b++){var y=t.columns.records[b];if(!y.hidden){S=y;var _=y.width;if(_<y.minwidth&&(_=y.minwidth),_>y.maxwidth&&(_=y.maxwidth),_-=x,0>_&&(_=0),l){var D=_;0==b&&D++,k+="<col style='max-width: "+_+"px; width: "+D+"px;'>",C+="<col style='max-width: "+_+"px; width: "+D+"px;'>"}else k+="<col style='max-width: "+_+"px; width: "+_+"px;'>",C+="<col style='max-width: "+_+"px; width: "+_+"px;'>";w+=_}}C+="</colgroup>",k+="</colgroup>",t._hiddencolumns=!1;var I=!1;if(0===g){var P='<tr role="row">',A=t.host.height();if(t.pageable&&(A-=t.pagerHeight,"both"===t.pagerPosition&&(A-=t.pagerHeight)),A-=t.columnsHeight,t.filterable){var B=t.filter.find(".filterrow"),M=t.filter.find(".filterrow-hidden"),H=1;M.length>0&&(H=0),A-=t.filterHeight+t.filterHeight*B.length*H}t.showstatusbar&&(A-=t.statusBarHeight),t.showAggregates&&(A-=t.aggregatesHeight),25>A&&(A=25),"hidden"!=t.hScrollBar[0].style.visibility&&(A-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(A=100);var _=t.host.width()+2,j='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+A+"px; height: "+A+"px;  min-width:"+w+"px; max-width:"+w+"px; width:"+w+"px;",n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");n+=" "+t.toTP("jqx-center-align"),j+='" class="'+n+'">',t._loading||(j+=t.gridlocalization.emptydatastring),j+="</td>",P+=j,C+=P,k+=P,t.table[0].style.width=w+2+"px",o=w}for(var z=t.source._source.hierarchy&&t.source._source.hierarchy.groupingDataFields?t.source._source.hierarchy.groupingDataFields.length:0,E=0;E<d.length;E++){var O=d[E],L=O.uid;z>0&&O[r.level]<z&&(L=O.uid),void 0===O.uid&&(O.uid=t.dataview.generatekey());var P='<tr data-key="'+L+'" role="row" id="row'+E+t.element.id+'">',N='<tr data-key="'+L+'" role="row" id="row'+E+t.element.id+'">';if(O.aggregate)var P='<tr data-role="summaryrow" role="row" id="row'+E+t.element.id+'">',N='<tr data-role="summaryrow" role="row" id="row'+E+t.element.id+'">';var F=0;if(t.rowinfo[L])void 0===t.rowinfo[L].checked&&(t.rowinfo[L].checked=O[r.checked]),void 0===t.rowinfo[L].icon&&(t.rowinfo[L].icon=O[r.icon]),void 0===t.rowinfo[L].aggregate&&(t.rowinfo[L].aggregate=O[r.aggregate]),void 0===t.rowinfo[L].row&&(t.rowinfo[L].row=O),void 0===t.rowinfo[L].leaf&&(t.rowinfo[L].leaf=O[r.leaf]),void 0===t.rowinfo[L].expanded&&(t.rowinfo[L].expanded=O[r.expanded]);else{var R=O[r.checked];void 0===R&&(R=!1),t.rowinfo[L]={selected:O[r.selected],checked:R,icon:O[r.icon],aggregate:O.aggregate,row:O,leaf:O[r.leaf],expanded:O[r.expanded]}}var W=t.rowinfo[L];W.row=O,O.originalRecord&&(W.originalRecord=O.originalRecord);for(var V=0,b=0;a>b;b++){var G=t.columns.records[b];(G.pinned||t.rtl&&t.columns.records[a-1].pinned)&&(I=!0);var _=G.width;_<G.minwidth&&(_=G.minwidth),_>G.maxwidth&&(_=G.maxwidth),_-=x,0>_&&(_=0);var n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");G.pinned&&(n+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===G.displayfield&&(n+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&E%2!=0&&(n+=" "+t.toTP("jqx-grid-cell-alt")),t.rtl&&(n+=" "+t.toTP("jqx-cell-rtl"));var U="";if(z>0&&!l&&!O.aggregate&&O[r.level]<z){U+=' colspan="'+a+'"';for(var D=0,$=0;a>$;$++){var Y=t.columns.records[$];if(!Y.hidden){var K=Y.width;K<Y.minwidth&&(_=Y.minwidth),K>Y.maxwidth&&(_=Y.maxwidth),K-=x,0>K&&(K=0),D+=K}}_=D}var j='<td role="gridcell"'+U+' style="max-width:'+_+"px; width:"+_+"px;",X='<td role="gridcell"'+U+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+_+"px; width:"+_+"px;";b==a-1&&1==a&&(j+="border-right-color: transparent;",X+="border-right-color: transparent;"),z>0&&O[r.level]<z&&!O.aggregate?t.rtl&&(n+=" "+t.toTP("jqx-right-align")):"left"!=G.cellsalign&&(n+="right"===G.cellsalign?" "+t.toTP("jqx-right-align"):" "+t.toTP("jqx-center-align")),W&&(W.selected&&t.editKey!==L&&"none"!==t.selectionMode&&(n+=" "+t.toTP("jqx-grid-cell-selected"),n+=" "+t.toTP("jqx-fill-state-pressed")),W.locked&&(n+=" "+t.toTP("jqx-grid-cell-locked")),W.aggregate&&(n+=" "+t.toTP("jqx-grid-cell-pinned"))),G.hidden?(j+="display: none;",X+="display: none;",t._hiddencolumns=!0):(0!=V||t.rtl?(j+="border-right-width: 0px;",X+="border-right-width: 0px;"):(j+="border-left-width: 0px;",X+="border-left-width: 0px;"),V++,F+=x+_),G.pinned&&(j+="pointer-events: auto;",X+="pointer-events: auto;");var Z="";if(0!=t.source.hierarchy.length&&O.records&&(!O.records||0!==O.records.length)||this.virtualModeCreateRecords||(W.leaf=!0),O.records&&O.records.length>0&&(W.leaf=!1),t.dataview.filters.length>0&&O.records&&O.records.length>0){for(var J=!1,Q=0;Q<O.records.length;Q++)if(O.records[Q]._visible!==!1&&void 0==O.records[Q].aggregate){J=!0;break}J?W.leaf=!1:W.leaf=!0}W&&!W.leaf&&(W.expanded?(Z+=t.toTP("jqx-tree-grid-expand-button")+" ",Z+=t.rtl?t.toTP("jqx-grid-group-expand-rtl"):t.toTP("jqx-grid-group-expand"),Z+=" "+t.toTP("jqx-icon-arrow-down")):(Z+=t.toTP("jqx-tree-grid-collapse-button")+" ",t.rtl?(Z+=t.toTP("jqx-grid-group-collapse-rtl"),Z+=" "+t.toTP("jqx-icon-arrow-left")):(Z+=t.toTP("jqx-grid-group-collapse"),Z+=" "+t.toTP("jqx-icon-arrow-right")))),(!t.autoRowHeight||1===V||t.autoRowHeight&&!G.autoCellHeight)&&(n+=" "+t.toTP("jqx-grid-cell-nowrap"));var ee=t._getcellvalue(G,W.row);if(z>0&&!O.aggregate&&O[r.level]<z&&(ee=O.label),""!=G.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(ee)?ee=e.jqx.dataFormat.formatdate(ee,G.cellsFormat,t.gridlocalization):(e.jqx.dataFormat.isNumber(ee)||!isNaN(parseFloat(ee))&&isFinite(ee))&&(ee=e.jqx.dataFormat.formatnumber(ee,G.cellsFormat,t.gridlocalization))),""!=G.cellclassname&&G.cellclassname)if("string"==typeof G.cellclassname)n+=" "+G.cellclassname;else{var te=G.cellclassname(E,G.datafield,t._getcellvalue(G,W.row),W.row,ee);te&&(n+=" "+te)}if(""!=G.cellsRenderer&&G.cellsRenderer){var ie=G.cellsRenderer(L,G.datafield,t._getcellvalue(G,W.row),W.row,ee);void 0!==ie&&(ee=ie)}if(W.aggregate&&G.aggregates){var re=O.siblings.slice(0,O.siblings.length-1),se=t._calculateaggregate(G,null,!0,re);if(O[G.displayfield]="",se)if(G.aggregatesRenderer){if(se){var oe=G.aggregatesRenderer(se[G.datafield],G,null,t.getcolumnaggregateddata(G.datafield,G.aggregates,!1,re),"subAggregates");ee=oe,O[G.displayfield]+=name+":"+se[G.datafield]+"\n"}}else ee="",O[G.displayfield]="",e.each(se,function(){var e=this;for(obj in e){var i=obj;i=t._getaggregatename(i);var r='<div style="position: relative; margin: 0px; overflow: hidden;">'+i+":"+e[obj]+"</div>";ee+=r,O[G.displayfield]+=i+":"+e[obj]+"\n"}});else ee=""}if(1===V&&!t.rtl||G==S&&t.rtl||z>0&&O[r.level]<z){for(var ne="",ae=t.toThemeProperty("jqx-tree-grid-indent"),le=W.leaf?1:0,de=0;de<O[r.level]+le;de++)ne+="<span class='"+ae+"'></span>";var he="<span class='"+Z+"'></span>",ce="",ue="";if(this.checkboxes&&!O.aggregate){var pe=t.toThemeProperty("jqx-tree-grid-checkbox")+" "+ae+" "+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all"),fe=!0;if(e.isFunction(this.checkboxes)&&(fe=this.checkboxes(L,O),void 0==fe&&(fe=!1)),fe)if(W){var me=W.checked;0==this.hierarchicalCheckboxes&&null===me&&(me=!1),ce+=me?"<span class='"+pe+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":me===!1?"<span class='"+pe+"'></span>":"<span class='"+pe+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else ce+="<span class='"+pe+"'></span>"}if(this.icons&&!O.aggregate){var ge=t.toThemeProperty("jqx-tree-grid-icon")+" "+ae;if(t.rtl)var ge=t.toThemeProperty("jqx-tree-grid-icon")+" "+t.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+ae;var ve=t.toThemeProperty("jqx-tree-grid-icon-size")+" "+ae,xe=W.icon;e.isFunction(this.icons)&&(W.icon=this.icons(L,O),W.icon&&(xe=!0)),xe&&(ue+=W.icon?"<span class='"+ge+"'><img class='"+ve+"' src='"+W.icon+"'/></span>":"<span class='"+ge+"'></span>")}var we=t.autoRowHeight&&1===V&&G.autoCellHeight?" "+t.toTP("jqx-grid-cell-wrap"):"",be=ne+he+ce+ue+"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+we+"'>"+ee+"</span>";ee=t.rtl?"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+we+"'>"+ee+"</span>"+ue+ce+he+ne:be}if(z>0&&l&&b>=z&&O[r.level]<z&&(j+="padding-left: 5px; border-left-width: 0px;",X+="padding-left: 5px; border-left-width: 0px;",ee="<span style='visibility: hidden;'>-</span>"),j+='" class="'+n+'">',j+=ee,j+="</td>",X+='" class="'+n+'">',X+=ee,X+="</td>",G.pinned?(N+=j,P+=j):(P+=j,I&&(N+=X)),z>0&&!l&&O[r.level]<z&&!O.aggregate)break}if(0==o&&(t.table[0].style.width=F+2+"px",o=F),P+="</tr>",N+="</tr>",C+=P,k+=N,t.rowDetails&&!O.aggregate&&this.rowDetailsRenderer){var ye='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+_+"px; width:"+_+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+t.columns.records.length+'" role="gridcell"',n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");n+=" "+t.toTP("jqx-details"),n+=" "+t.toTP("jqx-reset");var _e=this.rowDetailsRenderer(L,O);_e&&(ye+='" class="'+n+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+_e+"</div></div></td></tr>",C+=ye,k+=ye)}}if(C+="</table>",k+="</table>",I){t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(k+C)}):t.table[0].innerHTML=k+C;var je=t.table.find("#table"+t.element.id),qe=t.table.find("#pinnedtable"+t.element.id);qe.css("float","left"),qe.css("pointer-events","none"),je.css("float","left"),qe[0].style.position="absolute",je[0].style.position="relative",je[0].style.zIndex=v-10,qe[0].style.zIndex=v+10,t._table=je,t._table[0].style.left="0px",t._pinnedTable=qe,l&&(qe[0].style.left="0px"),t._table[0].style.width=o+"px",t._pinnedTable[0].style.width=o+"px",t.rtl&&t._haspinned&&(t._pinnedTable[0].style.left=3-o+parseInt(t.element.style.width)+"px")}else{t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(C)}):t.table[0].innerHTML=C;var $=t.table.find("#table"+t.element.id);t._table=$,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=o+"px"),0===g&&(t._table[0].style.width=2+o+"px")}0===g&&(t._table[0].style.tableLayout="auto",t._pinnedTable&&(t._pinnedTable[0].style.tableLayout="auto")),t.showAggregates&&t._updatecolumnsaggregates(),t._loading&&0==g&&(t._arrange(),this._showLoadElement()),t.rendered&&t.rendered()}},propertyChangedHandler:function(e,t,i,r){void 0!=e.isInitialized&&0!=e.isInitialized&&("pageSizeMode"!=t&&"hierarchicalCheckboxes"!=t||e._renderrows())},checkRow:function(e,t,i){var r=this.base,s=r._names();if(!r._loading){var o=r.rowinfo[e];if(o)o.checked=!0,o.row[s.checked]=!0,o.originalRecord&&(o.originalRecord[s.checked]=!0),void 0==i&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),t!==!1&&r._renderrows(),r._raiseEvent("rowCheck",{key:e,row:o.row});else{var n=this.getRow(e);n&&(r.rowinfo[e]={row:n,checked:!0},r.rowinfo[e].row[s.checked]=!0,n.originalRecord&&(r.rowinfo[e].originalRecord=n.originalRecord),r._raiseEvent("rowCheck",{key:e,row:n}),void 0==i&&this.hierarchicalCheckboxes&&this.checkRows(n,n),t!==!1&&r._renderrows())}}},checkRows:function(t,i){var r=this.base,s=this,o=r._names(),n=function(e){var t=new Array,i=function(e){for(var r=0;r<e.length;r++)t.push(e[r]),e[r]&&e[r].records&&i(e[r].records)};return e.records&&i(e.records),t};if(null!=t){var a=0,l=!1,d=0,h=function(e){for(var t=0;t<e.length;t++)if(e[t]){var i=e[t][o.checked];void 0===i&&(i=!1),0!=i&&(null==e[t][o.checked]&&(l=!0),e[t].records&&h(e[t].records),a++),d++}};if(t.records&&h(t.records),t!=i)a==d?this.checkRow(t.uid,!1,"tree"):a>0?this.indeterminateRow(t.uid,!1,"tree"):this.uncheckRow(t.uid,!1,"tree");else{var c=i[o.checked],u=n(i);e.each(u,function(){c===!0?s.checkRow(this.uid,!1,"tree"):c===!1?s.uncheckRow(this.uid,!1,"tree"):s.indeterminateRow(this.uid,!1,"tree")})}var p=t[o.parent]?t[o.parent]:null;this.checkRows(p,i)}else{var c=i[o.checked],u=n(i);e.each(u,function(){c===!0?s.checkRow(this.uid,!1,"tree"):c===!1?s.uncheckRow(this.uid,!1,"tree"):s.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,t,i){var r=this.base,s=r._names();if(!r._loading){var o=r.rowinfo[e];if(o)o.checked=null,o.row[s.checked]=null,o.originalRecord&&(o.originalRecord[s.checked]=null),void 0==i&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),t!==!1&&r._renderrows();else{var n=this.getRow(e);n&&(r.rowinfo[e]={row:n,checked:null},r.rowinfo[e].row[s.checked]=null,n.originalRecord&&(r.rowinfo[e].originalRecord=n.originalRecord),void 0==i&&this.hierarchicalCheckboxes&&this.checkRows(n,n),t!==!1&&r._renderrows())}}},uncheckRow:function(e,t,i){var r=this.base,s=r._names();if(!r._loading){var o=r.rowinfo[e];if(o)o.checked=!1,o.row[s.checked]=!1,o.originalRecord&&(o.originalRecord[s.checked]=!1),void 0==i&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),t!==!1&&r._renderrows(),r._raiseEvent("rowUncheck",{key:e,row:o.row});else{var n=this.getRow(e);n&&(r.rowinfo[e]={row:n,checked:!1},r.rowinfo[e].row[s.checked]=!1,n.originalRecord&&(r.rowinfo[e].originalRecord=n.originalRecord),r._raiseEvent("rowUncheck",{key:e,row:n}),void 0==i&&this.hierarchicalCheckboxes&&this.checkRows(n,n),t!==!1&&r._renderrows())}}},expandRows:function(t){var i=this;if(t)if(i.virtualModeCreateRecords)e.each(t,function(){var e=this,t=function(){i.base._loading=!1,i.expandRows(e.records)};i.base._loading=!1,i.expandRow(e.uid,t)});else for(var r=0;r<t.length;r++){var s=t[r];i.expandRow(s.uid),i.expandRows(s.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,t){var i=this.base;if(!i._loading){var r=i._names(),s=this,o=i.rowinfo[e];if(!o){var n=this.getRow(e);n&&(i.rowinfo[e]={row:n},n.originalRecord&&(i.rowinfo[e].originalRecord=n.originalRecord),o=i.rowinfo[e])}if(o){if(o.expanded)return void(o.row[r.expanded]=!0);if(o.expanded=!0,o.row[r.expanded]=!0,o.originalRecord&&(o.originalRecord[r.expanded]=!0),this.virtualModeCreateRecords&&!o.row._loadedOnDemand){var a=function(e){if(o.row._loadedOnDemand=!0,e===!1)return i._loading=!1,s._hideLoadElement(),o.leaf=!0,o.row[r.leaf]=!0,i._renderrows(),void(t&&t());for(var n=0;n<e.length;n++){if(e[n][r.level]=o.row[r.level]+1,e[n][r.parent]=o.row,i.rowsByKey[e[n].uid])throw i._loading=!1,s._hideLoadElement(),o.leaf=!0,o.row[r.leaf]=!0,i._renderrows(),t&&t(),new Error("Please, check whether you Add Records with unique ID/Key. ");i.rowsByKey[e[n].uid]=e[n],s.virtualModeRecordCreating(e[n])}o.row.records?o.row.records=o.row.records.concat(e):o.row.records=e,(!e||e&&0==e.length)&&(o.leaf=!0,o.row[r.leaf]=!0),o.originalRecord&&(o.originalRecord.records=e,o.originalRecord[r.expanded]=!0,0==e.length&&(o.originalRecord[r.leaf]=!0)),i._loading=!1,s._hideLoadElement();var a=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=a!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),t&&t()};if(!o.row[r.leaf])return i._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(o.row,a)}if(!i.updating()){var l=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var d=l!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||d)&&i._arrange(),i._renderhorizontalscroll(),i._raiseEvent("rowExpand",{row:o.row,key:e})}}}},collapseRow:function(e){var t=this.base,i=t._names();if(!t._loading){var r=t.rowinfo[e];if(!r){var s=this.getRow(e);s&&(t.rowinfo[e]={row:s},s.originalRecord&&(t.rowinfo[e].originalRecord=s.originalRecord),r=t.rowinfo[e])}if(r){if(!r.expanded)return void(r.row[i.expanded]=!1);if(r.expanded=!1,r.row[i.expanded]=!1,r.originalRecord&&(r.originalRecord[i.expanded]=!1),!t.updating()){var o=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var n=o!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||n)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:r.row,key:e})}}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxBulletChart","",{}),e.extend(e.jqx._jqxBulletChart.prototype,{defineInstance:function(){var t={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};return e.extend(!0,this,t),t},createInstance:function(t){if(!e.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._timer&&clearTimeout(i._timer),i._timer=setTimeout(function(){var e=i.animationDuration;i.animationDuration=0,i.render(),setTimeout(function(){i.animationDuration=e},0)},10)},!1,!0)},render:function(){this.host.children().length>0&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var t,i=this.host.width(),r=this.host.height(),s=this.rtl?"rtl":"ltr";"horizontal"==this.orientation?t=e("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+s+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+s+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(t=e("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+i+"px; direction: "+s+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+s+";'>"+this.description+"</div></div>")),this.host.append(t);var o=t.outerWidth(),n=t.outerHeight();t.remove();var a,l,d,h,c,u,p,f;if("horizontal"==this.orientation){if(a="jqx-bulletchart-title-container-horizontal",l="jqx-bulletchart-chart-container-horizontal",d=this._checkPercentage(this.barSize,this.host),h=o,c=this.barSize,u=0,p=i-h,f=c,this.width&&this.width.toString().indexOf("%")>=0){var p=parseFloat(parseFloat(100*p)/i).toString()+"%",h=parseFloat(parseFloat(100*h)/i).toString()+"%";this._percentageWidth=!0}}else"vertical"==this.orientation&&(a="jqx-bulletchart-title-container-vertical",l="jqx-bulletchart-chart-container-vertical",d=0,h="100%",c=n,u=this._checkPercentage(this.barSize,this.host),p=this.barSize,f=r-c);if((0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+a+"' style='top: "+d+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+l+"' style='top: "+d+"; left: "+u+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+a+"' style='top: "+d+";'></div>"),this._titleContainer=e("#"+this.element.id+"titleContainer"),this._chartContainer=e("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:h,height:c}),this._chartContainer.css({width:p,height:f}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(e){e||this.render()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.pointer.value:(e>this._max?e=this._max:e<this._min&&(e=this._min),void(e!=this.pointer.value&&(this._updateValue(e,this.pointer.value),this.pointer.value=e,1==this.showTooltip&&this._updateTooltip())))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(t,i,r,s){if(r!=s||s instanceof Object){var o=!0,n=function(){e.each(r,function(e,r){void 0==s[e]&&(t[i][e]=r)})};switch(i){case"barSize":break;case"ranges":e.each(r,function(r,o){e.each(o,function(e,o){void 0!==s[r]&&void 0==s[r][e]&&(t[i][r][e]=o)})}),this._setDefaultValues();break;case"pointer":return n(),void this._updatePointer(s,r);case"target":return n(),void this._updateTarget(s,r);case"ticks":o=!1,n(),e.each(r,function(e,s){r[e]!=t[i][e]&&(o=!0)});break;case"showTooltip":if(1==s){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==s?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==o&&this.render()}},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;try{var o=this.host.trigger(s)}catch(n){}return o},_removeHandlers:function(){var t=e("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(t,"mouseenter.bulletchart"+this.element.id),this.removeHandler(t,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var e=this.ranges,t=this.ranges.length,i=0;t>i;i++){if(void 0==e[i].startValue||void 0==e[i].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");void 0==e[i].color&&(this.ranges[i].color="#000000"),void 0==e[i].opacity&&(this.ranges[i].opacity=1-1/t*i)}var r=this.pointer;void 0==r.value&&(this.pointer.value=65),void 0==r.label&&(this.pointer.label="Value"),void 0==r.size&&(this.pointer.size="25%"),void 0==r.color&&(this.pointer.color="");var s=this.target;void 0==s.value&&(this.target.value=85),void 0==s.label&&(this.target.label="Target"),void 0==s.size&&(this.target.size=5),void 0==s.color&&(this.target.color="");var o=this.ticks;void 0==o.position&&(this.ticks.position="near"),void 0==o.interval&&(this.ticks.interval=20),void 0==o.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var e="",t=this.ranges.length,i=0;t>i;i++){var r,s=this.ranges[i];if("horizontal"==this.orientation){var o=this.rtl?"right":"left",n=(s.startValue-this._min)*this._valueToPixelsHorizontal,a=(s.endValue-s.startValue)*this._valueToPixelsHorizontal;r="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+o+": "+n+"px; width: "+a+"px; background-color: "+s.color+"; opacity: "+s.opacity+"'></div>"}else if("vertical"==this.orientation){var l=(s.startValue-this._min)*this._valueToPixelsVertical,d=(s.endValue-s.startValue)*this._valueToPixelsVertical;r="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+l+"px; height: "+d+"px; background-color: "+s.color+"; opacity: "+s.opacity+"'></div>"}e+=r}this._chartContainer.append(e)},_appendPointerAndTarget:function(){var e="",t=this.element.id+"Pointer",i=this.element.id+"Target",r=this.pointer.size,s=this.target.value,o=this.target.size,n=s>0?0:parseInt(o),a=this.pointer.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed"),l=this.target.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");if("horizontal"==this.orientation){var d=this._normaliseValue(r),h=this._checkPercentage(r,this._chartContainer),c=this.rtl?"right":"left",u=(s-this._min)*this._valueToPixelsHorizontal-n,p=u+parseInt(o)-this._chartContainer.width();0>u?u=0:p>0&&(u-=p);var f=this._normaliseValue(o);e+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+i+"' style='"+c+": "+u+"px; width: "+f+"; background-color: "+this.target.color+"'></div>",e+="<div class='"+a+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+t+"' style='top: "+h+"; height: "+d+"; background-color: "+this.pointer.color+"'></div>"}else if("vertical"==this.orientation){var m=(this._chartContainer.width(),this._normaliseValue(r)),g=this._checkPercentage(r,this._chartContainer),v=(s-this._min)*this._valueToPixelsVertical-n,p=v+parseInt(o)-this._chartContainer.height();0>v?v=0:p>0&&(v-=p);var x=this._normaliseValue(o);e+="<div class='"+l+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+i+"' style='bottom: "+v+"px; height: "+x+"; background-color: "+this.target.color+"'></div>",e+="<div class='"+a+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+t+"' style='left: "+g+"; width: "+m+"; background-color: "+this.pointer.color+"'></div>"}this._chartContainer.append(e)},_updatePointer:function(t,i){var r=e("#"+this.element.id+"Pointer");if(t.value>this._max?this.pointer.value=this._max:t.value<this._min&&(this.pointer.value=this._min),t.value!=i.value&&(this._updateValue(t.value,i.value),1==this.showTooltip&&this._updateTooltip()),t.label!=i.label&&1==this.showTooltip&&this._updateTooltip(),t.size!=i.size){var s=t.size;if("horizontal"==this.orientation){var o=this._checkPercentage(s,this._chartContainer),n=this._normaliseValue(s);r.css({top:o,height:n})}else if("vertical"==this.orientation){var a=this._checkPercentage(s,this._chartContainer),l=this._normaliseValue(s);r.css({left:a,width:l})}}t.color!=i.color&&(""==t.color?(r.css("background-color",""),r.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r.css("background-color",t.color)))},_updateTarget:function(t,i){var r=e("#"+this.element.id+"Target");if(t.value>this._max?this.target.value=this._max:t.value<this._min&&(this.target.value=this._min),t.value!=i.value||t.size!=i.size){var s=t.value,o=parseInt(t.size),n=s>0?0:o;if("horizontal"==this.orientation){var a=(this.rtl?"right":"left",(s-this._min)*this._valueToPixelsHorizontal-n),l=a+o-this._chartContainer.width();0>a?a=0:l>0&&(a-=l),0==this.rtl?r.css("left",a):r.css("right",a),r.width(o)}else if("vertical"==this.orientation){var d=(s-this._min)*this._valueToPixelsVertical-n,l=d+o-this._chartContainer.height();0>d?d=0:l>0&&(d-=l),r.css({bottom:d,height:o})}1==this.showTooltip&&this._updateTooltip()}t.label!=i.label&&1==this.showTooltip&&this._updateTooltip(),t.color!=i.color&&(""==t.color?(r.css("background-color",""),r.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),r.css("background-color",t.color)))},_appendTitleAndDescription:function(){var t;t="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical");var i=this.rtl?"rtl":"ltr",r="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+t+"' style='direction: "+i+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+t+"' style='direction: "+i+";'>"+this.description+"</div>",s=e("<div style='position: absolute; visibility: hidden;'>"+r+"</div>");this._titleContainer.append(s);var o=s.children(),n=e(o[0]).height()+e(o[1]).height();s.remove();var a;a="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+a+"' style='height: "+n+"px;'>"+r+"</div>");
},_appendTicksAndLabels:function(){var t=e("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(t);var i="",r=this._min<0,s=this.ticks.size;if("horizontal"==this.orientation){var o=this._titleContainer.width(),n=this._chartContainer.offset().top-this.host.offset().top;if("both"==this.ticks.position||"far"==this.ticks.position)var a=this._chartContainer.height()+n;for(var l=0;l<=this._interval;l+=this.ticks.interval){var d=l*this._valueToPixelsHorizontal+o;if(l+this.ticks.interval>this._interval&&(d-=1),r){var h=l+this._min==0;h&&(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+n+"px; "+p+": "+d+"px; height: "+this._chartContainer.height()+"px;'></div>",r=!1)}var c=this._labelValue(l);t.html(c);var u=d-t.width()/2,p=this.rtl?"right":"left";"both"!=this.ticks.position&&"far"!=this.ticks.position||(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+a+"px; "+p+": "+d+"px; height: "+s+"px;'></div>",i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(a+s+2)+"px; "+p+": "+u+"px;'>"+c+"</div>"),"both"!=this.ticks.position&&"near"!=this.ticks.position||(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(n-s)+"px; "+p+": "+d+"px; height: "+s+"px;'></div>",i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(n-(s+t.height()+2))+"px; "+p+": "+u+"px;'>"+c+"</div>")}}else if("vertical"==this.orientation){var f=this._chartContainer.offset().left-this.host.offset().left;if("both"==this.ticks.position||"far"==this.ticks.position)var m=this._chartContainer.width();for(var l=0;l<=this._interval;l+=this.ticks.interval){var g=l*this._valueToPixelsVertical;if(l+this.ticks.interval>this._interval&&(g-=1),r){var h=l+this._min==0;h&&(i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+f+"px; bottom: "+g+"px; width: "+m+"px;'></div>",r=!1)}if("both"==this.ticks.position||"near"==this.ticks.position){i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(f-s)+"px; bottom: "+g+"px; width: "+s+"px;'></div>";var c=this._labelValue(l,"near");t.html(c);var u=t.height()/2-1;i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(f-(s+t.width()+2))+"px; bottom: "+(g-u)+"px;'>"+c+"</div>"}if("both"==this.ticks.position||"far"==this.ticks.position){i+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(m+f)+"px; bottom: "+g+"px; width: "+s+"px;'></div>";var c=this._labelValue(l,"far");t.html(c);var u=t.height()/2-1;i+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(m+f+s+2)+"px; bottom: "+(g-u)+"px;'>"+c+"</div>"}}}this.host.append(i),t.remove()},_labelValue:function(t,i){var r,s=t+this._min;return r=this.labelsFormatFunction?this.labelsFormatFunction(s,i):e.jqx.dataFormat.formatnumber(s,this.labelsFormat)},_initializeTooltip:function(){var t=this,i=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:i,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=e.proxy(this.val,this);var r=e("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(r,"mouseenter.bulletchart"+this.element.id,function(i){0==t.disabled&&(t.host.jqxTooltip("open",i.pageX,i.pageY),(i.target.id==t.element.id+"Pointer"&&""==t.pointer.color||i.target.id==t.element.id+"Target"&&""==t.target.color)&&(e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(r,"mouseleave.bulletchart"+this.element.id,function(i){0==t.disabled&&(t.host.jqxTooltip("close"),(i.target.id==t.element.id+"Pointer"&&""==t.pointer.color||i.target.id==t.element.id+"Target"&&""==t.target.color)&&(e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e(i.target).addClass(t.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var t;if(this.tooltipFormatFunction)t=this.tooltipFormatFunction(this.pointer.value,this.target.value);else{var i=e.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),r=e.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);t="<div>"+this.pointer.label+": "+i+"</div><div>"+this.target.label+": "+r+"</div>"}return t},_updateValue:function(t,i,r){var s,o,n,a=this,l=e("#"+this.element.id+"Pointer"),d=function(e,r,d){if(a._min>=0)"vertical"==e?l.css("bottom",0):1==a.rtl&&"horizontal"==e&&l.css("right",0),s=(t-a._min)*r;else{if(t>=0){"horizontal"==e?1==a.rtl?(o="right",n="left"):o="left":"vertical"==e&&(o="bottom",n="top");var h=-a._min*r}else{"horizontal"==e?1==a.rtl?o="left":(o="right",n="left"):"vertical"==e&&(o="top");var h=d+a._min*r}l.css(o,h),n&&l.css(n,""),0>t*i&&("horizontal"==e?l.width(0):"vertical"==e&&l.height(0)),s=Math.abs(t*r)}return s},h=function(){r||a._raiseEvent("0")};if("horizontal"==this.orientation){var c=d("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){l.animate({width:c},a.animationDuration,h)},0)}else if("vertical"==this.orientation){var u=d("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){l.animate({height:u},a.animationDuration,h)},0)}},_checkPercentage:function(e,t){var i=-1;e.indexOf&&(i=e.indexOf("%"));var r=function(t){return e.indexOf&&-1!=e.indexOf("px")?parseFloat(t.slice(0,e.indexOf("px"))):t},s=function(e){return parseFloat(e.slice(0,i))};if(-1==i){var o;return"horizontal"==this.orientation?o=t.height():"vertical"==this.orientation&&(o=t.width()),(o-r(e))/2+"px"}return(100-s(e))/2+"%"},_normaliseValue:function(e){return!e.indexOf||-1==e.indexOf("px")&&-1==e.indexOf("%")?e+"px":e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxEditor","",{}),e.extend(e.jqx._jqxEditor.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,keyPressed:null,events:["change"]};return e.extend(!0,this,t),this.localization=this.defaultLocalization,t},createInstance:function(i){var r=this;r.textArea=r.host;var s=r.host.attr("contenteditable");if(r.host.addClass(r.toThemeProperty("jqx-widget")),1==s||"true"==s){r.inline=!0,r.widget=r.host,r.editorDocument=document,r.selection=new t(r.editorDocument);var o=e("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");o.insertBefore(r.host),r.toolbarContainer=o,r.toolbar=o.find(".jqx-editor-toolbar"),r.editor=r.host,r.contentEditableElement=r.element}else{var n=e("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");r.widget=n,r.widget[0].className=r.widget[0].className+" "+r.element.className;try{r.widget[0].style=r.element.style}catch(a){}var l=e.trim(r.host.html())+"&#8203;";"default"==r.lineBreak||"div"==r.lineBreak?l="<div>"+l+"</div>":"p"==r.lineBreak&&(l="<p>"+l+"</p>"),l=l.replace(/&lt;/gi,"<"),l=l.replace(/&gt;/gi,">"),r.host.css("display","none"),r.host.after(n),n.find("iframe").after(r.host),r.container=n.find(".jqx-editor-container"),r.toolbarContainer=n.find(".jqx-editor-toolbar-container"),r.toolbar=n.find(".jqx-editor-toolbar"),r.iframe=n.find("iframe"),r.content=n.find(".jqx-editor-content");var d=function(){r.editorDocument=r.iframe[0].contentWindow.document,r.selection=new t(r.editorDocument);var i=0;r.addHandler(r.iframe,"load",function(){if(i++,i>1){r.iframe.off("load"),r.content.find("iframe").remove();e("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(r.content);r.iframe=n.find("iframe"),d()}}),e.jqx.browser.mozilla||(r.editorDocument.designMode="On"),r.editorDocument.open();var s=r.rtl?"direction:rtl;":"",o=e.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";if(r.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+r.fontFamily+"; background:#fff; min-height:100%; "+s+"}"+o+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+e.map(r.stylesheets,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),r.contentEditableElement=r.editorDocument.body,r.host.is("textarea")){r._textArea=r.element;var a=r.host.data();a.jqxEditor.host=n,a.jqxEditor.element=n[0],r.element=n[0],n[0].id=r._textArea.id,r._textArea.id=r._textArea.id+"TextArea",e(r.element).addClass(r.toThemeProperty("jqx-widget")),r.host=e(r.element),r.host.data(a)}else{var a=r.host.data();a.jqxEditor.host=n,a.jqxEditor.element=n[0],r.element=n[0],r.host=e(r.element),r.host.data(a)}try{r.editorDocument.execCommand("useCSS",!1,!1),r.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(h){}try{r.editorDocument.execCommand("styleWithCSS",0,!0)}catch(h){}r.editorDocument.close(),r.editor=e(r.editorDocument.body),r.editor.html(l).attr("spellcheck",!1).attr("autocorrect","off")};d(),e.jqx.utilities.resize(r.host,function(){r.widget.css("width",r.width),r.widget.css("height",r.height),r._arrange()})}},focus:function(){var t=this;e.jqx.browser.mozilla&&(t.focused||(t.iframe&&t.iframe.focus(),t.selection.selectNode(t.editor[0].firstChild,!0),t.selection.getRange().collapse(!0))),t.editor.focus();var i=null!=t.range?t.range:t.getRange();t.selectRange(i)},print:function(){var e=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");e.document.open(),e.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),e.document.close()},refresh:function(t){var i=this;e.each(this.defaultLocalization,function(e,t){i.localization[e]||(i.localization[e]=t)}),i._removeHandlers(),i.toolbar.addClass(i.toThemeProperty("jqx-widget-header")),i.content?(i.widget.css("width",i.width),i.widget.css("height",i.height),i.widget.addClass(i.toThemeProperty("jqx-editor")),i.widget.addClass(i.toThemeProperty("jqx-widget")),i.widget.addClass(i.toThemeProperty("jqx-rc-all")),i.widget.addClass(i.toThemeProperty("jqx-widget-header")),i.content.addClass(i.toThemeProperty("jqx-widget-content")),i.container.addClass(i.toThemeProperty("jqx-editor-container"))):(i.toolbarContainer.addClass(i.toThemeProperty("jqx-widget-header")),i.toolbarContainer.addClass(i.toThemeProperty("jqx-editor-toolbar-inline")),i.toolbarContainer.addClass(i.toThemeProperty("jqx-widget")),i.toolbarContainer.addClass(i.toThemeProperty("jqx-rc-all")),i.toolbarContainer.hide(),i.toolbarContainer.css("position","absolute"),i.editor.addClass(i.toThemeProperty("jqx-editor-inline")),i.toolbarContainer.css("width",i.host.outerWidth()+"px"));var r=i.toolbarContainer.index();if("top"==i.toolbarPosition&&0!=r||"bottom"==i.toolbarPosition&&1!=r)switch(i.toolbarPosition){case"bottom":i.toolbarContainer.insertAfter(i.content);break;case"top":default:i.toolbarContainer.insertBefore(i.content)}var s=i.tools;if(s!==!1){var o=s.split(" "),n=s.split(" | "),a=function(t,r){e.each(r,function(s,o){var n=i.commands[this];if(n){if(i.createCommand){var a=i.createCommand(this.toString());n=e.extend(n,a)}}else{if(!i.createCommand)return!0;if(n=i.createCommand(this.toString()),!n)return!0;i.commands[this]||(i.commands[this]=n)}switch(i.localization[this]&&(n.tooltip=i.localization[this]),n.type){case"list":n.widget&&n.widget.jqxDropDownList("destroy");var l=function(e,t,i){return"formatblock"==n.command?"<"+i+' unselectable="on" style="padding: 0px; margin: 0px;">'+t+"</"+i+">":"fontname"==n.command?'<span unselectable="on" style="font-family: '+i+';">'+t+"<span>":"fontsize"==n.command?'<span unselectable="on" style="font-size: '+i+';">'+t+"<span>":void 0},d=function(){var e=i.toThemeProperty("jqx-editor-toolbar-icon")+" "+i.toThemeProperty("jqx-editor-toolbar-icon-"+n.command),t="<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+e+"'></div>";return t},h="formatblock"==n.command||"fontname"==n.command||"fontsize"==n.command,c=n.value||[],u=new Array,p=n.placeHolder||"Please Choose:";"fontname"==n.command?e.each(c,function(){var e=i.localization[this.label];u.push({label:e,value:this.value})}):"formatblock"==n.command?(p=i.localization.format,e.each(c,function(){if(this.label.indexOf("Header")>=0)var e=this.label.replace("Header",i.localization.Header);else var e=i.localization[this.label];u.push({label:e,value:this.value})})):u=c;var f={enableBrowserBoundsDetection:!0,touchMode:i.touchMode,width:n.width||100,height:n.height||25,dropDownWidth:n.dropDownWidth||"auto",autoDropDownHeight:(n.value&&n.value.length)<12,placeHolder:p,source:u,theme:i.theme,keyboardSelection:!1,focusable:!1,disabled:i.disabled,rtl:i.rtl,selectionRenderer:"fontsize"==n.command?d:null,renderer:h?l:null},m="jqx-disableselect "+i.toThemeProperty("jqx-editor-dropdownlist")+" "+i.toThemeProperty("jqx-editor-toolbar-item"),g=e("<div unselectable='on' class='"+m+"'></div>");g.appendTo(t),g.jqxDropDownList(f),n.init&&n.init(g);var o=null,v=null,x="";i.addHandler(g,"mousedown",function(t){if(e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0){var i=e(".jqx-editor-dropdownlist");e.each(i,function(t,i){i!=g[0]&&e(i).jqxDropDownList("close")})}}),i.addHandler(g,"open",function(e){i.focused||i.focus(),i.updating=!0,i.activeElement=g,o=g.val(),x=""}),i.addHandler(g,"change",function(t){i.updating=!1,i.activeElement=null,v=g.val(),x=t.args.type,e.jqx.browser.msie&&e.jqx.browser.version<9&&i.focus()}),i.addHandler(g,"close",function(e){i.updating=!1,i.activeElement=null,o!=v&&("mouse"!=x&&"keyboard"!=x||i._refreshTools())}),i._addCommandHandler(g,"change",n.command,null,n);break;case"colorPicker":n.widget&&(e(n.colorPicker).remove(),n.widget.jqxDropDownButton("destroy"));var w=e('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+n.command),m="jqx-disableselect "+i.toThemeProperty("jqx-editor-dropdownpicker")+" "+i.toThemeProperty("jqx-editor-toolbar-item"),g=e("<div unselectable='on' class='"+m+"'></div>");g.appendTo(t),g.append(w),g.jqxDropDownButton({touchMode:i.touchMode,disabled:i.disabled,enableBrowserBoundsDetection:!0,width:n.width||45,height:n.height||25,rtl:i.rtl,focusable:!1,theme:i.theme});var b=e('<div unselectable="on" style="z-index: 55;">'),y=i.toThemeProperty("jqx-editor-toolbar-icon")+" "+i.toThemeProperty("jqx-editor-toolbar-icon-"+n.command),_=e("<div unselectable='on' class='"+y+"'></div>");b.append(_);var j=e('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+n.command).css("background-color",n.value);b.append(j),g.jqxDropDownButton("setContent",b),w.append(e(i.colorPickerTemplate)),n.colorPicker=w,n.init&&n.init(g),w.find("tr").attr("role","row").attr("unselectable","on"),w.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),w.find("div").attr("unselectable","on"),i.addHandler(g,"mousedown",function(t){if(e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),e(".jqx-editor-dropdownpicker").length>0){var i=e(".jqx-editor-dropdownpicker");e.each(i,function(t,i){i!=g[0]&&e(i).jqxDropDownButton("close")})}}),i.addHandler(g,"open",function(){i.focused||i.focus(),i.updating=!0,i.activeElement=w}),i.addHandler(g,"close",function(e){i.updating=!1,i.activeElement=null,o!=v&&("mouse"!=x&&"keyboard"!=x||i._refreshTools())}),i.addHandler(w,"keydown",function(t){var i=t.keyCode,r=e(w).find(".jqx-editor-color-picker-selected-cell"),s=w.find("tr"),o=s.length,a=r.parent().children().length,l=r.index(),d=-999,h=r.parent();switch(e.each(s,function(e,t){return this==h[0]?(d=e,!1):void 0}),i){case 27:g.jqxDropDownButton("close");break;case 13:e(r).trigger("mousedown");break;case 38:d--;break;case 40:d++;break;case 39:l++;break;case 37:l--}if(d>=0&&o>=d&&l>=0&&a>=l){var h=w.find("tr")[d],c=e(h).children()[l],u=e(c).children().css("background-color");n.val(u)}});var q=e(w).find("td");n.val=function(t){var r=i._rgbToHex(t);e.each(q,function(){var t=e(this).children().css("background-color"),s=i._rgbToHex(t);return s==r?(q.removeClass("jqx-editor-color-picker-selected-cell"),e(this).addClass("jqx-editor-color-picker-selected-cell"),e("#bar-"+n.command).css("background",t),!1):void 0})},n.val(n.value),i._addCommandHandler(q,"mousedown",n.command,null,n);break;case"button":case"toggleButton":default:n.widget&&("button"==n.type?n.widget.jqxButton("destroy"):n.widget.jqxToggleButton("destroy"));var T=n.command,C=n.action,y=i.toThemeProperty("jqx-editor-toolbar-icon")+" "+i.toThemeProperty("jqx-editor-toolbar-icon-"+T),_=e("<div unselectable='on' class='"+y+"'></div>"),g=e("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(i.toThemeProperty("jqx-editor-toolbar-button"));n.init?T&&g.append(_):g.append(_),g.appendTo(t),"button"==n.type?g.jqxButton({disabled:i.disabled,rtl:i.rtl,theme:i.theme}):"toggleButton"==n.type&&g.jqxToggleButton({disabled:i.disabled,rtl:i.rtl,uiToggle:!1,theme:i.theme}),n.init&&n.init(g),n.toggled=!1,n.toggle=function(){n.toggled=!n.toggled},i.addHandler(g,"mousedown",function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),e.jqx.mobile.isTouchDevice()?i._addCommandHandler(g,"mousedown",T,C,n):i._addCommandHandler(g,"click",T,C,n)}if(n.widget=g,g){try{""!=n.tooltip&&(n.widget.attr("title",n.tooltip),n.widget.attr("data-tooltip",n.tooltip)),n.command&&n.widget.attr("data-command",n.command),n.widget.attr("aria-label",n.tooltip)}catch(k){}"button"!=n.type&&"toggleButton"!=n.type||(r.length>2&&(0==s?(g.css("border-right-radius","0px"),g.addClass(i.toThemeProperty("jqx-rc-l"))):s==r.length-1&&(g.css("border-left-radius","0px"),g.addClass(i.toThemeProperty("jqx-rc-r"))),g.removeClass(i.toThemeProperty("jqx-rc-all"))),0!=s&&s!=r.length-1&&r.length>2?(g.css("border-left-radius","0px"),g.css("border-right-radius","0px"),
g.removeClass(i.toThemeProperty("jqx-rc-all"))):2==r.length?(0==s?(g.css("border-right-radius","0px"),g.addClass(i.toThemeProperty("jqx-rc-l"))):(g.css("border-left-radius","0px"),g.addClass(i.toThemeProperty("jqx-rc-r"))),g.removeClass(i.toThemeProperty("jqx-rc-all"))):1==r.length&&g.css("margin-right","0px"))}})};if(i.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==n.length)a(i.toolbar,o);else{for(var l=0;l<n.length;l++){var d=n[l],o=d.split(" "),h=i.toThemeProperty("jqx-editor-toolbar-group")+" "+i.toThemeProperty("jqx-fill-state-normal"),c=e("<div class='"+h+"'></div>");c.addClass(i.toThemeProperty("jqx-rc-all")),i.toolbar.append(c),a(c,o)}for(var u=i.toolbar.find(".jqx-editor-toolbar-group"),p=u.length,l=0;p>l;l++)0==e(u[l]).children().length&&e(u[l]).remove()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(".jqx-editor-toolbar-group").css("float","left"),e(".jqx-editor-toolbar-group").children().css("float","left"),e(".jqx-editor-toolbar-group").css("zoom","1"),e(".jqx-editor-toolbar-group").children().css("zoom","1"))}i._arrange(),i._addHandlers()},_arrange:function(){var t=this;t.content&&(""==t.tools||0==t.tools?(t.content.height(t.container.outerHeight()-parseInt(t.container.css("padding-top"))-parseInt(t.container.css("padding-bottom"))-6),t.content.css("margin-top","4px"),t.toolbar.hide()):(t.toolbar.show(),t.content.css("margin-top","0px"),t.content.height(t.container.outerHeight()-t.toolbar.outerHeight()-parseInt(t.container.css("padding-top"))-parseInt(t.container.css("padding-bottom"))-2),"top"!=t.toolbarPosition&&(t.content.css("margin-top","4px"),t.content.css("margin-bottom","0px"))),e.jqx.browser.msie&&e.jqx.browser.version<8&&(t.content.css("margin-top","4px"),t.content.height(t.container.height()-t.toolbar.outerHeight()-2*parseInt(t.container.css("padding-bottom"))-10),t.content.width(t.container.width()-2*parseInt(t.container.css("padding-left"))-2)),t.editor.height()<t.content.height()&&t.editor.height(t.content.height()))},propertyChangedHandler:function(t,i,r,s){var o=t;if(void 0!=o.isInitialized&&0!=o.isInitialized&&"pasteMode"!=i&&"lineBreak"!=i&&"editable"!=i){if("disabled"==i&&t._refreshTools(),"width"==i||"height"==i||"toolbarPosition"==i)return void t._arrange();"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host),t.refresh()}},selectRange:function(e){var t=this;e||(e=t.getRange()),t.selection.selectRange(e)},getRange:function(){var e=this;return e.selection.getRange()},getSelectedElement:function(){var e,t,i,r,s=this;try{if(s.editorDocument.getSelection){var o=s.editorDocument.getSelection();return e=o.getRangeAt(o.rangeCount-1),i=e.startContainer,r=e.endContainer,t=e.commonAncestorContainer,"#text"==i.nodeName&&(t=t.parentNode),"#text"==i.nodeName&&(i=i.parentNode),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"#text"==r.nodeName&&(r=r.parentNode),"body"==r.nodeName.toLowerCase()&&(r=r.lastChild),i==r&&(t=i),r}if(s.editorDocument.selection){if(e=s.editorDocument.selection.createRange(),!e.duplicate)return null;t=e.parentElement();var n=e.duplicate(),a=e.duplicate();return n.collapse(!0),a.moveToElementText(n.parentElement()),a.setEndPoint("EndToStart",n),i=n.parentElement(),n=e.duplicate(),a=e.duplicate(),a.collapse(!1),n.moveToElementText(a.parentElement()),n.setEndPoint("StartToEnd",a),r=a.parentElement(),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"body"==r.nodeName.toLowerCase()&&(r=r.lastChild),i==r&&(t=i),r}}catch(l){return null}return null},_addHandlers:function(){var t=this;t.addHandler(t.toolbar,"mousedown.editor"+t.element.id,function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1});var i=function(){if(t._textArea&&(t.updating||(t._textArea.value=t.val())),t.changed&&(t._raiseEvent("change"),t.changed=!1),t.focused=!1,t.inline){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-editor-inline-focus")),""==t.tools||null==t.tools)return;t.toolbarContainer.fadeOut("fast")}},r=function(){if(t.focused=!0,t.inline){if(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(t.toThemeProperty("jqx-editor-inline-focus")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),""==t.tools||null==t.tools)return;t.toolbarContainer.fadeIn("fast");var e=t.host.coord();"bottom"!=t.toolbarPosition?t.toolbarContainer.offset({left:e.left,top:e.top-t.toolbarContainer.outerHeight()-5}):t.toolbarContainer.offset({left:e.left,top:e.top+5+t.host.height()})}};e.jqx.browser.mozilla&&this.addHandler(e(document),"mousedown.editor"+t.element.id,function(e){i()}),t.addHandler(t.editor,"blur.editor"+t.element.id,function(e){i()}),t.addHandler(t.editor,"focus.editor"+t.element.id,function(e){r()}),t.addHandler(t.editor,"beforedeactivate.editor"+t.element.id,function(e){t.range=t.getRange()}),t.addHandler(t.editor,"mousedown.editor"+t.element.id,function(i){i.target.href||t.linkPopup&&t.linkPopup.remove(),t.range=t.getRange(),e.jqx.browser.mozilla&&(r(),i.stopPropagation()),e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),t.inline&&t.editor.focus()}),e.jqx.mobile.isTouchDevice()&&(t.addHandler(e(t.editorDocument),"selectionchange.editor"+t.element.id,function(){t.editorDocument.activeElement!=t.editor[0]&&setTimeout(function(){t.iframe&&t.iframe[0].contentWindow.focus()},500)}),t.addHandler(e(t.editorDocument),"touchstart.editor"+t.element.id,function(){setTimeout(function(){t.iframe&&t.iframe[0].contentWindow.focus()},500)})),t.addHandler(t.editor,"mouseup.editor"+t.element.id,function(e){return"source"==t._documentMode?!0:(t.range=t.getRange(),void t._refreshTools(null,!0))}),t.addHandler(t.editor,"keydown.editor"+t.element.id,function(i){if(t.keyPressed&&t.keyPressed(i),"source"==t._documentMode)return!0;if(e.jqx.browser.mozilla&&(t.focused||r()),t.changeType="keyboard",t.disabled)return i.preventDefault&&i.preventDefault(),!1;if(t.updating){if(t.activeElement){var s=e.Event("keydown");e.extend(s,i),t.activeElement.trigger(s)}return i.preventDefault&&i.preventDefault(),!1}var o=i||window.event,n=o.keyCode,a=String.fromCharCode(n).toLowerCase();if(!t.editable){var l=[9,33,34,35,36,37,38,39,40,40,45];-1!=e.inArray(o.keyCode,l)||o.ctrlKey&&"c"==a||o.ctrlKey&&"a"==a||i.preventDefault()}if(t.selection.getText().length>0||t.linkPopup){var l=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];(-1!=!e.inArray(o.keyCode,l)||65==o.keyCode&&o.ctrlKey&&!o.altKey&&!o.shiftKey)&&(t._refreshToolsTimer&&clearTimeout(t._refreshToolsTimer),t._refreshToolsTimer=setTimeout(function(){t._refreshTools(null,!0,o.keyCode)},10))}if(13==n&&"default"!=t.lineBreak){var d=t.getSelectedElement();if(d){var h=d.nodeName.toLowerCase();switch(h){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var c=d;null!=c;){if("#document"==c.nodeName){c=t.editorDocument.body;break}if(c.parentNode==t.editorDocument.body||c==t.editorDocument.body)break;c=c.parentNode}}if(c){var u=t.getRange();"<div></div>"==t.editorDocument.body.innerHTML&&"br"!=t.lineBreak&&t.selection.insertContent("&#8203;"),"div"==t.lineBreak?c==t.editorDocument.body?e(c).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):e("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(c):"p"==t.lineBreak?c==t.editorDocument.body?e(c).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):e("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(c):t.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),t.selectRange(u);var p=e(t.editorDocument).find("#INSERTION_MARKER");return"br"!=t.lineBreak?t.selection.selectNode(e(p).prev()[0],!0):(t.selection.selectNode(p[0],!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(p[0])),p.remove(),t.selection.collapse(!1),c&&c.nodeName&&"br"==t.lineBreak&&"#text"!=c.nodeName.toLowerCase()&&(t.selection.selectNode(c,!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(c),t.selection.collapse(!1)),"br"!=t.lineBreak&&(u=t.getRange(),u.select&&u.select()),i.preventDefault&&i.preventDefault(),!1}}if(o.ctrlKey&&("k"==a||"u"==a||"b"==a||"i"==a)){i.preventDefault&&i.preventDefault();var f=null;switch(a){case"k":f="link";break;case"u":f="underline";break;case"b":f="bold";break;case"i":f="italic"}return t.commands[f].widget&&t.commands[f].widget.trigger("click"),!1}}),t.addHandler(t.editor,"paste.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if(t.readOnly)return!0;t.updating=!0,t.readOnly=!0;try{var r=function(e,i){if(i)t.paragraphise?(e="<p>"+e+"</p>",e=e.replace(/\n/g,"</p><p>"),e=e.replace(/<p>\s<\/p>/gi,"")):e=e.replace(/\n/g,"<br />");else{if(e=e.replace(/<html[^>]*?>(.*)/gim,"$1"),e=e.replace(/<\/html>/gi,""),e=e.replace(/<body[^>]*?>(.*)/gi,"$1"),e=e.replace(/<\/body>/gi,""),e=e.replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,""),e=e.replace(/<(?:meta|link)[^>]*>\s*/gi,""),e=e.replace(/<\\?\?xml[^>]*>/gi,""),e=e.replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,""),e=e.replace(/<o:p>\s*<\/o:p>/g,""),e=e.replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;"),e=e.replace(/<\/?\w+:[^>]*>/gi,""),e=e.replace(/<\!--[\s\S]*?-->/g,""),e=e.replace(/<\!\[[\s\S]*?\]>/g,""),e=e.replace(/\s*mso-[^:]+:[^;"']+;?/gi,""),e=e.replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3"),e=e.replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3"),e=e.replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,""),e=e.replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"'),e=e.replace(/\s*text-indent: 0cm\s*;/gi,""),e=e.replace(/\s*text-indent: 0cm\s*"/gi,'"'),e=e.replace(/\s*text-align: [^\s;]+;?"/gi,'"'),e=e.replace(/\s*page-break-before: [^\s;]+;?"/gi,'"'),e=e.replace(/\s*font-variant: [^\s;]+;?"/gi,'"'),e=e.replace(/\s*tab-stops:[^;"']*;?/gi,""),e=e.replace(/\s*tab-stops:[^"']*/gi,""),e=e.replace(/\s*face="[^"']*"/gi,""),e=e.replace(/\s*face=[^ >]*/gi,""),e=e.replace(/\s*font-family:[^;"']*;?/gi,""),e=e.replace(/\s*font-size:[^;"']*;?/gi,""),e=e.replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3"),e=e.replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,""),e=e.replace(/\s*style='\s*'/gi,""),e=e.replace(/\s*style="\s*"/gi,""),e=e.replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;"),e=e.replace(/<span\s*[^>]*><\/span>/gi,""),e=e.replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3"),e=e.replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3"),e=e.replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2"),e=e.replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1"),e=e.replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;"),e=e.replace(/<h\d>\s*<\/h\d>/gi,""),e=e.replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3"),e=e.replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3"),e=e.replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3"),e=e.replace(/<h(\d)([^>]*)>/gi,"<h$1>"),e=e.replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>"),e=e.replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>"),e=e.replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>"),e=e.replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>"),e=e.replace(/<\s+[^>]*>/gi,""),e=e.replace(/<span>([\s\S]*?)<\/span>/gi,"$1"),e=e.replace(/<span>([\s\S]*?)<\/span>/gi,"$1"),e=e.replace(/<div>([\s\S]*?)<\/div>/gi,"$1"),e=e.replace(/<div>([\s\S]*?)<\/div>/gi,"$1"),e=e.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),e=e.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),e=e.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),e.trim&&(e=e.trim()),t.paragraphise){var r=e.substr(0,2);"<p"!==r&&(e="<p>"+e+"</p>",e=e.replace(/\n/g,"</p><p>"),e=e.replace(/<br[^>]*>/gi,"</p><p>"))}else e.replace(/<p>/gi,"<br />"),e.replace(/<\/p>/gi,"");e=e.replace(/<br>/gi,"<br />"),e=e.replace(/<br[^>]*><\/p>/gim,"</p>"),e=e.replace(/<p>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s<\/p>/gi,""),e=e.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),e=e.replace(/MsoNormal/gi,""),e=e.replace(/<\/?meta[^>]*>/gi,""),e=e.replace(/<\/?xml[^>]*>/gi,""),e=e.replace(/<\?xml[^>]*\/>/gi,""),e=e.replace(/<!--(.*)-->/gi,""),e=e.replace(/<!--(.*)>/gi,""),e=e.replace(/<!(.*)-->/gi,""),e=e.replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,""),e=e.replace(/<w:[^>]*\/>/gi,""),e=e.replace(/<\/?w:[^>]*>/gi,""),e=e.replace(/<m:[^>]*\/>/gi,""),e=e.replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,""),e=e.replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,""),e=e.replace(/<o:[^>]*\/>/gi,""),e=e.replace(/<\/?m:[^>]*>/gi,""),e=e.replace(/style=\"([^>]*)\"/gi,""),e=e.replace(/style=\'([^>]*)\'/gi,""),e=e.replace(/class=\"(.*)\"/gi,""),e=e.replace(/class=\'(.*)\'/gi,""),e=e.replace(/<b>/gi,"<strong>"),e=e.replace(/<\/b>/gi,"</strong>"),e=e.replace(/<p[^>]*>/gi,"<p>"),e=e.replace(/<\/p[^>]*>/gi,"</p>"),e=e.replace(/<span[^>]*>/gi,""),e=e.replace(/<\/span[^>]*>/gi,""),e=e.replace(/<st1:[^>]*>/gi,""),e=e.replace(/<\/st1:[^>]*>/gi,""),e=e.replace(/<font[^>]*>/gi,""),e=e.replace(/<\/font[^>]*>/gi,""),e=e.replace("  ",""),e=e.replace(/<strong><\/strong>/gi,""),e=e.replace(/<p><\/p>/gi,""),e=e.replace(/\/\*(.*)\*\//gi,""),e=e.replace(/<!--/gi,""),e=e.replace(/-->/gi,""),e=e.replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,""),e=e.trim()}return e},s=t.getRange();"text"!=t.pasteMode||e.jqx.browser.mozilla?t.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>'):t.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>');var o=e(window).scrollTop(),n=e(t.editorDocument).find(".jqx-editor-paste-element");if(n.css("top",o+"px"),t.editor[0].createTextRange){i.preventDefault();var a=t.editor[0].createTextRange();a.moveToElementText(n[0]),a.execCommand("Paste")}else{var l=t.editorDocument.createRange();l.selectNodeContents(n[0]),t.selectRange(l)}"text"!=t.pasteMode||e.jqx.browser.mozilla||n.select(),t.marker=n,setTimeout(function(){t.selectRange(s);var i=function(e){var i=t.editorDocument.createElement("div"),r=t.editorDocument.createDocumentFragment();for(i.innerHTML=e;i.firstChild;)r.appendChild(i.firstChild);return r};if("text"!=t.pasteMode){var o=i(t.marker.html());if(o.firstChild&&"jqx-editor-paste-element"===o.firstChild.className){for(var n=[],a=0,l=o.childNodes.length;l>a;a++)n.push(o.childNodes[a].innerHTML);o=i(n.join("<br />"))}var d=document.createElement("div");d.appendChild(o.cloneNode(!0));var h=d.innerHTML}else{var h=t.marker.val();if(""!=t.marker.html()&&-1==t.marker.val().indexOf("\n")){var h=t.marker.html();h=h.replace(/&nbsp;/gm,""),h=h.replace(/\n\n/gm,"\n"),h=h.replace(/<br[^>]*>/gi,"\n"),h=h.replace(/<li[^>]*>/gi,"\n"),h=h.replace(/<p[^>]*>/gi,"\n"),t.marker.html(h);var h=t.marker.text()}}var c=r(h,"text"==t.pasteMode);t.getRange();t.selection.insertContent(c+"<span id='INSERTION_MARKER'>&nbsp;</span>"),t.marker.remove();var u=e(t.editorDocument).find("#INSERTION_MARKER");t.selection.selectNode(u[0],!0),t.getRange().setStartAfter&&t.getRange().setStartAfter(u[0]),u.remove(),t.selection.collapse(!1),u.removeAttr("id"),t._refreshTools(),t.changed=!0},100),t.updating=!1,t.readOnly=!1}catch(d){console}}),t.addHandler(t.editor,"keyup.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if(t.updating||t.disabled||!t.editable)return i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1;t.range=t.getRange(),t.changed=!0;var r=i||window.event,s=(r.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46]);(-1!=e.inArray(r.keyCode,s)||65==r.keyCode&&r.ctrlKey&&!r.altKey&&!r.shiftKey)&&t._refreshTools(null,!0,r.keyCode)}),t.addHandler(t.editor,"click.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if(t.editImage&&(e(t.editImage).removeClass("jqx-editor-focus"),t.editImage=null),"img"==i.target.tagName.toLowerCase()){var r=i.target;t.editImage=r,e(t.editImage).addClass("jqx-editor-focus")}}),t.addHandler(t.editor,"dblclick.editor"+t.element.id,function(i){if("source"==t._documentMode)return!0;if("img"==i.target.tagName.toLowerCase()){var r=i.target;e("#imageWindow"+this.element.id).length>0&&(t.editImage=r,t._updateImageWindow())}})},_updateLinkWindow:function(){var t=this,i=e("#linkWindow"+this.element.id);i.jqxWindow({position:{center:t.widget}}),i.jqxWindow("open");var r=i.find("input"),s=i.find(".jqx-editor-link-checkbox"),o=i.find("button:first"),n=e(i.find("button")[1]);if(t.editLink&&t.editLink.href)r[0].value=t.editLink.href||"",r[1].value=e(t.editLink).text()||t.editLink.href,s.val("_blank"==e(t.editLink).attr("target")),n.show();else{if(r[0].value="",r[1].value="",!t.selection.isCollapsed()){var a=t.selection.getText();a.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?r[0].value=a:r[1].value=a}s.val(!1),n.hide()}r[0].value.length>0?o.jqxButton({disabled:!1}):o.jqxButton({disabled:!0})},_updateImageWindow:function(){var t=this,i=t.editImage;i||(i=e("<img>")[0]);var r=e("#imageWindow"+this.element.id);r.jqxWindow({position:{center:t.widget}}),r.jqxWindow("open");var s=r.find("input"),o=e(r.find("button")[1]);t.editImage?o.show():o.hide(),s[0].value=i.src,""==s[0].value&&(s[0].value=""),s[1].value=i.alt,"auto"!=i.style.width?s[2].value=i.style.width:s[2].value="","auto"!=i.style.height?s[3].value=i.style.height:s[3].value="",i.style.marginLeft&&"0px"!=i.style.marginLeft?s[4].value=i.style.marginLeft:s[4].value="",i.style.marginTop&&"0px"!=i.style.marginTop?s[5].value=i.style.marginTop:s[5].value="";var n=r.find(".jqx-editor-align"),a=e(i).css("float");"left"==a?n.jqxDropDownList({selectedIndex:1}):"right"==a?n.jqxDropDownList({selectedIndex:2}):n.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var e=this;e.editor&&(e.removeHandler(e.editor,"blur.editor"+e.element.id),e.removeHandler(e.editor,"focus.editor"+e.element.id),e.removeHandler(e.editor,"click.editor"+e.element.id),e.removeHandler(e.editor,"mousedown.editor"+e.element.id),e.removeHandler(e.editor,"mouseup.editor"+e.element.id),e.removeHandler(e.editor,"keyup.editor"+e.element.id),e.removeHandler(e.editor,"keydown.editor"+e.element.id),e.removeHandler(e.editor,"beforedeactivate.editor"+e.element.id),e.removeHandler(e.editor,"dblclick.editor"+e.element.id)),e.toolbar&&e.removeHandler(e.toolbar,"mousedown.editor"+e.element.id)},getParentByTag:function(e,t){var t=t.toLowerCase(),i=e;do if(""==t||i.nodeName.toLowerCase()==t)return i;while(i=i.parentNode);return e},isStyleProperty:function(e,t,i,r){var t=t.toLowerCase(),s=e;do if(s.nodeName.toLowerCase()==t&&s.style[i]==r)return!0;while(s=s.parentNode);return!1},setStyleProperty:function(e,t){this.style[t]=!1;var i=this.getParentByTag(e,t);i&&i.tagName.toLowerCase()==t&&(this.style[t]=!0),"del"==t&&this.getParentByTag(e,"strike")&&"strike"==this.getParentByTag(e,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(e){var t=this,e=t.getSelectedElement()?t.getSelectedElement():e;if(e&&t.setStyleProperty)try{if(window.getComputedStyle){"#text"==e.nodeName.toLowerCase()&&(e=t.editor[0]);var i=window.getComputedStyle(e,null),r=401==i.getPropertyValue("font-weight")?700:i.getPropertyValue("font-weight");t.style={fontStyle:i.getPropertyValue("font-style"),fontSize:i.getPropertyValue("font-size"),textDecoration:i.getPropertyValue("text-decoration"),fontWeight:r,fontFamily:i.getPropertyValue("font-family"),textAlign:i.getPropertyValue("text-align"),color:t._rgbToHex(i.color),backColor:t._rgbToHex(i.backgroundColor)},t.style.fontStyle=i.getPropertyValue("font-style"),t.style.vAlign=i.getPropertyValue("vertical-align"),t.style.del=t.isStyleProperty(e,"span","textDecoration","line-through"),t.style.u=t.isStyleProperty(e,"span","textDecoration","underline");var s=function(e){for(var t="transparent",i="rgba(0, 0, 0, 0)";e&&(window.getComputedStyle(e).backgroundColor==t||window.getComputedStyle(e).backgroundColor==i);)e=e.parentNode;return e?window.getComputedStyle(e).backgroundColor:t};t.style.backColor||(t.style.backColor=t._rgbToHex(s(e)))}else{var i=e.currentStyle;t.style={fontStyle:i.fontStyle,fontSize:i.fontSize,textDecoration:i.textDecoration,fontWeight:i.fontWeight,fontFamily:i.fontFamily,textAlign:i.textAlign,color:t._rgbToHex(i.color),backColor:t._rgbToHex(i.backgroundColor)}}t.setStyleProperty(e,"h1"),t.setStyleProperty(e,"h2"),t.setStyleProperty(e,"h3"),t.setStyleProperty(e,"h4"),t.setStyleProperty(e,"h5"),t.setStyleProperty(e,"h6"),t.setStyleProperty(e,"del"),t.setStyleProperty(e,"sub"),t.setStyleProperty(e,"sup"),t.setStyleProperty(e,"u"),"a"==e.nodeName.toLowerCase()&&"underline"==t.style.textDecoration&&(t.style.u=!0),(t.style.h1||t.style.h2||t.style.h3||t.style.h4||t.style.h5||t.style.h6)&&(t.style.heading=!0)}catch(o){return null}},_refreshTools:function(t,i,r){var s=this;if(!s.updating){var t=s.getSelectedElement()?s.getSelectedElement():t;if(t&&s.setStyleProperty){s.updateStyle(t);var o=s.readOnly;if(s.readOnly=!0,s.tools!==!1){var n=s.tools.split(" "),a=s.tools.split(" | "),l=function(t){e.each(t,function(e,t){var i=s.commands[this];if(!i)return!0;switch(i.type){case"list":i.widget.jqxDropDownList("clearSelection"),i.widget.jqxDropDownList({disabled:s.disabled});break;case"colorPicker":i.val(i.value),i.widget.jqxDropDownButton({disabled:s.disabled});break;case"toggleButton":i.widget.jqxToggleButton("unCheck"),i.widget.jqxToggleButton({disabled:s.disabled});break;case"button":default:i.widget.jqxButton({disabled:s.disabled})}})};if(0==a.length)l(n);else for(var d=0;d<a.length;d++){var h=a[d],n=h.split(" ");l(n)}if(s.style){var c=function(r){e.each(r,function(r,o){var n=s.commands[this];if(!n)return!0;if(n.refresh)return n.refresh(n.widget,s.style),!0;switch(n.type){case"list":if("fontname"==n.command){for(var a=-1,l=999,d=0;d<n.value.length;d++){var o=n.value[d].label.toLowerCase(),h=s.style.fontFamily.toLowerCase().indexOf(o);h>=0&&(l>h&&(a=d),l=Math.min(l,h))}n.widget.jqxDropDownList("selectIndex",a)}else if("formatblock"==n.command){var o=null;s.style.h1?o="h1":s.style.h2?o="h2":s.style.h3?o="h3":s.style.h4?o="h4":s.style.h5?o="h5":s.style.h6&&(o="h6"),n.widget.jqxDropDownList("selectItem",o)}else if("fontsize"==n.command){var c="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),u=-1;try{var u=t.getAttribute("size")-1;-1==u&&(u=s.editorDocument.queryCommandValue(n.command)-1)}catch(p){}var f=c[u];n.widget.val(f)}break;case"colorPicker":var m=function(e){return"number"!=typeof e?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")"},g=m(s.editorDocument.queryCommandValue(n.command));"backcolor"==n.command&&null==s.style.backColor&&(g="#FFFFFF");var v=s._rgbToHex(g);v?n.val(v):"forecolor"==n.command?n.val(s.style.color):"backcolor"==n.command&&n.val(s.style.backColor);break;case"toggleButton":if("viewsource"==n.command)return;if(!n.command)return;var x=!1,w=s.editorDocument.queryCommandState(n.command)&&s.editorDocument.queryCommandEnabled(n.command);if("createlink"==n.command&&"a"==t.nodeName.toLowerCase()){var b=!0;if(-1==e(t).text().indexOf(s.selection.getText())&&""!=s.selection.getText()&&(b=!1),b){s.linkPopup&&s.linkPopup.remove(),w=!0,s.linkPopup=e("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+s.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+t.href+"'>"+t.href+"</a> - <a style='color:#222222;' href='#change'>"+s.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+s.localization.Remove+"</a></div>").appendTo(s.editor);var y=e(t).coord(),_=y.left;y.left+s.linkPopup.width()>s.editor.width()&&(_=s.editor.width()-s.linkPopup.width()-15),s.linkPopup.offset({top:e(t).height()+y.top+5,left:_}),s.addHandler(s.linkPopup,"mousedown",function(i){if(i.target&&i.target.href){var r=e(i.target).index();switch(r){case 1:s.editor.focus(),s.selection.selectNode(t,!0),s.commands.link.widget.trigger("click");break;case 2:try{s.editor.focus(),s.selection.selectNode(t),s.execute("unlink"),s.commands.underline.toggled=!1,s.selection.collapse(!1),s._refreshTools()}catch(o){}break;default:window.open(i.target.href,"_blank")}}return i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),!1})}}"bold"==n.command?(s.style.fontWeight&&(s.style.fontWeight>=600||"bold"==s.style.fontWeight)&&(x=!0),s.selection.isCollapsed()?n.toggled=w:n.toggled=w||x,w=n.toggled):"italic"==n.command?(s.style.fontStyle&&"italic"==s.style.fontStyle&&(x=!0),i?n.toggled=w:w=n.toggled):"underline"==n.command?(s.style.u&&(x=!0),i?n.toggled=w:w=n.toggled):"justifyleft"==n.command?"left"==s.style.textAlign&&(x=!0):"justifyright"==n.command?"right"==s.style.textAlign&&(x=!0):"justifycenter"==n.command?"center"==s.style.textAlign&&(x=!0):"justifyfull"==n.command?"justify"==s.style.textAlign&&(x=!0):e.each(s.style,function(e,t){n.command==e.toLowerCase()&&(x=!0)});var j=w;x&&-1!=n.command.indexOf("justify")?n.widget.jqxToggleButton("check"):j?n.widget.jqxToggleButton("check"):x&&s.range.collapsed===!1?n.widget.jqxToggleButton("check"):e.jqx.browser.msie&&e.jqx.browser.version<9&&x&&!s.selection.isCollapsed()&&n.widget.jqxToggleButton("check");break;case"button":default:n.refresh&&n.refresh(n.widget,s.style)}})};if(0==a.length)c(n);else for(var d=0;d<a.length;d++){var h=a[d],n=h.split(" ");c(n)}}}s.readOnly=o}}},_rgbToHex:function(e){if(e){if("#"===e.substr(0,1)){if(4==e.length){var t=e.substr(1,1),i=e.substr(2,1),r=e.substr(3,1);return"#"+t+t+i+i+r+r}return e}var s=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(e);if(!s)return null;var t=parseInt(s[2],10).toString(16),i=parseInt(s[3],10).toString(16),r=parseInt(s[4],10).toString(16);return"#"+((1==t.length?"0"+t:t)+(1==i.length?"0"+i:i)+(1==r.length?"0"+r:r))}return null},_preventDefault:function(t,i){i!==!1&&(e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close")),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1},_addCommandHandler:function(t,i,r,s,o){var n=this;switch(!r&&o.init&&(r="custom"),r){case"custom":switch(o.type){case"list":action=function(t){"source"!=n._documentMode&&"none"!=t.args.type&&(o.value=e(this).val(),n.execute("custom",o),n.readOnly||n._refreshTools()),n._preventDefault(t,!1)};break;case"colorPicker":action=function(t){if("source"!=n._documentMode){e(o.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==t.target.nodeName.toLowerCase()){var i=e(t.target).css("background-color");e(t.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var i=e(t.target).find("div").css("background-color");e(t.target).addClass("jqx-editor-color-picker-selected-cell")}e("#bar-"+r).css("background",i),o.widget.val=function(){var e=function(e){return"number"!=typeof e?e:"rgb("+(255&e)+", "+((65280&e)>>8)+", "+((16711680&e)>>16)+")"},t=e(i),r=n._rgbToHex(t);return r},o.widget.jqxDropDownButton("close"),n.execute("custom",o)}return n._preventDefault(t),!1};break;case"button":case"toggleButton":default:action=function(t){e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),n._preventDefault(t);e(this).attr("data-command");return"source"!=n._documentMode&&(o.toggle&&o.toggle(),n.execute("custom",o),n._refreshTools()),!1}}break;case"formatblock":action=function(t){"source"!=n._documentMode&&"none"!=t.args.type&&(n.execute(e(this).attr("data-command"),"<"+e(this).val()+">",o),n.readOnly||(n.commands.bold.toggled=!1,n._refreshTools())),n._preventDefault(t,!1)};break;case"fontsize":action=function(t){if("source"!=n._documentMode&&"none"!=t.args.type){var i=e(this).val(),r="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),s=e(this).jqxDropDownList("getSelectedIndex")+1,s=1+r.indexOf(i);n.execute(e(this).attr("data-command"),s,o)}n._preventDefault(t,!1)};break;case"fontname":action=function(t){if("source"!=n._documentMode&&"none"!=t.args.type){var i=e(this).val();n.execute(e(this).attr("data-command"),i,o)}n._preventDefault(t,!1)};break;case"forecolor":case"backcolor":action=function(t){if("source"!=n._documentMode){e(o.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==t.target.nodeName.toLowerCase()){var i=e(t.target).css("background-color");e(t.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var i=e(t.target).find("div").css("background-color");e(t.target).addClass("jqx-editor-color-picker-selected-cell")}e("#bar-"+r).css("background",i),o.widget.jqxDropDownButton("close"),n.execute(r,i,o)}return n._preventDefault(t),!1};break;case"viewsource":action=function(t){return n.linkPopup&&n.linkPopup.remove(),o.toggle(),n.setMode(o.toggled),e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),n._preventDefault(t),!1};break;case"insertimage":action=function(e){n._insertImageAction(e,n,o)};break;case"createlink":action=function(e){n._createLinkAction(e,n,o)};break;default:action=function(t){e(".jqx-editor-dropdownpicker").length>0&&e(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),e(".jqx-editor-dropdownlist").length>0&&e(".jqx-editor-dropdownlist").jqxDropDownList("close"),n._preventDefault(t);var i=e(this).attr("data-command");if("source"!=n._documentMode){if("underline"==i&&n.getSelectedElement()){var r=n.getSelectedElement();if(r&&"a"==r.nodeName.toLowerCase())return o.toggled?e(r).css("text-decoration","none"):e(r).css("text-decoration","underline"),o.toggle(),n._refreshTools(),!1}o.toggle&&o.toggle(),n.execute(i,e(this).val(),o),n._refreshTools()}return!1}}return n.addHandler(t,i,action),!1},_createLinkAction:function(t,i,r){var i=this;if("source"==i._documentMode)return void i._preventDefault(t);i.focused||i.editor.focus(),i.range=i.getRange();var s=i.getSelectedElement();if("a"==s.nodeName.toLowerCase()?i.editLink=s:i.editLink=null,e("#linkWindow"+this.element.id).length>0)return i.editLink&&i.selection.selectNode(s,!0),i._updateLinkWindow(),i._preventDefault(t),!1;var o=e("<div class='jqx-editor-window jqx-editor-link-window'><div>"+i.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+i.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+i.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");o[0].id="linkWindow"+this.element.id;var n=o.find("input");n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-widget-content")),n.addClass(i.toThemeProperty("jqx-input"));var a=o.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:i.theme,height:23,width:180}),l=o.find("button:first").jqxButton({theme:i.theme,disabled:!0}),d=e(o.find("button")[1]).jqxButton({theme:i.theme}),h=o.find("button:last").jqxButton({theme:i.theme});l.val(i.localization.Ok),h.val(i.localization.Cancel),d.val(i.localization.Remove),i.addHandler(h,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){i.editor.focus(),i.selectRange(i.range),i._refreshTools(),i._preventDefault(e)}),(!i.editLink||i.editLink&&!i.editLink.href)&&d.hide();var c=!1;if(i.addHandler(e(n[0]),"focus",function(){c=""==n[1].value||n[1].value==n[0].value}),i.addHandler(e(n[1]),"keyup",function(e){e.keyCode&&(13==e.keyCode&&l.trigger("click"),
27==e.keyCode&&h.trigger("click"))}),i.addHandler(e(n[0]),"keyup change",function(e){n[0].value.length>0?l.jqxButton({disabled:!1}):l.jqxButton({disabled:!0}),c&&(n[1].value=n[0].value),e.keyCode&&(13==e.keyCode&&l.trigger("click"),27==e.keyCode&&h.trigger("click"))}),i.addHandler(d,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(e){o.jqxWindow("close");try{i.editor.focus(),i.selection.selectNode(i.editLink),i.execute("unlink"),i.selection.collapse(!1),i.commands.underline.toggled=!1,i._refreshTools()}catch(t){}i._preventDefault(e)}),i.addHandler(l,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){var s=o.find("input"),n=e("<a>"+(s[1].value||s[0].value)+"</a>");a.val()&&n.attr("target","_blank"),n[0].href=e.trim(s[0].value),-1==s[0].value.indexOf("http")&&-1==s[0].value.indexOf("mailto")&&(n[0].href="http://"+e.trim(s[0].value)),i.focused||i.editor.focus(),i.range&&i.selectRange(i.range),i.editLink&&e(i.editLink).remove(),i.execute("insertHTML",""+n[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",r),i.editor.focus();var l=e(i.editorDocument).find("#INSERTION_MARKER");i.selection.selectNode(l[0],!0),i.getRange().setStartAfter&&i.getRange().setStartAfter(l[0]),l.remove(),i.selection.collapse(!1),i._refreshTools(),i._preventDefault(t)}),i.updating=!0,o.appendTo(document.body),i.addHandler(o,"open",function(){i.updating=!0,setTimeout(function(){i.range=i.getRange(),e(n[0]).focus()},25)}),o.jqxWindow({resizable:!1,width:280,okButton:l,cancelButton:h,theme:i.theme,isModal:!0,position:{center:i.widget}}),i.addHandler(o,"close",function(){i.updating=!1}),i.focused||(i.editor.focus(),i.selectRange(i.range)),i.editLink)n[0].value=i.editLink.href||"",n[1].value=e(i.editLink).text(),a.val("_blank"==e(i.editLink).attr("target"));else if(!i.selection.isCollapsed()){var u=i.selection.getText();u.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?n[0].value=u:n[1].value=u}return n[0].value.length>0?l.jqxButton({disabled:!1}):l.jqxButton({disabled:!0}),i._preventDefault(t),!1},_insertImageAction:function(t,i,r){if("source"==i._documentMode)return void i._preventDefault(t);if(i.focused||i.editor.focus(),i.range=i.getRange(),e("#imageWindow"+this.element.id).length>0)return i._updateImageWindow(),i._preventDefault(t),!1;var s=e("<div class='jqx-editor-window jqx-editor-image-window'><div>"+i.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+i.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+i.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+i.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+i.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");s[0].id="imageWindow"+this.element.id;var o=s.find("input");o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-widget-content")),o.addClass(i.toThemeProperty("jqx-input")),s.find(".jqx-editor-align").jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0,theme:i.theme,height:23,width:180,source:[i.localization["not set"],i.localization.Left,i.localization.Right]});var n=s.find("button:first").jqxButton({theme:i.theme}),a=s.find("button:last").jqxButton({theme:i.theme}),l=e(s.find("button")[1]).jqxButton({theme:i.theme});return n.val(i.localization.Ok),a.val(i.localization.Cancel),l.val(i.localization.Remove),l.hide(),i.addHandler(l,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(i.editImage).removeClass("jqx-editor-focus"),e(i.editImage).remove(),i.editImage=null,i._preventDefault(t),s.jqxWindow("close"),i._raiseEvent("change")}),i.addHandler(a,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(i.editImage).removeClass("jqx-editor-focus"),i.editImage=null,i._preventDefault(t)}),i.addHandler(n,e.jqx.mobile.isTouchDevice()?e.jqx.mobile.getTouchEventName("touchstart"):"click",function(t){e(i.editImage).removeClass("jqx-editor-focus");var o=s.find("input"),n=e(i.editImage?i.editImage:'<img style="border: 1px solid transparent;">'),a=n.attr("src",o[0].value).attr("unselectable","on");o[1].value&&a.attr("alt",o[1].value).attr("title",o[1].value),o[2].value&&!isNaN(parseInt(o[2].value))?a.width(o[2].value):a.css("width","auto"),o[3].value&&!isNaN(parseInt(o[3].value))?a.height(o[3].value):a.css("height","auto"),o[4].value?"auto"==o[4].value.toString()?(a.css("margin-left","auto"),a.css("margin-right","auto")):-1!=o[4].value.toString().indexOf("%")?(a.css("margin-left",parseInt(o[4].value)+"%"),a.css("margin-right",parseInt(o[4].value)+"%")):(a.css("margin-left",parseInt(o[4].value)+"px"),a.css("margin-right",parseInt(o[4].value)+"px")):(a.css("margin-left","0px"),a.css("margin-right","0px")),o[5].value?"auto"==o[5].value.toString()?(a.css("margin-top","auto"),a.css("margin-bottom","auto")):-1!=o[5].value.toString().indexOf("%")?(a.css("margin-top",parseInt(o[5].value)+"%"),a.css("margin-bottom",parseInt(o[5].value)+"%")):(a.css("margin-top",parseInt(o[5].value)+"px"),a.css("margin-bottom",parseInt(o[5].value)+"px")):(a.css("margin-top","0px"),a.css("margin-bottom","0px"));var l=s.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(1==l?a.css("float","left"):2==l?a.css("float","right"):0==l&&a.css("float","none"),a.css("resize",!1),a[0].oncontrolselect=function(){return!1},a[0].selectstart=function(){return!1},!i.editImage){i.focused||i.editor.focus(),i.range&&i.selectRange(i.range),i.execute("insertHTML",a[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",r),i.editor.focus();var d=e(i.editorDocument).find("#INSERTION_MARKER");i.selection.selectNode(d[0],!0),i.getRange().setStartAfter&&i.getRange().setStartAfter(d[0]),d.remove(),i.selection.collapse(!1),i._refreshTools(),i._preventDefault(t)}i.editImage=null,i._preventDefault(t)}),s.appendTo(document.body),i.updating=!0,i.addHandler(s,"open",function(){i.updating=!0,setTimeout(function(){i.range=i.getRange(),e(o[0]).focus()},25)}),s.jqxWindow({resizable:!1,width:280,okButton:n,cancelButton:a,theme:i.theme,isModal:!0,position:{center:i.widget}}),i.addHandler(s,"close",function(){i.updating=!1}),i.focused||(i.editor.focus(),i.selectRange(i.range)),i._preventDefault(t),!1},editmode:function(t){var i=this;if(t||i.readOnly){if(t&&i.readOnly){var r=i.editor.find("#sourceText").text();i.editor.html(r),i.buttons.hasOwnProperty("html")&&i.buttons.html.removeClass("active"),i.editor.attr("contentEditable",!0),i._addHandlers()}}else{i._removeHandlers(),i.editor.attr("contentEditable",!1);var r=document.createTextNode(i.editor.html()),s=e("<pre>");s.html(r).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),i.editor.html(s),i.buttons.hasOwnProperty("html")&&i.buttons.html.addClass("active"),s.focus()}i.readOnly=!t},setMode:function(t){var r=this;r.range||(r.editor.focus(),r.range=r.getRange());var s,o=r.editor[0];if(t){r._documentMode="source";var n=new i,a=n.HTMLtoXML(o.innerHTML);a=n.FormatHTML(a),s=document.createTextNode(a),o.innerHTML="";var l=document.createElement("pre");o.contentEditable=!1,l.style.height="100%",l.style.margin="0px",l.style.outline="none",l.style.display="block",l.id="sourceText",l.contentEditable=!0,l.appendChild(s),o.appendChild(l),this.readOnly=!0}else this._documentMode="html",document.all?o.innerHTML=o.innerText:o.textContent?o.innerHTML=o.textContent:(s=document.createRange(),s.selectNodeContents(o.firstChild),o.innerHTML=s.toString()),o.contentEditable=!0,r.readOnly=!1,r._refreshTools(),r.editor.focus(),r.selection.selectNode(r.editor[0]),r.editor.scrollTop(0),r.selection.collapse(!0);if(e.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:t});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:t});break;case"button":this.widget.jqxButton({disabled:t});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:t})}}),r.editor.focus(),e.jqx.browser.mozilla){var d=e("<a href='#'>anchor</a>");r.editor.prepend(d),d.focus(),d.remove(),r.selection.collapse(!0)}r.commands.html.widget&&(r.commands.html.widget.jqxToggleButton({toggled:"source"==t||1==t}),r.commands.html.toggled="source"==t||1==t)},execute:function(t,i,r){var s=this;if(!s.readOnly){var o=s.editorDocument;if("source"==s._documentMode)return;s.changeType="mouse",s.linkPopup&&s.linkPopup.remove(),s.editor.focus(),e.jqx.browser.mozilla,e.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);var n=function(t){try{if(t.command&&"inserthtml"==t.command.toLowerCase()){var i=s.getRange(),r=t.value;-1==r.toString().indexOf("<")&&(r="<span>"+t.value+"</span>"),s.selection.insertContent(""+r+"<span id='INSERTION_MARKER'>&nbsp;</span>"),s.selectRange(i),setTimeout(function(){var t=e(s.editorDocument).find("#INSERTION_MARKER");s.selection.selectNode(e(t).prev()[0],!0),t.remove(),s.selection.collapse(!1)},10)}else if(t.command){if(!o.queryCommandEnabled(t.command))return!1;o.execCommand(t.command,!1,t.value)}else{if(!o.queryCommandEnabled(t))return!1;o.execCommand(t,!1,t)}}catch(n){}};if("custom"==t){var a=i.action(i.widget,s.editor);a&&n(a)}else try{if(r&&r.action){var a=r.action(r.widget,s.editor);n(a)}else if(o.queryCommandEnabled(t))o.execCommand(t,!1,i);else{if("insertHTML"!=t)return!1;s.selection.insertContent(i)}}catch(l){if("insertHTML"!=t)return!1;s.selection.insertContent(i)}e.jqx.mobile.isTouchDevice()&&setTimeout(function(){s.iframe&&s.iframe[0].contentWindow.focus()},500),s._raiseEvent("change",{command:t,args:i}),s.changed=!0,s.range=s.getRange()}},destroy:function(){var t=this;t._removeHandlers();var i=t.tools.split(" "),r=t.tools.split(" | ");e.jqx.utilities.resize(this.host,null,!0);var s=function(i){e.each(i,function(i,r){var s=t.commands[this];if(!s)return!0;switch(s.type){case"list":s.widget.jqxDropDownList("destroy");break;case"colorPicker":s.colorPicker.remove(),s.widget.jqxDropDownButton("destroy");break;case"toggleButton":s.widget.jqxToggleButton("destroy");break;case"custom":t.destroyTool&&t.destroyTool(this);break;case"button":default:s.widget.jqxToggleButton("destroy"),"insertimage"===s.command?e("#imageWindow"+t.element.id).length>0&&(e("#imageWindow"+t.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),e("#imageWindow"+t.element.id).find("button").jqxButton("destroy")):"createlink"===s.command&&e("#linkWindow"+t.element.id).length>0&&(e("#linkWindow"+t.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),e("#linkWindow"+t.element.id).find("button").jqxButton("destroy"),e("#linkWindow"+t.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy"))}})};if(0==r.length)s(i);else for(var o=0;o<r.length;o++){var n=r[o],i=n.split(" ");s(i)}var a=e("#linkWindow"+this.element.id),l=e("#imageWindow"+this.element.id);a&&a.length>0&&a.jqxWindow("destroy"),l&&l.length>0&&l.jqxWindow("destroy"),t.inline?t.toolbar.remove():(t.widget.remove(),t.host.remove()),t.iframe.remove(),t.iframe=null,t.selection=null,t.editorDocument=null,t.contentEditableElement=null},val:function(e){return void 0!=e&&"object"!=typeof e&&this.editor.html(e),this.editor.html()},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),"source"==this._documentMode)return!0;var r=t;i.type=this.changeType,this.changeType=null,args=i,args.owner=this;var s=new e.Event(r);if(s.owner=this,s.args=args,this._textArea)var o=e(this._textArea).trigger(s);else var o=this.host.trigger(s);return i=s.args,o}});var t=function(t){var i={initialize:function(e){this.document=e},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var e=this.getSelection();if(!e)return null;try{return e.rangeCount>0?e.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch(t){return this.document.body.createTextRange()}},selectRange:function(e){if(e.select)e.select();else{var t=this.getSelection();t.addRange&&(t.removeAllRanges(),t.addRange(e))}},selectNode:function(e,t){var i=this.getRange(),r=this.getSelection();if(i.moveToElementText)i.moveToElementText(e),i.select();else if(r.addRange)try{t?i.selectNodeContents(e):i.selectNode(e),r.removeAllRanges(),r.addRange(i)}catch(s){}else r.setBaseAndExtent(e,0,e,1);return e},isCollapsed:function(){var e=this.getRange();return e.item?!1:0==e.boundingWidth||this.getSelection().isCollapsed},collapse:function(e){var t=this.getRange(),i=this.getSelection();t.select?(t.collapse(e),t.select()):e?i.collapseToStart():i.collapseToEnd()},getContent:function(){var t=this.getRange(),i=e("<div>")[0];if(this.isCollapsed())return"";t.cloneContents?i.appendChild(t.cloneContents()):void 0!=t.item||void 0!=t.htmlText?e(i).html(t.item?t.item(0).outerHTML:t.htmlText):e(i).html(t.toString());var r=e(i).html();return r},getText:function(){var e=this.getRange(),t=this.getSelection();return this.isCollapsed()?"":e.text||(t.toString?t.toString():"")},getNode:function(){var i=this.getRange();if(!e.jqx.browser.msie||e.jqx.browser.version>=9){var r=null;if(i)for(r=i.commonAncestorContainer,i.collapsed||i.startContainer==i.endContainer&&i.startOffset-i.endOffset<2&&i.startContainer.hasChildNodes()&&(r=i.startContainer.childNodes[i.startOffset]);"element"!=typeof r;)r=r.parentNode;return t.id(r)}return t.id(i.item?i.item(0):i.parentElement())},insertContent:function(e){var t=this.getRange();if(t.pasteHTML)t.pasteHTML(e),t.collapse(!1),t.select();else if(t.insertNode)if(t.deleteContents(),t.createContextualFragment)t.insertNode(t.createContextualFragment(e));else{var i=this.document,r=i.createDocumentFragment(),s=i.createElement("div");r.appendChild(s),s.outerHTML=e,t.insertNode(r)}}};return i.initialize(t),i},i=function(){function e(e){for(var t={},i=e.split(","),r=0;r<i.length;r++)t[i[r]]=!0;return t}var t=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,i=/^<\/([-A-Za-z0-9_]+)[^>]*>/,r=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,s=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),o=e("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),n=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),a=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),d=e("script,style"),h=this.HTMLParser=function(e,h){function c(e,t,i,d){if(t=t.toLowerCase(),o[t])for(;g.last()&&n[g.last()];)u("",g.last());if(a[t]&&g.last()==t&&u("",t),d=s[t]||!!d,d||g.push(t),h.start){var c=[];i.replace(r,function(e,t){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[t]?t:"";c.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})}),h.start&&h.start(t,c,d)}}function u(e,t){if(t)for(var i=g.length-1;i>=0&&g[i].toLowerCase()!=t.toLowerCase();i--);else var i=0;if(i>=0){for(var r=g.length-1;r>=i;r--)h.end&&h.end(g[r]);g.length=i}}var p,f,m,g=[],v=e;for(g.last=function(){return this[this.length-1]};e;){if(f=!0,g.last()&&d[g.last()])e=e.replace(new RegExp("(.*)</"+g.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),h.chars&&h.chars(t),""}),u("",g.last());else if(0==e.indexOf("<!--")?(p=e.indexOf("-->"),p>=0&&(h.comment&&h.comment(e.substring(4,p)),e=e.substring(p+3),f=!1)):0==e.indexOf("</")?(m=e.match(i),m&&(e=e.substring(m[0].length),m[0].replace(i,u),f=!1)):0==e.indexOf("<")&&(m=e.match(t),m&&(e=e.substring(m[0].length),m[0].replace(t,c),f=!1)),f){p=e.indexOf("<");var x=0>p?e:e.substring(0,p);e=0>p?"":e.substring(p),h.chars&&h.chars(x)}v=e}u()};this.HTMLtoXML=function(e){var t="";return e=e.replace(/\r/gi,""),e=e.replace(/\n/gi,""),h(e,{start:function(e,i,r){t+="<"+e;for(var s=0;s<i.length;s++)t+=" "+i[s].name+'="'+i[s].escaped+'"';t+=(r?"/":"")+">"},end:function(e){t+="</"+e+">\r\n"},chars:function(e){t+=e},comment:function(e){t+="<!--"+e+"-->"}}),t},this.FormatHTML=function(e,t){function i(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1}},this.get_content=function(){for(var e="",t=[],i=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(i=!0),this.line_char_count--;else{if(i){if(this.line_char_count>=this.max_char){t.push("\n");for(var r=0;r<this.indent_level;r++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;i=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",i=new RegExp("</"+e+"\\s*>","igm");i.lastIndex=this.pos;var r=i.exec(this.input),s=r?r.index:this.input.length;return this.pos<s&&(t=this.input.substring(this.pos,s),this.pos=s),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,i="",r=[],s=!1;do{if(this.pos>=this.input.length)return r.length?r.join(""):["","TK_EOF"];i=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(i,this.Utils.whitespace)?(s=!0,this.line_char_count--):("'"!==i&&'"'!==i||r[1]&&"!"===r[1]||(i+=this.get_unformatted(i),s=!0),"="===i&&(s=!1),r.length&&"="!==r[r.length-1]&&">"!==i&&s&&(this.line_char_count>=this.max_char?(this.print_newline(!1,r),this.line_char_count=0):(r.push(" "),this.line_char_count++),s=!1),"<"===i&&(e=this.pos-1),r.push(i))}while(">"!==i);var o,n=r.join("");o=-1!=n.indexOf(" ")?n.indexOf(" "):n.indexOf(">");var a=n.substring(1,o).toLowerCase();if("/"===n.charAt(n.length-2)||this.Utils.in_array(a,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===a)this.record_tag(a),this.tag_type="SCRIPT";else if("style"===a)this.record_tag(a),this.tag_type="STYLE";else if(this.Utils.in_array(a,l)){var d=this.get_unformatted("</"+a+">",n);r.push(d),e>0&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&r.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(t+1),this.Utils.whitespace)&&r.push(this.input.charAt(t+1)),this.tag_type="SINGLE"}else if("!"===a.charAt(0))if(-1!=a.indexOf("[if")){if(-1!=n.indexOf("!IE")){var d=this.get_unformatted("-->",n);r.push(d)}this.tag_type="START"}else if(-1!=a.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=a.indexOf("[cdata[")){var d=this.get_unformatted("]]>",n);r.push(d),this.tag_type="SINGLE"}else{var d=this.get_unformatted("-->",n);r.push(d),this.tag_type="SINGLE"}else"/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return r.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.indexOf(e))return"";var i="",r="",s=!0;do{if(this.pos>=this.input.length)return r;if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace)){if(!s){this.line_char_count--;continue}if("\n"===i||"\r"===i){r+="\n",this.line_char_count=0;continue}}r+=i,this.line_char_count++,s=!0}while(-1==r.indexOf(e));return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return e=this.get_contents_to(t),"string"!=typeof e?e:[e,"TK_"+t]}if("CONTENT"===this.current_mode)return e=this.get_content(),"string"!=typeof e?e:[e,"TK_CONTENT"];if("TAG"===this.current_mode){if(e=this.get_tag(),"string"!=typeof e)return e;var i="TK_TAG_"+this.tag_type;return[e,i]}},this.get_full_indent=function(e){return e=this.indent_level+e||0,1>e?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,i,r,s){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=i,this.brace_style=s,this.indent_level=0,this.max_char=r,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var i=0;i<this.indent_level;i++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var r,s,o,n,a,l;for(t=t||{},s=t.indent_size||4,o=t.indent_char||" ",a=t.brace_style||"collapse",n=1/0,l=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],r=new i,r.printer(e,o,s,n,a);;){var d=r.get_token();if(r.token_text=d[0],r.token_type=d[1],"TK_EOF"===r.token_type)break;switch(r.token_type){case"TK_TAG_START":r.print_newline(!1,r.output),r.print_token(r.token_text),r.indent(),r.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":r.print_newline(!1,r.output),r.print_token(r.token_text),r.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===r.last_token&&""===r.last_text){var h=r.token_text.match(/\w+/)[0],c=r.output[r.output.length-1].match(/<\s*(\w+)/);null!==c&&c[1]===h||r.print_newline(!0,r.output)}r.print_token(r.token_text),r.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var u=r.token_text.match(/^\s*<([a-z]+)/i);u&&r.Utils.in_array(u[1],l)||r.print_newline(!1,r.output),r.print_token(r.token_text),r.current_mode="CONTENT";break;case"TK_CONTENT":""!==r.token_text&&r.print_token(r.token_text),r.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==r.token_text){r.output.push("\n");var p=r.token_text;if("keep"==t.indent_scripts)var f=0;else if("separate"==t.indent_scripts)var f=-r.indent_level;else var f=1;var m=r.get_full_indent(f),g=p.match(/^\s*/)[0],v=g.match(/[^\n\r]*$/)[0].split(r.indent_string).length-1,x=r.get_full_indent(f-v);p=p.replace(/^\s*/,m).replace(/\r\n|\r|\n/g,"\n"+x).replace(/\s*$/,""),p&&(r.print_token(p),r.print_newline(!0,r.output))}r.current_mode="TAG"}r.last_token=r.token_type,r.last_text=r.token_text}return r.output.join("")}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNotification","",{}),e.extend(e.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return e.extend(!0,this,t),t},createInstance:function(e){var t=this;t.render(),1==t.autoOpen&&t.open()},render:function(){var t=this;if(0==t.host.hasClass("jqx-notification")){t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=new Array,t._instanceKey=0;var i=e.data(document.body,"jqxNotifications");void 0==i&&(i=0),e.data(document.body,"jqxNotifications",i+1)}else t.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e=this;if(0==e.disabled){var t=e.host.clone();t.removeAttr("id"),t.width(e.width),t.height(e.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0",{element:t})}),1==e.blink&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,e.opacity/1.5,function(){t.fadeTo(400,e.opacity)})},850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++}},closeAll:function(){for(var e=this,t=0;t<e._instances.length;t++)e._instances[t]&&e._close(e._instances[t])},closeLast:function(){for(var e=this,t=e._instances.length;t>=0;t--)if(e._instances[t]){e._close(e._instances[t]);break}},destroy:function(){var t=this;t.closeAll(),t.host.remove();var i=e.data(document.body,"jqxNotifications");e.data(document.body,"jqxNotifications",i-1),t._destroyContainers(i-1)},propertyChangedHandler:function(e,t,i,r){var s=this;if(r!=i)switch(t){case"width":case"height":var o=i.indexOf&&-1!=i.indexOf("%");o=void 0==o?!1:o;var n=r.indexOf&&-1!=r.indexOf("%");n=void 0==n?!1:n,n!=o&&(s[t]=i);break;case"appendContainer":case"position":s._container=s._notificationContainer();break;case"browserBoundsOffset":s.appendContainer||s._position(s._container);break;case"opacity":s.host.css("opacity",r);break;case"showCloseButton":case"template":case"icon":case"rtl":s._appendContent(!0)}},_raiseEvent:function(t,i){var r=this,s=r.events[t],o=new e.Event(s);o.owner=r,o.args=i;try{var n=r.host.trigger(o)}catch(a){}return n},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")}))},_addHandlers:function(e){var t=this;if(t.addHandler(e,"click.notification"+t.element.id,function(i){t._raiseEvent("2"),1==t.closeOnClick&&t._close(e)}),t.addHandler(e,"mouseenter.notification"+t.element.id,function(i){e._blinkInterval||t.mouseenterFunction(e)}),t.addHandler(e,"mouseleave.notification"+t.element.id,function(i){e._blinkInterval||"none"==e.css("display")||t.mouseleaveFunction(e)}),1==t.showCloseButton){var i=e.find(".jqx-notification-close-button");t.addHandler(i,"click.notification"+t.element.id,function(i){i.stopPropagation(),t._close(e)})}},_removeHandlers:function(e){var t=this;t.removeHandler(e,"click.notification"+t.element.id),t.removeHandler(e,"click.mouseenter"+t.element.id),t.removeHandler(e,"click.mouseleave"+t.element.id);var i=e.find(".jqx-notification-close-button");i.length>0&&t.removeHandler(i,"click.notification"+t.element.id)},_appendContent:function(t){var i,r=this,s=r.host.html();t||(i=r.host.children().detach()),t&&(r.host.removeAttr("class"),r.host.addClass(r.toThemeProperty("jqx-rc-all")),r.host.addClass(r.toThemeProperty("jqx-notification")));var o=e("<table class='"+r.toThemeProperty("jqx-notification-table")+"'></table>"),n=e("<tr></tr>");o.append(n);var a=r.rtl?"jqx-notification-content-rtl":"";if(t){var l=r.host.find(".jqx-notification-content");s=l.html(),i=l.detach(),r.rtl?l.addClass("jqx-notification-content-rtl"):l.removeClass("jqx-notification-content-rtl")}else var l=e("<td class='"+r.toThemeProperty("jqx-notification-content")+" "+a+"'></td>");n.html(l);var d,h=function(){0==r.rtl?(d.addClass("jqx-notification-icon-ltr"),l.before(d)):(d.addClass("jqx-notification-icon-rtl"),l.after(d))};if(r.template?(r.host.addClass("jqx-widget"),r.host.addClass("jqx-popup"),r.host.addClass("jqx-notification-"+r.template),d=e("<td class='"+r.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+r.template+"'></td>"),h()):(r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-popup")),r.host.addClass(r.toThemeProperty("jqx-fill-state-normal")),r.icon&&(d=e("<td class='"+r.toThemeProperty("jqx-notification-icon")+"'></td>"),r.icon.padding=r.icon.padding?parseInt(r.icon.padding):5,d.css({width:parseInt(r.icon.width)+r.icon.padding,height:r.icon.height,"background-image":"url('"+r.icon.url+"')"}),h())),1==r.showCloseButton){var c;c=r.template?"jqx-notification-close-button jqx-notification-close-button-"+r.template:r.toThemeProperty("jqx-icon-close")+" "+r.toThemeProperty("jqx-notification-close-button");var u=e("<td class='"+r.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+c+" "+r.element.id+"CloseButton' title='Close'></div></td>");0==r.rtl?(u.find("div").addClass("jqx-notification-close-button-ltr"),l.after(u)):(u.find("div").addClass("jqx-notification-close-button-rtl"),l.before(u))}r.host[0].innerHTML="",r.host.append(o),i.length>0?r.host.find(".jqx-notification-content").append(i):r.host.find(".jqx-notification-content").html(s)},_position:function(e){var t,i,r,s,o=this;switch(o.position){case"top-right":t="",i=o.browserBoundsOffset,r=o.browserBoundsOffset,s="";break;case"top-left":t=o.browserBoundsOffset,i="",r=o.browserBoundsOffset,s="";break;case"bottom-left":t=o.browserBoundsOffset,i="",r="",s=o.browserBoundsOffset;break;case"bottom-right":t="",i=o.browserBoundsOffset,r="",s=o.browserBoundsOffset}e.css({left:t,right:i,top:r,bottom:s})},_notificationContainer:function(){var t,i=this;if(i.appendContainer){if(t=e(i.appendContainer),0==t.length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+i.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else t=e("#jqxNotificationDefaultContainer-"+i.position),0==t.length&&(e("body").append("<div id='jqxNotificationDefaultContainer-"+i.position+"' class='jqx-notification-container'></div>"),t=e("#jqxNotificationDefaultContainer-"+i.position),i.width.indexOf&&-1!=i.width.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-width")),i.height.indexOf&&-1!=i.height.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-height")),i._position(t));return t},_destroyContainers:function(t){
0==t&&e(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,i=!1;"msie"==e.jqx.browser.browser&&"9.0"==e.jqx.browser.version&&(i=!0),0==i?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),!jqxBaseFramework)var jqxBaseFramework=window.minQuery||window.jQuery;!function(e,t,i){function r(t,i,r,s,o){if(s&&o)switch(t){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(r.columns){var n=s.columns||s,a=o.columns||o;if(n.length!=a.length)return!1;var l={};if(e.each(n,function(e,t){var i=this;for(var r in this)if(i[r]!=a[e][r]){var s=i.datafield||i.dataField;l[s]||(l[s]={}),l[s][r]=i[r]}}),!e.isEmptyObject(l))return e.each(l,function(t,r){for(var s in r){var o=e(i).jqxProxy("getcolumnproperty",t,s);o!==r[s]&&e(i).jqxProxy("setcolumnproperty",t,s,r[s])}}),!0}}return!1}function s(r,s,n,a,l,d,h){var c=function(t){if("jqxTree"===d||"jqxMenu"===d)return t;if("object"==typeof t&&t&&null!=t._bindingUpdate)return t;var i={},r=!1;if(e.isArray(t)||t instanceof Object&&!t.url&&!t.localdata&&!t.localData){if("jqxChart"===d)return t;if(r=!0,i.localData=t,i.type="array",t[0]){var s=new Array;"object"==e.type(t[0])&&(e.each(t[0],function(t,i){var r={name:t,type:e.type(i)};s.push(r)}),i.datafields=s)}}else t&&t.url?i=t:t&&(t.localdata||t.localData)&&(i=t);if(e.jqx.dataAdapter){var o=new e.jqx.dataAdapter(i);return o}return r?t:null};if(n.jqxSource!=i){var u=r.$watchCollection(n.jqxSource,function(i,o){if(i!=o){if(t.equals(i,o))return;if(i&&o&&i._source&&o._source&&t.equals(i._source,o._source))return;var a=c(i);e(s).jqxProxy({source:a});var l=t.extend({},r.$eval(n.jqxSettings));n.jqxSettings&&l&&l.propertyChanged&&l.propertyChanged("source",o,i)}});h.push(u)}else if(n.jqxSettings!=i){var p={},f=null,g=m(n.jqxSettings)(r),v=s.controller();for(var x in v)if(g&&v[x]==g.source){f=x;break}if(!f)for(var x in r)if(g&&r[x]==g.source){f=x;break}if(f){var w="";for(var x in r)if(r[x]==v){w=x;break}""!=w&&(f=w+"."+f);var u=l.$watchCollection(f,function(i,o){if(i!=o){if(t.equals(i,o))return;if(i&&o&&i._source&&o._source&&t.equals(i._source,o._source))return;var a=e.isArray(i)||"array"===e.type(i);if(new Date-p["jqxSettings.source"]>1e3||p=={}||!p["jqxSettings.source"]||a){var l=c(i);e(s).jqxProxy({source:l});var d=t.extend({},r.$eval(n.jqxSettings));n.jqxSettings&&d&&d.propertyChanged&&d.propertyChanged("source",o,i),p.property=new Date}}});h.push(u)}var u=r.$watchCollection(n.jqxSettings+".source",function(i,o){if(i!=o){if(t.equals(i,o))return;if(i&&o&&i._source&&o._source&&t.equals(i._source,o._source))return;if(new Date-p.property>1e3||!p["jqxSettings.property"]||p=={}){var a=c(i);e(s).jqxProxy({source:a});var l=t.extend({},r.$eval(n.jqxSettings));n.jqxSettings&&l&&l.propertyChanged&&l.propertyChanged("source",o,i),p["jqxSettings.source"]=new Date}}});h.push(u);var u=r.$watchCollection(n.jqxSettings,function(i,a){if(i){if(!a){var l=c(i.source);return void e(s).jqxProxy({source:l})}if(i.source!=a.source){if(t.equals(i.source,a.source))return;if(i&&a&&i.source&&a.source&&i.source._source&&a.source._source&&t.equals(i.source._source,a.source._source))return;if(i.source&&a.source&&e.isArray(i.source)&&e.isArray(a.source)&&o(i.source)==o(a.source))return;if(new Date-p.property>1e3||!p["jqxSettings.source"]||p=={}){var l=c(i.source);e(s).jqxProxy({source:l});var d=t.extend({},r.$eval(n.jqxSettings));n.jqxSettings&&d&&d.propertyChanged&&d.propertyChanged("source",a.source,i.source),p["jqxSettings.source"]=new Date}}}});h.push(u)}return c(a)}function o(t){if(null==t)return"";var i="";return e.each(t,function(t){var r=this;t>0&&(i+=", "),i+="[";var s=0;if("object"==e.type(r))for(var o in r)s>0&&(i+=", "),i+="{"+o+":"+r[o]+"}",s++;else s>0&&(i+=", "),i+="{"+t+":"+r+"}",s++;i+="]"}),i}function n(t,i,r,s,o,n){e.extend(e.jqx["_"+s].prototype,{definedInstance:function(){if(this.element&&this.element!==i[0])return!0;if(this.base&&this.base.element!==i[0])return!0;var a=this,l=function(i){e.each(n,function(r,s){a.addHandler(e(i),r,function(i){t.$parent?e.proxy(s,o)(i):s(i),"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()})});var s=r.$attr;if(e.each(r,function(o,n){if(o.indexOf("jqxOn")>=0){var l=s[o].substring(7),d=e.camelCase(l),h=n;a.addHandler(e(i),d,function(e){if(e.data=r.data||r.jqxData,h.indexOf("(")>=0){var i=h.indexOf("("),s=m(h.substring(0,i))(t);s?s(e):t.$emit(d,e)}else t.$emit(h,e);"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()})}}),r.jqxInstance){var l=m(r.jqxInstance).assign;l&&l(t,a),"$apply"!=t.$root.$$phase&&"$digest"!=t.$root.$$phase&&t.$apply()}};l(i),"jqxPopover"==s&&setTimeout(function(){l(a.host)})}})}function a(s,o,n,a,l,d){if(n.jqxSettings){var h=m(n.jqxSettings)(s);h&&(h.apply?(y[l.$id+a+n.jqxSettings]||(y[l.$id+a+n.jqxSettings]=new Array),y[l.$id+a+n.jqxSettings].push(d)):(h.apply=h[a]=function(){var t=arguments,i=new Array;return 0==t.length?!0:(e.each(y[l.$id+a+n.jqxSettings],function(r,s){var o=this;i.push({widgetName:a,element:o,result:e.jqx.jqxWidgetProxy(a,o,t)})}),1==i.length?i[0].result:i)},h.digest=function(){/^\$(digest|apply)$/.test(s.$root.$$phase)||s.$digest()},h.refresh=function(d,c){var u={},p=e(o)[a]("getInstance");if(e.each(h,function(e,t){if("created"===e||"propertyChanged"===e||"data"==e||"refresh"==e||e==a||"apply"==e)return!0;var r=p.events||p._events;return r&&r.indexOf(e)>=0||e.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g)?!0:d!=i&&-1===d.indexOf(e)?!0:void(u[e]=t)}),u!=={})if(c)e.each(u,function(e,t){h[e]=p[e]}),"$apply"!=s.$root.$$phase&&"$digest"!=s.$root.$$phase&&s.$apply();else if(e.each(y[l.$id+a+n.jqxSettings],function(t,i){e(this).jqxProxy(u)}),n.jqxWatchSettings!=i&&l){var f=m(n.jqxSettings)(l);e.each(f,function(i,o){if(i.match(/(source|propertyChanged|created|data|apply|refresh)/g))return!0;var d=p.events||p._events;if(d&&d.indexOf(i)>=0||i.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(i===a)return!0;if(!_[n.jqxSettings+"."+i]){var h=i,c=l.$watch(n.jqxSettings+"."+i,function(i,o){if(i!=o){if(t.equals(i,o))return;var d={};d[h]=i,e.each(y[l.$id+a+n.jqxSettings],function(t,s){var n=r(a,e(this),d,i,o);n||e(this).jqxProxy(d)});var c=t.extend({},s.$eval(n.jqxSettings));n.jqxSettings&&c&&c.propertyChanged&&c.propertyChanged(h,o,i)}},!0);_[n.jqxSettings+"."+i]=c}})}C[o[0].id]&&(u={},e.each(C[o[0].id],function(){if(d!=i&&-1===d.indexOf(e.camelCase(this.value.substring(4))))return!0;if(u[e.camelCase(this.value.substring(4))]=s.$eval(this.label),c){var t=e.parse(this.label)(s).assign;t&&t(s,p[e.camelCase(this.value.substring(4))])}}),c?"$apply"!=s.$root.$$phase&&"$digest"!=s.$root.$$phase&&s.$apply():e.each(y[l.$id+a+n.jqxSettings],function(t,i){e(this).jqxProxy(u)}))},y[l.$id+a+n.jqxSettings]=new Array,y[l.$id+a+n.jqxSettings].push(d)))}}function l(r,o,n,a,l,d,h){var c=/(jqxGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/gi;if(n.jqxSettings&&d&&d.source===i&&n.jqxSource===i&&a.match(c)&&(a.match(/(jqxTree|jqxMenu)/gi)?-1===o[0].innerHTML.toLowerCase().indexOf("ul")&&(d.source=[]):d.source=[]),d.source!==i&&n.jqxSettings)d.source=s(r,o,n,d.source,l,a,h);else if(n.jqxSource!==i){var u=t.extend({},r.$eval(n.jqxSource)),p=!(!n.jqxSource||!n.jqxSource.dataBind);p?d.source=s(r,o,n,n.jqxSource,l,a,h):d.source=s(r,o,n,u,l,a,h)}var f=r.$watch(n.ngDisabled,function(t,r){if(t!=i&&(t!=r||e(o).jqxProxy("disabled")!==t)){var s={};s.disabled=t,e(o).length>0&&e(o).jqxProxy(s)}});h.push(f)}function d(s,o,d,c,u){var p=new Array,f=t.extend({},s.$eval(d.jqxSettings));l(s,o,d,c,u,f,p);var m={},g={};C[o[0].id]&&e.each(C[o[0].id],function(){var n=this.label,a=this.value,l=e.camelCase(a.substring("4"));if("undefined"!=typeof d[n]){var h=s.$eval(d[n]);if(h===i&&"string"===e.type(d[n])&&(h=d[n]),"instance"==l)return!0;"array"===e.type(h)&&"source"!==c?h=h.slice(0):"object"===e.type(h)&&"source"!==c&&(h=e.extend({},h));var u=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,f=/(searchMode)/gi,v=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(e.isFunction(h)&&!l.match(u))g[index]=h;else{if(l.match(u)&&!l.match(f)){var x=function(){var e=h.apply(this,arguments);return l.match(v)&&!/^\$(digest|apply)$/.test(s.$root.$$phase)&&s.$digest(),e};return m[l]=x,!0}m[l]=h}var w=function(i,n){if(i!=n){if(t.equals(i,n))return;var l=e.camelCase(a.substring("4"));if("watch"==l){if(d.jqxWatch.indexOf(",")>=0||d.jqxWatch.indexOf("[")>=0){var h=d.jqxWatch;return h=h.replace("[",""),h=h.replace("]",""),h=h.trim(),h=h.split(","),void e.each(h,function(a,h){for(var u=this.split("."),p=0;p<u.length;p++){if(u[p]in e(o).data().jqxWidget){l=u[p];break}if(u[p].toLowerCase()in e(o).data().jqxWidget){l=u[p].toLowerCase();break}}var f={};f[l]=i[a];var m=r(c,e(o),f,i,n);if(!m){e(o).jqxProxy(f);var g=t.extend({},s.$eval(d.jqxSettings));d.jqxSettings&&g&&g.propertyChanged&&g.propertyChanged(l,n,i)}})}for(var h=d.jqxWatch.split("."),u=0;u<h.length;u++){if(h[u]in e(o).data().jqxWidget){l=h[u];break}if(h[u].toLowerCase()in e(o).data().jqxWidget){l=h[u].toLowerCase();break}}}var p={};p[l]=i;var f=r(c,e(o),p,i,n);if(!f){e(o).jqxProxy(p);var m=t.extend({},s.$eval(d.jqxSettings));d.jqxSettings&&m&&m.propertyChanged&&m.propertyChanged(l,n,i)}}};if("watch"==l){delete m[l];var w=s.$watch(d[n],w,!0);p.push(w)}else{var w=s.$watch(d[n],w);p.push(w)}}}),""==o[0].id?(i==b[c]&&(b[c]=0),o[0].id=c+b[c]++):""!=o[0].id&&o[0].id==c+"0"&&(i==b[c]&&(b[c]=0),o[0].id=c+b[c]++);var v=e(o)[c];if(!v)throw new Error("Missing required JavaScript references for: "+c);e.each(f,function(t,i){if("data"===t||"created"===t||"propertyChanged"===t)return!0;var r=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,o=/(searchMode)/gi,n=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(e.isFunction(i)&&!t.match(r))g[t]=i;else{if(t.match(r)&&!t.match(o)){var a=function(){var e=i.apply(this,arguments);return t.match(n)&&!/^\$(digest|apply)$/.test(s.$root.$$phase)&&s.$digest(),e};return m[t]=a,!0}"array"===e.type(i)&&"source"!==t?i=i.slice(0):"object"===e.type(i)&&"source"!==t&&(i=e.extend({},i)),m[t]=i}}),n(s,o,d,c,u,g);var x=o[0];a(s,o,d,c,u,x);var w=(e(o)[c](m),e(o)[c]("getInstance"));h(s,o,d,c,u,f,x,w,m,p);var y=s.$on("$destroy",function(){w&&w.destroy&&!w.isDestroyed?(w.isDestroyed=!0,e(o).parents().length>0&&e(o)[c]("destroy"),w=null):(e(o).remove(),w=null);for(var t=0;t<p.length;t++)p[t]();m=[],g=[],y()});return w}function h(n,a,l,d,h,c,u,p,f,g){if(l.jqxSettings){if(l.jqxWatchSettings!=i&&h){var v=m(l.jqxSettings)(h);e.each(v,function(i,s){if(i.match(/(source|created|propertyChanged|data|apply|refresh)/g))return!0;var o=p.events||p._events;if(o&&o.indexOf(i)>=0||i.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(i===d)return!0;if(f.hasOwnProperty(i)){var c=i,u=h.$watch(l.jqxSettings+"."+i,function(i,s){if(i!=s){if(t.equals(i,s))return;var o={};o[c]=i;var h=r(d,e(a),o,i,s);if(!h){e(a).jqxProxy(o);var u=t.extend({},n.$eval(l.jqxSettings));l.jqxSettings&&u&&u.propertyChanged&&u.propertyChanged(c,s,i)}}},!0);_[l.jqxSettings+"."+i]=u,g.push(u)}})}var x=n.$watch(l.jqxSettings,function(c,u){var f={},m=!1;if(c!=u){if(t.equals(c,u))return;if(e.each(c,function(c,v){if("source"===c){if(null!=u.source)return!0;var x=s(n,a,l,v,h,g);f[c]=x}if("created"===c)return!0;if("propertyChanged"===c)return!0;if("data"===c)return n.$apply(),!0;var w=p.events||p._events;if(w&&w.indexOf(c)>=0||c.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;var b=function(s){if(l.jqxWatchSettings!=i&&h&&!_[l.jqxSettings+"."+s]){var s=c,o=h.$watch(l.jqxSettings+"."+s,function(i,o){if(i!=o){if(t.equals(i,o))return;var h={};h[s]=i;var c=r(d,e(a),h,i,o);if(!c){e(a).jqxProxy(h);var u=t.extend({},n.$eval(l.jqxSettings));l.jqxSettings&&u&&u.propertyChanged&&u.propertyChanged(s,o,i)}}},!0);_[l.jqxSettings+"."+s]=o,g.push(o)}};v instanceof Object||null!=u&&v===u[c]?c!==d&&"apply"!==c&&"created"!==c&&"propertyChanged"!==c&&v instanceof Object&&(null==u||o(v)!==o(u[c])||""==o(v)&&""==o(u[c]))&&(f[c]=v,b(c),m=!0):(f[c]=v,b(c),m=!0)}),f!=={}&&m){var v=r(d,e(a),f,c,u);if(!v){e(a).jqxProxy(f);var x=t.extend({},n.$eval(l.jqxSettings));l.jqxSettings&&x&&x.propertyChanged&&x.propertyChanged(index,u,c)}}}});g.push(x)}}function c(t,r,s,o){var n=t[0].nodeName.toLowerCase(),a=e(t).parent(),l=e(t).html(),d=!(!a||!a[0]||"ng-include"!=a[0].nodeName.toLowerCase());if(e(t).parents("[ui-view]").length>0&&(d=!0),d&&!r)return void e(t).attr("data-jqx-ng-include",!0);var h='<div id="jqx-ngwidget">'+l+"</div>";if(n.indexOf("jqx")>=0){var c=t[0].attributes,u=t;if(n.indexOf("input")>=0)n.indexOf("date")>=0||n.indexOf("number")>=0?e(t).replaceWith('<div id="jqx-ngwidget"></div>'):n.indexOf("password")>=0?e(t).replaceWith('<input id="jqx-ngwidget" type="password"/>'):e(t).replaceWith('<input id="jqx-ngwidget"/>');else if(n.indexOf("jqx-button")>=0&&-1==n.indexOf("jqx-button-group"))e(t).replaceWith('<button id="jqx-ngwidget">'+l+"</button>");else if(n.indexOf("jqx-toggle-button")>=0)e(t).replaceWith('<button id="jqx-ngwidget">'+l+"</button>");else if(n.indexOf("jqx-link-button")>=0)if(e(t).find("a").length>0){var p=e(t).find("a");p.attr("id","jqx-ngwidget"),e(t).replaceWith(p)}else e(t).replaceWith('<a id="jqx-ngwidget">'+l+"</a>");else if(n.indexOf("jqx-data-table")>=0||n.indexOf("jqx-grid")>=0)e(t).find("tr").length>0?e(t).replaceWith('<div id="jqx-ngwidget">'+l+"</div>"):e(t).replaceWith('<div id="jqx-ngwidget"></div>');else if(n.indexOf("jqx-list-box")>=0||n.indexOf("jqx-drop-down-list")>=0||n.indexOf("jqx-combo-box")>=0)e(t).find("option").length>0?e(t).replaceWith('<select id="jqx-ngwidget">'+l+"</select>"):e(t).find("li").length>0?e(t).replaceWith('<ul id="jqx-ngwidget">'+l+"</ul>"):e(t).replaceWith('<div id="jqx-ngwidget"></div>');else if(n.indexOf("jqx-list-menu")>=0)e(t).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+l+"</ul>");else if(n.indexOf("jqx-tooltip")>=0){var f=e(t).children();f.detach(),e(f).insertAfter(e(t)),e.each(c,function(){e(f)[0]&&e(f)[0].setAttribute(this.name,this.value)}),e(t).remove(),t=f}else e(t).replaceWith(h);u=a.find("#jqx-ngwidget").removeAttr("id"),e.each(c,function(){e(u)[0]&&e(u)[0].setAttribute(this.name,this.value)})}var m=t[0];u&&u.length&&(m=u[0]);return""==m.id&&(i==b[o]&&(b[o]=0),m.id=o+b[o]++),e.each(s,function(e,t){e!==o&&"jqxNgModel"!=e&&-1==e.indexOf("jqxOn")&&"jqxData"!=e&&"jqxWatchSettings"!=e&&"jqxCreated"!=e&&"jqxSource"!=e&&"jqxCreate"!=e&&"jqxSettings"!=e&&e.indexOf("jqx")>=0&&(C[m.id]||(C[m.id]=new Array),C[m.id].push({label:e,value:s.$attr[e]}))}),e(m)}function u(t,r){function s(t){r.filesCount=0;var s=t.length;if(t.scripts){var o=t.scripts.length;for(var n in t.deps){o++;var a=t.deps[n];o+=a.length}s=o}var l=function(t,o){var n=0,a=0,l=function(){var d=t[n],h=e('script[src*="'+d+'"]').length;if(0===h){var c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript";var p=function(){return r.filesCount++,a++,q[d]=!1,j[d]!=i&&e.each(j[d],function(){this.documentReady=!0,this.scriptsLoaded&&this.scriptsLoaded()}),j[d]=!0,r.filesCount==s?(r.documentReady=!0,void(r.scriptsLoaded&&r.scriptsLoaded())):void(a===t.length&&o&&o())};u.addEventListener?u.addEventListener("load",p,!1):window.attachEvent&&u.attachEvent("onreadystatechange",function(){"complete"!=u.readyState&&"loaded"!=u.readyState||p()}),q[d]=!0;var f=S;"globalize.js"==d&&(f=S+"globalization/"),u.src=f+d,c.appendChild(u),n++,n<t.length&&l()}else{if(r.filesCount++,r.filesCount==s)return j[d]===!0||q[d]===i?(r.documentReady=!0,void(r.scriptsLoaded&&r.scriptsLoaded())):(j[d]==i&&(j[d]=new Array),void j[d].push(r));n++,n<t.length&&l(),a++,a===t.length&&o&&o()}};l()};t.scripts?(l(t.scripts),e.each(t.deps,function(e,t){var i=new Array;i.push(e),l(i,function(){l(t)})})):l(t)}var o={jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]};s(o[t])}function p(t){var r=function(r,s,o,n,a){if(e(s).attr("data-jqx-ng-include")){e(s).removeAttr("data-jqx-ng-include");var l=e(s.children()).detach();s=c(s,!0,o,t),s.append(l),x(s)(r);var h=!0;for(var p in o)if(-1!=p.toString().indexOf("jqx")&&(r[o[p]]!=i&&(h=!1),o[p].split(".").length>1))for(var f=o[p].split("."),w=0;w<f.length;w++)r[f[w]]!=i&&(h=!1);h&&o.jqxSettings&&(m(o.jqxSettings)(r)||(h=!1)),h&&(r=r.$parent)}if(e.jqx.AMD){var b={};T[t]=!1,b.documentReady=!1,u(t,b)}var y=s[0].style.visibility,_=s[0].style.display;s[0].style.visibility="hidden",s[0].style.display="none";var j=r,q=v(function(){v.cancel(q),q=i;var a=function(){var a=n[0];s[0].style.visibility=y,s[0].style.display=_;var l=d(r,s,o,t,j),h=(t.toLowerCase(),t.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/gi)),c={element:s[0],name:t,instance:e(s).data().jqxWidget,id:s[0].id,scope:r},u=function(){r.$emit(t+"Created",c),o.jqxSettings&&m(o.jqxSettings)(r)&&m(o.jqxSettings)(r).created&&g(function(){var e=m(o.jqxSettings)(r).created;e(c)}),o.jqxCreated&&g(function(){var e=m(o.jqxCreated)(r);e(c)})};if("jqxGrid"===t||"jqxDataTable"===t)var p=0,f=v(function(){e(s).data().jqxWidget?(e(s).data().jqxWidget.initializedcall||25==p)&&(v.cancel(f),f=i,u()):(v.cancel(f),f=i),p++},100);else u();g(function(){if(a){if(a.$render=function(){var o=a.$viewValue;return o===i&&(o=a.$modelValue),"jqxRadioButton"===t?void(r.$eval(e(s).attr("value"))==a.$viewValue?e(s).val(!0):"true"==r.$eval(e(s).attr("value"))&&1==a.$viewValue?e(s).val(!0):e(s).val(!1)):"jqxCheckBox"===t?(r.$eval(e(s).attr("ng-true-value"))==a.$viewValue&&e(s).val(!0),void(r.$eval(e(s).attr("ng-false-value"))==a.$viewValue?e(s).val(!1):e(s).val(a.$viewValue))):void(o!=e(s).val()&&g(function(){e(s).val(o)}))},"jqxRadioButton"===t)r.$eval(e(s).attr("value"))==a.$viewValue?e(s).val(!0):"true"==r.$eval(e(s).attr("value"))&&1==a.$viewValue?e(s).val(!0):e(s).val(!1);else if("jqxCheckBox"===t)r.$eval(e(s).attr("ng-true-value"))==a.$viewValue&&e(s).val(!0),r.$eval(e(s).attr("ng-false-value"))==a.$viewValue?e(s).val(!1):e(s).val(a.$viewValue);else if("jqxDropDownList"===t||"jqxComboBox"===t||"jqxListBox"===t||"jqxInput"===t||"jqxTextArea"===t)if(o.jqxNgModel!=i){var n=e(s).data().jqxWidget;"jqxInput"!=t?n.valueMember?n.selectItem(a.$viewValue[n.valueMember]):n.displayMember?n.selectItem(a.$viewValue[n.displayMember]):e(s).val(a.$viewValue):e(s).val(a.$viewValue)}else e(s).val(a.$viewValue);else if("jqxDateTimeInput"===t||"jqxCalendar"===t)if(o.jqxNgModel!=i){var n=e(s).data().jqxWidget;"range"==n.selectionMode?n.setRange(a.$viewValue):n.setDate(a.$viewValue)}else e(s).val(a.$viewValue);else if("jqxToggleButton"==t){var n=e(s).data().jqxWidget;n.toggled=!0,n.refresh()}else e(s).val(a.$viewValue);if(h){var d="keyup change";"jqxScrollBar"==t&&(d="valueChanged"),"jqxToggleButton"==t&&(d="keyup click"),"jqxInput"==t&&(d="keyup change select");var c,u=l.host;!u&&l.base&&(u=l.base.host),e(u).on(d,function(n){var l=n.args;c&&g.cancel(c),c=g(function(){if("jqxRadioButton"===t)l&&"api"!=l.type&&a.$setViewValue(r.$eval(e(s).attr("value")));else if("jqxCheckBox"===t)e(s).attr("ng-true-value")!=i&&l.checked?a.$setViewValue(e(s).attr("ng-true-value")):e(s).attr("ng-false-value")==i||l.checked?a.$setViewValue(e(s).val()):a.$setViewValue(e(s).attr("ng-false-value"));else if("jqxDropDownList"===t||"jqxComboBox"===t||"jqxListBox"===t||"jqxInput"===t||"jqxTextArea"===t){var n=e(s).val();if(o.jqxNgModel!=i){var d=e(s).data().jqxWidget;d.getSelectedItem&&(n=d.getSelectedItem(),n.originalItem&&(n=n.originalItem)),"jqxInput"!==t&&"jqxTextArea"!==t||(n=d.selectedItem),a.$setViewValue(n)}else a.$setViewValue(n)}else if("jqxDateTimeInput"===t||"jqxCalendar"===t)if(o.jqxNgModel!=i){var d=e(s).data().jqxWidget;"range"==d.selectionMode?a.$setViewValue(d.getRange()):a.$setViewValue(d.getDate())}else if("date"===e.type(a.$viewValue)){var d=e(s).data().jqxWidget;"range"==d.selectionMode?a.$setViewValue(d.getRange()):a.$setViewValue(d.getDate())}else a.$setViewValue(e(s).val());else if("jqxToggleButton"==t){var d=e(s).data().jqxWidget;a.$setViewValue(d.toggled)}else a.$setViewValue(e(s).val());r.$emit(t+"ModelChange",a.$viewValue)})})}}})};if(o.ngShow===i||o.jqxCreate!==i){var l=function(){if(null!=o.jqxCreate||null!=o.jqxCreate)if(o.jqxCreate===!0||null!==o.jqxCreate&&"object"==e.type(o.jqxCreate))a();else var t=r.$watch(o.jqxCreate,function(e,i){"number"==typeof e?(g(a,e),t()):e&&(a(),t())});else a()};if(e.jqx.AMD){var h=function(){var t=!0;for(var i in T)if(!T[i]){t=!1;break}if(t){k||(r.$emit("jQWidgetsScriptsLoaded"),k=!0);for(var i in T)e.each(T[i],function(){this()}),T[i]=new Array}};if(b.documentReady){var c={element:s[0],name:t,scope:r};r.$emit(t+"ScriptsLoaded",c),T[t]||(T[t]=new Array),T[t].push(l),h()}else b.scriptsLoaded=function(){var e={element:s[0],name:t,scope:r};r.$emit(t+"ScriptsLoaded",e),T[t]||(T[t]=new Array),T[t].push(l),h()}}else l()}else var u=r.$watch(o.ngShow,function(e,t){e&&(a(),u())})})};f.directive(t,["$timeout","$interval","$parse","$compile","$log",function(e,i,s,o,n){g=e,v=i,m=s,x=o,w=n;var a;return{restrict:"ACE",require:["?ngModel"],scope:!1,template:function(e,i){c(e,!1,i,t),a=this.scope},controller:["$scope","$attrs","$element","$transclude",function(e,t,i,r){}],compile:function(e,t,i){return{pre:function(e,t,i,r,s){},post:function(e,t,i,s,o){r(e,t,i,s,o)}}},link:r}}])}if(t){e.jqx=e.jqx||{},e.jqx.AMD=!1;var f=t.module("jqwidgets",[]),m=(t.module("jqwidgets-amd",[],function(){e.jqx.AMD=!0}),null),g=null,v=null,x=null,w=null,b=new Array,y=new Array,_=new Array,j=new Array,q=new Array,T=new Array,C={},k=!1,S=function(){var e,t,i,r=document.getElementsByTagName("script");for(e=0;t=r[e];e++)if(i=t.src,i.indexOf("jqxcore.js")>=0){var s=i.substring(0,i.indexOf("jqxcore.js"));break}return s}();e.jqx.angularCompile=function(e,r){e.length>0&&(e=e[0]);var s=t.element(e),o=s.injector();r==i&&(r=e.innerHTML),o.invoke(["$compile","$rootScope",function(e,t){var i=s.html(r).scope();e(s)(i||t),/^\$(digest|apply)$/.test(t.$$phase)?/^\$(digest|apply)$/.test(i.$$phase)||i.$digest():t.$digest()}])},p("jqxBulletChart"),p("jqxButtonGroup"),p("jqxButton"),p("jqxBarGauge"),p("jqxRepeatButton"),p("jqxToggleButton"),p("jqxLinkButton"),p("jqxCalendar"),p("jqxChart"),p("jqxCheckBox"),p("jqxComplexInput"),p("jqxColorPicker"),p("jqxComboBox"),p("jqxDataTable"),p("jqxDateTimeInput"),p("jqxDocking"),p("jqxDockPanel"),p("jqxDragDrop"),p("jqxDraw"),p("jqxDropDownButton"),p("jqxDropDownList"),p("jqxEditor"),p("jqxExpander"),p("jqxFormattedInput"),p("jqxFileUpload"),p("jqxGauge"),p("jqxLinearGauge"),p("jqxGrid"),p("jqxInput"),p("jqxListBox"),p("jqxListMenu"),p("jqxMaskedInput"),p("jqxMenu"),p("jqxNavigationBar"),p("jqxNavBar"),p("jqxNotification"),p("jqxNumberInput"),p("jqxPanel"),p("jqxPasswordInput"),p("jqxProgressBar"),p("jqxRadioButton"),p("jqxRangeSelector"),p("jqxRating"),p("jqxRibbon"),p("jqxScrollBar"),p("jqxScrollView"),p("jqxSlider"),p("jqxSplitter"),p("jqxSwitchButton"),p("jqxTabs"),p("jqxToolBar"),p("jqxTooltip"),p("jqxTouch"),p("jqxTree"),p("jqxTreeGrid"),p("jqxTreeMap"),p("jqxValidator"),p("jqxWindow"),p("jqxTagCloud"),p("jqxPopover"),p("jqxKanban"),p("jqxKnob"),p("jqxSortablePlugin"),p("jqxScheduler"),p("jqxTextArea"),p("jqxLayout"),p("jqxDockingLayout"),p("jqxResponsivePanel"),p("jqxLoader")}}(jqxBaseFramework,window.angular),function(e){e.jqx.jqxWidget("jqxToolBar","",{}),e.extend(e.jqx._jqxToolBar.prototype,{defineInstance:function(){var t={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};e.extend(!0,this,t)},createInstance:function(){var e=this;e._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},e._toolChanges=new Array,e.render()},render:function(){var e=this,t=!0;e.host.html(""),e.host.removeClass(e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),e._setSize(),e._destroyTools(!1),e._toolWidgets&&(t=!1,e._minimizeButton.add(e._minimizePopup).remove()),e._appendMinimizeButton(),e._addClasses(),e._createTools(),e.disabled===!0&&(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._disableTools(!0)),e._minimize(),e._removeHandlers(),e._addHandlers(),t===!1&&e._toolChanges.length>0&&e._restoreChanges()},refresh:function(e){e!==!0&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){var e=this;e._removeHandlers(),e._destroyTools(),e.host.remove()},_destroyTools:function(e){var t=this;if(e!==!1&&(e=!0),t._toolWidgets)for(var i=t._toolWidgets.length-1;i>=0;i--)t._destroyTool(i,e)},_destroyTool:function(e,t){var i=this;e=parseInt(e,10);var r=i._toolWidgets[e];if(r){var s=r.type,o=i._getBothTools(r);"custom"!==s?o[i._toolToWidgetMapping[s]]("destroy"):o.remove(),r.menuSeparator&&r.menuSeparator.remove(),i._toolWidgets.splice(e,1),i._checkType(s)&&i._refreshButtonGroups(),i._minimize(),t!==!1&&i._toolChanges.push({action:"destroyTool",index:e})}},destroyTool:function(e){this._destroyTool(e,!0)},addTool:function(e,t,i,r){var s,o,n,a,l=this;s="first"===t?0:l._toolWidgets.length,l._toolWidgets[s-1]&&(o=l._toolWidgets[s-1].tool,n=l._toolWidgets[s-1].separatorAfterWidget?"|":l._toolWidgets[s-1].type),i===!0?a="|":l._toolWidgets[s+1]&&(a=l._toolWidgets[s+1].type);var d=l._initializeTool(s,e,o,n,a,r,!1);"first"===t?l._toolWidgets.splice(0,0,d):l._toolWidgets.push(d),l._removeHandlers(),l._addHandlers(),l._checkType(e)&&l._refreshButtonGroups(),"first"!==t&&l._minimizedTools>0?l._minimizeTool(!0):l._minimize(),l._toolChanges.push({action:"addTool",type:e,position:t,separator:i,initCallback:r})},_disableTools:function(e){for(var t=this,i=0;i<t._toolWidgets.length;i++)t.disableTool(i,e)},disableTool:function(e,t){var i=this;e=parseInt(e,10);var r=i._toolWidgets[e];if(r){var s=r.type,o=i._getBothTools(r);"custom"!==s&&o[i._toolToWidgetMapping[s]]({disabled:t}),i._toolChanges.push({action:"disableTool",index:e,disable:t})}},propertyChangedHandler:function(t,i,r,s){if("initTools"!==i&&s!==r)switch(i){case"theme":""!==r&&(t.host.removeClass("jqx-widget-"+r+" jqx-fill-state-normal-"+r+" jqx-rc-all-"+r+" jqx-toolbar-"+r),t._minimizePopup.removeClass("jqx-popup-"+r+" jqx-fill-state-normal-"+r+" jqx-rc-b-"+r+" jqx-toolbar-minimized-popup-"+r)),
t._addClasses(),t._minimizePopup.addClass(t.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup"));for(var o=0;o<t._toolWidgets.length;o++){var n=t._toolWidgets[o];if("custom"!==n.type){var a=t._getBothTools(n);n.menuTool&&n.menuSeparator&&(n.menuSeparator.removeClass("jqx-fill-state-pressed-"+r+" jqx-toolbar-minimized-popup-separator-"+r),n.menuSeparator.addClass(t.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"))),a[t._toolToWidgetMapping[t._toolWidgets[o].type]]({theme:s})}}e.jqx.utilities.setTheme(r,s,t.host);break;case"width":t.host.width(s),t._minimize();break;case"minWidth":t.host.css("min-width",s),t._minimize();break;case"maxWidth":t.host.css("max-width",s),t._minimize();break;case"height":t.host.height(s);for(var l=0;l<t._toolWidgets.length;l++){var d=t._toolWidgets[l],h=d.type,c=t._getBothTools(d);"button"===h||"toggleButton"===h||"repeatButton"===h||"linkButton"===h?c.css("height",s):"dropdownlist"!==h&&"combobox"!==h&&"input"!==h||c[t._toolToWidgetMapping[h]]({height:s-2})}break;case"tools":t._removeHandlers(),t._destroyTools(),t._createTools(),t._addHandlers(),t._minimize();break;case"minimizeWidth":if(t._isOpen===!0){var u=parseInt(t._minimizePopup.css("left"),10)-(s-r);t._minimizePopup.css({width:s+"px",left:u+"px"})}else t._minimizePopup.width(s);break;case"rtl":t.render();break;case"disabled":s===!0?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._disableTools(!0)):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._disableTools(!1))}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this.host.trigger(s);return o},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar")),e.rtl===!0&&e.host.addClass(e.toThemeProperty("jqx-toolbar-rtl"))},_checkType:function(e){return"button"===e||"toggleButton"===e||"repeatButton"===e||"linkButton"===e},_refreshButtonGroups:function(){function t(e,t,r,s,o,n){e[t+"Class"](i.toThemeProperty("jqx-toolbar-tool-inner-button")),e[r+"Class"](i.toThemeProperty("jqx-rc-all")),e[s+"Class"](i.toThemeProperty("jqx-rc-l")),e[o+"Class"](i.toThemeProperty("jqx-rc-r")),e.css("border-left-width",n+"px")}var i=this;e.each(i._toolWidgets,function(e,r){if(i._checkType(r.type)){var s,o,n=i._getBothTools(r);e>0&&(s=i._toolWidgets[e-1].separatorAfterWidget?"|":i._toolWidgets[e-1]),r.separatorAfterWidget?o="|":e<i._toolWidgets.length-1&&(o=i._toolWidgets[e+1]);var a=s&&i._checkType(s.type),l=r.separatorAfterWidget===!1&&o&&i._checkType(o.type);a||l?!a&&l?t(n,"remove","remove","add","remove",1):a&&l?t(n,"add","remove","remove","remove",0):a&&!l&&t(n,"remove","remove","remove","add",0):t(n,"remove","add","remove","remove",1);var d=i.rtl?"rtl":"ltr";l?(n.removeClass(i.toThemeProperty("jqx-toolbar-tool-separator-"+d)),n.removeClass(i.toThemeProperty("jqx-toolbar-tool-no-separator-"+d))):r.separatorAfterWidget?(n.removeClass(i.toThemeProperty("jqx-toolbar-tool-no-separator-"+d)),n.addClass(i.toThemeProperty("jqx-toolbar-tool-separator-"+d))):(n.removeClass(i.toThemeProperty("jqx-toolbar-tool-separator-"+d)),n.addClass(i.toThemeProperty("jqx-toolbar-tool-no-separator-"+d)))}})},_addHandlers:function(){var t=this,i=t.element.id;e.jqx.utilities.resize(t.host,function(){if(e.jqx.browser.msie&&e.jqx.browser.version<8&&"string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1)){var i=t.host.parent().width(),r=i*parseFloat(t.width.replace("%",""))/100,s=parseInt(t.host.css("border-left-width"),10)+parseInt(t.host.css("border-right-width"),10)+parseInt(t.host.css("padding-left"),10)+parseInt(t.host.css("padding-right"),10);t.host.css("width",r-s-1)}t._isOpen===!0&&(t._minimizePopup.hide(),t._isOpen=!1,t._raiseEvent("1")),t._minimize()}),t.addHandler(e(document),"click.jqxToolbar"+i,function(){t._isOpen===!0&&t._openMinimizePopup()}),t.addHandler(t._minimizeButton,"click.jqxToolbar"+i,function(e){e.stopPropagation(),t._openMinimizePopup()}),t.addHandler(e(".jqx-popup"),"click.jqxToolbar"+i,function(t){e(t.target).hasClass("jqx-window-content")||t.stopPropagation()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(e(document),"click.jqxToolbar"+i),t.removeHandler(t._minimizeButton,"click.jqxToolbar"+i),t.removeHandler(e(".jqx-popup"),"click.jqxToolbar"+i)},_setSize:function(){var e=this;e.host.width(e.width),e.host.height(e.height),e.minWidth&&e.host.css("min-width",e.minWidth),e.maxWidth&&e.host.css("max-width",e.maxWidth)},_createTools:function(){var t=this,i=t.tools.split(" "),r=e.trim(t.tools.replace(/\|/g,""));r=r.replace(/\s+/g," "),r=r.split(" "),t._toolWidgets=new Array;var s=0;e.each(r,function(e,o){r[e]!==i[e+s]&&s++;var n,a=e+s;t._toolWidgets[e-1]&&(n=t._toolWidgets[e-1].tool);var l=i[a],d=i[a-1],h=i[a+1],c=t.initTools;if(""===l)return!0;var u=t._initializeTool(e,l,n,d,h,c,!0);t._toolWidgets.push(u)}),t._minimizePopup.css({display:"none",visibility:"visible"})},_initializeTool:function(t,i,r,s,o,n,a){var l,d,h=this,c=h._initializeWidget(i,l,d,r);l=c.tool,d=c.menuTool;var u=!0;if(l.addClass(h.toThemeProperty("jqx-toolbar-tool")),h.rtl===!0&&l.addClass(h.toThemeProperty("jqx-toolbar-tool-rtl")),h.initTools){var p;p=a===!0?h.initTools(i,t,l,!1):n(i,l,!1),!p||p.minimizable!==!1&&p.menuTool!==!1?(a===!0?h.initTools(i,t,d,!0):n(i,d,!0),d.addClass(h.toThemeProperty("jqx-toolbar-tool-minimized"))):("custom"!==i?d[h._toolToWidgetMapping[i]]("destroy"):d.remove(),p.minimizable===!1&&(u=!1),d=!1)}var f=!1,m=l;d&&(m=m.add(d),d.css("display","none"));var g,v=h.rtl?"rtl":"ltr",x=["button","toggleButton","repeatButton","linkButton"],w={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};"|"===o?(f=!0,m.addClass(h.toThemeProperty("jqx-toolbar-tool-separator-"+v)),d&&(g=e('<div class="'+h.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator")+'"></div>'),h._minimizePopup.append(g))):(-1===x.indexOf(i)||-1!==x.indexOf(i)&&-1===x.indexOf(o))&&m.addClass(h.toThemeProperty("jqx-toolbar-tool-no-separator-"+v)),-1===x.indexOf(s)&&-1!==x.indexOf(i)&&-1!==x.indexOf(o)?h.rtl===!1?m[w[i]]({roundedCorners:"left"}):(m[w[i]]({roundedCorners:"right"}),m.css("border-left-width",0)):-1!==x.indexOf(s)&&-1!==x.indexOf(i)&&-1!==x.indexOf(o)?(m.addClass(h.toThemeProperty("jqx-toolbar-tool-inner-button")),m.css("border-left-width",0)):-1!==x.indexOf(s)&&-1!==x.indexOf(i)&&-1===x.indexOf(o)&&(h.rtl===!1?(m[w[i]]({roundedCorners:"right"}),m.css("border-left-width",0)):m[w[i]]({roundedCorners:"left"})),e.jqx.browser.msie&&e.jqx.browser.version<8&&"combobox"===i&&m.find(".jqx-combobox-arrow-normal").width(18);var b={type:i,tool:l,separatorAfterWidget:f,minimizable:u,minimized:!1,menuTool:d,menuSeparator:g};return b},_initializeWidget:function(t,i,r,s){function o(){r=i.clone(),s?(s.after(i),n._minimizePopup.append(r)):(n.host.prepend(i),n._minimizePopup.prepend(r))}var n=this;if("custom"!==t&&void 0===n.host[n._toolToWidgetMapping[t]]){var a=n._toolToWidgetMapping[t].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+a+".js")}switch(t){case"button":case"toggleButton":i=e("<button></button>"),o(),i.add(r)[n._toolToWidgetMapping[t]]({theme:n.theme,height:n.host.height(),disabled:n.disabled,rtl:n.rtl});break;case"dropdownlist":case"combobox":i=e("<div></div>"),o(),i.add(r)[n._toolToWidgetMapping[t]]({theme:n.theme,autoDropDownHeight:!0,height:n.host.height()-2,disabled:n.disabled,rtl:n.rtl});break;case"input":i=e('<input type="text" />'),o(),i.add(r).jqxInput({theme:n.theme,height:n.host.height()-2,disabled:n.disabled,rtl:n.rtl});break;case"custom":i=e("<div></div>"),o()}return{tool:i,menuTool:r}},_appendMinimizeButton:function(){var t=this;t._minimizedTools=0,t._minimizeButton=e('<div class="'+t.toThemeProperty("jqx-menu-minimized-button jqx-toolbar-minimized-button")+'"></div>'),t._minimizePopup=e('<div id="'+t.element.id+'Popup" class="'+t.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup")+'"></div>'),t.rtl===!0&&(t._minimizeButton.addClass(t.toThemeProperty("jqx-toolbar-minimized-button-rtl")),t._minimizePopup.addClass(t.toThemeProperty("jqx-toolbar-minimized-popup-rtl"))),t.host.append(t._minimizeButton),e("body").append(t._minimizePopup),t._isOpen=!1,t._minimizePopup.width(t.minimizeWidth)},_openMinimizePopup:function(){var e=this;if(e._isOpen===!1){var t=e.host.offset(),i=t.left;e.rtl===!1&&(i+=e.host.outerWidth()-e._minimizePopup.outerWidth());var r=t.top+e.host.outerHeight()-1;e._minimizePopup.css({left:i,top:r}),e._minimizePopup.slideDown("fast",function(){e._isOpen=!0,e._raiseEvent("0")})}else e._minimizePopup.slideUp("fast"),e._isOpen=!1,e._raiseEvent("1")},_minimize:function(){var e=this,t=0;e._minimizedTools>0&&(t=e._minimizeButton.outerWidth()+parseInt(e._minimizeButton.css("margin-left"),10));var i=e.host.width()-parseInt(e.host.css("padding-left"),10)-parseInt(e.host.css("padding-right"),10)-t;if(!(0>i)){for(var r,s=0,o=0;o<e._toolWidgets.length;o++)if(e._toolWidgets[o].minimized===!1){var n=e._toolWidgets[o].tool.outerWidth(!0);s+=n}else void 0===r&&(r=e._toolWidgets[o].tool.outerWidth(!0));s>i?(e._minimizeTool(!0),e._minimize()):void 0!==r&&i>s+r&&(e._minimizeTool(!1),e._minimize())}},_minimizeTool:function(e){var t,i,r=this;if(e===!0){for(var s=r._toolWidgets.length-1;s>=0;s--)if(t=r._toolWidgets[s],t.minimizable!==!1&&t.minimized===!1){i=r._getToolValue(t.tool,t.type),t.tool[0].style.display="none",t.menuTool&&(t.menuTool.show(),r._setToolValue(i,t.menuTool,t.type)),t.menuSeparator&&t.menuSeparator.show(),r._toolWidgets[s].minimized=!0,r._minimizedTools++,1===r._minimizedTools&&r._minimizeButton.show();break}}else for(var o=0;o<r._toolWidgets.length;o++)if(t=r._toolWidgets[o],t.minimized===!0){t.menuTool&&(i=r._getToolValue(t.menuTool,t.type),t.menuTool.hide()),t.menuSeparator&&t.menuSeparator.hide(),t.tool.show(),t.menuTool&&r._setToolValue(i,t.tool,t.type),r._toolWidgets[o].minimized=!1,r._minimizedTools--,0===r._minimizedTools&&r._minimizeButton.hide();break}},_getToolValue:function(e,t){var i;switch(t){case"button":case"custom":i=void 0;break;case"toggleButton":var r=e.hasClass("jqx-fill-state-pressed");i={text:e.text(),toggled:r};break;case"dropdownlist":case"combobox":i=e[this._toolToWidgetMapping[t]]("getSelectedIndex");break;case"input":i=e.val()}return i},_setToolValue:function(e,t,i){if(void 0!==e)switch(i){case"button":case"custom":break;case"toggleButton":t.text(e.text);var r=t.hasClass("jqx-fill-state-pressed");r!==e.toggled&&t.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":e=t[this._toolToWidgetMapping[i]]("selectIndex",e);break;case"input":t.val(e)}},_restoreChanges:function(){var t=this;e.each(t._toolChanges,function(e,i){"addTool"===i.action?t.addTool(i.type,i.position,i.separator,i.initCallback):"destroyTool"===i.action?t._destroyTool(i.index):"disableTool"===i.action&&t.disableTool(i.index,i.disable)})},_getBothTools:function(e){var t=e.tool;return e.menuTool&&(t=t.add(e.menuTool)),t}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){var t={width:null,height:null,decimalNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",changeType:null,events:["change"]};e.extend(!0,this,t)},createInstance:function(){var t=this;t._firefox="mozilla"===e.jqx.browser.browser,t._currentNumber={},t._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i),t.render()},render:function(){var e=this;if("DIV"===e.element.nodeName.toUpperCase()){e.baseHost=e.host;var t=e.host.data();e.host=e.baseHost.children("input"),e.element=e.host[0],e.host.data(t)}if(e.spinButtons===!0){if(!e.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");e._appendSpinButtons()}if(e._addClasses(),e._setSize(),e._removeHandlers(),e._addHandlers(),"exponential"===e.decimalNotation&&-1!==e.value.toLowerCase().indexOf("e")){var i=e._exponentialToDecimal(e.value),r=i.realPart,s=i.imaginaryPart,o=0>s?"-":"+",n=r+" "+o+" "+Math.abs(s)+"i";e._currentNumber={value:n,realPart:r,imaginaryPart:s}}else e._currentNumber={value:e.value,realPart:e._getReal(e.value),imaginaryPart:e._getImaginary(e.value)};"default"===e.decimalNotation?e.element.value=e.value:e._setNotation(),e._refreshPlaceHolder()},refresh:function(e){e!==!0&&this.render()},destroy:function(){var e=this;e._removeHandlers(),e.host.destroy()},val:function(t){var i=this;if("string"!=typeof t&&("object"!=typeof t||e.isEmptyObject(t)!==!1))return i.element.value;var r,s;if("string"==typeof t)if(t=t.toLowerCase(),-1===t.indexOf("e"))r=i._getReal(t),s=i._getImaginary(t);else{var o=i._exponentialToDecimal(t);r=1*o.realPart,s=1*o.imaginaryPart}else"object"==typeof t&&e.isEmptyObject(t)===!1&&(r=t.real,s=t.imaginary);var n=s>=0?"+":"-",a=r+" "+n+" "+Math.abs(s)+"i";a!==i._currentNumber.value&&(i.element.value=a,i._onChange(i.value),"default"!==i.decimalNotation&&i._setNotation())},getReal:function(){return this._currentNumber.realPart},_getReal:function(t){function i(t){return r=r.slice(0,t),r=e.trim(r),parseFloat(s+""+r)}(!t||"object"==typeof t&&e.isEmptyObject(t)===!0)&&(t=this.element.value);var r=e.trim(t),s="";if(0===(t.match(/i/g)||[]).length)return parseFloat(r);"+"===t.charAt(0)?r=r.slice(1,t.length):"-"===t.charAt(0)&&(r=r.slice(1,t.length),s="-");var o=r.indexOf("+");if(-1!==o)return i(o);var n=r.indexOf("-");return-1!==n?i(n):0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(t){function i(t,i){return r=r.slice(t+1,r.indexOf("i")),r=e.trim(r),""===r&&(r=1),parseFloat(i+""+r)}if((!t||"object"==typeof t&&e.isEmptyObject(t)===!0)&&(t=this.element.value),0===(t.match(/i/g)||[]).length)return 0;var r=e.trim(t),s="";"-"!==r.charAt(0)&&"+"!==r.charAt(0)||(s="-"===r.charAt(0)?"-":"+",r=e.trim(r.slice(1,t.length)));var o=r.indexOf("+");if(-1!==o)return i(o,"+");var n=r.indexOf("-");return-1!==n?i(n,"-"):(r=s+""+r.slice(0,r.indexOf("i")),""===r||"+"===r?1:"-"===r?-1:parseFloat(r))},getDecimalNotation:function(e,t){function i(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","10"),r+=s._toSuperScript(i),r=r.replace("+","")}function r(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t),o=parseInt(i,10)%3;r*=Math.pow(10,o);var n=e.slice(0,t).length-o-2;n>=0&&(r=r.toFixed(n));var a=r+"10"+s._toSuperScript((parseInt(i,10)-o).toString());return a}var s=this;"real"===e?e=s._currentNumber.realPart:"imaginary"===e&&(e=s._currentNumber.imaginaryPart);var o=e.toExponential();return"scientific"===t?i(o):"engineering"===t?r(o):o},propertyChangedHandler:function(t,i,r,s){if(s!==r)switch(i){case"template":t.template&&(t._upbutton.removeClass(that.toThemeProperty("jqx-"+r)),t._downbutton.removeClass(that.toThemeProperty("jqx-"+r)),t._upbutton.addClass(that.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(that.toThemeProperty("jqx-"+t.template)));break;case"width":case"height":t._setSize();break;case"decimalNotation":"default"===s?t.element.value=t._currentNumber.value:t._setNotation();break;case"value":t.element.value=s,t._onChange(r);break;case"spinButtons":var o=function(){t.host.removeClass(t.toThemeProperty("jqx-rc-all")),t.rtl===!1?(t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r"))):(t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l")))};if(t._spinButtonsContainer){var n=t.host.width(),a=t._spinButtonsContainer.outerWidth();s===!1?(t.host.width(n+a),t._spinButtonsContainer.hide(),t.host.addClass(t.toThemeProperty("jqx-rc-all"))):(t.host.width(n-a),t._spinButtonsContainer.show(),o())}else if(s===!0){var l=e("<div></div>");if(t.baseHost)t.host.after(l),t.render();else{var d=t.element.id;t.host.removeAttr("id"),t.host.wrap('<div id="'+d+'" style="display: inline-block;"></div>');var h=e("#"+d);h.append(l);var c=t.host.data();c.jqxComplexInput.host=h,c.jqxComplexInput.element=h[0],t.baseHost=h,t.baseHost.data(c),t.render()}o()}break;case"placeHolder":t._refreshPlaceHolder(r);break;case"roundedCorners":t._spinButtonsContainer?s===!0?t.rtl===!1?(t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r"))):(t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l"))):t.rtl===!1?(t.host.removeClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-r"))):(t.host.removeClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-l"))):s===!0?t.host.addClass(t.toThemeProperty("jqx-rc-all")):t.host.removeClass(t.toThemeProperty("jqx-rc-all"));break;case"disabled":s===!0?(t.host.attr("disabled",!0),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeAttr("disabled"),t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":t._spinButtonsContainer&&(s===!0?(t.host.addClass(t.toThemeProperty("jqx-complex-input-child-rtl")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),t.roundedCorners===!0&&(t.host.removeClass(t.toThemeProperty("jqx-rc-l")),t.host.addClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-r")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-l")))):(t.host.removeClass(t.toThemeProperty("jqx-complex-input-child-rtl")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),t.roundedCorners===!0&&(t.host.removeClass(t.toThemeProperty("jqx-rc-r")),t.host.addClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-rc-l")),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-rc-r")))));break;case"theme":e.jqx.utilities.setTheme(r,s,t.host)}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,i.type=this.changeType,this.changeType=null,s.args=i,s.preventDefault&&s.preventDefault();var o=this.host.trigger(s);return o},_appendSpinButtons:function(){var t=this;t._spinButtonsContainer=e(t.baseHost.children("div")),t._spinButtonsContainer.attr("unselectable","on"),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container")),t.rtl===!1?t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")):t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));var i='<div unselectable="on" class="'+t.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+t.toThemeProperty("jqx-input-icon")+'"></div></div>';t._upbutton=e(i),t._spinButtonsContainer.append(t._upbutton),t._downbutton=e(i),t._spinButtonsContainer.append(t._downbutton),t._upArrow=t._upbutton.find("div"),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")),t._downArrow=t._downbutton.find("div"),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t._upArrow.add(t._downArrow).attr("unselectable","on"),t.template&&(t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template)))},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content")),e.baseHost&&(e.baseHost.addClass(e.toThemeProperty("jqx-widget jqx-complex-input-parent")),e.host.addClass(e.toThemeProperty("jqx-complex-input-child"))),e.roundedCorners===!0&&(e._spinButtonsContainer?e.rtl===!1?(e.host.addClass(e.toThemeProperty("jqx-rc-l")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-r"))):(e.host.addClass(e.toThemeProperty("jqx-rc-r")),e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-rc-l"))):e.host.addClass(e.toThemeProperty("jqx-rc-all"))),e.disabled===!0&&(e.host.attr("disabled",!0),e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),e._spinButtonsContainer&&e._spinButtonsContainer.addClass(e.toThemeProperty("jqx-fill-state-disabled"))),e.rtl===!0&&e.host.add(e._spinButtonsContainer).addClass(e.toThemeProperty("jqx-complex-input-child-rtl"))},_refreshPlaceHolder:function(e){var t=this;"placeholder"in t.element?t.host.attr("placeHolder",t.placeHolder):""!==t.element.value&&t.element.value!==e||(t.element.value=t.placeHolder)},_setSize:function(){function t(){var t=i.baseHost.height(),r=parseInt(i.host.css("border-left-width"),10)+parseInt(i.host.css("border-right-width"),10)+parseInt(i.host.css("padding-left"),10)+parseInt(i.host.css("padding-right"),10),s=0;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(s=r,i.host.height(i.baseHost.height()-2*(parseInt(i.host.css("border-top-width"),10)+parseInt(i.host.css("border-bottom-width"),10)+parseInt(i.host.css("padding-top"),10)+parseInt(i.host.css("padding-bottom"),10)))),i._spinButtonsContainer){var o="string"==typeof i.width&&"%"===i.width.charAt(i.width.length-1)?1:0;i.host.width(i.baseHost.width()-r-i._spinButtonsContainer.outerWidth()-s-o),e.jqx.browser.msie&&e.jqx.browser.version<8&&i._spinButtonsContainer.height(t-2*(parseInt(i._spinButtonsContainer.css("border-top-width"),10)+parseInt(i._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(i._spinButtonsContainer.css("padding-top"),10)+parseInt(i._spinButtonsContainer.css("padding-bottom"),10)))}else i.host.width(i.baseHost.width()-r-s)}var i=this;i.baseHost?(i.baseHost.width(i.width),i.baseHost.height(i.height),t()):(i.host.width(i.width),i.host.height(i.height)),e.jqx.browser.msie&&e.jqx.browser.version<9&&i.host.css("line-height",i.host.height()+"px");var r=i.baseHost||i.host;e.jqx.utilities.resize(r,function(){t(),(e.jqx.browser.msie&&e.jqx.browser.version<9||!e.jqx.browser.msie)&&"string"==typeof i.height&&"%"===i.height.charAt(i.height.length-1)&&i.host.css("line-height",i.host.height()+"px")})},_addHandlers:function(){var t,i=this;t=i.baseHost?i.baseHost[0].id:i.element.id;var r=[8,9,13,32,35,36,37,38,39,40,46];if(i.addHandler(i.host,"focus.jqxComplexInput"+t,function(){if(i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),i._spinButtonsContainer&&i._spinButtonsContainer.addClass(i.toThemeProperty("jqx-fill-state-focus")),"placeholder"in i.element||i.element.value!==i.placeHolder||(i.element.value=""),"default"!==i.decimalNotation){var e=i._getCaretPosition();i.element.value=i._currentNumber.value,i._setCaretPosition(e)}}),i.addHandler(i.host,"blur.jqxComplexInput"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus")),i._spinButtonsContainer&&i._spinButtonsContainer.removeClass(i.toThemeProperty("jqx-fill-state-focus")),(i.element.value!==i.value||"placeholder"in i.element||!("placeholder"in i.element)&&""===i.element.value)&&i._onChange(i.value),"placeholder"in i.element||""!==i.element.value&&i.element.value!==i.placeHolder||(i.element.value=i.placeHolder),"default"!==i.decimalNotation&&i._setNotation()}),i.addHandler(i.host,"keydown.jqxComplexInput"+t,function(e){var t=e.charCode?e.charCode:e.which;if(i.changeType="keyboard",e.ctrlKey!==!0||67!==t&&86!==t&&88!==t){var s=String.fromCharCode(t);t>=96&&105>=t&&(s=(t-96).toString(),t-=48),(!i._firefox&&187===t||i._firefox&&61===t)&&e.shiftKey===!0?s="+":(!i._firefox&&189===t||i._firefox&&173===t)&&e.shiftKey===!1?s="-":190===t&&e.shiftKey===!1&&(s=".");var o=i._allowedCharacters.test(s);if(o!==!0)return-1!==r.indexOf(t)?void 0:!1;if("+"===s||"-"===s){var n=(i.element.value.match(/-/g)||[]).length+(i.element.value.match(/\+/g)||[]).length;if(n>1)return!1}else if("."===s){var a=(i.element.value.match(/\./g)||[]).length;if(a>1)return!1}else if("i"===s.toLowerCase()&&-1!==i.element.value.indexOf(s.toLowerCase()))return!1}}),i.addHandler(i.host,"keypress.jqxComplexInput"+t,function(e){var t=e.charCode?e.charCode:e.which;13===t&&i.element.value!==i.value&&i._onChange(i.value)}),i._spinButtonsContainer){var s=i._upbutton.add(i._downbutton);i.addHandler(i._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t,function(){i.disabled||""===i.value||null===i.value||(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.changeType="mouse",i._incrementOrDecrement(!0))}),i.addHandler(i._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t,function(){i.disabled||""===i.value||null===i.value||i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(i._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t,function(){i.disabled||""===i.value||null===i.value||(i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.changeType="mouse",i._incrementOrDecrement(!1))}),i.addHandler(i._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t,function(){i.disabled||""===i.value||null===i.value||i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-pressed"))}),i.addHandler(s,"mouseenter.jqxComplexInputSpinButtons"+t,function(t){if(!i.disabled&&""!==i.value&&null!==i.value){var r=e(t.target);r.hasClass("jqx-icon-arrow-up")||r.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.addClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.addClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}}),i.addHandler(s,"mouseleave.jqxComplexInputSpinButtons"+t,function(t){if(!i.disabled&&""!==i.value&&null!==i.value){var r=e(t.target);r.hasClass("jqx-icon-arrow-up")||r.children().hasClass("jqx-icon-arrow-up")?(i._upbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._upArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-up-hover"))):(i._downbutton.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i._downArrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")))}}),i.addHandler(e("body"),"mouseup.jqxComplexInputSpinButtons"+t,function(){i._upbutton.add(i._downbutton).removeClass(i.toThemeProperty("jqx-fill-state-pressed"))})}},_removeHandlers:function(){var t,i=this;if(t=i.baseHost?i.baseHost[0].id:i.element.id,i.removeHandler(i.host,"focus.jqxComplexInput"+t),i.removeHandler(i.host,"blur.jqxComplexInput"+t),i.removeHandler(i.host,"keydown.jqxComplexInput"+t),i.removeHandler(i.host,"keypress.jqxComplexInput"+t),i._spinButtonsContainer){var r=i._upbutton.add(i._downbutton);i.removeHandler(i._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+t),i.removeHandler(i._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+t),i.removeHandler(i._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+t),i.removeHandler(i._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+t),i.removeHandler(r,"mouseenter.jqxComplexInputSpinButtons"+t),i.removeHandler(r,"mouseleave.jqxComplexInputSpinButtons"+t),i.removeHandler(e("body"),"mouseup.jqxComplexInputSpinButtons"+t)}},_onChange:function(t){var i,r,s=this,o=s.element.value.toLowerCase();if(""!==e.trim(o)&&e.trim(o)!==s.placeHolder){if(-1!==o.indexOf("++")||-1!==o.indexOf("+-")){var n=o.indexOf("+");o=o.slice(0,n+1)+""+o.slice(n+2,o.length)}else if(-1!==o.indexOf("--")||-1!==o.indexOf("-+")){var a=o.indexOf("-");o=o.slice(0,a+1)+""+o.slice(a+2,o.length)}if(-1!==o.indexOf("..")){var l=o.indexOf(".");o=o.slice(0,l+1)+""+o.slice(l+2,o.length)}var d=s._getReal(o),h=s._getImaginary(o),c=" ",u=h>=0?"+":"-",p="i";if(i=d,r=h,isNaN(i)||isNaN(r))return void(s.element.value=t);s.element.value=d+""+c+u+c+Math.abs(h)+p,s.value=s.element.value}else i=0,r=0,s.value="";s.value!==t&&(s._currentNumber={value:s.value,realPart:i,imaginaryPart:r},s._raiseEvent("0",{value:s.value,oldValue:t,realPart:i,imaginaryPart:r}))},_incrementOrDecrement:function(e){function t(t){var i,r,o,n=t.toString(),a=n.indexOf(".");return-1!==a?(r=parseInt(n.slice(0,a),10),o=n.slice(n.indexOf(".")+1),i="."):(r=t,o="",i=""),t=e===!0?r+s.spinButtonsStep:r-s.spinButtonsStep,t=parseFloat(t+""+i+o)}var i,r,s=this,o=s.host.is(":focus"),n=s.element.value,a=s._currentNumber.realPart,l=s._currentNumber.imaginaryPart;o&&(i=s._getCaretPosition()),l>=0?r=n.indexOf("+"):("-"===n.charAt(0)&&(n=n.slice(1,n.length)),r=n.indexOf("-")),void 0===i||r>=i?a=t(a):l=t(l);var d=l>=0?"+":"-",h=a+" "+d+" "+Math.abs(l)+"i";s.element.value=h,s._onChange(s.value),o?s._setCaretPosition(i):"default"!==s.decimalNotation&&s._setNotation()},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),i=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},_exponentialToDecimal:function(t){var i=t.indexOf("e")+2,r=t.slice(i),s=r.indexOf("+"),o=r.indexOf("-");i=-1!==s&&(o>s||-1===o)?s:o;var n=r.slice(i),a=t.replace(n,"");n=n.slice(0,n.length-1);var l=n.charAt(0);return n=e.trim(n.slice(1)),"-"===l&&(n="-"+n),a=1*parseFloat(a).toFixed(20),n=1*parseFloat(n).toFixed(20),{realPart:a,imaginaryPart:n}},_setNotation:function(){var e=this,t=e.getDecimalNotation(e._currentNumber.realPart,e.decimalNotation),i=e.getDecimalNotation(Math.abs(e._currentNumber.imaginaryPart),e.decimalNotation),r=e._currentNumber.imaginaryPart>=0?"+":"-";e.element.value=t+" "+r+" "+i+"i"},_toSuperScript:function(e,t){for(var i="-0123456789",r="",s="",o=0;o<e.length;o++)if(t===!0){var n=r.indexOf(e.charAt(o));s+=-1!==n?i[n]:e[o]}else{var a=i.indexOf(e.charAt(o));s+=-1!==a?r[a]:e[o]}return s}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxFormattedInput","",{}),e.extend(e.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var t={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",_opened:!1,$popup:e("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};e.extend(!0,this,t)},createInstance:function(){var e=this;e._Long(),e._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)},e.render()},render:function(){var t=this;if(t._radixNumber=t._getRadix(t.radix),""!==t.value&&(t._number=new t.longObj.math.Long.fromString(t.value.toString(),t._radixNumber)),t.baseHost&&(t.host=t.baseHost,t.element=t.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var i=this.host.find("input"),r=!1;if(e.each(i,function(){var t=this.type;return null===t||"text"===t||"textarea"===t?(i=e(this),r=!0,!1):void 0}),!r)throw new Error("jqxFormattedInput: Missing Text Input in the Input Group");if(i.length>0){this.baseHost=e(this.element);var s=this.host.data();this.host=i,
this.element=i[0],this.host.data(s),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var o=this.baseHost.children();e.each(o,function(i){if(e(this).addClass(t.toThemeProperty("jqx-input-group-addon")),e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===i&&e(this).addClass(t.toThemeProperty("jqx-rc-l")),i===o.length-1&&e(this).addClass(t.toThemeProperty("jqx-rc-r")),this!==t.element&&e(this).addClass(t.toThemeProperty("jqx-fill-state-normal")),"div"===this.nodeName.toLowerCase()){t.appendSpinButtons=function(i){t._spinButtonsContainer=e(i),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container"));var r='<div class="'+t.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+t.toThemeProperty("jqx-input-icon")+'"></div></div>';t._upbutton=e(r),t._spinButtonsContainer.append(t._upbutton),t._downbutton=e(r),t._spinButtonsContainer.append(t._downbutton),t._upArrow=t._upbutton.find("div"),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")),t._downArrow=t._downbutton.find("div"),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.template&&(t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),t._spinButtonsStepLong=new t.longObj.math.Long.fromNumber(t.spinButtonsStep)};var r=function(i){t._addon=e(i),t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon")),t._arrow||(t._arrow=e('<div class="'+t.toThemeProperty("jqx-icon")+" "+t.toThemeProperty("jqx-icon-arrow-down")+'"></div>'),t._arrow.appendTo(t._addon)),t.template&&t._addon.addClass(t.toThemeProperty("jqx-"+t.template))};t.rtl===!1?t._spinButtonsContainer||t.spinButtons!==!0?t._addon||t.dropDown!==!0||2!==i&&(1!==i||t.spinButtons!==!1)||r(this):t.appendSpinButtons(this):t._addon||t.dropDown!==!0?t._spinButtonsContainer||t.spinButtons!==!0||1!==i&&(0!==i||t.dropDown!==!1)||(t.appendSpinButtons(this),t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl")),t.dropDown===!0&&t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon-rtl"))):(r(this),t.spinButtons===!0&&t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon-rtl")))}})}}t._inputAndAddon=t.host,t.baseHost&&(t._spinButtonsContainer&&(t._inputAndAddon=t._inputAndAddon.add(t._spinButtonsContainer)),t._addon&&(t._inputAndAddon=t._inputAndAddon.add(t._addon))),t.removeHandlers(),this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),e.jqx.aria(this,"aria-haspopup",!0),""!==t.value&&null!==t.value?(t.upperCase===!0?t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case")):t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")),10===t._radixNumber&&"exponential"===t.decimalNotation?t.element.value=t._getDecimalNotation("exponential"):t.element.value=t.value):t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled")),10!==t._radixNumber&&"-9223372036854775808"===t.min.toString()?t._minLong=new t.longObj.math.Long.fromNumber(t.min):t._setMinMax("min"),10!==t._radixNumber&&"9223372036854775807"===t.max.toString()?t._maxLong=new t.longObj.math.Long.fromNumber(t.max):t._setMinMax("max")},_refreshClasses:function(t){var i=t?"addClass":"removeClass";this.host[i](this.toThemeProperty("jqx-widget-content")),this.host[i](this.toThemeProperty("jqx-input")),this.host[i](this.toThemeProperty("jqx-formatted-input")),this.host[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.$popup[i](this.toThemeProperty("jqx-noshadow")),this.$popup[i](this.toThemeProperty("jqx-input-popup")),this.$popup[i](this.toThemeProperty("jqx-menu")),this.$popup[i](this.toThemeProperty("jqx-menu-vertical")),this.$popup[i](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-widget-content")),this.roundedCorners?(this.host[i](this.toThemeProperty("jqx-rc-all")),this.$popup[i](this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost[i](this.toThemeProperty("jqx-rc-all")),this.rtl===!1?(this.host[i](this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon[i](this.toThemeProperty("jqx-rc-r"))):(this.host[i](this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon[i](this.toThemeProperty("jqx-rc-l"))))):(this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.$popup.removeClass(this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all")),this.rtl===!1?(this.host.removeClass(this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-rc-r"))):(this.host.removeClass(this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-rc-l"))))),this.disabled?(this.host[i](this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&(this._spinButtonsContainer&&this._spinButtonsContainer[i](this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon[i](this.toThemeProperty("jqx-fill-state-disabled")))):(this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&""!==this.value&&null!==this.value&&(this._spinButtonsContainer&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},refresh:function(){var t=this;if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var i=0,r=this.baseHost.height()-2;e.jqx.browser.msie&&e.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),e.each(this.baseHost.children(),function(){e(this).css("height","100%"),e.jqx.browser.msie&&e.jqx.browser.version<8&&e(this).css("height",r+"px"),this!==t.element&&(i+=e(this).outerWidth())});var s="string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1)?1:0;if(this.host.css("width",this.baseHost.width()-i-s+"px"),e.jqx.browser.msie&&e.jqx.browser.version<9){t._spinButtonsContainer&&(t.rtl===!1||t.rtl===!0&&t._addon)&&t._spinButtonsContainer.css("border-left-width","0"),t._addon&&(t.rtl===!1?t._addon.css("border-left-width","0"):t._spinButtonsContainer||t._addon.css("border-right-width","0"));var o=0;if(e.jqx.browser.version<8){var n=0,a=parseInt(t.host.css("border-left-width"),10)+parseInt(t.host.css("border-right-width"),10),l=parseInt(t.host.css("padding-left"),10)+parseInt(t.host.css("padding-right"),10);t._spinButtonsContainer&&(a+=parseInt(t._spinButtonsContainer.css("border-left-width"),10)+parseInt(t._spinButtonsContainer.css("border-right-width"),10),l+=parseInt(t._spinButtonsContainer.css("padding-left"),10)+parseInt(t._spinButtonsContainer.css("padding-right"),10),t._addon||(n=2)),t._addon&&(a+=parseInt(t._addon.css("border-left-width"),10)+parseInt(t._addon.css("border-right-width"),10),l+=parseInt(t._addon.css("padding-left"),10)+parseInt(t._addon.css("padding-right"),10),t._spinButtonsContainer||(n=2)),t.host.width(t.host.width()-(l+a)-n),o=6}t.host.height(t.baseHost.height()-(parseInt(t.host.css("border-top-width"),10)+parseInt(t.host.css("border-bottom-width"),10)+parseInt(t.host.css("padding-top"),10)+parseInt(t.host.css("padding-bottom"),10)+o));var d=t.host.height()+"px";t.host.css("min-height",d),t.host.css("line-height",d)}}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var e=this;""===this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){e.element.value===e.placeHolder&&(e.element.value="")}),this.host.blur(function(){""!==e.element.value&&e.element.value!==e.placeHolder||(e.element.value=e.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?(e.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):(e.jqx.utilities.resize(this.host,null,!0),this.host.remove()),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(t,i,r,s){function o(e,i){var r=t.host.width(),s=e.outerWidth();i===!1?(t.host.width(r+s),e.hide(),t.rtl===!0&&(t.spinButtons===!0&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t.dropDown===!0&&t._addon.removeClass(t.toThemeProperty("jqx-formatted-input-addon-rtl")))):(t.host.width(r-s),e.show(),t.rtl===!0&&t.spinButtons===!0&&t.dropDown===!0&&(t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t._addon.addClass(t.toThemeProperty("jqx-formatted-input-addon-rtl"))))}function n(i,r){if(r===!0){var s=e("<div></div>");if(t.baseHost){var o=t.baseHost.children("div");t.rtl===!1&&"spinButtons"===i||t.rtl===!0&&"dropDown"===i?o.before(s):o.after(s),t.render(),t.host.width(t.host.width()-s.outerWidth())}else{var n=t.element.id;t.host.removeAttr("id"),t.host.wrap('<div id="'+n+'" style="display: inline-block;"></div>');var a=e("#"+n);t.rtl===!1?a.append(s):a.prepend(s);var l=t.host.data();l.jqxFormattedInput.host=a,l.jqxFormattedInput.element=a[0],t.baseHost=a,t.baseHost.data(l),t.render(),t.refresh()}}}return"placeHolder"===i?void t._refreshPlaceHolder():("template"==i&&t.template&&(t._upbutton.removeClass(t.toThemeProperty("jqx-"+r)),t._downbutton.removeClass(t.toThemeProperty("jqx-"+r)),t._addon.removeClass(that.toThemeProperty("jqx-"+r)),t._upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._downbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t._addon.addClass(that.toThemeProperty("jqx-"+t.template))),"theme"===i?void e.jqx.utilities.setTheme(r,s,t.host):("disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===i&&r.toString().toUpperCase()!==s.toString().toUpperCase()?void t.val(s):r!==s&&"radix"===i?void t._changeRadix(s):(r!==s&&"decimalNotation"===i&&10===t._radixNumber&&("exponential"===s?t.element.value=t._getDecimalNotation("exponential"):t.element.value=t._number.toString(10)),r===s||"min"!==i&&"max"!==i?r!==s&&"upperCase"===i&&""!==t.element.value?void(s===!0?(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-lower-case")),t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case"))):(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-upper-case")),t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")))):"spinButtons"===i?r!==s?void(t._spinButtonsContainer?o(t._spinButtonsContainer,s):n("spinButtons",s)):void 0:(r!==s&&"spinButtonsStep"===i&&(t._spinButtonsStepLong=new t.longObj.math.Long.fromNumber(s)),"dropDown"===i?r!==s?void(t._addon?o(t._addon,s):n("dropDown",s)):void 0:void t.refresh()):(t._setMinMax(i),t._validateValue(t.value,!0),void(t.value=t.element.value)))))},select:function(e,t,i){var r=this;i||(i=r.$popup.find(".jqx-fill-state-pressed").attr("data-value")),r._changeRadix(parseInt(i,10)),r._setMaxLength(!0),r.close()},val:function(t){var i=this;if(!t&&""!==t||"object"==typeof t&&e.isEmptyObject(t)===!0||"binary"===t||"octal"===t||"decimal"===t||"exponential"===t||"scientific"===t||"engineering"===t||"hexadecimal"===t){if(!t||"object"==typeof t&&e.isEmptyObject(t)===!0)return i.element.value;if("exponential"===t||"scientific"===t||"engineering"===t)return i._getDecimalNotation(t);var r=i._getRadix(t);return i._number.toString(r)}if(t=t.toString(),t.toUpperCase()!==i.element.value.toString().toUpperCase()){var s=i.element.value;i.upperCase===!0&&(t=t.toUpperCase());for(var o=t.split(""),n=0;n<o.length;n++)if(!i._regex[""+i._radixNumber].test(o[n]))return;var a=i._validateValue(t,!0);return i._raiseEvent("2",{value:a,oldValue:s,radix:i._radixNumber}),i.value=a,a}return t},_changeRadix:function(e){var t=this,i=t._getRadix(e),r=""!==t.value?t._number.toString(i):"",s=t.radix,o=t.value;t.radix=e,t._radixNumber=i,t.element.value=r,t.value=r,this._raiseEvent("3",{radix:e,oldRadix:s,value:r,oldValue:o})},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,2==t&&(i.type=this.changeType,this.changeType=null),s.args=i,s.preventDefault&&s.preventDefault();var o;return o=this.baseHost?this.baseHost.trigger(s):this.host.trigger(s)},open:function(){var t=this;if(t._setPopupOptions(),t._render(t._popupOptions),!e.jqx.isHidden(this.host)){var i;if(i=t.baseHost?e.extend({},t.baseHost.coord(!0),{height:t.baseHost[0].offsetHeight}):e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight}),0===this.$popup.parent().length){var r=this.element.id+"_popup";this.$popup[0].id=r,e.jqx.aria(this,"aria-owns",r)}this.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:i.top+i.height,left:i.left}).show();var s=0,o=this.$popup.children();return e.each(o,function(){s+=e(this).outerHeight(!0)-1}),this.$popup.height(s),this._opened=!0,t.baseHost&&(t._addon.addClass(t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),t._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("0",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){var t=this;return this.$popup.hide(),this._opened=!1,t.baseHost&&(t._addon.removeClass(t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),t._arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_render:function(t){var i=this;t=e(t).map(function(t,r){var s,o=r;switch(t){case 0:s=2;break;case 1:s=8;break;case 2:s=10;break;case 3:s=16}t=e(i.item).attr("data-value",s),t.find("a").html(o).attr("data-value",s);var n="";return i.rtl&&(n=" "+i.toThemeProperty("jqx-rtl")+" "+i.toThemeProperty("jqx-formatted-input-item-rtl")),t[0].className=i.toThemeProperty("jqx-item")+" "+i.toThemeProperty("jqx-menu-item")+" "+i.toThemeProperty("jqx-formatted-input-item")+" "+i.toThemeProperty("jqx-rc-all")+n,t[0]});var r;switch(i._radixNumber){case 2:r=0;break;case 8:r=1;break;case 10:r=2;break;case 16:r=3}if(t.eq(r).addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(t),this.dropDownWidth)this.$popup.width(this.dropDownWidth);else if(i.baseHost){var s="string"==typeof i.width&&"%"===i.width.charAt(i.width.length-1)?1:0;this.$popup.width(this.baseHost.outerWidth()-6-s)}else this.$popup.width(this.host.outerWidth()-6);return this},next:function(){var t=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=t.next();i.length||(i=e(this.$popup.find("li")[0])),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t=e.prev();t.length||(t=this.$popup.find("li").last()),t.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var t=this;if(this.addHandler(this.host,"focus",e.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",e.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",e.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",e.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",e.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",e.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",e.proxy(this.mouseenter,this)),this.addHandler(this.host,"change",function(e){e.stopPropagation(),e.preventDefault()}),t.baseHost){var i=t.baseHost.attr("id");if(t._spinButtonsContainer){var r=t._upbutton.add(t._downbutton);t.addHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.changeType="mouse",t._incrementOrDecrement("add"))}),t.addHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||t._upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||(t.changeType="mouse",t._downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._incrementOrDecrement("subtract"))}),t.addHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||t._downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(r,"mouseenter.jqxFormattedInputSpinButtons"+i,function(i){if(!t.disabled&&""!==t.value&&null!==t.value){var r=e(i.target);r.hasClass("jqx-icon-arrow-up")||r.children().hasClass("jqx-icon-arrow-up")?(t._upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))):(t._downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}}),t.addHandler(r,"mouseleave.jqxFormattedInputSpinButtons"+i,function(i){if(!t.disabled&&""!==t.value&&null!==t.value){var r=e(i.target);r.hasClass("jqx-icon-arrow-up")||r.children().hasClass("jqx-icon-arrow-up")?(t._upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))):(t._downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}}),t.addHandler(e("body"),"mouseup.jqxFormattedInputSpinButtons"+i,function(){t._upbutton.add(t._downbutton).removeClass(t.toThemeProperty("jqx-fill-state-pressed"))})}t._addon&&(t.addHandler(t._addon,"click.jqxFormattedInputAddon"+i,function(){t.disabled||(t._opened?t.close():t.open())}),t.addHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.addClass(t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.removeClass(t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon.add(t._arrow),"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()})),e.jqx.utilities.resize(t.baseHost,function(){t._opened===!0&&t.close();var e=0;t._spinButtonsContainer&&(e+=t._spinButtonsContainer.outerWidth()),t._addon&&(e+=t._addon.outerWidth()),t.host.css("width",t.baseHost.width()-e-1)})}},removeHandlers:function(){var t=this;if(this.removeHandler(this.host,"focus",e.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",e.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",e.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",e.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",e.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",e.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",e.proxy(this.mouseenter,this)),t.baseHost){var i=t.baseHost.attr("id");if(t._spinButtonsContainer){var r=t._upbutton.add(t._downbutton);t.removeHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i),t.removeHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i),t.removeHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i),t.removeHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i),t.removeHandler(r,"mouseenter.jqxFormattedInputSpinButtons"+i),t.removeHandler(r,"mouseleave.jqxFormattedInputSpinButtons"+i),t.removeHandler(e("body"),"mouseup.jqxFormattedInputSpinButtons"+i)}t._addon&&(t.removeHandler(t._addon,"click.jqxFormattedInputAddon"+i),t.removeHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i),t.removeHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i),t.removeHandler(t._addon.add(t._arrow),"blur.jqxFormattedInputAddon"+i))}},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){var i=this;i.changeType="keyboard",this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t);var r=t.charCode?t.charCode:t.which,s=String.fromCharCode(r);if(r>=96&&105>=r&&(s=r-96,r-=48),t.altKey===!0){if(40===r)return void(i._addon&&this.open());if(38===r)return void(i._addon&&this.close())}if(t.ctrlKey===!0){if(67===r)return;if(65===r)return void i.selectAll()}var o=[8,9,13,37,38,39,40,46,88],n=i._regex[""+i._radixNumber];if(!(-1!==o.indexOf(r)||n.test(s)||n.test(t.key)||n.test(t["char"])))return t.preventDefault(),!1;var a=i.host[0].selectionStart,l=i.host[0].selectionEnd-a,d=this._getCaretPosition(this.host[0]),h=this.element.value,c=h.split("");if(8===r)l>0?c.splice(a,l):c.splice(d-1,1);else if(46===r)l>0?c.splice(a,l):c.splice(d,1);else if(88===r)t.ctrlKey===!0?l>0&&c.splice(a,l):t.preventDefault();else if(189===r)"-"===c[0]?(c.splice(0,1),i._minus=!1):(c.splice(0,0,"-"),i._minus=!0),t.preventDefault();else{var u=-1===o.indexOf(r)?s:"";l>0?(c.splice(a,l),c.splice(a,0,u)):c.splice(d,0,u)}if(c=c.join(""),c!==h){var p=i._validateValue(c,!1);p===!1?i._inputAndAddon.addClass(i.toThemeProperty("jqx-input-invalid")):i._inputAndAddon.removeClass(i.toThemeProperty("jqx-input-invalid"))}},keypress:function(e){var t=this;t.suppressKeyPressRepeat||t.move(e)},keyup:function(e){var t=this;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened?this.select(e,this):t._change();break;case 27:if(!this._opened)return;this.close();break;case 189:10===t._radixNumber&&(t._minus===!0?t.element.value="-"+t.element.value:t.element.value=t.element.value.slice(1))}e.stopPropagation(),e.preventDefault(),""!==t.element.value?(t.upperCase?t.host.addClass(t.toThemeProperty("jqx-formatted-input-upper-case")):t.host.addClass(t.toThemeProperty("jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),t._spinButtonsContainer&&t._spinButtonsContainer.addClass(t.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},onBlur:function(){var e=this;e._opened&&e.close(),e._setMaxLength(),e._inputAndAddon.removeClass(e.toThemeProperty("jqx-fill-state-focus")),e._change(),10===e._radixNumber&&"exponential"===e.decimalNotation&&(e.element.value=e._getDecimalNotation("exponential")),e._refreshPlaceHolder()},onFocus:function(){var e=this;e._setMaxLength(!0),e._inputAndAddon.addClass(e.toThemeProperty("jqx-fill-state-focus")),10===e._radixNumber&&"exponential"===e.decimalNotation&&(e.element.value=e._number.toString(10))},click:function(t){t.stopPropagation(),t.preventDefault();var i=e(t.target).attr("data-value");this.select(t,this,i)},mouseenter:function(t){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e(t.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var e=this,t=e.value,i=e._validateValue(e.element.value,!0);e._inputAndAddon.removeClass(e.toThemeProperty("jqx-input-invalid")),i.toUpperCase()!==t.toString().toUpperCase()&&(e._raiseEvent("2",{value:i,oldValue:t,radix:e._radixNumber}),e.value=i)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var e=this;e._popupOptions=new Array,""!==e.value?(e._popupOptions.push(e._number.toString(2)+" <em>(BIN)</em>"),e._popupOptions.push(e._number.toString(8)+" <em>(OCT)</em>"),e._popupOptions.push(e._number.toString(10)+" <em>(DEC)</em>"),e._popupOptions.push(e._number.toString(16)+" <em>(HEX)</em>")):(e._popupOptions.push("BIN"),e._popupOptions.push("OCT"),e._popupOptions.push("DEC"),e._popupOptions.push("HEX"))},_validateValue:function(e,t){var i=this;if(""!==e){var r=new i.longObj.math.Long.fromString(e.toString(),i._radixNumber);if(r.lessThan(i._minLong)){if(t){i._number=i._minLong;var s=i._minLong.toString(i._radixNumber);return 16===i._radixNumber&&i.upperCase===!0&&(s=s.toUpperCase()),i.element.value=s,s}return!1}if(r.greaterThan(i._maxLong)){if(t){i._number=i._maxLong;var o=i._maxLong.toString(i._radixNumber);return 16===i._radixNumber&&i.upperCase===!0&&(o=o.toUpperCase()),i.element.value=o,o}return!1}return t?(i._number=r,i.element.value=e,e):!0}return t?(i.element.value="",e):!0},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var r=new Array,s=0;11>s;s++){for(var o=parseInt(e.charAt(s),8).toString(2);3!==o.length;)o="0"+o;r.push(o)}i=r.join(""),"0"===i.charAt(0)&&(i=i.slice(1))}else if(16===t){for(var n=new Array,a=0;8>a;a++){for(var l=parseInt(e.charAt(a),16).toString(2);4!==l.length;)l="0"+l;n.push(l)}i=n.join("")}for(var d="",h=0;h<i.length;h++){var c="1"===i.charAt(h)?"0":"1";d+=c}return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(e){var t,i=this;if(e===!0)switch(i._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;i.host.attr("maxlength",t)},_setMinMax:function(e){var t=this;t["_"+e+"Long"]=new t.longObj.math.Long.fromString(t[e].toString(),t._radixNumber)},_getDecimalNotation:function(e){function t(e){if("0"===e)return parseInt(e,10).toExponential();var t;"-"===e.charAt(0)?(t="-",e=e.slice(1,e.length)):t="";for(var i=e.length-1;"0"===e.charAt(e.length-1);)e=e.slice(0,e.length-1);var r=e.slice(1,e.length);return""!==r&&(r="."+r),t+""+e.charAt(0)+r+"e+"+i}function i(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","10"),r+=s._toSuperScript(i),r=r.replace("+","")}function r(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t),o=parseInt(i,10)%3;r*=Math.pow(10,o);var n=e.slice(0,t).length-o-2;n>=0&&(r=r.toFixed(n));var a=r+"10"+s._toSuperScript((parseInt(i,10)-o).toString());return a}var s=this,o=s._number.toString(10),n=t(o);return"scientific"===e?i(n):"engineering"===e?r(n):n},_toSuperScript:function(e,t){for(var i="-0123456789",r="",s="",o=0;o<e.length;o++)if(t===!0){var n=r.indexOf(e.charAt(o));s+=-1!==n?i[n]:e[o]}else{var a=i.indexOf(e.charAt(o));s+=-1!==a?r[a]:e[o]}return s},_incrementOrDecrement:function(e){var t=this;t._number.toString(t._radixNumber)!==t.element.value&&(t._number=new t.longObj.math.Long.fromString(t.element.value,t._radixNumber)),t._number=t._number[e](t._spinButtonsStepLong),t.element.value=t._number.toString(t._radixNumber),t._change()},_negativeBinary:function(e,t){var i="";for(e=e.slice(1,e.length);e.length<64;)e="0"+e;for(var r=0;r<e.length;r++){var s="1"===e.charAt(r)?"0":"1";i+=s}for(var o=!0,n="",a=i.length-1;a>=0;a--){var l,d=i.charAt(a);"0"===d?o===!0?(l="1",o=!1):l="0":l=o===!0?"0":"1",n=l+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var h="",c=22;c>=1;c--){var u=n[3*c-3]+""+n[3*c-2]+n[3*c-1];h=parseInt(u,2).toString(8)+""+h}return h;case 16:for(var p="",f=16;f>=1;f--){var m=n[4*f-4]+""+n[4*f-3]+n[4*f-2]+n[4*f-1];p=parseInt(m,2).toString(16)+""+p}return p}},_Long:function(){var e=this;e.longObj=new Object;var t=e.longObj;t.math=new Object,t.math.Long=new Object,t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.math.Long.IntCache[e];if(i)return i}var r=new t.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.math.Long.IntCache[e]=r),r},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:0>e?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var s=t.math.Long.fromNumber(Math.pow(r,8)),o=t.math.Long.ZERO,n=0;n<e.length;n+=8){var a=Math.min(8,e.length-n),l=parseInt(e.substring(n,n+a),r);if(8>a){var d=t.math.Long.fromNumber(Math.pow(r,a));o=o.multiply(d).add(t.math.Long.fromNumber(l))}else o=o.multiply(s),o=o.add(t.math.Long.fromNumber(l))}return o},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if(this.isZero())return"0";var s,o;if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var n=t.math.Long.fromNumber(r),a=this.div(n);return s=a.multiply(n).subtract(this),a.toString(r)+s.toInt().toString(r)}switch(r){case 2:case 8:case 16:return o="-"+this.negate().toString(2),e._negativeBinary(o,r);default:return o="-"+this.negate().toString(r)}}var l=t.math.Long.fromNumber(Math.pow(r,6));for(s=this,o="";;){var d=s.div(l),h=s.subtract(d.multiply(l)).toInt(),c=h.toString(r);if(s=d,s.isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},t.math.Long.prototype.getHighBits=function(){return this.highBits},
t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,o=65535&this.lowBits,n=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,h=0,c=0,u=0,p=0;return p+=o+d,u+=p>>>16,p&=65535,u+=s+l,c+=u>>>16,u&=65535,c+=r+a,h+=c>>>16,c&=65535,h+=i+n,h&=65535,t.math.Long.fromBits(u<<16|p,h<<16|c)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,o=65535&this.lowBits,n=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,h=0,c=0,u=0,p=0;return p+=o*d,u+=p>>>16,p&=65535,u+=s*d,c+=u>>>16,u&=65535,u+=o*l,c+=u>>>16,u&=65535,c+=r*d,h+=c>>>16,c&=65535,c+=s*l,h+=c>>>16,c&=65535,c+=o*a,h+=c>>>16,c&=65535,h+=i*d+r*l+s*a+o*n,h&=65535,t.math.Long.fromBits(u<<16|p,h<<16|c)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,r;if(this.equals(t.math.Long.MIN_VALUE)){if(e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE))return t.math.Long.MIN_VALUE;if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ONE;var s=this.shiftRight(1);if(i=s.div(e).shiftLeft(1),i.equals(t.math.Long.ZERO))return e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE;r=this.subtract(e.multiply(i));var o=i.add(r.div(e));return o}if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var n=t.math.Long.ZERO;for(r=this;r.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(i)/Math.LN2),l=48>=a?1:Math.pow(2,a-48),d=t.math.Long.fromNumber(i),h=d.multiply(e);h.isNegative()||h.greaterThan(r);)i-=l,d=t.math.Long.fromNumber(i),h=d.multiply(e);d.isZero()&&(d=t.math.Long.ONE),n=n.add(d),r=r.subtract(h)}return n},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var r=this.highBits;return t.math.Long.fromBits(i<<e,r<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.math.Long.fromBits(r>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.math.Long.fromBits(r>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};e.extend(!0,this,t)},createInstance:function(){var t=this;t._browser=e.jqx.browser,"popup"!==t.mode&&-1===t.selectedIndex&&(t.selectedIndex=0),t._originalHTML=t.host.html(),t._render(!0)},render:function(){this._render()},refresh:function(e){e!==!0&&this._render()},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){this._clearSelection()},disableAt:function(t){var i=this;i._items[t]._disabled=!0,e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-disabled")),t===i.selectedIndex&&i._clearSelection()},enableAt:function(t){var i=this;i._items[t]._disabled=!1,e(i._items[t]).removeClass(i.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(t){var i=this;e(i._items[t]).css("display","none"),i._checkScrollButtons(),t===i.selectedIndex?i._clearSelection():i._updatePositions()},showAt:function(t){var i=this;"horizontal"===i._orientation?e(i._items[t]).css("display","inline-block"):e(i._items[t]).css("display","inherit"),i._checkScrollButtons(),i._updatePositions()},val:function(e){var t=this;return e?void t._selectAt(e):t.selectedIndex},addAt:function(t,i){var r=this;r._removeHandlers();var s=e('<li class="'+r.toThemeProperty("jqx-ribbon-item")+" "+r.toThemeProperty("jqx-ribbon-item-"+r.position)+'">'+i.title+"</li>"),o=e('<div class="'+r.toThemeProperty("jqx-widget-content")+" "+r.toThemeProperty("jqx-ribbon-content-section")+" "+r.toThemeProperty("jqx-ribbon-content-section-"+r.position)+'"></div>');switch(o.append(i.content),r.position){case"top":s.addClass(r.toThemeProperty("jqx-rc-t")),o.addClass(r.toThemeProperty("jqx-rc-b"));break;case"bottom":s.addClass(r.toThemeProperty("jqx-rc-b")),o.addClass(r.toThemeProperty("jqx-rc-t"));break;case"left":s.addClass(r.toThemeProperty("jqx-rc-l")),o.addClass(r.toThemeProperty("jqx-rc-r"));break;case"right":s.addClass(r.toThemeProperty("jqx-rc-r")),o.addClass(r.toThemeProperty("jqx-rc-l"))}"popup"===r.mode&&(o.addClass(r.toThemeProperty("jqx-ribbon-content-section-popup")),"horizontal"===r._orientation?o.addClass(r.toThemeProperty("jqx-ribbon-content-section-horizontal-popup")):o.addClass(r.toThemeProperty("jqx-ribbon-content-section-vertical-popup"))),r.rtl===!0&&s.addClass(r.toThemeProperty("jqx-ribbon-item-rtl")),r._items.length-1>=t?(e(r._items[t]).before(s),e(r._contentSections[t]).before(o)):(r._header.append(s),r._content.append(o)),r._updateItems(),r._addHandlers(),r._checkScrollButtons(),t<=r.selectedIndex&&r.selectedIndex++,r._updatePositions(),r.selectedIndex<0||(r._suppressSelectionEvents=!0,r._selectAt(r.selectedIndex,r.selectedIndex,!0))},removeAt:function(t){var i=this;t===i.selectedIndex&&i._clearSelection(),e(i._items[t]).add(i._contentSections[t]).remove(),i._updateItems(!0),i._updatePositions(),i._checkScrollButtons()},updateAt:function(t,i){var r=this;e(r._items[t]).html(i.newTitle),e(r._contentSections[t]).html(i.newContent),r._items[t]._isInitialized=!1,r.initContent&&t===r.selectedIndex&&(r.initContent(t),r._items[t]._isInitialized=!0),r._updatePositions()},setPopupLayout:function(t,i,r,s){var o=this;"popup"===o.mode&&(e(o._contentSections[t]).attr("data-width")||(e(o._contentSections[t])[0].style.width&&e(o._contentSections[t]).attr("data-width",e(o._contentSections[t])[0].style.width),e(o._contentSections[t])[0].style.height&&e(o._contentSections[t]).attr("data-height",e(o._contentSections[t])[0].style.height)),r&&e(o._contentSections[t]).css("width",r),s&&e(o._contentSections[t]).css("height",s),o._contentSections[t]._layout=i,o._positionContent(t))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.host.css("width",e.width),e.host.css("height",e.height),e._updateSize())},propertyChangedHandler:function(t,i,r,s){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&s!==r)switch(i){case"width":case"height":t.host.css(i,s),t._updateSize();break;case"position":t._render();break;case"mode":t._content.width("auto"),t._removeHandlers(null,r),t._render();break;case"selectedIndex":t._selectAt(s,r);break;case"selectionMode":t._removeHandlers(r),t._addHandlers();break;case"scrollPosition":t._scrollButtons.removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+r)),t._scrollButtons.addClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+s));var o=e(t._scrollButtons[0]),n=e(t._scrollButtons[1]);t._scrollButtons.removeClass(t.toThemeProperty("jqx-rc-tr")),t._scrollButtons.removeClass(t.toThemeProperty("jqx-rc-bl")),o.removeClass(t.toThemeProperty("jqx-rc-tl")),n.removeClass(t.toThemeProperty("jqx-rc-br")),t._scrollButtonRc(o,n),t._checkScrollButtons(),t._updatePositions();break;case"disabled":s===!0?(t._removeHandlers(),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(r,s,t.host);break;case"rtl":s===!0?(t._header.addClass(t.toThemeProperty("jqx-ribbon-header-rtl")),t._items.addClass(t.toThemeProperty("jqx-ribbon-item-rtl"))):(t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl")),t._items.removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))),t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(e,t){var i=this.events[e],r=new jQuery.Event(i);r.owner=this,r.args=t;var s;try{s=this.host.trigger(r)}catch(o){}return s},_render:function(t){var i=this;switch(t!==!0&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1;break;case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0;break;default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}if(t===!0){var r=i.host.children();i._header=e(r[0]),i._content=e(r[1]),i._checkStructure(r)}i._header.css("float","none"),i._content.css("padding","0px"),i.host.width(i.width),i.host.height(i.height),"bottom"!==i.position&&"right"!==i.position||i._content.after(i._header),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._header.css("float","right"):"left"===i.position&&i._header.css("float","left"),i._contentSections=i._content.children(),e.each(i._contentSections,function(){void 0!==e(this).attr("data-width")&&(e(this).css("width",e(this).attr("data-width")),e(this).css("height",e(this).attr("data-height")),e(this).removeAttr("data-width"),e(this).removeAttr("data-height"))}),t===!0&&(i._selectionToken=e('<div class="'+i.toThemeProperty("jqx-ribbon-selection-token")+" "+i.toThemeProperty("jqx-ribbon-selection-token-"+i.position)+" "+i.toThemeProperty("jqx-widget-content")+'"></div>'),i.host.append(i._selectionToken)),i._updateItems(),i._addClasses(),t===!0&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(e(i._items[i.selectedIndex]).addClass(i.toThemeProperty("jqx-widget-content")).addClass(i.toThemeProperty("jqx-ribbon-item-selected")),i._positionSelectionToken(i.selectedIndex),e(i._contentSections[i.selectedIndex]).css("display","block"),i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")):i._addHandlers(),e.jqx.utilities.resize(i.host,function(){i._updateSize()})},_updateSize:function(){var e=this;if("7.0"===e._browser.version&&"msie"===e._browser.browser)if("horizontal"===e._orientation)e._header.css("width",e.host.width()-parseInt(e._header.css("padding-left"),10)-parseInt(e._header.css("padding-right"),10)-parseInt(e._header.css("border-left-width"),10)-parseInt(e._header.css("border-right-width"),10)),e._contentSections.width(e._content.width()-parseInt(e._contentSections.css("border-left-width"),10)-parseInt(e._contentSections.css("border-right-width"),10)-parseInt(e._contentSections.css("padding-left"),10)-parseInt(e._contentSections.css("padding-right"),10)),"default"===e.mode&&"string"==typeof e.height&&-1!==e.height.indexOf("%")&&e._contentSections.height(e._content.height()-e._header.height()-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("border-top-width"),10)-1);else if(e._header.css("height",e.host.height()-parseInt(e._header.css("padding-top"),10)-parseInt(e._header.css("padding-bottom"),10)-parseInt(e._header.css("border-top-width"),10)-parseInt(e._header.css("border-bottom-width"),10)),e._contentSections.height(e._content.height()-parseInt(e._contentSections.css("border-top-width"),10)-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("padding-top"),10)-parseInt(e._contentSections.css("padding-bottom"),10)),"default"===e.mode&&"string"==typeof e.width&&-1!==e.height.indexOf("%")){var t="left"===e.position?parseInt(e._contentSections.css("border-left-width"),10)+parseInt(e._contentSections.css("border-right-width"),10)+1:0;e._contentSections.width(e._content.width()-e._header.width()-t)}e._checkScrollButtons(!0),e._updatePositions(),"popup"===e.mode&&e._positionPopup()},_stopAnimation:function(){var t=this;t._allowSelection||(t.selectedIndex=t._animatingIndex,e(t._contentSections[t._animatingIndex]).finish(),t._clearSelection(!0,t._animatingIndex),t._allowSelection=!0)},_selectAt:function(t,i,r){var s=this;if(void 0===i&&(i=s.selectedIndex),(t!==i||r===!0)&&(s._stopAnimation(),s._allowSelection)){if(s._animatingIndex=t,s._clearSelection(!0,i),s._allowSelection=!1,s._selecting=t,"click"===s.selectionMode&&(e(s._items[t]).removeClass(s.toThemeProperty("jqx-fill-state-hover")),e(s._items[t]).removeClass(s.toThemeProperty("jqx-ribbon-item-hover"))),"popup"===s.mode&&s._roundedCorners)switch(s._header.removeClass(s.toThemeProperty("jqx-rc-all")),s.position){case"top":s._header.add(s._items).addClass(s.toThemeProperty("jqx-rc-t")),s._contentSections.addClass(s.toThemeProperty("jqx-rc-b"));break;case"bottom":s._header.add(s._items).addClass(s.toThemeProperty("jqx-rc-b")),s._contentSections.addClass(s.toThemeProperty("jqx-rc-t"));break;case"left":s._header.add(s._items).addClass(s.toThemeProperty("jqx-rc-l")),s._contentSections.addClass(s.toThemeProperty("jqx-rc-r"));break;case"right":s._header.add(s._items).addClass(s.toThemeProperty("jqx-rc-r")),s._contentSections.addClass(s.toThemeProperty("jqx-rc-l"))}switch(e(s._items[t]).addClass(s.toThemeProperty("jqx-widget-content")).addClass(s.toThemeProperty("jqx-ribbon-item-selected")),s._selectionToken.css("display","block"),s._updatePositions(t),s.animationType){case"fade":e(s._contentSections[t]).fadeToggle(s.animationDelay,function(){s._animationComplete(t,i)});break;case"slide":var o=s.position;"top"===o?o="up":"bottom"===o&&(o="down"),s.slideAnimation=s._slide(e(s._contentSections[t]),{mode:"show",direction:o,duration:s.animationDelay},t,i);break;case"none":e(s._contentSections[t]).css("display","block"),s._animationComplete(t,i)}}},_clearSelection:function(t,i){var r=this;if("popup"===r.mode&&r._roundedCorners&&r._header.addClass(r.toThemeProperty("jqx-rc-all")),r._selecting=-1,void 0===i&&(i=r.selectedIndex),e(r._items[i]).removeClass(r.toThemeProperty("jqx-widget-content")).removeClass(r.toThemeProperty("jqx-ribbon-item-selected")),r._selectionToken.css("display","none"),t!==!0&&"none"!==r.animationType){if("fade"===r.animationType)e(r._contentSections[i]).fadeOut(r.animationDelay,function(){r._clearSelectionComplete(i)});else if("slide"===r.animationType){var s=r.position;"top"===s?s="up":"bottom"===s&&(s="down"),r._stopAnimation(),i=r.selectedIndex,r.slideAnimation=r._slide(e(r._contentSections[i]),{mode:"hide",direction:s,duration:r.animationDelay},i),r.selectedIndex=-1}}else e(r._contentSections[i]).css("display","none"),r._clearSelectionComplete(i,t)},_addHandlers:function(){var t=this,i=t.element.id,r=function(r){if("click"===t.popupCloseMode&&"popup"===t.mode){if("svg"===r.target.tagName)return;var s=e(r.target).closest(".jqx-ribbon");if(s.length>0&&s.attr("id")!==i)return void t._clearSelection();if(-1!==r.target.className.indexOf("jqx-ribbon-content-popup"))return void t._clearSelection();if(e(r.target).ischildof(t.host))return;var o=!1;e.each(e(r.target).parents(),function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return o=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return i===this.id&&(o=!0),!1}}),o||t._clearSelection()}};if("click"===t.selectionMode){t.addHandler(t._items,"click.ribbon"+i,function(i){var r=e(i.target).closest("li")[0],s=r._index;t._items[s]._disabled||(s!==t.selectedIndex?t._selectAt(s):"popup"===t.mode&&"none"!==t.popupCloseMode&&(e(r).addClass(t.toThemeProperty("jqx-fill-state-hover")),e(r).addClass(t.toThemeProperty("jqx-ribbon-item-hover")),t._clearSelection()))});var s=function(e){return(t._selecting!==e&&t._allowSelection===!1||(-1===t._selecting||t.selectedIndex!==e)&&t._allowSelection===!0)&&!t._items[e]._disabled};t.addHandler(t._items,"mouseenter.ribbon"+i,function(i){var r=e(i.target).closest("li")[0];s(r._index)&&(e(r).addClass(t.toThemeProperty("jqx-fill-state-hover")),e(r).addClass(t.toThemeProperty("jqx-ribbon-item-hover")))}),t.addHandler(t._items,"mouseleave.ribbon"+i,function(i){var r=e(i.target).closest("li")[0];s(r._index)&&(e(r).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e(r).removeClass(t.toThemeProperty("jqx-ribbon-item-hover")))}),"popup"===t.mode&&(t.addHandler(t.host,"mouseleave.ribbon"+i,function(){"mouseLeave"===t.popupCloseMode&&"popup"===t.mode&&t._clearSelection()}),t.addHandler(t._contentSections,"mouseleave.ribbon"+i,function(){"mouseLeave"===t.popupCloseMode&&"popup"===t.mode&&t._clearSelection()}),t.addHandler(e(document),"mousedown.ribbon"+i,function(e){r(e)}));var o,n=!1;t._removeByDrag===!0&&t._items.addClass(t.toThemeProperty("jqx-ribbon-item-docking-layout")),t.addHandler(t._items,"mousedown.ribbon"+i,function(i){var r=e(i.target).closest("li")[0];t.reorder!==!0&&t._removeByDrag!==!0||r._index!==t.selectedIndex||(n=!0,o=r._index,r.style.cursor="move")}),t.addHandler(t.host,"mouseup.ribbon"+i,function(){n=!1,t._items.css("cursor","")}),t.addHandler(t._items,"mouseenter.ribbon"+i,function(i){if(t.reorder===!0&&n===!0){var r=e(i.target).closest("li")[0]._index,s=e(t._items[o]).html(),a=e(t._contentSections[o]).contents().detach();t._suppressSelectionEvents=!0,t._oldReorderIndex=o,t.removeAt(o),t.clearSelection(),t.addAt(r,{title:s,content:a}),t.selectAt(r),setTimeout(function(){e(t._items[r]).mousedown()},0)}}),t.addHandler(t._header,"mouseleave.ribbon"+i,function(e){t._removeByDrag===!0&&n===!0&&(t._raiseEvent("3",{draggedIndex:o,x:e.pageX,y:e.pageY}),t._items.length>1&&t.removeAt(o),n=!1,e.target.style.cursor="")})}else"hover"===t.selectionMode&&(t.addHandler(t._items,"mouseenter.ribbon"+i,function(i){var r=e(i.target).closest("li")[0]._index;t._items[r]._disabled||r===t.selectedIndex||t._selectAt(r)}),"popup"===t.mode&&(t.addHandler(t.host,"mouseleave.ribbon"+i,function(){"mouseLeave"===t.popupCloseMode&&"popup"===t.mode&&t._clearSelection()}),t.addHandler(t._contentSections,"mouseleave.ribbon"+i,function(){"mouseLeave"===t.popupCloseMode&&"popup"===t.mode&&t._clearSelection()}),t.addHandler(e(document),"mousedown.ribbon"+i,function(e){r(e)}),t.addHandler(t._items,"click.ribbon"+i,function(i){var r=e(i.target).closest("li")[0]._index;t._items[r]._disabled||"popup"===t.mode&&"none"!==t.popupCloseMode&&t._clearSelection()})));var a=t.rtl&&"msie"===t._browser.browser?-1:1,l=e(t._scrollButtons[0]);t.addHandler(l,"mousedown.ribbon"+i,function(){return"horizontal"===t._orientation?t._timeoutNear=setInterval(function(){var e=t._header.scrollLeft();t._header.scrollLeft(e-t.scrollStep*a),t._updatePositions()},t.scrollDelay):t._timeoutNear=setInterval(function(){var e=t._header.scrollTop();t._header.scrollTop(e-t.scrollStep),t._updatePositions()},t.scrollDelay),!1}),t.addHandler(l,"mouseup.ribbon"+i,function(){clearInterval(t._timeoutNear)});var d=e(t._scrollButtons[1]);t.addHandler(d,"mousedown.ribbon"+i,function(){return"horizontal"===t._orientation?t._timeoutFar=setInterval(function(){var e=t._header.scrollLeft();t._header.scrollLeft(e+t.scrollStep*a),t._updatePositions()},t.scrollDelay):t._timeoutFar=setInterval(function(){var e=t._header.scrollTop();t._header.scrollTop(e+t.scrollStep),t._updatePositions()},t.scrollDelay),!1}),t.addHandler(d,"mouseup.ribbon"+i,function(){clearInterval(t._timeoutFar)})},_removeHandlers:function(t,i){var r=this,s=r.element.id;t||(t=r.selectionMode),i||(i=r.mode),r.removeHandler(r._items,"mouseenter.ribbon"+s),"click"===t?(r.removeHandler(r._items,"click.ribbon"+s),r.removeHandler(r._items,"mouseleave.ribbon"+s),r.removeHandler(r._items,"mousedown.ribbon"+s),r.removeHandler(r.host,"mouseup.ribbon"+s),r.removeHandler(r._header,"mouseleave.ribbon"+s)):"hover"===t&&"popup"===i&&r.removeHandler(r.host,"mouseleave.ribbon"+s);var o=e(r._scrollButtons[0]);r.removeHandler(o,"mousedown.ribbon"+s),r.removeHandler(o,"mouseup.ribbon"+s);var n=e(r._scrollButtons[1]);r.removeHandler(n,"mousedown.ribbon"+s),r.removeHandler(n,"mouseup.ribbon"+s)},_checkStructure:function(e){var t=this,i=e.length;if(2!==i)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");var r=t._header.children().length,s=t._content.children().length;if(r!==s)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var e=this;if(e._contentSections.removeClass(),e._content.removeClass(),e._header.removeClass(e.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+e._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),e._items.removeClass(e.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+e.position)),e.host.removeClass(),e.host.addClass(e.toThemeProperty("jqx-widget")+" "+e.toThemeProperty("jqx-ribbon")),e._header.addClass(e.toThemeProperty("jqx-widget-header")+" "+e.toThemeProperty("jqx-disableselect")+" "+e.toThemeProperty("jqx-ribbon-header")+" "+e.toThemeProperty("jqx-ribbon-header-"+e._orientation)),e._items.addClass(e.toThemeProperty("jqx-ribbon-item")+" "+e.toThemeProperty("jqx-ribbon-item-"+e.position)),e._content.addClass(e.toThemeProperty("jqx-widget-content")+" "+e.toThemeProperty("jqx-ribbon-content")+" "+e.toThemeProperty("jqx-ribbon-content-"+e._orientation)),e._contentSections.addClass(e.toThemeProperty("jqx-widget-content")+" "+e.toThemeProperty("jqx-ribbon-content-section")+" "+e.toThemeProperty("jqx-ribbon-content-section-"+e.position)),e._roundedCorners)switch(e.position){case"top":e._header.add(e._items).addClass(e.toThemeProperty("jqx-rc-t")),e._contentSections.addClass(e.toThemeProperty("jqx-rc-b"));break;case"bottom":e._header.add(e._items).addClass(e.toThemeProperty("jqx-rc-b")),e._contentSections.addClass(e.toThemeProperty("jqx-rc-t"));break;case"left":e._header.add(e._items).addClass(e.toThemeProperty("jqx-rc-l")),e._contentSections.addClass(e.toThemeProperty("jqx-rc-r"));break;case"right":e._header.add(e._items).addClass(e.toThemeProperty("jqx-rc-r")),e._contentSections.addClass(e.toThemeProperty("jqx-rc-l"))}else switch(e.position){case"top":e._items.addClass(e.toThemeProperty("jqx-rc-t"));break;case"bottom":e._items.addClass(e.toThemeProperty("jqx-rc-b"));break;case"left":e._items.addClass(e.toThemeProperty("jqx-rc-l"));break;case"right":e._items.addClass(e.toThemeProperty("jqx-rc-r"))}var t,i;if("popup"===e.mode?(-1===e.selectedIndex&&e._roundedCorners&&(e.host.addClass(e.toThemeProperty("jqx-rc-all")),e._header.addClass(e.toThemeProperty("jqx-rc-all"))),e.host.addClass(e.toThemeProperty("jqx-ribbon-popup")),e._header.addClass(e.toThemeProperty("jqx-ribbon-header-"+e._orientation+"-popup")),e._content.addClass(e.toThemeProperty("jqx-ribbon-content-popup")),e._contentSections.addClass(e.toThemeProperty("jqx-ribbon-content-section-popup")),e._contentSections.addClass(e.toThemeProperty("jqx-ribbon-content-popup-"+e.position)),"horizontal"===e._orientation?e._contentSections.addClass(e.toThemeProperty("jqx-ribbon-content-section-horizontal-popup")):e._contentSections.addClass(e.toThemeProperty("jqx-ribbon-content-section-vertical-popup")),e._positionPopup()):"horizontal"===e._orientation?"auto"!==e.height?(i=e._header.outerHeight(),"top"===e.position?e._content.css("padding-top",i):(e._header.addClass(e.toThemeProperty("jqx-ribbon-header-bottom")),e._content.css("padding-bottom",i))):e._header.addClass(e.toThemeProperty("jqx-ribbon-header-auto")):"vertical"===e._orientation&&("auto"!==e.width?(t=e._header.outerWidth(),"left"===e.position?e._content.css("padding-left",t):(e._header.addClass(e.toThemeProperty("jqx-ribbon-header-right")),e._content.css("padding-right",t))):(e.host.addClass(e.toThemeProperty("jqx-ribbon-auto")),e._header.addClass(e.toThemeProperty("jqx-ribbon-header-auto")),e._content.addClass(e.toThemeProperty("jqx-ribbon-content-auto-width")))),"7.0"===e._browser.version&&"msie"===e._browser.browser)if("horizontal"===e._orientation)e._header.css("width",e.host.width()-parseInt(e._header.css("padding-left"),10)-parseInt(e._header.css("padding-right"),10)-parseInt(e._header.css("border-left-width"),10)-parseInt(e._header.css("border-right-width"),10)),e._items.height(e._items.height()-parseInt(e._items.css("padding-top"),10)-parseInt(e._items.css("padding-bottom"),10)-parseInt(e._items.css("border-top-width"),10)-parseInt(e._items.css("border-bottom-width"),10)),e._contentSections.width(e._contentSections.width()-parseInt(e._contentSections.css("border-left-width"),10)-parseInt(e._contentSections.css("border-right-width"),10)-parseInt(e._contentSections.css("padding-left"),10)-parseInt(e._contentSections.css("padding-right"),10)),"default"===e.mode&&"auto"!==e.height&&("top"===e.position?e._contentSections.css("padding-top",i):e._contentSections.css("padding-bottom",i),e._content.css("height",e.host.height()+2),e._contentSections.css("height",e._content.height()-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("border-top-width"),10)-1));else{var r;"left"===e.position?(e._content.addClass(e.toThemeProperty("jqx-ribbon-content-left")),r=parseInt(e._contentSections.css("border-left-width"),10)+parseInt(e._contentSections.css("border-right-width"),10)+1):(e._content.addClass(e.toThemeProperty("jqx-ribbon-content-right")),r=0),e._header.css("height",e.host.height()-parseInt(e._header.css("padding-top"),10)-parseInt(e._header.css("padding-bottom"),10)-parseInt(e._header.css("border-top-width"),10)-parseInt(e._header.css("border-bottom-width"),10)),e._items.width(e._items.width()-parseInt(e._items.css("padding-left"),10)-parseInt(e._items.css("padding-right"),10)-parseInt(e._items.css("border-left-width"),10)-parseInt(e._items.css("border-right-width"),10)),e._contentSections.height(e._contentSections.height()-parseInt(e._contentSections.css("border-top-width"),10)-parseInt(e._contentSections.css("border-bottom-width"),10)-parseInt(e._contentSections.css("padding-top"),10)-parseInt(e._contentSections.css("padding-bottom"),10)),"default"===e.mode&&"auto"!==e.width&&("left"===e.position?e._contentSections.css("padding-left",t):e._contentSections.css("padding-right",t),e._contentSections.width(e._content.width()-e._header.width()-r))}e.rtl===!0&&(e._header.addClass(e.toThemeProperty("jqx-ribbon-header-rtl")),e._items.addClass(e.toThemeProperty("jqx-ribbon-item-rtl")))},_positionPopup:function(){var t=this,i="7.0"===t._browser.version&&"msie"===t._browser.browser;switch(t.position){case"top":t._content.css("top",t._header.outerHeight());break;case"bottom":i?t._content.css("bottom",t._header.height()):t._content.css("bottom",t._header.outerHeight());break;case"left":t._content.css("left",t._header.outerWidth());break;case"right":if(t._content.css("right",t._header.outerWidth()),i)for(var r=t._content.children(),s=0;s<r.length;s++){var o=e(r[s]);o.css("right",o.outerWidth())}}},_appendScrollButtons:function(){var t=this,i='<div class="'+t.toThemeProperty("jqx-ribbon-scrollbutton")+" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+t.position)+" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+t.scrollPosition)+" "+t.toThemeProperty("jqx-widget-header")+'"><div class="'+t.toThemeProperty("jqx-ribbon-scrollbutton-inner")+'"></div></div>',r=e(i),s=e(i),o="horizontal"===t._orientation?["left","right"]:["up","down"];if(r.find(".jqx-ribbon-scrollbutton-inner").addClass(t.toThemeProperty("jqx-icon-arrow-"+o[0])),s.find(".jqx-ribbon-scrollbutton-inner").addClass(t.toThemeProperty("jqx-icon-arrow-"+o[1])),r.addClass(t.toThemeProperty("jqx-ribbon-scrollbutton-lt")),s.addClass(t.toThemeProperty("jqx-ribbon-scrollbutton-rb")),t._scrollButtons=r.add(s),t.host.append(t._scrollButtons),"horizontal"===t._orientation?t._scrollButtons.height(t._header.height()):t._scrollButtons.width(t._header.width()),t._scrollButtonRc(r,s),t.roundedCorners)switch(t.position){case"top":case"bottom":r.css("margin-left","-1px"),s.css("margin-right","-1px");break;case"right":case"left":r.css("margin-top","-1px"),s.css("margin-bottom","-1px")}},_scrollButtonRc:function(e,t){var i=this;if(i.roundedCorners)switch(i.position){case"top":"far"!==i.scrollPosition&&e.addClass(i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&t.addClass(i.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==i.scrollPosition&&e.addClass(i.toThemeProperty("jqx-rc-bl")),"near"!==i.scrollPosition&&t.addClass(i.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==i.scrollPosition&&e.addClass(i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&t.addClass(i.toThemeProperty("jqx-rc-bl"));
break;case"right":"far"!==i.scrollPosition&&e.addClass(i.toThemeProperty("jqx-rc-tr")),"near"!==i.scrollPosition&&t.addClass(i.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[r]._index===i.selectedIndex&&(i.selectedIndex=r)}var i=this;i._items=i._header.children(),i._items.attr("unselectable","on"),i._contentSections=i._content.children();for(var r=0;r<i._items.length;r++)void 0===i._items[r]._index&&(i._items[r]._disabled=!1,i._items[r]._isInitialized=!1,i._contentSections[r]._layout="default"),e===!0&&t(),i._items[r]._index=r,e!==!0&&t(),i._contentSections[r]&&(i._contentSections[r]._index=r)},_positionContent:function(t){var i,r,s,o,n,a,l=this;"horizontal"===l._orientation?(i=l.host.outerWidth(),r=l.host.offset().left,s=e(l._items[t]).outerWidth(),o=e(l._items[t]).offset().left,n=e(l._contentSections[t]).outerWidth(),a="left"):(i=l.host.outerHeight(),r=l.host.offset().top,s=e(l._items[t]).outerHeight(),o=e(l._items[t]).offset().top,n=e(l._contentSections[t]).outerHeight(),a="top");var d,h=e(l._contentSections[t]),c=function(e){0>e?e=0:e+n>i&&(e=i-n),h.css(a,e)};switch(h[0]._layout){case"near":d=o-r,c(d);break;case"far":d=o-r-(n-s),c(d);break;case"center":d=o-r-(n-s)/2,c(d);break;default:h.css(a,"")}},_checkScrollButtons:function(t){var i=this,r=0;e.each(i._items,function(){var t=e(this);"none"!==t.css("display")&&(r+="horizontal"===i._orientation?t.outerWidth(!0):t.outerHeight(!0))});var s="horizontal"===i._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],o="horizontal"===i._orientation?i._header.width():i._header.height();if(i._itemMargins||(i._itemMargins=[],i._itemMargins.push(e(i._items[0]).css(s[0])),i._itemMargins.push(e(i._items[i._items.length-1]).css(s[1]))),r>o){i._scrollButtons.css("display","block");var n=i.rtl?i._itemMargins[0]:17,a=i.rtl?i._itemMargins[0]:17;switch(i.scrollPosition){case"near":a=0,n=34;break;case"far":a=34,n=17}e(i._items[0]).css(s[0],n),e(i._items[i._items.length-1]).css(s[1],a)}else e(i._items[0]).css(s[0],i._itemMargins[0]),e(i._items[i._items.length-1]).css(s[1],i._itemMargins[1]),i._scrollButtons.css("display","none");t===!0&&("horizontal"===i._orientation?i._scrollButtons.height(i._header.height()):i._scrollButtons.width(i._header.width()))},_positionSelectionToken:function(t){var i=this;if(-1!==t){var r=e(i._items[t]);if(0===r.length)return;var s,o,n,a,l;if("horizontal"===i._orientation){var d,h;i.rtl===!0?(d=1===i._browserWidthRtlFlag?i._header[0].scrollWidth-i._header[0].clientWidth:0,h=i._browserScrollRtlFlag):(d=0,h=1),n=r[0].offsetLeft+d-i._header[0].scrollLeft*h-i._selectionTokenOffsetX+2,l=i._header.outerHeight()-1;var c=r.width()+parseInt(r.css("padding-left"),10)+parseInt(r.css("padding-right"),10);"top"===i.position?(s=l-i._selectionTokenOffsetY,o=""):(s="",o=l-i._selectionTokenOffsetY),i._selectionToken.css({top:s,bottom:o,left:n,width:c})}else{s=r[0].offsetTop-i._header[0].scrollTop-i._selectionTokenOffsetX+2,l=i._header.outerWidth()-1;var u=r.height()+parseInt(r.css("padding-top"),10)+parseInt(r.css("padding-bottom"),10);"left"===i.position?(n=l-i._selectionTokenOffsetY,a=""):(n="",a=l-i._selectionTokenOffsetY),i._selectionToken.css({top:s,left:n,right:a,height:u})}}},_updatePositions:function(t){var i=this;if(isNaN(t)&&(t=i.selectedIndex),-1!==t&&(i._positionSelectionToken(t),"popup"===i.mode&&"default"!==i._contentSections[t]._layout&&i._positionContent(t),"popup"===i.mode&&("left"===i.position||"right"===i.position))){i._content.width("auto");var r=i._contentSections[t].style.width&&i._contentSections[t].style.width.toString().indexOf("%")>=0;r?(i._content[0].style.width=i._contentSections[t].style.width,i._content.width(e(i._contentSections[t]).width()-i._header.width())):i._content.width(e(i._contentSections[t]).width())}},_animationComplete:function(e,t){var i=this,r=-1!==t?t:null;i._content.css("pointer-events","auto"),i._suppressSelectionEvents!==!0?(i._raiseEvent("0",{selectedIndex:e}),i._raiseEvent("2",{unselectedIndex:r,selectedIndex:e})):(i._suppressReorder!==!0&&void 0!==i._oldReorderIndex&&e!==i._oldReorderIndex&&i._raiseEvent("4",{newIndex:e,oldIndex:i._oldReorderIndex}),i._suppressSelectionEvents=!1,i._suppressReorder=!1),i.selectedIndex=e,i.initContent&&i._items[e]._isInitialized===!1&&(i.initContent(e),i._items[e]._isInitialized=!0),i._allowSelection=!0,i._selecting=null},_clearSelectionComplete:function(e,t){var i=this;i._selecting=null,void 0===e&&(e=i.selectedIndex),-1!==e&&(i._content.css("pointer-events","none"),i._suppressSelectionEvents!==!0&&i._raiseEvent("1",{unselectedIndex:e})),t!==!0&&(i.selectedIndex=-1)},_slide:function(t,i,r,s){var o=this;if(o.activeAnimations||(o.activeAnimations=[]),o.activeAnimations.length>0)for(var n=0;n<o.activeAnimations.length;n++)o.activeAnimations[n].clearQueue(),o.activeAnimations[n].finish();else t.clearQueue(),t.finish();var a,l="ui-effects-",d={save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data(l+t[i],e[0].style[t[i]])},restore:function(e,t){var i,r;for(r=0;r<t.length;r++)null!==t[r]&&(i=e.data(l+t[r]),void 0===i&&(i=""),e.css(t[r],i))},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(n){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),r.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t}},h=["position","top","bottom","left","right","width","height"],c=i.mode,u="show"===c,p=i.direction||"left",f="up"===p||"down"===p?"top":"left",m="up"===p||"left"===p,g={};d.save(t,h),t.show(),a=i.distance||t["top"===f?"outerHeight":"outerWidth"](!0),d.createWrapper(t).css({overflow:"hidden"}),u&&t.css(f,m?isNaN(a)?"-"+a:-a:a),g[f]=(u?m?"+=":"-=":m?"-=":"+=")+a;var v=function(){t.clearQueue(),t.stop(!0,!0)};return o.activeAnimations.push(t),t.animate(g,{duration:i.duration,easing:i.easing,complete:function(){o.activeAnimations.pop(t),"show"===c?o._animationComplete(r,s):"hide"===c&&(t.hide(),o._clearSelectionComplete(r)),d.restore(t,h),d.removeWrapper(t)}}),v}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNavBar","",{}),e.extend(e.jqx._jqxNavBar.prototype,{defineInstance:function(){var t={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};e.extend(!0,this,t)},createInstance:function(e){this.render()},render:function(){var t=this;t.ul&&t.ul.parent()[0]!==t.element&&(t.ul.detach(),t.host.children().remove(),t.host.append(t.ul),t.popup&&t.popup.remove(),t.host.height(null),t.host.removeClass(t.toThemeProperty("jqx-widget-header")),t.host.removeClass(t.toThemeProperty("jqx-navbar-minimized"))),t.ul=t.host.children(),t._items=t.ul.children(),e.each(t._items,function(){e(this).removeClass()}),null!==this.width&&(this.width.toString().indexOf("%")>=0||this.width.toString().indexOf("px")>=0)?this.element.style.width=this.width:this.element.style.width=this.width+"px",t._layoutItems(),t._addClasses(),t._addHandlers(),t._handleMinimize(),e.jqx.utilities.resize(this.host,function(){t._resizePopup()})},_layoutItems:function(){var t=this,i=1,r=0,s=null===this.height||"auto"===this.height;if("horizontal"===t.orientation){if(t._items.length>5){var o="50%";t._items.css("width",o);var n=t.height;if(i=Math.ceil(t._items.length/2),!s){var a,l=!1;n.toString().indexOf("%")>=0?(a=parseInt(n)/i,a+="%",l=!0):a=parseInt(n)/i,r=2,l?(t._items.css("height",a),t._items.css("line-height",t._items.height()+"px")):(t._items.height(a),t._items.css("line-height",a+"px"))}}else{var o=t.host.width/2,d=t._items.length,o=100/d+"%";t._items.css("width",o),s||(t.height.toString().indexOf("%")>=0?(t._items.css("height",a),t._items.css("line-height",t.height)):(t._items.height(t.height),t._items.css("line-height",parseInt(t.height)+"px"))),r=d}if(t.columns){for(var n=t.height,h=0,c=0;c<t._items.length;c++){var u=t._items[c];e(u).css("width",t.columns[h]),h++,h>=t.columns.length&&(h=0,t.columns.length!==t._items.length&&i++)}var a,l=!1;n.toString().indexOf("%")>=0?(a=parseInt(n)/i,a+="%",l=!0):a=parseInt(n)/i,s||(l?(t._items.css("height",a),t._items.css("line-height",t._items.height()+"px")):(t._items.height(a),t._items.css("line-height",a+"px"))),r=t.columns.length}}else{for(var n=t.height,h=0,c=0;c<t._items.length;c++){var u=t._items[c];e(u).css("width","100%")}if(i=t._items.length,!s){var a,l=!1;n.toString().indexOf("%")>=0?(a=parseInt(n)/i,a+="%",l=!0):a=parseInt(n)/i,l?(t._items.css("height",a),t._items.css("line-height",t._items.height()+"px")):(t._items.height(a),t._items.css("line-height",a+"px"))}r=1}if(t.selection){var p=0,f=t._items.length/r,m=!1;i>f&&(m=!0);for(var c=0;i>c;c++)for(var g=0;r>g;g++){if(r-1>g){var v=t.rtl?"left":"right";e(t._items[p]).css("border-"+v+"-width","1px"),e(t._items[p]).css("border-"+v+"-style","solid")}i>1&&c>0&&(e(t._items[p]).css("border-top-width","1px"),e(t._items[p]).css("border-top-style","solid")),m&&c===i-2&&g===r-1&&(e(t._items[p]).css("border-bottom-width","1px"),e(t._items[p]).css("border-bottom-style","solid")),p++}}e.jqx.browser.msie&&e.jqx.browser.version<8&&(t._items.css("padding-left","0px"),t._items.css("padding-right","0px"),e.each(t._items,function(){e(this).css("border-left-width","0px"),e(this).css("border-right-width","0px"),e(this).css("position","relative"),e(this).css("margin-left","-1px")}),t.host.css("border","none"))},_handlePopupHeight:function(){var e=this;if(e.minimized){var t,i=!1;e.height.toString().indexOf("%")>=0&&(e.host.css("height",e.height),t=e.host.height()-e.minimizedHeight-1,i=!0),i&&(e.popup.height(t),e.ul.height(t),e.host.height(e.minimizedHeight),e._layoutItems())}},_handleMinimize:function(){var t=this;if(t.minimized){var i=t.host;i.height(t.minimizedHeight),i.css("box-sizing","border-box"),i.addClass(t.toThemeProperty("jqx-widget-header")),i.addClass(t.toThemeProperty("jqx-navbar-minimized"));var r=e('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');i.append(r),r.css("float",t.minimizeButtonPosition);var s=e('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');s.append(t.minimizedTitle),s.css("float","left"===t.minimizeButtonPosition?"right":"left"),"auto"!==t.minimizedHeight&&(t.minimizedHeight.toString().indexOf("%")>=0?s.css("line-height",t.minimizedHeight):s.css("line-height",parseInt(t.minimizedHeight)+"px")),i.append(s),r.addClass(t.toThemeProperty("jqx-menu-minimized-button")),i.removeClass(t.toThemeProperty("jqx-widget-content")),t.ul.detach();var o=e("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");o.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),o.append(t.ul),t.popup=o,e(document.body).append(o),t.opened=!1,r.click(function(){t.opened?t.close():t.open()}),t.button=r}},close:function(){var e=this;e.popup.fadeOut(e.popupAnimationDelay),e.opened=!1},open:function(){var e=this;e.popup.fadeIn(e.popupAnimationDelay),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.width(e.host.width()-.5),e._handlePopupHeight(),e.opened=!0},_resizePopup:function(){var e=this;if(e.minimized&&e.popup){e.popup.width(e.host.width());var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.width(e.host.width()-.5),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e._handlePopupHeight()}},selectAt:function(t){var i=this;if(i.selection){e(i._items[i.selectedItem]).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-pressed"));var r=i.selectedItem;i.selectedItem=t,i._raiseEvent("0",{selectedItem:t,oldSelectedItem:r})}},getSelectedIndex:function(){return this.selectedItem},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(e,t,i,r){e.render()},_raiseEvent:function(t,i){var r=this,s=r.events[t],o=new e.Event(s);o.owner=r,o.args=i;try{var n=r.host.trigger(o)}catch(a){}return n},_removeHandlers:function(){var e=this;e.removeHandler(e._items,"click.navbar"+e.element.id),e.removeHandler(e._items,"mouseenter.navbar"+e.element.id),e.removeHandler(e._items,"mouseleave.navbar"+e.element.id)},_addClasses:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-navbar")),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._items.addClass(t.toThemeProperty("jqx-navbar-block")),t.selection?(t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-button")),-1!==t.selectedItem&&e(t._items[t.selectedItem]).addClass(t.toThemeProperty("jqx-fill-state-pressed"))):this.host.css("border","none"),t.rtl&&t._items.addClass(t.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var t=this;t.addHandler(t._items,"click.navbar"+t.element.id,function(i){if(!t.disabled&&t.selection){var r=e(t._items).index(this);t.selectAt(r)}}),t.addHandler(t._items,"mouseenter.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._items,"mouseleave.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxFileUpload","",{}),e.extend(e.jqx._jqxFileUpload.prototype,{defineInstance:function(){var t={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:!1,multipleFilesUpload:!0,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:!1,rtl:!1,events:["select","remove","uploadStart","uploadEnd"]};e.extend(!0,this,t)},createInstance:function(){var t=this;if(void 0===t.host.jqxButton)throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js");t._createFromInput("jqxFileUpload"),e.jqx.browser.msie?e.jqx.browser.version<11&&(t._ieOldWebkit=!0,e.jqx.browser.version<8&&(t._ie7=!0)):e.jqx.browser.webkit&&(t._ieOldWebkit=!0),t._fluidWidth="string"==typeof t.width&&"%"===t.width.charAt(t.width.length-1),t._fluidHeight="string"==typeof t.height&&"%"===t.height.charAt(t.height.length-1),t._render(!0)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};i.field.id.length?(r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t,d):r.id=e.jqx.utilities.createId()+"_"+t;var s=e("<div></div>",r);s[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(s);var o=i.host.data();if(i.host=s,i.host.data(o),i.element=s[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var n=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=n}}},_render:function(t){var i=this;i._setSize(),i._addClasses(),t===!0?i._appendElements():i._removeHandlers(),i._addHandlers(),i._ie7&&(i._borderAndPadding("width",i.host),"auto"!==i.height&&i._borderAndPadding("height",i.host)),e.jqx.utilities.resize(i.host,null,!0),e.jqx.utilities.resize(i.host,function(){if(i._fluidWidth){i._ie7&&(i.host.css("width",i.width),i._borderAndPadding("width",i.host));for(var e=0;e<i._fileRows.length;e++){var t=i._fileRows[e],r=t.fileRow;i._ie7&&(r.css("width","100%"),i._borderAndPadding("width",r)),i.renderFiles||i._setMaxWidth(t)}if(i.rtl&&i._ieOldWebkit)for(var s=0;s<i._forms.length;s++){var o=i._browseButton.position();i._forms[s].form.css({left:o.left,top:o.top})}}i._ie7&&i._fluidHeight&&(i.host.css("height",i.height),i._borderAndPadding("height",i.host))})},render:function(){this._render(!1)},refresh:function(e){e!==!0&&this._render(!1)},destroy:function(){var e=this;e.cancelAll(),e._removeHandlers(!0),e.host.remove()},browse:function(){if(!(e.jqx.browser.msie&&e.jqx.browser.version<10)){var t=this;(t.multipleFilesUpload===!0||t.multipleFilesUpload===!1&&0===t._fileRows.length)&&t._forms[t._forms.length-1].fileInput.click()}},_uploadFile:function(e){var t=this;0===t._uploadQueue.length&&t._uploadQueue.push(e),t.renderFiles||(e.uploadFile.add(e.cancelFile).hide(),e.loadingElement.show()),e.fileInput.attr("name",t.fileInputName),t._raiseEvent("2",{file:e.fileName}),e.form[0].submit(),t._fileObjectToRemove=e},uploadFile:function(e){var t=this,i=t._fileRows[e];void 0!==i&&t._uploadFile(i)},uploadAll:function(){var e=this;if(e._fileRows.length>0){for(var t=e._fileRows.length-1;t>=0;t--)e._uploadQueue.push(e._fileRows[t]);e._uploadFile(e._fileRows[0])}},cancelFile:function(e){var t=this;t._removeSingleFileRow(t._fileRows[e])},cancelAll:function(){var e=this;if(e._fileRows.length>0){for(var t=0;t<e._fileRows.length;t++)e._removeFileRow(e._fileRows[t]);setTimeout(function(){e._browseButton.css("margin-bottom",0)},400),e._fileRows.length=0,e._hideButtons(!0)}},propertyChangedHandler:function(t,i,r,s){var o=t.element.id;if("localization"===i)return!s.browseButton||r&&s.browseButton===r.browseButton||(t._browseButton.text(s.browseButton),t._browseButton.jqxButton({width:"auto"})),!s.uploadButton||r&&s.uploadButton===r.uploadButton||(t._uploadButton.text(s.uploadButton),t._uploadButton.jqxButton({width:"auto"})),!s.cancelButton||r&&s.cancelButton===r.cancelButton||(t._cancelButton.text(s.cancelButton),t._cancelButton.jqxButton({width:"auto"})),void(t.renderFiles||(!s.uploadFileTooltip||r&&s.uploadFileTooltip===r.uploadFileTooltip||e("#"+o+" .jqx-file-upload-file-upload").attr("title",s.uploadFileTooltip),!s.uploadFileTooltip||r&&s.cancelFileTooltip===r.cancelFileTooltip||e("#"+o+" .jqx-file-upload-file-cancel").attr("title",s.cancelFileTooltip)));if(s!==r)switch(i){case"width":if(t.host.css("width",s),t._ie7){t._borderAndPadding("width",t.host);for(var n=0;n<t._fileRows.length;n++){var a=t._fileRows[n].fileRow;a.css("width","100%"),t._borderAndPadding("width",a)}}return void(t._fluidWidth="string"==typeof s&&"%"===s.charAt(s.length-1));case"height":return t.host.css("height",s),t._ie7&&t._borderAndPadding("height",t.host),void(t._fluidHeight="string"==typeof s&&"%"===s.charAt(s-1));case"uploadUrl":for(var l=0;l<t._forms.length;l++)t._forms[l].form.attr("action",s);return;case"accept":for(var d=0;d<t._forms.length;d++)t._forms[d].fileInput.attr("accept",s);return;case"theme":return e.jqx.utilities.setTheme(r,s,t.host),t._browseButton.jqxButton({theme:s}),t._uploadButton.jqxButton({theme:s}),void t._cancelButton.jqxButton({theme:s});case"browseTemplate":return void t._browseButton.jqxButton({template:s});case"uploadTemplate":return void t._uploadButton.jqxButton({template:s});case"cancelTemplate":return void t._cancelButton.jqxButton({template:s});case"disabled":return t._browseButton.jqxButton({disabled:s}),t._uploadButton.jqxButton({disabled:s}),t._cancelButton.jqxButton({disabled:s}),void(s===!0?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")));case"rtl":var h=function(i){var r=i?"addClass":"removeClass";t._browseButton[r](t.toThemeProperty("jqx-file-upload-button-browse-rtl")),t._cancelButton[r](t.toThemeProperty("jqx-file-upload-button-cancel-rtl")),t._uploadButton[r](t.toThemeProperty("jqx-file-upload-button-upload-rtl")),e.jqx.browser.msie&&e.jqx.browser.version>8&&t._uploadButton[r](t.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"));for(var s=0;s<t._fileRows.length;s++){var o=t._fileRows[s];o.fileNameContainer[r](t.toThemeProperty("jqx-file-upload-file-name-rtl")),o.cancelFile[r](t.toThemeProperty("jqx-file-upload-file-cancel-rtl")),o.uploadFile[r](t.toThemeProperty("jqx-file-upload-file-upload-rtl")),o.loadingElement[r](t.toThemeProperty("jqx-file-upload-loading-element-rtl"))}};return void h(s)}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this.host.trigger(s);return o},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height)},_borderAndPadding:function(e,t){var i;i="width"===e?parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10)+parseInt(t.css("padding-left"),10)+parseInt(t.css("padding-right"),10):parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10)+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10),t.css(e,t[e]()-i)},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload")),e.disabled===!0&&e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))},_appendElements:function(){var t=this,i="Browse",r=90,s="Upload All",o=90,n="Cancel All",a=90,l=t.element.id;t.localization&&(t.localization.browseButton&&(i=t.localization.browseButton,r="auto"),t.localization.uploadButton&&(s=t.localization.uploadButton,o="auto"),t.localization.cancelButton&&(n=t.localization.cancelButton,a="auto")),t._browseButton=e('<button id="'+l+'BrowseButton" class="'+t.toThemeProperty("jqx-file-upload-button-browse")+'">'+i+"</button>"),t.host.append(t._browseButton),t._browseButton.jqxButton({theme:t.theme,width:r,template:t.browseTemplate,disabled:t.disabled}),t._browseButton.after('<div style="clear: both;"></div>'),t._bottomButtonsContainer=e('<div class="'+t.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>'),t.host.append(t._bottomButtonsContainer),t._uploadButton=e('<button id="'+l+'UploadButton" class="'+t.toThemeProperty("jqx-file-upload-button-upload")+'">'+s+"</button>"),t._bottomButtonsContainer.append(t._uploadButton),t._uploadButton.jqxButton({theme:t.theme,width:o,template:t.uploadTemplate,disabled:t.disabled}),t._cancelButton=e('<button id="'+l+'CancelButton" class="'+t.toThemeProperty("jqx-file-upload-button-cancel")+'">'+n+"</button>"),t._bottomButtonsContainer.append(t._cancelButton),t._cancelButton.jqxButton({theme:t.theme,width:a,template:t.cancelTemplate,disabled:t.disabled}),t._bottomButtonsContainer.after('<div style="clear: both;"></div>'),t.rtl&&(t._browseButton.addClass(t.toThemeProperty("jqx-file-upload-button-browse-rtl")),t._cancelButton.addClass(t.toThemeProperty("jqx-file-upload-button-cancel-rtl")),t._uploadButton.addClass(t.toThemeProperty("jqx-file-upload-button-upload-rtl")),e.jqx.browser.msie&&e.jqx.browser.version>8&&t._uploadButton.addClass(t.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))),t._uploadIframe=e('<iframe name="'+l+'Iframe" class="'+t.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>'),t.host.append(t._uploadIframe),t._iframeInitialized=!1,t._uploadQueue=[],t._forms=[],t._addFormAndFileInput(),t._fileRows=[]},_addFormAndFileInput:function(){var t=this,i=t.element.id,r=e('<form class="'+t.toThemeProperty("jqx-file-upload-form")+'" action="'+t.uploadUrl+'" target="'+i+'Iframe" method="post" enctype="multipart/form-data"></form>');t.host.append(r);var s=e('<input type="file" class="'+t.toThemeProperty("jqx-file-upload-file-input")+'" />');if(t.accept&&s.attr("accept",t.accept),r.append(s),t._ieOldWebkit){var o=t._browseButton.position(),n=t._browseButton.outerWidth(),a=t._browseButton.outerHeight(),l=t.rtl&&t._ie7?12:0;r.css({left:o.left-l,top:o.top,width:n,height:a}),r.addClass(t.toThemeProperty("jqx-file-upload-form-ie9")),s.addClass(t.toThemeProperty("jqx-file-upload-file-input-ie9")),t.addHandler(r,"mouseenter.jqxFileUpload"+i,function(){t._browseButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(r,"mouseleave.jqxFileUpload"+i,function(){t._browseButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(r,"mousedown.jqxFileUpload"+i,function(){t._browseButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(e(document),"mouseup.jqxFileUpload"+i,function(){t._browseButton.hasClass("jqx-fill-state-pressed")&&t._browseButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))})}t.addHandler(s,"change.jqxFileUpload"+i,function(){var o,n=this.value;e.jqx.browser.mozilla||(n=-1!==n.indexOf("fakepath")?n.slice(12):n.slice(n.lastIndexOf("\\")+1)),o=e.jqx.browser.msie&&e.jqx.browser.version<10?"IE9 and earlier do not support getting the file size.":this.files[0].size;var a=t._addFileRow(n,r,s,o);1===t._fileRows.length&&(t._browseButton.css("margin-bottom","10px"),t._hideButtons(!1)),t._ieOldWebkit&&(t.removeHandler(r,"mouseenter.jqxFileUpload"+i),t.removeHandler(r,"mouseleave.jqxFileUpload"+i),t.removeHandler(r,"mousedown.jqxFileUpload"+i)),t._addFormAndFileInput(),t.removeHandler(s,"change.jqxFileUpload"+i),t.autoUpload===!0&&t._uploadFile(a)}),t._ieOldWebkit===!0&&t.addHandler(s,"click.jqxFileUpload"+i,function(e){t.multipleFilesUpload===!1&&t._fileRows.length>0&&e.preventDefault()}),t._forms.push({form:r,fileInput:s})},_addFileRow:function(t,i,r,s){var o,n,a,l,d,h=this,c="Cancel",u="Upload File";o=e('<div class="'+h.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>'),0===h._fileRows.length?h._browseButton.after(o):h._fileRows[h._fileRows.length-1].fileRow.after(o),h.renderFiles?o.html(h.renderFiles(t)):(n=e('<div class="'+h.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+t+"</div>"),o.append(n),h.localization&&(h.localization.cancelFileTooltip&&(c=h.localization.cancelFileTooltip),h.localization.uploadFileTooltip&&(u=h.localization.uploadFileTooltip)),l=e('<div class="'+h.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+c+'"><div class="'+h.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>'),o.append(l),d=e('<div class="'+h.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+u+'"><div class="'+h.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>'),o.append(d),a=e('<div class="'+h.toThemeProperty("jqx-file-upload-loading-element")+'"></div>'),o.append(a),h.rtl&&(n.addClass(h.toThemeProperty("jqx-file-upload-file-name-rtl")),l.addClass(h.toThemeProperty("jqx-file-upload-file-cancel-rtl")),d.addClass(h.toThemeProperty("jqx-file-upload-file-upload-rtl")),a.addClass(h.toThemeProperty("jqx-file-upload-loading-element-rtl"))),h._setMaxWidth({fileNameContainer:n,uploadFile:d,cancelFile:l})),h._ie7&&(h._borderAndPadding("width",o),h._borderAndPadding("height",o),h.renderFiles||(h._borderAndPadding("height",n),h._borderAndPadding("height",d),h._borderAndPadding("height",l)));var p={fileRow:o,fileNameContainer:n,fileName:t,uploadFile:d,cancelFile:l,loadingElement:a,form:i,fileInput:r,index:h._fileRows.length};return h._addFileHandlers(p),h._fileRows.push(p),h._raiseEvent("0",{file:t,size:s}),p},_setMaxWidth:function(e){var t=this,i=e.cancelFile.outerWidth(!0)+e.uploadFile.outerWidth(!0),r=t._ie7?6:0,s=t.host.width()-parseInt(t.host.css("padding-left"),10)-parseInt(t.host.css("padding-right"),10)-i-r-7;e.fileNameContainer.css("max-width",s)},_addFileHandlers:function(e){var t=this;if(!t.renderFiles){var i=t.element.id;t.addHandler(e.uploadFile,"mouseenter.jqxFileUpload"+i,function(){t.disabled===!1&&e.uploadFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"mouseleave.jqxFileUpload"+i,function(){t.disabled===!1&&e.uploadFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.uploadFile,"click.jqxFileUpload"+i,function(){t.disabled===!1&&t._uploadFile(e)}),t.addHandler(e.cancelFile,"mouseenter.jqxFileUpload"+i,function(){t.disabled===!1&&e.cancelFile.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"mouseleave.jqxFileUpload"+i,function(){t.disabled===!1&&e.cancelFile.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(e.cancelFile,"click.jqxFileUpload"+i,function(){t.disabled===!1&&t._removeSingleFileRow(e)})}},_removeSingleFileRow:function(e){var t=this;if(t._removeFileRow(e),t._fileRows.splice(e.index,1),0===t._fileRows.length)setTimeout(function(){t._browseButton.css("margin-bottom",0)},400),t._hideButtons(!0);else for(var i=0;i<t._fileRows.length;i++)t._fileRows[i].index=i},_removeFileRow:function(e){var t=this,i=t.element.id;t.renderFiles||(t.removeHandler(e.uploadFile,"mouseenter.jqxFileUpload"+i),t.removeHandler(e.uploadFile,"mouseleave.jqxFileUpload"+i),t.removeHandler(e.uploadFile,"click.jqxFileUpload"+i),t.removeHandler(e.cancelFile,"mouseenter.jqxFileUpload"+i),t.removeHandler(e.cancelFile,"mouseleave.jqxFileUpload"+i),t.removeHandler(e.cancelFile,"click.jqxFileUpload"+i)),e.fileRow.fadeOut(function(){e.fileRow.remove(),e.form.remove()}),t._raiseEvent("1",{file:e.fileName})},_hideButtons:function(e){var t=this;e===!0?t._bottomButtonsContainer.fadeOut():t._bottomButtonsContainer.fadeIn()},_addHandlers:function(){var t=this,i=t.element.id;t._ieOldWebkit||t.addHandler(t._browseButton,"click.jqxFileUpload"+i,function(){t.browse()}),t.addHandler(t._uploadButton,"click.jqxFileUpload"+i,function(){t.uploadAll()}),t.addHandler(t._cancelButton,"click.jqxFileUpload"+i,function(){t.cancelAll()}),t.addHandler(t._uploadIframe,"load.jqxFileUpload"+i,function(){if((e.jqx.browser.chrome||e.jqx.browser.webkit)&&(t._iframeInitialized=!0),t._iframeInitialized===!1)t._iframeInitialized=!0;else{var i=t._uploadIframe.contents().find("body").html();t._raiseEvent("3",{file:t._uploadQueue[t._uploadQueue.length-1].fileName,response:i}),t._fileObjectToRemove&&(t._removeSingleFileRow(t._fileObjectToRemove),t._fileObjectToRemove=null),t._uploadQueue.pop(),t._uploadQueue.length>0&&t._uploadFile(t._uploadQueue[t._uploadQueue.length-1])}})},_removeHandlers:function(t){var i=this,r=i.element.id;if(i.removeHandler(i._browseButton,"click.jqxFileUpload"+r),i.removeHandler(i._uploadButton,"click.jqxFileUpload"+r),i.removeHandler(i._cancelButton,"click.jqxFileUpload"+r),i.removeHandler(i._uploadIframe,"load.jqxFileUpload"+r),t===!0){var s=i._forms[i._forms.length-1];i.removeHandler(s.fileInput,"change.jqxFileUpload"+r),i._ieOldWebkit&&(i.removeHandler(s.form,"mouseenter.jqxFileUpload"+r),i.removeHandler(s.form,"mouseleave.jqxFileUpload"+r),i.removeHandler(s.form,"mousedown.jqxFileUpload"+r),i.removeHandler(e("body"),"mouseup.jqxFileUpload"+r))}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxLoader","",{}),e.extend(e.jqx._jqxLoader.prototype,{defineInstance:function(){var t={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};e.extend(!0,this,t)},createInstance:function(e){var t=this;t._render(!0),t._raiseEvent("0")},render:function(){this._render()},open:function(e,t){var i=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&i.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&i.host.css("height",this.height),
i.host.show(),i.host.css("left",-i.host.width()/2),i.host.css("top",-i.host.height()/2),e&&t&&(i.host.css("left",e),i.host.css("top",t)),i.isModal&&i._modal.show()},close:function(){var e=this;e.host.hide(),e.isModal&&e._modal.hide()},_checkBrowser:function(){var t=this;"msie"===e.jqx.browser.browser&&("7.0"===e.jqx.browser.version?(t.isModal===!1&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")),t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px"),e(window).resize(function(){t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===e.jqx.browser.version&&t.isModal===!1&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var e=this;this._text=e.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",e.imagePosition),"top"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"bottom"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"left"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom"))):"right"===e.textPosition&&(this._text.addClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(e){e!==!0&&this._render(!1)},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(e,t,i,r){if(r!==i)switch(t){case"width":e.host.width(r);break;case"height":e.host.height(r);break;case"text":e._text.text(r);break;case"html":e.host.html(r);break;case"textPosition":e._textPos(r);break;case"rtl":r===!0?e._text.addClass(e.toThemeProperty("jqx-loader-rtl")):e._text.removeClass(e.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(t,i){var r=this,s=r.events[t],o=new e.Event(s);o.owner=r,o.args=i;try{var n=r.host.trigger(o)}catch(a){}return n},_render:function(t){var i=this;if(i.host.width(i.width),i.host.height(i.height),i.autoOpen===!1&&i.host.hide(),t&&(null===i.html?(i.host.append('<div class="'+i.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+i.toThemeProperty("jqx-loader-text")+'">'+i.text+"</div>"),i._image=i.host.children("div:eq(0)"),i._text=i.host.children("div:eq(1)")):i.host.html(this.html),i.isModal===!0)){var r=i.host.css("display");i._modal=e('<div id="'+i.element.id+'Modal" class="'+i.toThemeProperty("jqx-loader-modal")+'" style="display: '+r+';"></div>'),e("body").append(i._modal)}i._checkBrowser(),i._textPos(),i._addClass(),i._removeHandlers(),i._addHandlers()},_addHandlers:function(){var t=this;t.isModal===!0&&t.addHandler(e(document),"keyup.loader"+t.element.id,function(e){27===e.keyCode&&t.close()})},_removeHandlers:function(){var t=this;t.removeHandler(e(document),"keyup.loader"+t.element.id)},_addClass:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-loader")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl&&t._text.addClass(t.toThemeProperty("jqx-loader-rtl")),e.jqx.browser.msie&&t.host.addClass(this.toThemeProperty("jqx-noshadow")),t.host.addClass(this.toThemeProperty("jqx-rc-t")),t.host.addClass(this.toThemeProperty("jqx-rc-b")),t.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTextArea","",{}),e.extend(e.jqx._jqxTextArea.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:e("<ul></ul>"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:2e4,items:8,item:'<li><a href="#"></a></li>',minLength:1,maxLength:null,scrollBarSize:e.jqx.utilities.scrollBarSize,query:"",changeType:null,events:["change","select","open","close"]};e.extend(!0,t,i)},createInstance:function(){var e=this;e.render(),e.isInitialized=!0},render:function(){var t=this,i=t.element.id;if(t.isInitialized===!0)return void t.refresh();15!==e.jqx.utilities.scrollBarSize&&(t.scrollBarSize=e.jqx.utilities.scrollBarSize);var r=e('<div id="panelWrapper'+i+'" style="overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;"></div>'),s=e('<div id="verticalScrollBar'+i+'" style="align: left; valign: top; left: 0px; top: 0px; position: absolute;"></div>');if(t._id=t.element.id,"div"===t.element.tagName.toLowerCase())t._baseHost=t.host,t.host.append(r),r.append('<textarea id="area'+i+'" class="'+t.toThemeProperty("jqx-text-area-element")+'"></textarea>'),r.append(s);else if("textarea"===t.element.tagName.toLowerCase()){t._baseHost=e(t.element),t._baseHost.wrap("<div></div>"),t._baseHost.wrap(r),t._baseHost.after(s);var o=t.host.data();t.host=t._baseHost.parent().parent(),t.host.data(o),t.host[0].style.cssText=t.element.style.cssText,t.element.style.cssText="",t._baseHost.addClass(t.toThemeProperty("jqx-text-area-element"))}var n=t.host;if(t.wrapper=r,t.textarea=n.find("textarea"),t._addClasses(),!n.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!n.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===t.width&&n[0].style&&null!==n[0].style.width&&(t.width=n[0].style.width),null===t.height&&n[0].style&&null!==n[0].style.height&&(t.height=n[0].style.height),t._setSize(),t.vScrollBar=s,s.jqxScrollBar({vertical:!0,width:15,height:"100%",max:t.height,theme:t.theme}),""===e.trim(t.textarea.val())&&t.textarea.val(""),t.textarea.attr("placeholder",t.placeHolder),null!==t.maxLength&&t.textarea.attr("maxlength",t.maxLength),e.jqx.browser.msie&&e.jqx.browser.version<10&&""===t.textarea.val()&&t.textarea.val(t.placeHolder),(t.source instanceof Array&&t.source.length||t.source._source||e.isFunction(t.source))&&(t._oldsource=t.source,t._updateSource(),t._addPopupClasses(),e.jqx.aria(t,"aria-haspopup",!0)),t._arrange(),t._addHandlers()},refresh:function(e){if(e!==!0){var t=this;t._setSize(),t._arrange(),t._removeHandlers(),t._addHandlers(),t.opened===!0&&t.open()}},_arrange:function(){var e=this,t=e.textarea,i=t[0].scrollHeight-t.height(),r=t[0].scrollHeight-t.height();0>r&&(r=0),e.vScrollBar.jqxScrollBar({max:r,value:t[0].scrollTop}),5>i?(t.width(e.host.width()),e.vScrollBar.css("visibility","hidden")):(t.width(e.host.width()-e.scrollBarSize),e.vScrollBar.css("visibility","visible"),e._arrangeScrollbars(e.scrollBarSize))},val:function(t){var i,r=this,s=r.textarea,o=s[0].value;if(e.jqx.browser.msie&&e.jqx.browser.version<10&&o===r.placeHolder&&(o=""),0===arguments.length||"object"==typeof t&&e.isEmptyObject(t)===!0)return""!==r.displayMember&&""!==r.valueMember&&r.selectedItem?""===o?"":r.selectedItem:o;if(t&&t.label){if(r.selectedItem&&t.label===r.selectedItem.label&&t.value===r.selectedItem.value)return t.label;r.selectedItem={label:t.label,value:t.value},r.host.attr("data-value",t.value),r.host.attr("data-label",t.label),s[0].value=t.label,i=t.label}else{if(o===t)return t;s[0].value=t,r.host.attr("data-value",t),r.host.attr("data-label",t),i=t}return r._arrange(),r._raiseEvent("0"),i},focus:function(){this.textarea.focus()},selectAll:function(){var e=this.textarea;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_arrangeScrollbars:function(t){var i=this,r=i.host.width(),s=i.host.height(),o=i.vScrollBar,n="hidden"!==o[0].style.visibility,a=2,l=2;if(o.width(t),o.height(parseInt(s,10)-a+"px"),o.css({left:parseInt(r,10)-parseInt(t,10)-a-l+"px",top:"0px"}),i.rtl){o.css({left:"0px"});var d=n?parseInt(t,10)-2+"px":0;if("rtl"!==i.textarea.children().css("direction")){var h=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=!0),h||i.textarea.css("padding-left",d)}}else"hidden"!==o.css("visibility")&&i.textarea.css("width",i.host.width()-i.vScrollBar.outerWidth());o.jqxScrollBar("refresh")},destroy:function(){var e=this;e.opened&&e._removeItemHandlers(),e.$popup.remove(),e.vScrollBar.jqxScrollBar("destroy"),e._removeHandlers(),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.css("width",e.width),e.host.css("height",e.height),e._arrange())},propertyChangedHandler:function(t,i,r,s){if(void 0!==t.isInitialized&&t.isInitialized!==!1&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&s!==r)switch(i){case"theme":t.vScrollBar.jqxScrollBar({theme:t.theme});break;case"width":t.host.css("width",s),t._arrange();break;case"height":t.host.css("height",s),t._arrange();break;case"source":t._oldsource=s,t._updateSource();break;case"displayMember":case"valueMember":t.source=t._oldsource,t._updateSource();break;case"opened":s===!0?t.open():t.close();break;case"maxLength":t.textarea.attr("maxlength",s);break;case"placeHolder":t.textarea.attr("placeholder",s),e.jqx.browser.msie&&e.jqx.browser.version<10&&t.textarea.val()===r&&t.textarea.val(s);break;case"scrollBarSize":t._arrange();break;case"dropDownWidth":t.$popup.width(s);break;case"roundedCorners":s===!0?t.host.add(t.$popup).addClass(t.toThemeProperty("jqx-rc-all")):t.host.add(t.$popup).removeClass(t.toThemeProperty("jqx-rc-all"));break;case"disabled":t.vScrollBar.jqxScrollBar({disabled:s}),s===!0?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.attr("disabled","")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.removeAttr("disabled")),e.jqx.aria(t,"aria-disabled",s);break;case"rtl":s===!0?t.textarea.addClass(t.toThemeProperty("jqx-text-area-element-rtl")):t.textarea.removeClass(t.toThemeProperty("jqx-text-area-element-rtl")),t._arrange();break;default:t.refresh()}},_raiseEvent:function(t,i){var r=this;void 0===i&&(i={owner:null});var s=r.events[t];i.owner=r;var o=new e.Event(s);o.owner=r,0==t&&(i.type=this.changeType,this.changeType=null),o.args=i,o.preventDefault&&o.preventDefault();var n;n="change"===s||"div"===r._baseHost[0].tagName.toLowerCase()?r.host:r._baseHost;var a=n.trigger(o);return a},_addHandlers:function(){var t=this,i=t.element.id,r=t.host,s=t.textarea;e.jqx.utilities.resize(t._baseHost,function(){t._ttimer=setTimeout(function(){t._arrange()},100)},!1,!0);var o=e.jqx.browser.mozilla?"wheel":"mousewheel";t.addHandler(r,o+".jqxTextArea"+i,function(e){t.wheel(e,t)}),t.addHandler(r,"mouseenter.jqxTextArea"+i,function(){t.focused=!0}),t.addHandler(r,"mouseleave.jqxTextArea"+i,function(){t.focused=!1}),t.addHandler(r,"focus.jqxTextArea"+i,function(){t.focused=!0}),t.addHandler(r,"blur.jqxTextArea"+i,function(){t.focused=!1}),t.addHandler(t.wrapper,"scroll.jqxTextArea"+i,function(){0!==t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!==t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),t.addHandler(s,"change.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault(),t._arrange(),t._raiseEvent("0")}),t.addHandler(s,"select.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault()}),t.addHandler(s,"scroll.jqxTextArea"+i,function(){t._arrange()}),t.addHandler(s,"focus.jqxTextArea"+i,function(){t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.jqx.browser.msie&&e.jqx.browser.version<10&&t.textarea.val()===t.placeHolder&&t.textarea.val("")}),t.addHandler(s,"blur.jqxTextArea"+i,function(){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.jqx.browser.msie&&e.jqx.browser.version<10){var i=t.textarea.val();""===i?t.textarea.val(t.placeHolder):null!==t.maxLength&&i.length>t.maxLength&&t.textarea.val(i.substr(0,t.maxLength))}}),t.addHandler(s,"keydown.jqxTextArea"+i,function(i){t._suppressKeyPressRepeat=~e.inArray(i.keyCode,[40,38,9,13,27]),t.changeType="keyboard",t._move(i)}),t.addHandler(s,"keypress.jqxTextArea"+i,function(i){return null!==t.maxLength&&e.jqx.browser.msie&&e.jqx.browser.version<10&&s.val().length>t.maxLength?!1:void(t._suppressKeyPressRepeat||t._move(i))}),t.addHandler(s,"keyup.jqxTextArea"+i,function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!t.opened)return;t._select();break;case 27:if(!t.opened)return;t.close();break;default:t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t._suggest()},300)}e.stopPropagation(),e.preventDefault(),t._arrange()}),t.addHandler(t.vScrollBar,"valueChanged.jqxTextArea"+i,function(e){s.scrollTop(e.currentValue)}),t.addHandler(t.$popup,"mousedown.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault(),t.changeType="mouse",t._select()})},_removeHandlers:function(){var t=this,i=t.element.id,r=t.host,s=t.textarea;e.jqx.utilities.resize(t._baseHost,null,!0),t.removeHandler(r,"mousewheel.jqxTextArea"+i),t.removeHandler(r,"mouseenter.jqxTextArea"+i),t.removeHandler(r,"mouseleave.jqxTextArea"+i),t.removeHandler(r,"focus.jqxTextArea"+i),t.removeHandler(r,"blur.jqxTextArea"+i),t.removeHandler(t.wrapper,"scroll.jqxTextArea"+i),t.removeHandler(s,"change.jqxTextArea"+i),t.removeHandler(s,"select.jqxTextArea"+i),t.removeHandler(s,"scroll.jqxTextArea"+i),t.removeHandler(s,"focus.jqxTextArea"+i),t.removeHandler(s,"blur.jqxTextArea"+i),t.removeHandler(s,"keydown.jqxTextArea"+i),t.removeHandler(s,"keypress.jqxTextArea"+i),t.removeHandler(s,"keyup.jqxTextArea"+i),t.removeHandler(t.vScrollBar,"valueChanged.jqxTextArea"+i),t.removeHandler(t.$popup,"mousedown.jqxTextArea"+i)},_addItemHandlers:function(){var t=this;t.addHandler(t.$popup.find("li"),"mouseenter.jqxTextArea"+t.element.id,function(i){t.$popup.find(".jqx-fill-state-pressed").removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.currentTarget).addClass(t.toThemeProperty("jqx-fill-state-pressed"))})},_removeItemHandlers:function(){var e=this;e.removeHandler(e.$popup.find("li"),"mouseenter.jqxTextArea"+e.element.id)},wheel:function(t,i){var r=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(r=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?r=t.wheelDelta/120:t.detail?r=-t.detail/3:t.originalEvent.wheelDelta?r=t.originalEvent.wheelDelta/120:t.originalEvent.detail?r=-t.originalEvent.detail/3:t.originalEvent.deltaY&&(r=-t.originalEvent.deltaY/3),r){var s=i._handleDelta(r);return s||t.preventDefault&&t.preventDefault(),s?!1:s}t.preventDefault&&t.preventDefault(),t.returnValue=!1},_handleDelta:function(e){var t=this,i=t.vScrollBar.jqxScrollBar("getInstance");if(t.focused){var r=i.value;0>e?t.scrollDown():t.scrollUp();var s=i.value;if(r!==s)return!1}return!0},scrollDown:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),i=Math.min(t.value+t.largestep,t.max);return t.setPosition(i),e._arrange(),!0},scrollUp:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),i=Math.max(t.value-t.largestep,t.min);return t.setPosition(i),e._arrange(),!0},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height)},_addClasses:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-panel")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-text-area")),t.textarea.addClass(t.toThemeProperty("jqx-widget")),t.textarea.addClass(t.toThemeProperty("jqx-widget-content")),t.roundedCorners===!0&&t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.disabled===!0?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.attr("disabled",""),e.jqx.aria(t,"aria-disabled",!0)):e.jqx.aria(t,"aria-disabled",!1),t.rtl===!0&&t.textarea.addClass(t.toThemeProperty("jqx-text-area-element-rtl"))},_addPopupClasses:function(){var t=this,i=t.$popup;i.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&i.addClass(t.toThemeProperty("jqx-noshadow")),i.addClass(t.toThemeProperty("jqx-input-popup")),i.addClass(t.toThemeProperty("jqx-menu")),i.addClass(t.toThemeProperty("jqx-menu-vertical")),i.addClass(t.toThemeProperty("jqx-menu-dropdown")),i.addClass(t.toThemeProperty("jqx-widget")),i.addClass(t.toThemeProperty("jqx-widget-content")),t.roundedCorners&&i.addClass(t.toThemeProperty("jqx-rc-all"))},_updateSource:function(){var t=this,i=function(i){var r=[];return r=e.map(i,function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",r="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(r=e[t.valueMember]),""===i&&(i=e.label),""===r&&(r=e.value),{label:i,value:r}}return e})};if(t.source&&t.source._source){if(t.adapter=t.source,t.adapter._source.localdata)t.adapter.unbindBindingUpdate(t.element.id),t.adapter.bindBindingUpdate(t.element.id,function(){t.source=i(t.adapter.records)});else{var r={};t.adapter._options.data?e.extend(t.adapter._options.data,r):(t.source._source.data&&e.extend(r,t.source._source.data),t.adapter._options.data=r),t.adapter.unbindDownloadComplete(t.element.id),t.adapter.bindDownloadComplete(t.element.id,function(){t.source=i(t.adapter.records)})}return void t.source.dataBind()}e.isFunction(t.source)||(t.source=i(t.source))},open:function(){var t=this;if(!e.jqx.isHidden(t.host)){var i=e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight});if(0===t.$popup.parent().length){var r=t._id+"_popup";t.$popup[0].id=r,e.jqx.aria(t,"aria-owns",r)}t.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:t.popupZIndex,top:i.top+i.height,left:i.left}).show();var s=0,o=t.$popup.children();return e.each(o,function(){s+=e(this).outerHeight(!0)-1}),t.$popup.height(s),t.opened=!0,t._raiseEvent("2",{popup:t.$popup}),e.jqx.aria(t,"aria-expanded",!0),t._addItemHandlers(),t}},close:function(){var t=this;return t._removeItemHandlers(),t.$popup.hide(),t.opened=!1,t._raiseEvent("3",{popup:t.$popup}),e.jqx.aria(t,"aria-expanded",!1),t},_suggest:function(){var t,i=this;return i.query=i.textarea[0].value,!i.query||i.query.length<i.minLength?i.opened?i.close():i:(t=e.isFunction(i.source)?i.source(i.query,e.proxy(i._load,this)):i.source,t?i._load(t):i)},_load:function(t){var i=this;return t=e.grep(t,function(e){return i.filter(e)}),t=i.sort(t),t.length?i._render(t.slice(0,i.items)).open():i.opened?i.close():i},_filter:function(t){var i=this,r=i.query,s=t;switch(void 0!==t.label?s=t.label:i.displayMember&&(s=t[i.displayMember]),i.searchMode){case"none":break;case"contains":return e.jqx.string.contains(s,r);case"equals":return e.jqx.string.equals(s,r);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(s,r);case"startswith":return e.jqx.string.startsWith(s,r);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(s,r);case"endswith":return e.jqx.string.endsWith(s,r);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(s,r);default:return e.jqx.string.containsIgnoreCase(s,r)}},_sort:function(e){for(var t=this,i=[],r=[],s=[],o=0;o<e.length;o++){var n=e[o],a=n;n.label?a=n.label:t.displayMember&&(a=n[t.displayMember]),0===a.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())?i.push(n):a.toString().indexOf(t.query)>=0?r.push(n):a.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())>=0&&s.push(n)}return i.concat(r,s)},_render:function(t){var i=this;return t=e(t).map(function(t,r){var s=r;t=void 0!==r.value?void 0!==r.label?e(i.item).attr({"data-name":r.label,"data-value":r.value}):e(i.item).attr({"data-name":r.value,"data-value":r.value}):void 0!==r.label?e(i.item).attr({"data-value":r.label,"data-name":r.label}):void 0!==i.displayMember&&""!==i.displayMember?e(i.item).attr({"data-name":r[i.displayMember],"data-value":r[i.valueMember]}):e(i.item).attr({"data-value":r,"data-name":r}),r.label?s=r.label:i.displayMember&&(s=r[i.displayMember]),t.find("a").html(i.highlight(s));var o="",n="";return i.roundedCorners===!0&&(o=" "+i.toThemeProperty("jqx-rc-all")),i.rtl&&(n=" "+i.toThemeProperty("jqx-rtl")),t[0].className=i.toThemeProperty("jqx-item")+" "+i.toThemeProperty("jqx-menu-item")+o+n,t[0]}),t.first().addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.$popup.html(t),i.dropDownWidth?i.$popup.width(i.dropDownWidth):i.$popup.width(i.host.outerWidth()-6),i},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_select:function(){var e=this,t=e.$popup.find(".jqx-fill-state-pressed").attr("data-value"),i=e.$popup.find(".jqx-fill-state-pressed").attr("data-name");return e.textarea[0].value=e.renderer(i,e.textarea[0].value),e.selectedItem={label:i,value:t},e.host.attr("data-value",t),e.host.attr("data-label",i),e._raiseEvent("1",{item:{label:i,value:t}}),e._arrange(),e.textarea[0].scrollTop=e.textarea[0].scrollHeight,e._raiseEvent("0"),e.close()},_renderer:function(e){return e},_move:function(e){var t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),t._prev());break;case 40:e.shiftKey||(e.preventDefault(),t._next())}e.stopPropagation()}},_next:function(){var t=this,i=t.$popup.find(".jqx-fill-state-pressed").removeClass(t.toThemeProperty("jqx-fill-state-pressed")),r=i.next();r.length||(r=e(t.$popup.find("li")[0])),r.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_prev:function(){var e=this,t=e.$popup.find(".jqx-fill-state-pressed").removeClass(e.toThemeProperty("jqx-fill-state-pressed")),i=t.prev();i.length||(i=e.$popup.find("li").last()),i.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};e.extend(!0,this,t)},createInstance:function(){var e=this;e._content=e.host.children()},render:function(){var t=this,i=t.element.id;if(t._content.detach(),t._toggleElement=e(t.selector),0===t._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+t.selector+'".');if(null===t._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var r=e('<div id="'+i+'" class="'+t.toThemeProperty("jqx-popover")+'"><div class="'+t.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+t.toThemeProperty("jqx-popover-title")+'"></div><div class="'+t.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(r);var s=t.host.data();t.host.detach(),t.host=r,t.host.data(s),t.element=r[0],t.element.id=i,t._popover=e("#"+i);var o=t._popover.find(".jqx-popover-title");o.append(t.title);var n=t._popover.find(".jqx-popover-content");if(n.append(t._content),t._popover.hide(),t._removeHandlers(),t._addHandlers(),t._popover.addClass(t.position),o.addClass(t.toThemeProperty("jqx-widget-header")),t._popover.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),t.showArrow&&t._popover.addClass(t.toThemeProperty("jqx-popover-arrow-"+t.position)),t.rtl&&(o.addClass(t.toThemeProperty("jqx-rtl")),o.css("direction","rtl"),n.css("direction","rtl")),t.showCloseButton){var a=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),l=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');a.append(l),o.append(a),o.css("min-height","16px"),a.addClass(t.toThemeProperty("jqx-popover-close-button")),t.closeButton=l,t.rtl&&a.addClass(t.toThemeProperty("jqx-popover-close-button-rtl"))}if(t.arrowOffsetValue)if("bottom"==t.position||"top"==t.position){var d=t._popover.find(".jqx-popover-arrow").css("margin-left");t._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(d)+t.arrowOffsetValue)}else{var h=t._popover.find(".jqx-popover-arrow").css("margin-top");t._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(h)+t.arrowOffsetValue)}(t.width||t.height)&&(t._popover.css("width",t.width),t._popover.css("height",t.height))},refresh:function(e){this.render()},destroy:function(){var e=this;0!==e.length&&(e._removeHandlers(),e._popover.remove(),e._removeModalBackground())},propertyChangedHandler:function(e,t,i,r){var s=this;s.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var t=e._toggleElement,i=t.offset(),r=t.outerHeight(),s=t.outerWidth(),o=e._popover.height(),n=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-o/2+r/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-o/2+r/2,e._popoverLeft=i.left+s;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-n/2+s/2;break;case"bottom":e._popoverTop=i.top+r,e._popoverLeft=i.left-n/2+s/2}var a=e.offset?e.offset.left:0,l=e.offset?e.offset.top:0;e._popover.css("top",l+e._popoverTop),e._popover.css("left",a+e._popoverLeft)},open:function(){function e(){i._popover.show(),i._raiseEvent("0"),i._isOpen=!0}function t(){i.initContent&&i._init===!1&&(i.initContent(),i._init=!0,i._stickToToggleElement())}var i=this;if(i._stickToToggleElement(),i._ie7===!0)return e(),void t();switch(i.animationType){case"fade":i._popover.fadeIn(i.animationOpenDelay,function(){i._raiseEvent("0"),t(),i._isOpen=!0});break;case"none":e(),t()}i._makeModalBackground()},close:function(){function e(){t._popover.hide(),t._raiseEvent("1"),t._isOpen=!1}var t=this;if(t._isOpen){if(t._ie7===!0)return void e();switch(t.animationType){case"fade":t._popover.fadeOut(t.animationCloseDelay,function(){t._raiseEvent("1"),t._isOpen=!1});break;case"none":e()}t._removeModalBackground()}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this._popover.trigger(s);return o},_makeModalBackground:function(){var t=this;t.isModal===!0&&(t.modalBackground=e("<div></div>"),t.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(t.modalBackground),e(document.body).addClass(t.toThemeProperty("jqx-unselectable")),t.host.addClass(t.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var t=this;t.isModal===!0&&void 0!==t.modalBackground&&(t.modalBackground.remove(),e(document.body).removeClass(t.toThemeProperty("jqx-unselectable")),t.host.removeClass(t.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),t.autoClose===!0&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(e(document),"click.jqxPopover"+i),t.selector&&t.removeHandler(t._toggleElement,"click.jqxPopover"+i),t.removeHandler(e(document),"keydown.jqxPopover"+i),t.removeHandler(e(window),"resize.jqxPopover"+i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxLayout","",{}),e.extend(e.jqx._jqxLayout.prototype,{defineInstance:function(){var t={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin"]};e.extend(!0,this,t)},createInstance:function(){var t=this;t._originalElement=t.host.clone(),t._coordinates=[],t._ie7=e.jqx.browser.msie&&e.jqx.browser.version<8,t._touchDevice=e.jqx.mobile.isTouchDevice(),t._initialization=!0,t.render()},render:function(){var t,i,r,s=this;if(s._tabbedGroupsList=[],s.dockingLayout&&(s._overlayGroups=[],s._initialization===!1&&(t=s.dockingLayout._overlay.detach(),i=s.dockingLayout._dropOverlay.detach(),r=s.dockingLayout._edgeOverlays.detach())),s._rendered===!0&&s._detachContent(s.layout[0].items),s.host.empty(),!s.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(s._setSize(),s._addClasses(),s._removeHandlers(),!s._rendered){if("layoutGroup"!==s.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var o=s.layout[0].items[0].width,n=s.layout[0].items[0].height;o&&"string"==typeof o&&"%"===o.charAt(o.length-1)||n&&"string"==typeof n&&"%"===n.charAt(n.length-1)||(s.layout[0].initialPxWidth=s.host.width(),s.layout[0].initialPxHeight=s.host.height(),s._pxToPercent(s.layout[0],!0))}s._createLayout(s.layout,s.host,{type:"host"},0),s.resizable===!0&&(s._addResizeFeedbacks(),s._getGroupCoordinates(),s._addHandlers()),s.contextMenu===!0&&s._initMenu(),s._initialization===!0?(s._initialization=!1,s._raiseEvent("0"),e.jqx.utilities.resize(s.host,function(){s.render()})):s.dockingLayout&&(s._ie7?e("body").append(t,i,r):s.host.append(t,i,r),s.dockingLayout._trackFloatGroups());for(var a=0;a<s._tabbedGroupsList.length;a++)s._validateTabbedGroup(s._tabbedGroupsList[a]);s._rendered||(s._rendered=!0)},refresh:function(e){e!==!0&&this.render()},destroy:function(){var e=this;e._mouseupHandler=null,e._docUP=null,e._removeHandlers(),e.contextMenu===!0&&e._menu.jqxMenu("destroy"),e.host.remove()},saveLayout:function(){for(var e=this,t=[],i=0;i<e.layout.length;i++)e._copyItem(e.layout[i],t);return t},loadLayout:function(t){if(void 0!==t&&e.isEmptyObject(t)===!1){var i=this;i.layout=t,i._rendered=!1,i.render()}},propertyChangedHandler:function(t,i,r,s){if("layout"!==i){if(s!==r)switch(i){case"width":case"height":t.host.css(i,s);break;case"theme":e.jqx.utilities.setTheme(r,s,t.host),t._menuInitialized&&e.jqx.utilities.setTheme(r,s,t._menu),t.dockingLayout&&e("."+t.element.id+"FloatGroup").length>0&&e("."+t.element.id+"FloatGroup").jqxWindow({theme:s});break;case"layout":case"resizable":t.render();break;case"contextMenu":s!==!0||t._menuInitialized||t.render();break;case"rtl":var o=e("."+t.element.id+"FloatGroup");o.length>0&&o.jqxWindow({
rtl:s});var n=t.host.add(o);s===!0?(n.find(".jqx-layout-pseudo-window-title-ltr").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-title-ltr")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-title-rtl")),n.find(".jqx-layout-pseudo-window-pin-background-ltr").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-ltr")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-rtl")),n.find(".jqx-layout-pseudo-window-close-background-ltr").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-ltr")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-rtl")),n.find(".jqx-layout-ribbon-header").removeClass(t.toThemeProperty("jqx-layout-ribbon-header-ltr")).addClass(t.toThemeProperty("jqx-layout-ribbon-header-rtl"))):(n.find(".jqx-layout-pseudo-window-title-rtl").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-title-rtl")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-title-ltr")),n.find(".jqx-layout-pseudo-window-pin-background-rtl").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-rtl")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-pin-background-ltr")),n.find(".jqx-layout-pseudo-window-close-background-rtl").removeClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-rtl")).addClass(t.toThemeProperty("jqx-layout-pseudo-window-close-background-ltr")),n.find(".jqx-layout-ribbon-header").removeClass(t.toThemeProperty("jqx-layout-ribbon-header-rtl")).addClass(t.toThemeProperty("jqx-layout-ribbon-header-ltr"))),n.find(".jqx-ribbon").jqxRibbon({rtl:s})}}else t.render()},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this.host.trigger(s);return o},_setSize:function(){var e=this;e.host.css({width:e.width,height:e.height})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(e,t,i){return e/t.widget[i]()*100},_addHandlers:function(){function t(e,t){for(var i=0;i<l._coordinates.length;i++){var r=l._coordinates[i];if(e>=r.x.from&&e<=r.x.to&&t>=r.y.from&&t<=r.y.to){"horizontal"===r.orientation?l.element.style.cursor="col-resize":l.element.style.cursor="row-resize",l._resize={allowed:!0,widget:r.widget,side:r.side};break}l.element.style.cursor="default",l._resize.allowed=!1}}function i(t){if(l._resize.allowed===!0){var i=l._resize.widget,r=i.current.parent,s=l._percentToPx("width",i.current.minWidth,r),o=l._percentToPx("height",i.current.minHeight,r),d=r.items[i.current.index-1],h=r.items[i.current.index+1];switch(l._resizeStartPosition={x:t.pageX,y:t.pageY},s||(s=l._percentToPx("width",l.minGroupWidth,r)),s=Math.min(s,i.width()),i.current.minWidth=s,o||(o=l._percentToPx("height",l.minGroupHeight,r)),o=Math.min(o,i.height()),i.current.minHeight=o,l._resize.side){case"left":var c=l._percentToPx("width",d.minWidth,r);c||(c=l._percentToPx("width",l.minGroupWidth,r)),n=d.widget.offset().left+c,a=i.offset().left+i.width()-s;break;case"right":var u=l._percentToPx("width",h.minWidth,r);u||(u=l._percentToPx("width",l.minGroupWidth,r)),n=i.offset().left+s,a=h.widget.offset().left+h.widget.width()-u;break;case"top":var p=l._percentToPx("height",d.minHeight,r);p||(p=l._percentToPx("height",l.minGroupHeight,r)),n=d.widget.offset().top+p,a=i.offset().top+i.height()-o;break;case"bottom":var f=l._percentToPx("height",h.minHeight,r);f||(f=l._percentToPx("height",l.minGroupHeight,r)),n=i.offset().top+o,a=h.widget.offset().top+h.widget.height()-f}var m,g=function(e,t){if(t="undefined"==typeof t?{top:0,left:0}:t,e!==top){var i=e.frameElement.getBoundingClientRect();t.left+=i.left,t.top+=i.top,t=g(e.parent,t)}return t};l._clickedToResize=!0,l._overlay[0].style.display="block","left"===l._resize.side||"right"===l._resize.side?(l._verticalFeedback[0].style.height=l._resize.widget.height()+"px",m=l._ie7?g(window).top:0,l._verticalFeedback.offset({top:l._resize.widget.offset().top-l.host.offset().top+e(window).scrollTop()-m})):(l._horizontalFeedback[0].style.width=l._resize.widget.width()+"px",m=l._ie7?g(window).left:0,l._horizontalFeedback.offset({left:l._resize.widget.offset().left-l.host.offset().left+e(window).scrollLeft()+1-m}))}}function r(e,t,i,r,s){var o,n,a=s.charAt(0).toUpperCase()+s.slice(1),d=t.parent;return e?(o=l._percentToPx(s,i["min"+a],d),n=parseFloat(i[s])/100*t.parent.widget[s]()-r):(o=l._percentToPx(s,t["min"+a],d),n=parseFloat(t[s])/100*t.parent.widget[s]()-r),o||(o=l._percentToPx(s,l["minGroup"+a],d)),o>n?o:n}function s(e){if(l._clickedToResize===!0){var t,i,s,o,n,a,d=function(){l._clickedToResize=!1,l._overlay[0].style.display="none",l._verticalFeedback[0].style.display="none",l._horizontalFeedback[0].style.display="none"},h=e.pageX,c=e.pageY,u=l._resize.widget.current,p=l._resize.widget.offset(),f=p.left,m=p.top;if(e.pageX===l._resizeStartPosition.x&&e.pageY===l._resizeStartPosition.y)return void d();if("left"===l._resize.side||"right"===l._resize.side){if(a=u.width,"left"===l._resize.side?(t=u.parent.items[u.index-1],i=f,s=i>h):(t=u.parent.items[u.index+1],i=f+u.widget.width(),s=h>=i),o=Math.abs(h-i),0===o)return void d();if(s?(n=l._getPercentage(r(!0,u,t,o,"width"),u.parent,"width"),o=Math.abs(n-parseFloat(t.width)),t.width=n+"%",u.width=parseFloat(u.width)+o+"%"):(n=l._getPercentage(r(!1,u,t,o,"width"),u.parent,"width"),o=Math.abs(n-parseFloat(u.width)),u.width=n+"%",t.width=parseFloat(t.width)+o+"%"),u.width===a)return void d()}else{if(a=u.height,"top"===l._resize.side?(t=u.parent.items[u.index-1],i=m,s=i>c):(t=u.parent.items[u.index+1],i=m+u.widget.height(),s=c>=i),o=Math.abs(c-i),0===o)return void d();if(s?(n=l._getPercentage(r(!0,u,t,o,"height"),u.parent,"height"),o=Math.abs(n-parseFloat(t.height)),t.height=n+"%",u.height=parseFloat(u.height)+o+"%"):(n=l._getPercentage(r(!1,u,t,o,"height"),u.parent,"height"),o=Math.abs(n-parseFloat(u.height)),u.height=n+"%",t.height=parseFloat(t.height)+o+"%"),u.height===a)return void d()}d(),l.render(),l._raiseEvent("1",{item:u})}}function o(t){if(l._clickedToResize===!0){var i=t.pageX,r=t.pageY;"left"===l._resize.side||"right"===l._resize.side?(l._verticalFeedback[0].style.display="block",n>i?(i=n,l._verticalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):i>a?(i=a,l._verticalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):l._verticalFeedback.removeClass(l.toThemeProperty("jqx-layout-resize-feedback-warning")),l._verticalFeedback.offset({left:i-2})):(l._horizontalFeedback[0].style.display="block",n>r?(r=n,l._horizontalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):r>a?(r=a,l._horizontalFeedback.addClass(l.toThemeProperty("jqx-layout-resize-feedback-warning"))):l._horizontalFeedback.removeClass(l.toThemeProperty("jqx-layout-resize-feedback-warning")),l._horizontalFeedback.offset({top:r-2}),l._horizontalFeedback.offset({left:l._resize.widget.offset().left+e(window).scrollLeft()+1}))}}var n,a,l=this,d=l.element.id;if(l._resize={allowed:!1},l._clickedToResize=!1,l._docUP=s,l._touchDevice?(l.addHandler(e(document),"touchstart.jqxDockingLayout"+d,function(e){var r=e.originalEvent.touches[0];t(r.pageX,r.pageY),i(r)}),l.addHandler(e(document),"touchmove.jqxDockingLayout"+d,function(e){var t=e.originalEvent.touches[0];o(t)}),l.addHandler(e(document),"touchend.jqxDockingLayout"+d,function(e){var t=e.originalEvent.changedTouches[0];s(t)})):(l.addHandler(l.host,"mousemove.jqxLayout"+d,function(e){if(l._clickedToResize===!1&&(!l.dockingLayout||l.dockingLayout&&l.dockingLayout._windowDragged!==!0)){var i=e.pageX,r=e.pageY;t(i,r)}}),l.addHandler(e(document),"mousemove.jqxLayout"+d,function(e){o(e)}),l.addHandler(l.host,"mousedown.jqxLayout"+d,function(e){i(e)}),l.addHandler(e(document),"mouseup.jqxLayout"+d,function(e){s(e)})),l.addHandler(e(document),"selectstart.jqxLayout"+d,function(){return l._clickedToResize===!0?!1:void 0}),l.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l._mouseupHandler))}catch(h){}},_removeHandlers:function(){var t=this,i=t.element.id;if(t._touchDevice?(t.removeHandler(e(document),"touchstart.jqxLayout"+i),t.removeHandler(e(document),"touchmove.jqxLayout"+i),t.removeHandler(e(document),"touchend.jqxLayout"+i)):(t.removeHandler(t.host,"mousemove.jqxLayout"+i),t.removeHandler(e(document),"mousemove.jqxLayout"+i),t.removeHandler(t.host,"mousedown.jqxLayout"+i),t.removeHandler(e(document),"mouseup.jqxLayout"+i)),t.removeHandler(e(document),"selectstart.jqxLayout"+i),t.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",t._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",t._mouseupHandler))}catch(r){}e("."+i+"FloatGroup").off("close")},_createLayout:function(t,i,r){function s(e){var t=i.children(),r=t.eq(0),s=t.eq(1);r.text(e.title),d=e.content?e.content:o._originalElement.find('[data-container="'+e.contentContainer+'"]').html(),void 0===d&&(d=""),s.html(d)}for(var o=this,n=r.type,a=0;a<t.length;a++){var l,d,h,c,u=t[a];switch(u.type){case"layoutGroup":if(l=e("<div></div>"),l.addClass(o.toThemeProperty("jqx-layout-group-default")),"horizontal"===u.orientation&&l.addClass(o.toThemeProperty("jqx-layout-group-default-horizontal")),i.append(l),"host"===n)l.addClass(o.toThemeProperty("jqx-layout-group-root"));else{var p="horizontal"===r.orientation?u.width:"100%",f="horizontal"===r.orientation?"100%":u.height;l.css({width:p,height:f})}break;case"tabbedGroup":"floatGroup"!==n?(l=e('<div class="'+o.toThemeProperty("jqx-layout-group-tabbed")+'"><div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(o.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div></div>'),i.append(l),o._addRightClickHandler(l.find(".jqx-layout-window-header"),l)):(l=e('<div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(o.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div>'),i.children().eq(1).append(l));break;case"documentGroup":case"autoHideGroup":l=e("<div><ul></ul><div></div></div>"),i.append(l),"documentGroup"===u.type&&l.find("ul").addClass("jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(o.rtl?"rtl":"ltr")),o._ie7&&"autoHideGroup"===u.type&&l.css("z-index",9999-500*a);break;case"floatGroup":if(o._rendered&&u.programmaticallyAdded!==!0)continue;if(!o.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");l=e('<div class="'+o.toThemeProperty("jqx-docking-layout-group-floating")+'"><div></div><div></div></div>'),i.append(l),u.programmaticallyAdded===!0&&delete u.programmaticallyAdded;break;case"layoutPanel":if(l={},"tabbedGroup"===n){var m=i.find(".jqx-layout-window-header").text();""===m&&i.find(".jqx-layout-window-header div:eq(0)").text(u.title),c=e("<li>"+u.title+"</li>"),i.find(".jqx-layout-ribbon-header").append(c),o._rendered||u.docked?d=u.detachedContent:(d=o._originalElement.find('[data-container="'+u.contentContainer+'"]').html(),void 0===d&&(d="")),h=e("<div></div>"),h.append(d),i.find(".jqx-layout-ribbon-content").append(h),o._addRightClickHandler(c,l)}else if("autoHideGroup"===n){e(i.children()[0]).append("<li>"+u.title+"</li>"),o._rendered?d=u.detachedContent:(d=o._originalElement.find('[data-container="'+u.contentContainer+'"]').html(),void 0===d&&(d="")),h=e("<div></div>"),h.append(d);var g;g="left"===r.alignment||"right"===r.alignment?"jqx-layout-group-auto-hide-content-vertical":"jqx-layout-group-auto-hide-content-horizontal",h.addClass(o.toThemeProperty(g));var v=e('<div><div class="jqx-layout-window"><div><div>'+u.title+"</div></div></div></div>");v.children().append(h),e(i.children()[1]).append(v),o._addRightClickHandler(v.find(".jqx-layout-window"),l)}else"floatGroup"===n&&s(u);break;case"documentPanel":l={},"floatGroup"===n?s(u):(c=e("<li>"+u.title+"</li>"),e(i.children()[0]).append(c),o._rendered?d=u.detachedContent:(d=o._originalElement.find('[data-container="'+u.contentContainer+'"]').html(),void 0===d&&(d="")),h=e("<div></div>"),h.append(d),e(i.children()[1]).append(h),o._addRightClickHandler(c,l))}if(u.items&&u.items.length>0){var x=l;o._createLayout(u.items,x,u)}if(o._createWidget(r,i,u,l,a),o.dockingLayout&&("documentGroup"===u.type||"tabbedGroup"===u.type||"layoutGroup"===u.type&&0===u.items.length)){var w={element:l,width:l.width(),height:l.height(),offset:l.offset(),settings:u};o._overlayGroups.push(w),"floatGroup"===u.parent.type&&(u.parent._overlayGroup=w)}}},_createWidget:function(t,i,r,s,o){function n(){for(var e=0,t=0;t<r.items.length;t++)if(r.items[t].selected===!0){e=t;break}return r.items[e].selected=!0,e}var a=this,l="horizontal"===t.orientation?r.width:"100%",d="horizontal"===t.orientation?"100%":r.height,h=!1;switch(r.parent=t,r.widget=s,r.index=o,r.widget&&(r.widget.current=r),r.type){case"tabbedGroup":var c,u;"floatGroup"!==t.type?(c=a._initWindowPanel(s,l,d,r.type),u=s.find(".jqx-layout-ribbon"),a._tabbedGroupsList.push(r)):u=s,a.dockingLayout&&r.allowDrag!==!1&&(h=!0),u.jqxRibbon({theme:a.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:a.rtl,_roundedCorners:!1,initContent:function(e){var t=r.items[e];!t.initialized&&t.initContent&&(t.initContent(u.find(".jqx-ribbon-content-section").eq(e)),t.initialized=!0)},_removeByDrag:h,reorder:!0}),u.on("select",function(i){if(i.stopPropagation(),i.target.id===u[0].id){i.stopPropagation();var s=i.args.selectedIndex;r.items[s].selected=!0;var o=e(e(u.children()[1]).children()[s]).text();"floatGroup"!==t.type?c.html(o):t.widget.find(".jqx-window-header").children().eq(0).html(o)}}),u.on("unselect",function(e){e.stopPropagation(),e.target.id===u[0].id&&(r.items[e.args.unselectedIndex].selected=!1)}),u.on("reorder",function(t){a._swapPanelsInLayout(r.items,t.args.newIndex,t.args.oldIndex);var i=t.args.newIndex;setTimeout(function(){r.items[i]&&a._addRightClickHandler(e(u.find(".jqx-ribbon-item")[i]),r.items[i].widget)},200)}),h&&(u.on("_removeByDrag",function(e){a.dockingLayout._removeByDragHandler(e,r,u),"floatGroup"===r.parent.type&&1===r.items.length&&u.jqxRibbon({_removeByDrag:!1})}),a.dockingLayout._addTabbedGroupHandlers(r,s)),u.jqxRibbon("selectAt",n());break;case"documentGroup":a.dockingLayout&&r.allowDrag!==!1&&(h=!0),s.jqxRibbon({theme:a.theme,width:l,height:d,_roundedCorners:!1,position:"top",selectedIndex:n(),selectionMode:"click",animationType:"none",rtl:a.rtl,initContent:function(e){var t=r.items[e];!t.initialized&&t.initContent&&(t.initContent(s.find(".jqx-ribbon-content-section").eq(e)),t.initialized=!0)},_removeByDrag:h,reorder:!0}),s.on("select",function(e){e.stopPropagation(),e.target.id===s[0].id&&(r.items[e.args.selectedIndex].selected=!0)}),s.on("unselect",function(e){e.stopPropagation(),e.target.id===s[0].id&&(r.items[e.args.unselectedIndex].selected=!1)}),s.on("reorder",function(t){a._swapPanelsInLayout(r.items,t.args.newIndex,t.args.oldIndex);var i=t.args.newIndex;setTimeout(function(){a._addRightClickHandler(e(s.find(".jqx-ribbon-item")[i]),r.items[i].widget)},200)}),h&&s.on("_removeByDrag",function(e){a.dockingLayout._removeByDragHandler(e,r,s)}),s.addClass(a.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":s.jqxRibbon({theme:a.theme,width:l,height:d,mode:"popup",popupCloseMode:"click",position:r.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:a.rtl,initContent:function(t){var i="top"===r.alignment||"left"===r.alignment?1:0,o=e(e(s.children()[i]).children()[t]),n=o.find(".jqx-layout-window");n.current=s.current.items[t],n.css("border","none"),a._initWindowPanel(n,"100%","100%",r.type),!r.items[t].initialized&&r.items[t].initContent&&(r.items[t].initContent(s.find(".jqx-ribbon-content-section").eq(t).children().children().eq(1)),r.items[t].initialized=!0)}}),s.addClass(a.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":s.addClass(a.element.id+"FloatGroup"),s.jqxWindow({theme:a.theme,width:r.width,maxWidth:null,height:r.height,maxHeight:null,position:{x:r.position.x,y:r.position.y},showCloseButton:r.allowClose!==!1,closeButtonAction:"close",rtl:a.rtl,initContent:function(){var e=s.find(".jqx-window-header"),t=a._touchDevice?"touchstart":"mousedown";if(e.on(t,function(){a.dockingLayout._windowDragged=!0,r._overlayGroup&&(r._overlayGroup.self=!0),a.dockingLayout._interval(),a.resizable&&(a._overlay[0].style.display="block");var e,t,i;"documentPanel"===r.items[0].type?(e={type:"documentGroup"},t=r.items[0],i=t.title):"layoutPanel"===r.items[0].type?(e={type:"tabbedGroup"},t=r.items[0],i=t.title):"tabbedGroup"===r.items[0].type&&(e=r.items[0]),a.dockingLayout._draggedWindow={fromGroup:e,fromPanel:t,title:i,element:s},a.dockingLayout._showEdgeOverlays()}),e.on("mouseup",function(){a.dockingLayout._hideOverlays()}),"tabbedGroup"===r.items[0].type){var i=r.items[0].items[s.find(".jqx-ribbon").jqxRibbon("selectedIndex")].title;s.jqxWindow("setTitle",i)}else r.items[0].initContent&&r.items[0].initContent(s.find(".jqx-widget-content"))}}),s.on("moved",function(e){r.position.x=e.args.x,r.position.y=e.args.y,r._overlayGroup&&a.dockingLayout._updateOverlayGroup(r._overlayGroup),a.dockingLayout._windowCreate=!1,a.dockingLayout._hideOverlays(),a.dockingLayout._clearTextSelection()}),s.on("resized",function(t){r.width=t.args.width,r.height=t.args.height;var i=e(this).offset();r.position.x=i.left,r.position.y=i.top,r._overlayGroup&&a.dockingLayout._updateOverlayGroup(r._overlayGroup)}),s.on("close",function(e){e.stopPropagation(),e.target.id===s[0].id&&(s.current._overlayGroup&&(s.current._overlayGroup.removed=!0,a.dockingLayout._updateOverlayGroups()),a.dockingLayout._removeFloatGroupObject(s.current))})}},_initWindowPanel:function(t,i,r,s){var o=this;if(t.addClass(o.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),o._ie7){var n=t.parent();if("tabbedGroup"===s){var a,l,d=parseInt(t.css("border-left-width"),10),h=parseInt(t.css("border-right-width"),10),c=parseInt(t.css("border-top-width"),10),u=parseInt(t.css("border-bottom-width"),10);a="100%"===i?n.width():parseFloat(i)/100*n.width(),a-=d+h,l="100%"===r?n.height():parseFloat(r)/100*n.height(),l-=c+u,t.css({width:a,height:l})}else"autoHideGroup"===s&&t.css({width:i,height:r})}else t.css({width:i,height:r});var p=o.rtl?"rtl":"ltr",f=e(t.children()[0]),m=f.children();m.addClass(o.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+p)),f.addClass(o.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),o._ie7&&(f.css("width",f.width()-parseInt(f.css("padding-left"),10)-parseInt(f.css("padding-right"),10)),f.css("height",f.height()-parseInt(f.css("padding-top"),10)-parseInt(f.css("padding-bottom"),10)));var g,v,x=0;if((o.dockingLayout&&t.current.allowClose!==!1||!o.dockingLayout&&t.current.allowClose===!0)&&(g=e('<div class="'+o.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+p)+'" title="Close"><div class="'+o.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div></div>'),f.append(g),x+=16),"tabbedGroup"===s&&t.current.allowPin!==!1||"autoHideGroup"===s&&t.current.parent.allowUnpin!==!1){var w;switch(s){case"tabbedGroup":w="jqx-layout-pseudo-window-pin-icon",t.pinned=!1;break;case"autoHideGroup":w="jqx-layout-pseudo-window-pinned-icon",t.pinned=!0}v=e('<div class="'+o.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background")+'" title="Auto Hide"><div class="'+o.toThemeProperty(w)+'"></div></div>'),g?v.addClass(o.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+p)):o.rtl===!1&&v.css("right",0),f.append(v),x+=16,o.dockingLayout&&"autoHideGroup"===s&&o.dockingLayout._addAutoHideGroupHandlers(t.current,f,t.current.title,e(t.children()[1]).contents())}m.css("max-width",f.width()-x);var b=e(t.children()[1]);return b.css("height",1+t.height()-f.outerHeight()),b.css("margin-left","-1px"),b.css("margin-right","-1px"),o._addWindowPanelHandlers(g,v,t),m},_addWindowPanelHandlers:function(e,t,i){var r=this,s=r.element.id,o=i.current,n=o.type;e&&r.addHandler(e,"click.jqxLayout"+s,function(){if("tabbedGroup"===n&&o.items.length>1){var e=i.find(".jqx-ribbon-item-selected")[0]._index;r._close(o.items[e])}else i.fadeOut(function(){r._close(o),i.remove()})}),t&&r.addHandler(t,"click.jqxLayout"+s,function(){"tabbedGroup"===n&&o.pinValid===!0?r._pin(o):"layoutPanel"===n&&r._unPin(o.parent)})},_getGroupCoordinates:function(){function e(e){return"layoutGroup"===e||"tabbedGroup"===e||"documentGroup"===e}function t(r){for(var s=0;s<r.length;s++){var o=r[s];if(e(o.type)){var n,a,l,d,h,c=r[s-1],u=r[s+1],p=o.widget.offset();c&&e(c.type)&&("horizontal"===o.parent.orientation?(n=p.left-5,a=n+10,l=p.top-5,d=l+o.widget.height()+10,h="left"):(n=p.left-5,a=n+o.widget.width()+10,l=p.top-5,d=l+10,h="top"),i._coordinates.push({x:{from:n,to:a},y:{from:l,to:d},widget:o.widget,side:h,orientation:o.parent.orientation})),u&&e(u.type)&&("horizontal"===o.parent.orientation?(n=p.left+o.widget.width()-5,a=n+10,l=p.top-5,d=l+o.widget.height()+10,h="right"):(n=p.left-5,a=n+o.widget.width()+10,l=p.top+o.widget.height()-5,d=l+10,h="bottom"),i._coordinates.push({x:{from:n,to:a},y:{from:l,to:d},widget:o.widget,side:h,orientation:o.parent.orientation})),o.items&&t(o.items)}}}var i=this;i._coordinates=[],t(i.layout[0].items)},_close:function(e){var t,i=this;if(e.removed=!0,"tabbedGroup"===e.type||"autoHideGroup"===e.type||"documentGroup"===e.type){if(t="tabbedGroup"===e.type?e.widget.find(".jqx-ribbon"):e.widget,t.jqxRibbon("destroy"),e.parent.items){var r=e.parent.items[e.index-1],s=e.parent.items[e.index+1],o="vertical"===e.parent.orientation?"height":"width",n=function(t){var r=parseFloat(t[o])+parseFloat(e[o])+"%";"documentGroup"===t.type?"height"===o?t.widget.jqxRibbon({height:r}):t.widget.jqxRibbon({width:r}):"layoutGroup"!==t.type&&"tabbedGroup"!==t.type||t.widget.css(o,r),t[o]=r,i._raiseEvent("1",{item:t})};r&&"autoHideGroup"!==r.type&&"floatGroup"!==r.type?n(r):s&&"autoHideGroup"!==s.type&&"floatGroup"!==s.type&&n(s)}}else if("layoutPanel"===e.type){if("tabbedGroup"===e.parent.type)return t=e.parent.widget.find(".jqx-ribbon"),t.jqxRibbon("removeAt",e.index),i._updateLayout(i.layout),void(0===e.index?t.jqxRibbon("selectAt",0):t.jqxRibbon("selectAt",e.index-1));if("autoHideGroup"===e.parent.type){t=e.parent.widget,t.jqxRibbon("removeAt",e.index);var a=t.children("ul").children();0===a.length&&i._close(t.current)}}i._updateLayout(i.layout),i.render()},_updateLayout:function(e){for(var t=0;t<e.length;t++)if(e[t].removed===!0){e.splice(t,1);for(var i=0;i<e.length;i++)e[i].index=i}else e[t].items&&this._updateLayout(e[t].items)},_pin:function(e){var t,i,r,s=this,o=e.parent;if(e.alignment)t=e.alignment;else{var n=Math.abs(e.parent.items.length-1-e.index),a=Math.abs(0-e.index);t=n>a?"horizontal"===e.parent.orientation?"left":"top":"horizontal"===e.parent.orientation?"right":"bottom"}var l="top"===t||"left"===t?e.index+1:e.index-1;"left"===t||"right"===t?(i="width",r=e.pinnedWidth):(i="height",r=e.pinnedHeight),r||("width"===i?r=8e3/e.parent.widget.width()+"%":"height"===i&&(r=3e3/e.parent.widget.height()+"%")),s._detachContent(e.items,!0);var d={type:"autoHideGroup",alignment:t,items:e.items};d[i]=r,d["min"+i.charAt(0).toUpperCase()+i.slice(1)]=e["min"+i.charAt(0).toUpperCase()+i.slice(1)],d["unpinned"+i.charAt(0).toUpperCase()+i.slice(1)]=e[i],d.allowDrag=e.allowDrag,d.allowDrop=e.allowDrop;var h=o.items[l];h[i]=parseFloat(h[i])+parseFloat(e[i])-parseFloat(r)+"%",o.items.splice(e.index,0,d),e.removed=!0,e.widget.find(".jqx-ribbon").jqxRibbon("destroy"),e.widget.remove(),s._updateLayout(s.layout),s.render(),s._raiseEvent("1",{item:h}),s._raiseEvent("2",{item:d})},_unPin:function(e){var t,i,r,s=this,o=e.parent,n=e.alignment,a="top"===n||"left"===n?e.index+1:e.index-1,l=o.items[a];"left"===n||"right"===n?(t="width",i=e.unpinnedWidth):(t="height",i=e.unpinnedHeight),i||(i="10%"),s._detachContent(e.items,!0);var d={type:"tabbedGroup",alignment:n,items:e.items};if(d["pinned"+t.charAt(0).toUpperCase()+t.slice(1)]=e[t],d.allowDrag=e.allowDrag,d.allowDrop=e.allowDrop,l){var h=parseFloat(l[t])+parseFloat(e[t])-parseFloat(i)+"%",c=l["min"+t.charAt(0).toUpperCase()+t.slice(1)];c||(c=s["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)]),parseFloat(h)<s._getPercentage(c,o,t)?(i=e[t],h=s._getPercentage(c,o,t)+"%",d["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e.widget.width()):d["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],d[t]=i,l[t]=h,r=l}else d["min"+t.charAt(0).toUpperCase()+t.slice(1)]=e["min"+t.charAt(0).toUpperCase()+t.slice(1)],d[t]="100%",r=d;o.items.splice(e.index,0,d),e.removed=!0,e.widget.jqxRibbon("destroy"),s._updateLayout(s.layout),s.render(),s._raiseEvent("1",{item:r}),s._raiseEvent("3",{item:d})},_copyItem:function(e,t){var i={};for(var r in e)if(e.hasOwnProperty(r)&&"parent"!==r&&"widget"!==r&&"initialized"!==r)if("position"===r)i.position={x:e.position.x,y:e.position.y};else if("items"===r){for(var s=[],o=0;o<e.items.length;o++)this._copyItem(e.items[o],s);i.items=s}else i[r]=e[r];t.push(i)},_addResizeFeedbacks:function(){var t=this;t._horizontalFeedback=e('<div class="'+t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal")+'"></div>'),t._verticalFeedback=e('<div class="'+t.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical")+'"></div>'),t._overlay=e('<div class="'+t.toThemeProperty("jqx-layout-overlay")+'"></div>'),t.dockingLayout&&t.dockingLayout._windowDragged&&(t._overlay[0].style.display="block"),t.host.append(t._horizontalFeedback,t._verticalFeedback,t._overlay)},_detachContent:function(e,t){function i(e){if(e.prevent===!0)e.prevent=!1;else{var i=e.parent.widget.find(".jqx-ribbon-content-section").eq(e.index);s=i.contents().detach(),i.remove(),e.detachedContent=s,t===!0&&(e.prevent=!0)}}for(var r=e.length-1;r>=0;r--){var s,o=e[r],n=o.type;if("layoutGroup"===n||"tabbedGroup"===n||"documentGroup"===n||"autoHideGroup"===n||"floatGroup"===n)o.items&&o.items.length>0&&this._detachContent(o.items);else if("layoutPanel"===n){if("tabbedGroup"===o.parent.type)i(o);else if("autoHideGroup"===o.parent.type)if(o.prevent===!0)o.prevent=!1;else{if("left"===o.parent.alignment||"right"===o.parent.alignment){var a=o.parent.widget.find(".jqx-layout-group-auto-hide-content-vertical").eq(r);s=a.contents().detach(),a.remove()}else{var l=o.parent.widget.find(".jqx-layout-group-auto-hide-content-horizontal").eq(r);s=l.contents().detach(),l.remove()}o.detachedContent=s,t===!0&&(o.prevent=!0)}}else"documentPanel"===n&&i(o)}},_pxToPercent:function(e,t){function i(i,s){var o,n;return i=parseInt(i,10),n=t?r.host[s]():e["initialPx"+s.charAt(0).toUpperCase()+s.slice(1)],o=(100*i/n).toString()+"%"}for(var r=this,s=0;s<e.items.length;s++){var o=e.items[s];void 0!==o.width?(o.initialPxWidth=o.width,o.width=i(o.width,"width")):o.initialPxWidth=e.initialPxWidth,void 0!==o.height?(o.initialPxHeight=o.height,o.height=i(o.height,"height")):o.initialPxHeight=e.initialPxHeight,void 0!==o.unpinnedWidth&&(o.unpinnedWidth=i(o.unpinnedWidth,"width")),void 0!==o.pinnedWidth&&(o.pinnedWidth=i(o.pinnedWidth,"width")),void 0!==o.unpinnedHeight&&(o.unpinnedHeight=i(o.unpinnedHeight,"height")),void 0!==o.pinnedHeight&&(o.pinnedHeight=i(o.pinnedHeight,"height")),"layoutGroup"===o.type&&o.items&&o.items.length>0&&r._pxToPercent(o,!1)}},_percentToPx:function(e,t,i){return void 0===t?void 0:"string"!=typeof t||"string"==typeof t&&"%"!==t.charAt(t.length-1)?parseFloat(t):parseFloat(t.slice(0,t.length-1))/100*i.widget[e]()},_swapPanelsInLayout:function(e,t,i){var r=e[t];e[t]=e[i],e[t].index=t,e[i]=r,e[i].index=i},_initMenu:function(){var t=this;if(!t._menuInitialized){var i=t.element.id,r="",s=function(e,r,s){t._menu.jqxMenu("disable","dockOption"+i,e),t._menu.jqxMenu("disable","autoHideOption"+i,r),t._menu.jqxMenu("disable","closeOption"+i,s)};if(!t.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");t.dockingLayout&&(r='<li id="floatOption'+i+'">Float</li>'),t._menu=e('<div class="'+t.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+i)+'"><ul>'+r+'<li id="dockOption'+i+'">Dock</li><li id="autoHideOption'+i+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+i+'">Close</li></ul></div>'),e("body").append(t._menu),t._menu.jqxMenu({theme:t.theme,width:100,height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:t.rtl}),t._menuInitialized=!0,t._menu.on("itemclick",function(i){t._handleMenuItemClick(e(i.target).text())});var o=function(e){return t.dockingLayout?e.allowClose===!1:e.allowClose!==!0};t._menu.on("shown",function(){switch(t._contextMenuTarget.type){case"tabbedGroup":s(!0,t._contextMenuTarget.allowPin===!1||t._contextMenuTarget.pinValid===!1,o(t._contextMenuTarget));break;case"layoutPanel":var e=t._contextMenuTarget.parent;"tabbedGroup"===e.type?s(!0,e.allowPin===!1||t._isMiddleTabbedGroup(e),o(e)):"autoHideGroup"===e.type&&s(e.allowUnpin===!1,!0,o(t._contextMenuTarget));break;case"documentPanel":s(!0,!0,o(t._contextMenuTarget))}})}},_addRightClickHandler:function(t,i){var r=this;r.contextMenu===!0&&(r.addHandler(t,"mousedown.jqxLayout"+r.element.id,function(t){if(r.contextMenu===!0&&(t.which&&3===t.which||t.button&&2===t.button)){var s=e(window).scrollTop(),o=e(window).scrollLeft();r._contextMenuTarget=i.current,r._menu.jqxMenu("open",parseInt(t.clientX,10)+5+o,parseInt(t.clientY,10)+5+s)}}),r.addHandler(t,"contextmenu.jqxLayout"+r.element.id,function(){return r.contextMenu===!0?!1:void 0}))},_handleMenuItemClick:function(e){var t=this,i=t._contextMenuTarget.type,r=t._contextMenuTarget.parent;switch(e){case"Float":switch(i){case"tabbedGroup":t.dockingLayout._floatTabbedGroup(t._contextMenuTarget,t._contextMenuTarget.widget);break;case"layoutPanel":if("tabbedGroup"===r.type)t.dockingLayout._removeByDragHandler(void 0,r,r.widget,t._contextMenuTarget.index,!1);else if("autoHideGroup"===r.type){var s=t._contextMenuTarget.parent.widget.find(".jqx-ribbon-content").children().eq(t._contextMenuTarget.index).find(".jqx-layout-window").children().eq(1).contents();t.dockingLayout._floatAutoHideGroup(t._contextMenuTarget,t._contextMenuTarget.title,s)}break;case"documentPanel":t.dockingLayout._removeByDragHandler(void 0,r,r.widget,t._contextMenuTarget.index,!1)}break;case"Dock":t._unPin(t._contextMenuTarget.parent);break;case"Auto Hide":switch(i){case"tabbedGroup":t._pin(t._contextMenuTarget);break;case"layoutPanel":t._pin(t._contextMenuTarget.parent)}break;case"Close":switch(i){case"tabbedGroup":t._close(t._contextMenuTarget);break;case"layoutPanel":t._contextMenuTarget.parent.items.length>1?t._close(t._contextMenuTarget):t._close(t._contextMenuTarget.parent);break;case"documentPanel":t._closeDocumentPanel(t._contextMenuTarget.index,t._contextMenuTarget.parent.items,t._contextMenuTarget.parent,t._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(e,t,i,r,s){var o=this;if(s===!1&&r.jqxRibbon("removeAt",e),t.length>1){var n=!1;t[e].removed=!0,o._updateLayout(t);for(var a=0;a<t.length;a++)if(t[a].selected===!0){n=!0;break}setTimeout(function(){n===!1?t[e]?r.jqxRibbon("selectAt",e):r.jqxRibbon("selectAt",e-1):r.jqxRibbon("render");
},0)}else o._close(i)},_isMiddleTabbedGroup:function(e){return!(0===e.index||e.index===e.parent.items.length-1)},_validateTabbedGroup:function(e){var t=this,i=!0;if(i=i&&e.parent.items.length>1,i&&2===e.parent.items.length){var r=0===e.index?1:0;"autoHideGroup"===e.parent.items[r].type&&(i=!1)}i&&(i=i&&!t._isMiddleTabbedGroup(e)),e.pinValid=i,i===!1&&e.widget.find(".jqx-layout-pseudo-window-pin-background").addClass("jqx-fill-state-disabled")},_mouseupHandler:function(e){var t=this;try{t.dockingLayout&&(t._docUP(e),t.dockingLayout._windowCreate=!1,t.dockingLayout._hideOverlays())}catch(i){}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),e.extend(e.jqx._jqxDockingLayout.prototype,{defineInstance:function(){if(null===this.base)throw new Error("jqxDockingLayout: Missing reference to jqxlayout.js.");this.base.dockingLayout=this;var t={events:["float","dock"]};e.extend(!0,this,t)},createInstance:function(){var t=this;if(!t.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._addClasses(),t._createOverlay(),t._createEdgeOverlays()},loadLayout:function(t){if(void 0!==t&&e.isEmptyObject(t)===!1){var i=this.base,r=i.element.id;e("."+r+"FloatGroup").length>0&&(e("."+r+"FloatGroup").off(),e("."+r+"FloatGroup").jqxWindow("destroy")),i.loadLayout(t)}},destroy:function(){var t=this,i=t.base,r=i.element.id;e("."+r+"FloatGroup").length>0&&(e("."+r+"FloatGroup").off(),e("."+r+"FloatGroup").jqxWindow("destroy")),t._removeHandlers(),i.destroy()},addFloatGroup:function(e,t,i,r,s,o,n){var a=this.base,l={type:"floatGroup",width:e,height:t,position:i,items:[],programmaticallyAdded:!0},d={type:r,title:s,content:o,initContent:n};l.items.push(d),a.layout.push(l),a.render()},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this.base.host.trigger(s);return o},_addClasses:function(){var e=this.base;e.host.addClass(e.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var t=this,i=t.base,r=i.element.id;t.removeHandler(e(document),"mousemove.jqxDockingLayout"+r),t.removeHandler(i.host,"mouseleave.jqxDockingLayout"+r),i._touchDevice&&(t.removeHandler(e(document),"touchmove.jqxDockingLayout"+r),t.removeHandler(e(document),"touchend.jqxDockingLayout"+r))},_removeByDragHandler:function(e,t,i,r,s){void 0===r&&(r=e.args.draggedIndex),void 0===s&&(s=!0),i.hasClass("jqx-ribbon")||(i=i.find(".jqx-ribbon"));var o=this,n=t.items,a=n[r],l=t.widget.find(".jqx-ribbon-content-section").eq(r).contents().detach();o._createFloatGroup(e,a.title,l,"documentGroup",t,a),o.base._closeDocumentPanel(r,n,t,i,s)},_floatTabbedGroup:function(e,t,i){for(var r,s,o=this,n=[],a=t.find(".jqx-ribbon"),l=0;l<e.items.length;l++){var d=e.items[l],h=a.find(".jqx-ribbon-content-section").eq(l).contents().detach();d.selected&&(r=d.title,s=l),n.push(h)}o._createFloatGroup(i,r,n,"tabbedGroup",e,null,s),o.base._close(e),i&&(i.target.style.cursor="")},_addTabbedGroupHandlers:function(t,i){function r(e){d===!0&&n._clickedToResize!==!0&&(o._floatTabbedGroup(t,i,e),d=!1)}var s,o=this,n=o.base,a=n.element.id,l=i.find(".jqx-layout-window-header"),d=!1,h=n._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];o.addHandler(l,h[0]+".jqxDockingLayout"+a,function(e){if(t.allowDrag!==!1&&(d=!0,e.target.style.cursor="move",n._touchDevice)){var i=e.originalEvent.touches[0];s=document.elementFromPoint(i.pageX,i.pageY)}}),o.addHandler(l,h[1]+".jqxDockingLayout"+a,function(e){d=!1,e.target.style.cursor=""}),n._touchDevice?o.addHandler(e(document),"touchmove.jqxDockingLayout"+a,function(e){n._clickedToResize===!0&&e.preventDefault();var t=e.originalEvent.touches[0];s!==document.elementFromPoint(t.pageX,t.pageY)&&r({pageX:t.pageX,pageY:t.pageY,target:s})}):o.addHandler(l,"mouseleave.jqxDockingLayout"+a,function(e){r({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_floatAutoHideGroup:function(e,t,i,r){var s=this;s._createFloatGroup(r,t,i.detach(),"autoHideGroup",e,e),s.base._close(e)},_addAutoHideGroupHandlers:function(t,i,r,s){function o(e){h===!0&&(a._floatAutoHideGroup(t,r,s,e),h=!1,e.target.style.cursor="")}var n,a=this,l=a.base,d=l.element.id,h=!1,c=l._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];a.addHandler(i,c[0]+".jqxDockingLayout"+d,function(e){if(t.parent.allowDrag!==!1&&(h=!0,e.target.style.cursor="move",l._touchDevice)){var i=e.originalEvent.touches[0];n=document.elementFromPoint(i.pageX,i.pageY)}}),a.addHandler(i,c[1]+".jqxDockingLayout"+d,function(e){h=!1,e.target.style.cursor=""}),l._touchDevice?a.addHandler(e(document),"touchmove.jqxDockingLayout"+d,function(e){l._clickedToResize===!0&&e.preventDefault();var t=e.originalEvent.touches[0];n!==document.elementFromPoint(t.pageX,t.pageY)&&o({pageX:t.pageX,pageY:t.pageY,target:n})}):a.addHandler(i,"mouseleave.jqxDockingLayout"+d,function(e){o({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_createFloatGroup:function(t,i,r,s,o,n,a){var l,d,h,c,u,p,f=this,m=f.base,g=e('<div class="'+m.toThemeProperty("jqx-docking-layout-group-floating")+" "+m.element.id+'FloatGroup"><div></div><div></div></div>');if(e("body").append(g),"documentGroup"===s)t&&(l=t.args.x,d=t.args.y),h=o.widget.width(),c=o.widget.height(),u=r;else if("tabbedGroup"===s){t&&(l=t.pageX,d=t.pageY),h=o.widget.width(),c=o.widget.height(),u="",p=e("<div></div>");for(var v=e("<div></div>"),x=e('<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(f.rtl?"rtl":"ltr")+'"></ul>'),w=0;w<o.items.length;w++){var b=o.items[w],y=e("<div></div>"),_=e("<li>"+b.title+"</li>");x.append(_),y.append(r[w]),v.append(y)}p.append(x),p.append(v),u=p}else"autoHideGroup"===s&&(t&&(l=t.pageX,d=t.pageY),h=o.parent.widget.find(".jqx-ribbon-content").width(),c=o.parent.widget.height(),u=r);if(!l&&!d){var j=m.host.offset();l=(m.host.width()-h)/2+j.left+100,d=(m.host.height()-c)/2+j.top+10}g.on("moved close",function(e){f._hideOverlays();var t=g.current;"moved"===e.type?(t.position.x=e.args.x,t.position.y=e.args.y,t._overlayGroup&&f._updateOverlayGroup(t._overlayGroup),f._clearTextSelection(),f._windowCreate=!1,f._hideOverlays()):(t._overlayGroup&&(t._overlayGroup.removed=!0,f._updateOverlayGroups()),t.removed=!0,m._updateLayout(m.layout))}),g.on("resized",function(t){var i=g.current,r=e(this).offset();i.width=t.args.width,i.height=t.args.height,i.position.x=r.left,i.position.y=r.top,i._overlayGroup&&f._updateOverlayGroup(i._overlayGroup)}),g.jqxWindow({theme:m.theme,title:i,content:u,width:h,maxWidth:null,height:c,maxHeight:null,position:{x:l-100,y:d-10},closeButtonAction:"close",rtl:m.rtl,initContent:function(){var e,r=g.find(".jqx-window-header"),h=m._touchDevice?"touchstart":"mousedown";e="autoHideGroup"===s?o.parent:o,t&&(f._draggedWindow={fromGroup:e,fromPanel:n,title:i,element:g},r.trigger("mousedown",[l,d]),f._windowDragged=!0,f._windowCreate=!0,f._interval(),m.resizable&&(m._overlay[0].style.display="block"),f._showEdgeOverlays()),r.on(h,function(){f._windowDragged=!0,g.current._overlayGroup&&(g.current._overlayGroup.self=!0),f._interval(),m.resizable&&(m._overlay[0].style.display="block"),f._draggedWindow={fromGroup:e,fromPanel:n,title:i,element:g},f._showEdgeOverlays()}),r.on("mouseup",function(){f._hideOverlays(),f._windowCreate=!1}),"tabbedGroup"===s&&(p.jqxRibbon({theme:m.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:a,selectionMode:"click",animationType:"none",rtl:m.rtl,reorder:!0,_removeByDrag:!0}),p.on("select",function(e){if(!e.owner.widgetName||"jqxRibbon"===e.owner.widgetName){var t=g.current.items[0].items[e.args.selectedIndex];g.jqxWindow("setTitle",t.title),t.selected=!0}}),p.on("unselect",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(g.current.items[0].items[e.args.unselectedIndex].selected=!1)}),p.on("reorder",function(e){m._swapPanelsInLayout(g.current.items[0].items,e.args.newIndex,e.args.oldIndex)}),p.on("_removeByDrag",function(e){f._removeByDragHandler(e,g.current.items[0],p),1===g.current.items[0].items.length&&p.jqxRibbon({_removeByDrag:!1})}))}});var q,T,C={type:"floatGroup",parent:{type:"host"},widget:g,position:{x:l-100,y:d-10},index:m.layout.length,width:h,height:c};if(g.current=C,n)C.items=[],m._copyItem(n,C.items),q=C.items,T=C;else{C.items=[{type:"tabbedGroup",items:[],parent:C,widget:p}],q=C.items[0].items;for(var k=0;k<o.items.length;k++)m._copyItem(o.items[k],q);T=C.items[0]}for(var S=0;S<q.length;S++)q[S].parent=T;m.layout.push(C),f._raiseEvent("0",{item:C}),f._trackFloatGroups()},_interval:function(){var e=this;if(e._oldIE===!0){var t=e._overlay.width(),i=e._overlay.height();e._oldIEInterval=setInterval(function(){e._checkPosition(t,i),e._windowCreate&&e._draggedWindow.element.jqxWindow("move",e._x-50,e._y-10)},1e3)}},_createOverlay:function(){function t(e,t,i,r){s._dropOverlay.show(),s._dropOverlay[0].style.width=e+"px",s._dropOverlay[0].style.height=t+"px",s._dropOverlay.offset({left:i,top:r})}function i(e){if(e=e.closest(".jqx-docking-layout-overlay-square"),l=e,!e.find(".jqx-docking-layout-overlay-inner-square").hasClass("jqx-fill-state-disabled")){var i=s._dropToGroup.element.width(),r=s._dropToGroup.element.height(),n=s._dropToGroup.element.offset();e.hasClass("jqx-docking-layout-overlay-square-top")?t(i,r/2,n.left,n.top):e.hasClass("jqx-docking-layout-overlay-square-left")?t(i/2,r,n.left,n.top):e.hasClass("jqx-docking-layout-overlay-square-center")&&!s._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?t(i,r,n.left,n.top):e.hasClass("jqx-docking-layout-overlay-square-right")?t(i/2,r,n.left+i/2,n.top):e.hasClass("jqx-docking-layout-overlay-square-bottom")?t(i,r/2,n.left,n.top+r/2):o._touchDevice&&(s._dropOverlay.hide(),l=!1)}}function r(t){var i=s._dropToGroup.settings;if(t.find(".jqx-docking-layout-overlay-inner-square").hasClass("jqx-fill-state-disabled"))return void s._hideOverlays();if(t.hasClass("jqx-docking-layout-overlay-square-top"))s._dropHandler(0,"vertical","height","top");else if(t.hasClass("jqx-docking-layout-overlay-square-left"))s._dropHandler(0,"horizontal","width","left");else if(t.hasClass("jqx-docking-layout-overlay-square-center")){var r,n,a=s._getDraggedWindowInformation(),l=a.title,d=a.content;if("documentGroup"===i.type?(r=i.widget,n="documentPanel"):"tabbedGroup"===i.type&&(r="floatGroup"===i.parent.type?i.widget:i.widget.find(".jqx-ribbon"),n="layoutPanel"),"layoutGroup"===i.type)s._dropToEmptyLayoutGroup(a);else for(var h=0;h<l.length;h++){r.jqxRibbon({_suppressReorder:!0}),r.jqxRibbon("addAt",r.find(".jqx-ribbon-content-section").length,{title:l[h],content:d[h]},!0);var c=i.items.length,u={type:n,title:l[h],parent:i,index:c,detachedContent:a.content[h],docked:!0};i.items.push(u),o._addRightClickHandler(e(r.find(".jqx-ribbon-item")[c]),{current:u})}"floatGroup"===i.parent.type&&i.widget.jqxRibbon({_removeByDrag:!0}),s._clearTextSelection(),s._raiseEvent("1",{position:"center",item:i})}else t.hasClass("jqx-docking-layout-overlay-square-right")?s._dropHandler(1,"horizontal","width","right"):t.hasClass("jqx-docking-layout-overlay-square-bottom")&&s._dropHandler(1,"vertical","height","bottom");s._removeFloatGroupObject(s._draggedWindow.element.current),s._draggedWindow.element.remove(),s._hideOverlays()}var s=this,o=s.base,n=o.element.id;s._overlay=e('<div class="'+o.toThemeProperty("jqx-docking-layout-overlay")+'"></div>');var a=e('<div class="jqx-docking-layout-overlay-section"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+o.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+o.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+o.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+o.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+o.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+o.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+o.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>');s._overlay.append(a),s._overlayCenter=s._overlay.find(".jqx-docking-layout-overlay-square-center").children(),s._dropOverlay=e('<div class="'+s.toThemeProperty("jqx-docking-layout-drop-overlay")+'"></div>'),o._ie7?e("body").append(s._overlay,s._dropOverlay):o.host.append(s._overlay,s._dropOverlay),s._addOverlayHandlers(),s._squares=s._overlay.find(".jqx-docking-layout-overlay-square-top").add(s._overlay.find(".jqx-docking-layout-overlay-square-left")).add(s._overlay.find(".jqx-docking-layout-overlay-square-center")).add(s._overlay.find(".jqx-docking-layout-overlay-square-right")).add(s._overlay.find(".jqx-docking-layout-overlay-square-bottom")),s._sansCenter=s._squares.not(".jqx-docking-layout-overlay-square-center").find(".jqx-docking-layout-overlay-inner-square");var l=!1;o._touchDevice?(s.addHandler(e(document),"touchmove.jqxDockingLayout"+n,function(t){if(s._windowDragged){t.preventDefault();var r=t.originalEvent.touches[0],o=e(document.elementFromPoint(r.pageX,r.pageY));i(o)}}),s.addHandler(e(document),"touchend.jqxDockingLayout"+n,function(){l!==!1&&(r(l),l=!1)})):(s.addHandler(s._squares,"mouseenter.jqxDockingLayout"+n,function(){i(e(this))}),s.addHandler(s._squares,"mouseleave.jqxDockingLayout"+n,function(){s._dropOverlay.hide()}),s.addHandler(s._squares,"mouseup.jqxDockingLayout"+n,function(){r(e(this))}))},_addOverlayHandlers:function(){var t=this,i=t._overlay.width(),r=t._overlay.height();t.base._touchDevice?t.addHandler(e(document),"touchmove.jqxDockingLayout"+t.base.element.id,function(e){var s=e.originalEvent.touches[0];t._x=s.pageX,t._y=s.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(i,r),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",s.pageX-50,s.pageY-10))}):t.addHandler(e(document),"mousemove.jqxDockingLayout"+t.base.element.id,function(e){t._x=e.pageX,t._y=e.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(i,r),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))})},_checkPosition:function(e,t){for(var i=this,r=i.base,s=i._x,o=i._y,n=0;n<r._overlayGroups.length;n++){var a=r._overlayGroups[n];if(!a.self){var l=a.width,d=a.height,h=a.offset,c=h.left,u=h.top;if(s>=c&&c+l>=s&&o>=u&&u+d>=o){if(("documentGroup"===a.settings.type&&"documentGroup"===i._draggedWindow.fromGroup.type||"tabbedGroup"===a.settings.type&&("tabbedGroup"===i._draggedWindow.fromGroup.type||"autoHideGroup"===i._draggedWindow.fromGroup.type)||"layoutGroup"===a.settings.type)&&a.settings.allowDrop!==!1)i._overlayCenter.removeClass(r.toThemeProperty("jqx-fill-state-disabled"));else if(i._overlayCenter.addClass(r.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===a.settings.parent.type)return;return"floatGroup"===a.settings.parent.type?i._sansCenter.addClass(r.toThemeProperty("jqx-fill-state-disabled")):i._sansCenter.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),i._overlay[0].style.display="block",i._overlay.offset({left:parseInt(c+l/2-e/2,10),top:parseInt(u+d/2-t/2,10)}),void(i._dropToGroup=a)}}}i._overlay[0].style.display="none"},_dropHandler:function(t,i,r,s){var o,n,a=this,l=a.base,d=a._dropToGroup.settings,h=d.parent,c=a._getDraggedWindowInformation(),u=c.title,p=c.content,f=c.groupType,m=c.itemType,g=[];if(h.orientation===i){o=d.index+t,n={type:f,parent:h},n[r]=a._draggedWindow.element[r]();for(var v=0;v<u.length;v++)g.push({type:m,title:u[v],parent:n,prevent:!0,selected:a._getFloatGroupItemSelection(v),detachedContent:p[v],docked:!0});n.items=g,a._setOptimalDimension(r,n,d),h.items.splice(o,0,n)}else{var x,w;"width"===r?(x="height",w="minHeight"):(x="width",w="minWidth");var b={type:"layoutGroup",orientation:i,parent:d.parent,index:d.index};b[x]=d[x],d[w]&&(b[w]=d[w]),d.parent.items.splice(d.index,1),d.parent.items.splice(d.index,0,b),d.parent=b,n={type:f,parent:b};for(var y=0;y<u.length;y++)g.push({type:m,title:u[y],parent:n,prevent:!0,selected:a._getFloatGroupItemSelection(y),detachedContent:p[y],docked:!0});n.items=g,delete d[x],d[r]="50%",n[r]="50%",b.items=[d],b.items.splice(0+t,0,n)}l.render();for(var _=n.widget.find(".jqx-ribbon-content-section"),j=0;j<_.length;j++)e(_[j]).append(p[j]);a._clearTextSelection(),l._raiseEvent("1",{item:d}),a._raiseEvent("1",{position:s,item:n})},_setOptimalDimension:function(e,t,i){var r,s=this,o="width"===e?"minWidth":"minHeight",n=i[o]||s.base["minGroup"+e.charAt(0).toUpperCase()+e.slice(1)],a=i.parent.widget[e]();r=parseFloat(i[e])-n/a*100;var l=t[e]/a*100;if(l>r){t[e]=parseFloat(i[e])/2+"%",t[o]=parseInt(parseFloat(t[e])/100*a,10),i[e]=parseFloat(i[e])-parseFloat(t[e])+"%";var d=parseInt(parseFloat(i[e])/100*a,10);n>d&&(i[o]=d)}else t[e]=l+"%",i[e]=parseFloat(i[e])-l+"%"},_dropToEmptyLayoutGroup:function(t){var i=this,r=i._dropToGroup.settings,s=t.groupType,o={type:s,items:[],parent:r},n=t.content;"horizontal"===r.orientation?o.width="100%":"vertical"===r.orientation&&(o.height="100%");for(var a=0;a<t.title.length;a++){var l={type:t.itemType,title:t.title[a],parent:o,prevent:!0,selected:i._getFloatGroupItemSelection(a),detachedContent:n[a],docked:!0};o.items.push(l)}r.items.push(o),i.base.render();for(var d=o.widget.find(".jqx-ribbon-content-section"),h=0;h<d.length;h++)e(d[h]).append(n[h])},_getFloatGroupItemSelection:function(e){var t,i=this;return t=i._draggedWindow.fromPanel?!0:i._draggedWindow.element.current.items[0].items[e].selected},_createEdgeOverlays:function(){function t(t){var i,s="left"===t||"right"===t?"horizontal":"vertical",o='<div class="'+r.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+s)+'"><div class="'+r.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+s)+'"></div><div class="'+r.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+s)+'"></div></div>',n='<div class="'+r.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+s)+'"><div class="'+r.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+t)+'"></div></div>';i="left"===t||"top"===t?o+n:n+o;var a=e('<div class="'+r.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge")+'"><div class="'+r.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+i+"</div></div>");return a}var i=this,r=i.base;i._leftOverlay=t("left"),i._rightOverlay=t("right"),i._topOverlay=t("top"),i._bottomOverlay=t("bottom"),i._edgeOverlays=i._leftOverlay.add(i._rightOverlay).add(i._topOverlay).add(i._bottomOverlay),r._ie7?e("body").append(i._edgeOverlays):r.host.append(i._edgeOverlays),i._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function t(e,t,i,r){o._dropOverlay.show(),o._dropOverlay[0].style.width=e,o._dropOverlay[0].style.height=t,o._dropOverlay.offset({left:i,top:r})}function i(i){switch(s=n.host.offset(),i=e(i).closest(".jqx-docking-layout-overlay-square-edge")[0],l=i,i){case o._leftOverlay[0]:t("100px",n.host.height()+"px",s.left,s.top);break;case o._rightOverlay[0]:t("100px",n.host.height()+"px",s.left+n.host.width()-100,s.top);break;case o._topOverlay[0]:t(n.host.width()+"px","100px",s.left,s.top);break;case o._bottomOverlay[0]:t(n.host.width()+"px","100px",s.left,s.top+n.host.height()-100);break;default:n._touchDevice&&(l=!1)}}function r(e){switch(e){case o._leftOverlay[0]:o._dropToEdge("left",0,"horizontal","width");break;case o._rightOverlay[0]:o._dropToEdge("right",n.layout[0].items.length-1,"horizontal","width");break;case o._topOverlay[0]:o._dropToEdge("top",0,"vertical","height");break;case o._bottomOverlay[0]:o._dropToEdge("bottom",n.layout[0].items.length-1,"vertical","height")}}var s,o=this,n=o.base,a=n.element.id,l=!1;n._touchDevice?(o.addHandler(e(document),"touchmove.jqxDockingLayout"+a,function(t){if(o._windowDragged){t.preventDefault();var r=t.originalEvent.touches[0],s=e(document.elementFromPoint(r.pageX,r.pageY));i(s)}}),o.addHandler(e(document),"touchend.jqxDockingLayout"+a,function(){l!==!1&&(r(l),l=!1)})):(o.addHandler(o._edgeOverlays,"mouseenter.jqxDockingLayout"+a,function(){i(this)}),o.addHandler(o._edgeOverlays,"mouseleave.jqxDockingLayout"+a,function(){o._dropOverlay.hide()}),o.addHandler(o._edgeOverlays,"mouseup.jqxDockingLayout"+a,function(){r(this)}))},_dropToEdge:function(t,i,r,s){var o,n,a=this,l=a.base,d=l.layout[0],h=a._getDraggedWindowInformation(),c=h.title,u=h.content,p=h.groupType,f=h.itemType,m=[];if(a._removeFloatGroupObject(a._draggedWindow.element.current),d.orientation===r){o={type:p,parent:d},o[s]=a._draggedWindow.element[s]();for(var g=0;g<c.length;g++)m.push({type:f,title:c[g],parent:o,prevent:!0,selected:a._getFloatGroupItemSelection(g),detachedContent:u[g],docked:!0});o.items=m,n=d.items[i],a._setOptimalDimension(s,o,n),"left"===t||"top"===t?d.items.splice(i,0,o):d.items.push(o)}else{var v,x;"width"===s?(v="height",x="minHeight"):(v="width",x="minWidth");var w={type:"layoutGroup",orientation:r,parent:d.parent,index:d.index};o={type:p,parent:w};for(var b=0;b<c.length;b++)m.push({type:f,title:c[b],parent:o,prevent:!0,selected:a._getFloatGroupItemSelection(b),detachedContent:u[b],docked:!0});o.items=m,delete d[v],delete o[v],o[s]="50%",d[s]="50%",d.parent=w,"left"===t||"top"===t?w.items=[o,d]:w.items=[d,o],l.layout[0]=w,n=d}l.render();for(var y=o.widget.find(".jqx-ribbon-content-section"),_=0;_<y.length;_++)e(y[_]).append(u[_]);a._clearTextSelection(),l._raiseEvent("1",{item:n}),a._raiseEvent("1",{position:t+"-edge",item:o}),a._draggedWindow.element.remove(),a._hideOverlays()},_showEdgeOverlays:function(){function t(e){if(e.items&&0!==e.items.length){var i=e.orientation,r=e.items[0],s=e.items[e.items.length-1];"horizontal"===i?("autoHideGroup"===r.type?l=l&&!1:"layoutGroup"===r.type&&t(r),"autoHideGroup"===s.type?d=d&&!1:"layoutGroup"===s.type&&t(s)):"vertical"===i&&("autoHideGroup"===r.type?h=h&&!1:"layoutGroup"===r.type&&t(r),"autoHideGroup"===s.type?c=c&&!1:"layoutGroup"===s.type&&t(s))}}var i=this,r=i.base,s=r.host.width(),o=r.host.height(),n=r.host.offset(),a=e(),l=!0,d=!0,h=!0,c=!0;t(r.layout[0]),l&&(a=a.add(i._leftOverlay)),d&&(a=a.add(i._rightOverlay)),h&&(a=a.add(i._topOverlay)),c&&(a=a.add(i._bottomOverlay)),a.show(),i._leftOverlay.offset({left:n.left+5,top:n.top+o/2-20}),i._rightOverlay.offset({left:n.left+s-40,top:n.top+o/2-20}),i._topOverlay.offset({left:n.left+s/2-20,top:n.top+5}),i._bottomOverlay.offset({left:n.left+s/2-20,top:n.top+o-40})},_hideOverlays:function(){var e=this,t=e.base;e._windowDragged=!1,e._oldIE===!0&&clearInterval(e._oldIEInterval),t.resizable&&setTimeout(function(){e.base._overlay[0].style.display="none"},0),e._overlay.hide(),e._edgeOverlays.hide(),e._dropOverlay.hide()},_getDraggedWindowInformation:function(){var e,t,i=this,r=[],s=[];if(i._draggedWindow.fromPanel)r.push(i._draggedWindow.title),s.push(i._draggedWindow.element.find(".jqx-window-content").contents().detach());else for(var o=0;o<i._draggedWindow.element.current.items[0].items.length;o++){var n=i._draggedWindow.element.current.items[0].items[o];r.push(n.title),s.push(i._draggedWindow.element.find(".jqx-ribbon-content-section").eq(o).contents().detach())}return"documentGroup"===i._draggedWindow.fromGroup.type?(e="documentGroup",t="documentPanel"):(e="tabbedGroup",t="layoutPanel"),{title:r,content:s,groupType:e,itemType:t}},_removeFloatGroupObject:function(e){var t=this.base;e.removed=!0,t._updateLayout(t.layout)},_trackFloatGroups:function(){for(var e=this,t=e.base,i=1;i<t.layout.length;i++){var r=t.layout[i];if("tabbedGroup"===r.items[0].type){var s=r.items[0].widget,o={element:s,width:s.width(),height:s.height(),offset:s.offset(),settings:r.items[0]};r._overlayGroup=o,t._overlayGroups.push(o)}}},_updateOverlayGroup:function(e){if(e){var t=e.element;e.width=t.width(),e.height=t.height(),e.offset=t.offset(),e.self=!1}},_updateOverlayGroups:function(){for(var e=this.base._overlayGroups,t=e.length-1;t>=0;t--){var i=e[t];i.removed===!0&&e.splice(t,1)}},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(e){}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxResponsivePanel","",{}),e.extend(e.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var t={width:null,height:null,collapseBreakpoint:1e3,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:!0,initContent:null,_collapsed:!1,_opened:!1,_init:!1,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,events:["collapse","expand","open","close"]};e.extend(!0,this,t)},createInstance:function(){var e=this;e.initContent&&e._init===!1&&(e.initContent(),e._init=!0),e._render(!0)},_render:function(t){var i=this;if(t===!0&&i.toggleButton){if(i._toggleButton=e(i.toggleButton),0===i._toggleButton.length)throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+i.toggleButton+'".');var r=e('<div class="'+i.toThemeProperty("jqx-menu-minimized-button")+" "+i.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');i._toggleButton.append(r)}i._setSize(),i._addClasses(),t===!1&&i._removeHandlers(),i._addHandlers(),i._checkWindowSize()},render:function(){this._render(!1)},refresh:function(e){e!==!0&&this._checkWindowSize()},destroy:function(e){var t=this;t._removeHandlers(),t.host.remove(),e!==!0&&t.toggleButton&&t._toggleButton.remove()},propertyChangedHandler:function(e,t,i,r){if(r!==i&&"toggleButton"!==t&&"initContent"!==t)switch(t){case"width":case"height":e.host.css(t,r);break;case"collapseBreakpoint":e._checkWindowSize();break;case"toggleButtonSize":e.toggleButton&&e._toggleButton.css({width:r,height:r});break;default:e.render()}},open:function(){function e(){t.host.show(),t._opened=!0,t._raiseEvent("2"),t.initContent&&t._init===!1&&(t.initContent(),t._init=!0)}var t=this;if(t._collapsed===!0&&t._opened===!1){if(t._ie7===!0)return void e();switch(t.animationType){case"fade":t.host.fadeIn(t.animationShowDelay,function(){t._raiseEvent("2"),t._opened=!0,t.initContent&&t._init===!1&&(t.initContent(),t._init=!0)});break;case"slide":var i=t.animationDirection;"top"===i?i="up":"bottom"===i&&(i="down"),t._slide(t.host,{mode:"show",direction:i,duration:t.animationShowDelay});break;case"none":e()}}},close:function(){var e=this;if(e._collapsed===!0&&e._opened===!0){if(e._ie7===!0)return e.host.hide(),e._opened=!1,void e._raiseEvent("3");switch(e.animationType){case"fade":e.host.fadeOut(e.animationHideDelay,function(){e._opened=!1,e._raiseEvent("3")});break;case"slide":var t=e.animationDirection;"top"===t?t="up":"bottom"===t&&(t="down"),e._slide(e.host,{mode:"hide",direction:t,duration:e.animationHideDelay});break;case"none":e.host.hide(),e._opened=!1,e._raiseEvent("3")}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var o=this.host.trigger(s);return o},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height),e.toggleButton&&e._toggleButton.css({width:e.toggleButtonSize,height:e.toggleButtonSize})},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-responsive-panel")),e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-widget-content")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.toggleButton&&(e._toggleButton.addClass(e.toThemeProperty("jqx-responsive-panel-button")),e._toggleButton.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._toggleButton.addClass(e.toThemeProperty("jqx-rc-all")))},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(t.host,"click.jqxResponsivePanel"+i,function(e){e.stopPropagation()}),t.addHandler(e(document),"click.jqxResponsivePanel"+i,function(){t._collapsed===!0&&t.autoClose===!0&&t.close()}),t.addHandler(e(window),"resize.jqxResponsivePanel"+i,function(){setTimeout(function(){t._checkWindowSize()},0)}),t.toggleButton&&(t.addHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+i,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+i,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),
t.addHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+i,function(){t._toggleButton.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(e(document),"mouseup.jqxResponsivePanel"+i,function(){t._toggleButton.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._toggleButton,"click.jqxResponsivePanel"+i,function(e){e.stopPropagation(),t._opened===!0?t.close():t.open()}))},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(t.host,"click.jqxResponsivePanel"+i),t.removeHandler(e(document),"click.jqxResponsivePanel"+i),t.removeHandler(e(window),"resize.jqxResponsivePanel"+i),t.toggleButton&&(t.removeHandler(t._toggleButton,"mouseenter.jqxResponsivePanel"+i),t.removeHandler(t._toggleButton,"mouseleave.jqxResponsivePanel"+i),t.removeHandler(t._toggleButton,"mousedown.jqxResponsivePanel"+i),t.removeHandler(e(document),"mouseup.jqxResponsivePanel"+i),t.removeHandler(t._toggleButton,"click.jqxResponsivePanel"+i))},_checkWindowSize:function(){var e=this,t=this.host.parent().width();e._collapsed===!1&&t<=e.collapseBreakpoint?(e.toggleButton&&e._toggleButton.show(),e._opened===!1&&e.host.hide(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e._collapsed=!0,e._raiseEvent("0"),e.collapseWidth&&e.host.width(e.collapseWidth),e.host.trigger("resize")):e._collapsed===!0&&t>e.collapseBreakpoint&&(e.collapseWidth&&e.host.width(e.width),e.toggleButton&&e._toggleButton.hide(),e._opened===!1&&e.host.show(),e.host.removeClass(e.toThemeProperty("jqx-responsive-panel-collapsed")),e.host.addClass(e.toThemeProperty("jqx-responsive-panel-expanded")),e._collapsed=!1,e._raiseEvent("1"),e.initContent&&e._init===!1&&(e.initContent(),e._init=!0),e.host.trigger("resize"))},_slide:function(t,i){var r=this;if(r.activeAnimations||(r.activeAnimations=[]),r.activeAnimations.length>0)for(var s=0;s<r.activeAnimations.length;s++)r.activeAnimations[s].clearQueue(),r.activeAnimations[s].finish();else t.clearQueue(),t.finish();var o,n="ui-effects-",a={save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,t){var i,r;for(r=0;r<t.length;r++)null!==t[r]&&(i=e.data(n+t[r]),void 0===i&&(i=""),e.css(t[r],i))},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(n){o=document.body}return t.wrap(r),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),r.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t}},l=["position","top","bottom","left","right","width","height"],d=i.mode,h="show"===d,c=i.direction||"left",u="up"===c||"down"===c?"top":"left",p="up"===c||"left"===c,f={};a.save(t,l),t.show(),o=i.distance||t["top"===u?"outerHeight":"outerWidth"](!0),a.createWrapper(t).css({overflow:"hidden"}),h&&t.css(u,p?isNaN(o)?"-"+o:-o:o),f[u]=(h?p?"+=":"-=":p?"-=":"+=")+o;var m=function(){t.clearQueue(),t.stop(!0,!0)};return r.activeAnimations.push(t),t.animate(f,{duration:i.duration,easing:i.easing,complete:function(){r.activeAnimations.pop(t),"show"===d?(r._opened=!0,r._raiseEvent("2"),r.initContent&&r._init===!1&&(r.initContent(),r._init=!0)):"hide"===d&&(t.hide(),r._opened=!1,r._raiseEvent("3")),a.restore(t,l),a.removeWrapper(t)}}),m}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTagCloud","",{}),e.extend(e.jqx._jqxTagCloud.prototype,{defineInstance:function(){var t={width:null,height:null,source:null,disabled:!1,rtl:!1,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:!0,takeTopWeightedItems:!1,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:!1,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};return e.extend(!0,this,t),t},createInstance:function(){var e=this;e.render(),e.dataBind(e.source,!0)},dataBind:function(t,i){var r=this;r.records=[];var s,o=!!t._source;o?(s=t,t=t._source):(t.datafields=[{name:r.displayMember},{name:r.valueMember},{name:r.urlMember}],s=new e.jqx.dataAdapter(t,{autoBind:!0}));var n=function(){void 0!==t.type&&(s._options.type=t.type),void 0!==t.formatdata&&(s._options.formatData=t.formatdata),void 0!==t.contenttype&&(s._options.contentType=t.contenttype),void 0!==t.async&&(s._options.async=t.async)},a=function(e){e._setSourceData(s),e._raiseEvent(1,{records:e.records}),e._renderTags()};switch(n(this),t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(s.unbindBindingUpdate(r.element.id),(r.autoBind||!r.autoBind&&!i)&&s.dataBind(),a(r),s.bindBindingUpdate(r.element.id,function(e){a(r,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(r.element.id),(r.autoBind||!r.autoBind&&!i)&&s.dataBind(),a(r),void s.bindBindingUpdate(r.element.id,function(){a(r)});var l={};s._options.data?e.extend(s._options.data,l):(t.data&&e.extend(l,t.data),s._options.data=l);var d=function(){a(r)};s.unbindDownloadComplete(r.element.id),s.bindDownloadComplete(r.element.id,d),(r.autoBind||!r.autoBind&&!i)&&s.dataBind()}r._raiseEvent(2,{records:r.records})},destroy:function(){var e=this;e.removeHandler(e._el,"keydown"),e.removeHandler(e._el,"click"),e.host.empty(),e.host.remove()},findTagIndex:function(e){for(var t=this,i=0;i<t.records.length;i++)if(t.records[i][t.displayMember]===e)return t.records[i].index;return-1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(e,t){var i=this;if(t.index=e,void 0===t[this.displayMember])throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter");var r=void 0!==t[i.valueMember]?parseFloat(t[i.valueMember]):0;if(t[i.valueMember]=isNaN(r)?0:r,i.source.insertTag&&"function"==typeof i.source.insertTag)i.source.insertTag(e,t,function(r){if(r){i.records.splice(e,0,t);for(var s=e+1;s<i.records.length;s++)i.records[s].index+=1;for(s=0;s<i.hiddenList.length;s++)i.hiddenList[s]>=e&&i.hiddenList[s]++;i._renderTags()}});else{i.records.splice(e,0,t);for(var s=e+1;s<i.records.length;s++)i.records[s].index+=1;for(s=0;s<i.hiddenList.length;s++)i.hiddenList[s]>=e&&i.hiddenList[s]++;i._renderTags()}},updateAt:function(t,i){var r=this;if(void 0===i[this.displayMember])throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter");i.index=t,i.uid=r.records[t].uid,r.source.updateTag&&"function"==typeof r.source.updateTag?r.source.updateTag(t,i,function(s){s&&(e.each(i,function(e,i){r.records[t][e]=i}),r._renderTags())}):(e.each(i,function(e,i){r.records[t][e]=i}),r._renderTags())},removeAt:function(e){var t=this;if(t.source.deleteTag&&"function"==typeof t.source.deleteTag)t.source.deleteTag(e,function(i){if(i){t.records.splice(e,1);for(var r=e;r<t.records.length;r++)t.records[r].index-=1;for(r=0;r<t.hiddenList.length;r++)t.hiddenList[r]>e?t.hiddenList[r]--:t.hiddenList[r]===e&&t.hiddentList.splice(e,1)}});else{t.records.splice(e,1);for(var i=e;i<t.records.length;i++)t.records[i].index-=1;for(i=0;i<t.hiddenList.length;i++)t.hiddenList[i]>e?t.hiddenList[i]--:t.hiddenList[i]===e&&t.hiddentList.splice(e,1)}t._renderTags()},hideItem:function(t){var i=this;if("number"==typeof t&&-1===i.hiddenList.indexOf(t)){i.hiddenList.push(t);for(var r=-1,s=0;s<i.renderedData.length;s++)i.renderedData[s].index===t&&(r=s);-1!==r&&(e(i._el).find("li")[r].style.display="none")}},showItem:function(t){var i=this;if(-1!==i.hiddenList.indexOf(t)){for(var r=-1,s=0;s<i.renderedData.length;s++)i.renderedData[s].index===t&&(r=s);-1!==r&&(e(i._el).find("li")[r].style.display=""),i.hiddenList.splice(i.hiddenList.indexOf(t),1)}},render:function(){var t=this;t._updateSize(),t.renderedData=[],t._el=e("<ul>"),t.host.addClass(t.toThemeProperty("jqx-widget jqx-tag-cloud")),t._setRtl(),t.host.append(t._el),t.focusedItem=null,t.minColor=t._parseColor(t.minColor),t.maxColor=t._parseColor(t.maxColor),t.displayLimit=parseInt(t.displayLimit),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.addHandler(t._el,"click",function(i){e(document.activeElement).parents("#"+t._el[0].parentElement.id).length||(null!=t.focusedItem?e(t.focusedItem).focus():(e(t._el).find("a")[0].focus(),t.focusedItem=document.activeElement)),t.disabled&&i.preventDefault(),"a"===i.target.tagName.toLowerCase()&&(i.target.focus(),t.focusedItem=document.activeElement),"li"===i.target.tagName.toLowerCase()&&(e(i.target).find("a").focus(),t.focusedItem=document.activeElement);var r=e(i.target).closest("li").index();-1!==r&&t._raiseEvent(0,{label:t.renderedData[r][t.displayMember],url:t.renderedData[r][t.urlMember],value:t.renderedData[r][t.valueMember],visibleIndex:r,index:t.renderedData[r].index,target:e(i.target).closest("li")[0],originalEvent:i})}),t._addKeyboardSupport()},resize:function(e,t){var i=this;i.width=e,i.height=t,i._updateSize()},propertyChangedHandler:function(e,t,i,r){var s=this;return"source"===t&&s.dataBind(e.source),"displayLimit"===t&&(s[t]=parseInt(r)),"minColor"!==t&&"maxColor"!==t||(s[t]=s._parseColor(r)),"rtl"===t?void s._setRtl():"width"===t||"height"===t?void s._updateSize():"textColor"!==t||s.minColor&&s.maxColor?void s._renderTags():void s._updateColor()},_alterCase:function(e){function t(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}var i=this;if("none"!==i.alterTextCase)switch(i.alterTextCase){case"allLower":for(var r=0;r<e.length;r++)e[r][i.displayMember]=e[r][i.displayMember].toString().toLowerCase();break;case"allUpper":for(r=0;r<e.length;r++)e[r][i.displayMember]=e[r][i.displayMember].toString().toUpperCase();break;case"firstUpper":for(r=0;r<e.length;r++)e[r][i.displayMember]=e[r][i.displayMember].toString().toLowerCase(),e[r][i.displayMember]=e[r][i.displayMember].substr(0,1).toUpperCase()+e[r][i.displayMember].substr(1);break;case"titleCase":for(r=0;r<e.length;r++)e[r][i.displayMember]=t(e[r][i.displayMember].toString());break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}return e},_addKeyboardSupport:function(){var t=this;t.addHandler(t._el,"keydown",function(i){39==i.keyCode&&(e("a:focus").closest("li").next().find("a").focus(),t.focusedItem=document.activeElement),37==i.keyCode&&(e("a:focus").closest("li").prev().find("a").focus(),t.focusedItem=document.activeElement)})},_renderTags:function(){var t=this,i=t.records.slice();if(e.each(t.records,function(e,i){if(void 0===i[t.displayMember])throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}),i=t._filter(i),i=t._sort(i),i=t._alterCase(i),t._el.empty(),0!==i.length){for(var r=t._getMaxValue(i),s=t._getMinValue(i),o=r-s,n=0;n<i.length;n++){var a=t._prepareTag(i[n],s,o);t._el.append(a),-1!=t.hiddenList.indexOf(i[n].index)&&(a[0].style.display="none")}t.renderedData=i,t.focusedItem=null}},_prepareTag:function(t,i,r){var s=this;r||(r=1);var o=e("<li>"),n="";n=null!==s.tagRenderer&&"function"==typeof s.tagRenderer?s.tagRenderer.apply(s,arguments):t[s.displayMember]+(s.displayValue?"("+t[s.valueMember]+")":""),n=e('<a rel="tag">').append(n);var a="javascript:void(0)";void 0!==t[s.urlMember]&&(a=(null!=s.urlBase?s.urlBase:"")+t[s.urlMember]),n.attr("href",a),o.append(n),o.addClass(s.toThemeProperty("jqx-tag-cloud-item"));var l=+s.minFontSize+(s.maxFontSize-s.minFontSize)*((t[s.valueMember]-i)/r);if(o[0].style.fontSize=l+s.fontSizeUnit,s.minColor&&s.maxColor){var d=s.minColor.split("(")[1].split(")")[0];d=d.split(",");var h=parseInt(d[0]),c=parseInt(d[1]),u=parseInt(d[2]),p=parseFloat(d[3]);d=s.maxColor.split("(")[1].split(")")[0],d=d.split(",");var f=parseInt(d[0]),m=parseInt(d[1]),g=parseInt(d[2]),v=parseFloat(d[3]);h+=Math.floor((t[s.valueMember]-i)/r*(f-h)),c+=Math.floor((t[s.valueMember]-i)/r*(m-c)),u+=Math.floor((t[s.valueMember]-i)/r*(g-u)),p+=(t[s.valueMember]-i)/r*(v-p),o[0].style.color="rgba("+h+","+c+","+u+","+p+")",o.find("a")[0].style.color="inherit"}else null!==s.textColor&&(o[0].style.color=s.textColor,o.find("a")[0].style.color="inherit");return o},_parseColor:function(t){function i(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"undefined"!=typeof t[e.toLowerCase()]?t[e.toLowerCase()]:!1}var r=e("<span>").css("color",t);t=r.css("color");var s,o,n;if("rgba"===t.substr(0,4))return t;if("rgb"===t.substr(0,3)){var a=t.split("(")[1].split(")")[0];return a=a.split(","),s=parseInt(a[0]),o=parseInt(a[1]),n=parseInt(a[2]),"rgba("+s+","+o+","+n+",1)"}return"#"===t.substr(0,1)&&7===t.length?(s=parseInt(t.substr(1,2),16),o=parseInt(t.substr(3,2),16),n=parseInt(t.substr(5,2),16),"rgba("+s+","+o+","+n+",1)"):"#"===t.substr(0,1)&&4===t.length?(s=parseInt(t.substr(1,1)+t.substr(1,1),16),o=parseInt(t.substr(2,1)+t.substr(2,1),16),n=parseInt(t.substr(3,1)+t.substr(3,1),16),"rgba("+s+","+o+","+n+",1)"):(t=i(t))?(s=parseInt(t.substr(1,2),16),o=parseInt(t.substr(3,2),16),n=parseInt(t.substr(5,2),16),"rgba("+s+","+o+","+n+",1)"):t},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(t,i){var r=this._events[t],s=e.Event(r);return s.args=i,this.host.trigger(s)},_filter:function(e){var t=this;if(0!=t.minValueToDisplay)for(var i=0;i<e.length;)e[i][t.valueMember]<t.minValueToDisplay?e.splice(i,1):i++;if(0!=t.maxValueToDisplay)for(var i=0;i<e.length;)e[i][t.valueMember]>t.maxValueToDisplay?e.splice(i,1):i++;return null==t.displayLimit||isNaN(t.displayLimit)||(t.takeTopWeightedItems===!0?(e.sort(function(e,i){return e[t.valueMember]<i[t.valueMember]?1:e[t.valueMember]>i[t.valueMember]?-1:0}),e=e.slice(0,t.displayLimit),e.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})):e=e.slice(0,t.displayLimit)),e},_sort:function(e){var t=this;if("none"!==t.sortBy){if("label"===t.sortBy)e.sort(function(e,i){return e[t.displayMember]<i[t.displayMember]?-1:e[t.displayMember]>i[t.displayMember]?1:0});else{if("value"!==t.sortBy)throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'");e.sort(function(e,i){return e[t.valueMember]<i[t.valueMember]?-1:e[t.valueMember]>i[t.valueMember]?1:0})}if("ascending"===t.sortOrder)return e;if("descending"===t.sortOrder)return e.reverse();throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")}return e},_getMaxValue:function(e){for(var t=this,i=e[0][t.valueMember],r=0;r<e.length;r++)i<e[r][t.valueMember]&&(i=e[r][t.valueMember]);return i},_getMinValue:function(e){for(var t=this,i=e[0][t.valueMember],r=0;r<e.length;r++)i>e[r][t.valueMember]&&(i=e[r][t.valueMember]);return i},_setSourceData:function(e){var t=this;t.records=e.records;for(var i=0;i<t.records.length;i++){var r=void 0!==t.records[i][t.valueMember]?parseFloat(t.records[i][t.valueMember]):0;t.records[i][t.valueMember]=isNaN(r)?0:r,t.records[i].index=i}t.hiddenList=[]},_updateColor:function(){var t=this;t.textColor&&e(t._el).find("li").css("color",t.textColor)},_updateSize:function(){var e=this;e.width&&e.host.width(e.width),e.height&&e.host.height(e.height)},_setRtl:function(){var e=this;e.rtl?e.host.addClass(e.toThemeProperty("jqx-rtl")):e.host.removeClass(e.toThemeProperty("jqx-rtl"))}})}(jqxBaseFramework),function(e){e.jqx.timeSpan=function(){var t={ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0};e.extend(!0,this,t);var i=this;if(i.ticks=function(){return i._ticks},i.days=function(){return parseInt(i._ticks/i.ticksPerDay)},i.timeToMS=function(e,t,r,s){var o=3600*e+60*t+r+s/1e3;return parseInt(o*i.ticksPerSecond)},i.hours=function(){return parseInt(i._ticks/i.ticksPerHour)%24},i.milliseconds=function(){return parseInt(i._ticks/i.ticksPerMillisecond)%1e3},i.minutes=function(){return parseInt(i._ticks/i.ticksPerMinute)%60},i.seconds=function(){return parseInt(i._ticks/i.ticksPerSecond)%60},i.totalDays=function(){return parseInt(i._ticks*i.daysPerTick)},i.totalHours=function(){return parseInt(i._ticks*i.hoursPerTick)},i.totalMilliseconds=function(){var e=i._ticks*i.millisecondsPerTick;return parseInt(e)},i.totalMinutes=function(){return parseInt(i._ticks*i.minutesPerTick)},i.totalSeconds=function(){return parseInt(i._ticks*i.secondsPerTick)},1===arguments.length)i._ticks=arguments[0];else if(3===arguments.length)i._ticks=i.timeToMS(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],n=arguments[3],a=0,l=1e3*(3600*r*24+3600*s+60*o+n)+a;i._ticks=l*i.ticksPerMillisecond}else if(5===arguments.length){var r=arguments[0],s=arguments[1],o=arguments[2],n=arguments[3],a=arguments[4],l=1e3*(3600*r*24+3600*s+60*o+n)+a;i._ticks=l*i.ticksPerMillisecond}return i.add=function(t){var r=i._ticks+t._ticks,s=new e.jqx.timeSpan(r);return s},i.substract=function(t){var i=_ticks-t._ticks;return new e.jqx.timeSpan(i)},i.duration=function(){return i._ticks>=0?new e.jqx.timeSpan(i._ticks):new e.jqx.timeSpan(-i._ticks)},i.equals=function(e){return i._ticks==e._ticks},i.valueOf=function(){return i._ticks},i.compare=function(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0},i.interval=function(t,r){var s=t*r,o=s+(t>=0?.5:-.5);return new e.jqx.timeSpan(o*i.ticksPerMillisecond)},i.fromDays=function(e){return i.interval(e,i.millisPerDay)},i.fromHours=function(e){return i.interval(e,i.millisPerHour)},i.fromMilliseconds=function(e){return i.interval(e,1)},i.fromMinutes=function(e){return i.interval(e,i.millisPerMinute)},i.fromSeconds=function(e){return i.interval(e,i.millisPerSecond)},i.fromTicks=function(t){return new e.jqx.timeSpan(t)},i};var t=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1
},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],i=[0,31,59,90,120,151,181,212,243,273,304,334,365],r=[0,31,60,91,121,152,182,213,244,274,305,335,366],s=1461,o=36524,n=146097,a=584388,l=693593,d=3652059,h=3155378976e9,c=3155378976e5;e.jqx.date=function(){var u=this;if(u.ticksPerMillisecond=1e4,u.millisecondsPerTick=1e-4,u.ticksPerSecond=1e7,u.secondsPerTick=1e-7,u.ticksPerMinute=6e8,u.minutesPerTick=1/6e8,u.ticksPerHour=36e9,u.hoursPerTick=1/36e9,u.ticksPerDay=864e9,u.daysPerTick=1/864e9,u.millisPerSecond=1e3,u.millisPerMinute=6e4,u.millisPerHour=36e5,u.millisPerDay=864e5,u.daysPerYear=365,u.daysPer4Years=s,u.daysPer100Years=o,u.daysPer400Years=n,u.daysTo1601=a,u.daysTo1899=l,u.daysTo10000=d,u.minTicks=0,u.maxTicks=h,u.maxMillis=c,u.datePartYear=0,u.datePartDayOfYear=1,u.datePartMonth=2,u.datePartDay=3,u.daysToMonth365=i,u.daysToMonth366=r,u.minValue=new Date(0),u.maxValue=new Date(3155378976e9),u.ticksMask=0x4000000000000000,u.flagsMask=0xc000000000000000,u.localMask=0x8000000000000000,u.ticksCeiling=0x4000000000000000,u.kindUnspecified=0,u.kindUtc=0x4000000000000000,u.kindLocal=0x8000000000000000,u.kindLocalAmbiguousDst=0xc000000000000000,u.kindShift=62,u.regexTrim=/^\s+|\s+$/g,u.regexInfinity=/^[+-]?infinity$/i,u.regexHex=/^0x[a-f0-9]+$/i,u.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,u.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},u.dateData=0,u.timeZone=null,u.timeZones=t,u.internalMS=function(){return u.dateData},u.getDatePart=function(e){var t=u.internalMS(),i=parseInt(t/u.millisPerDay),r=parseInt(i/u.daysPer400Years);i-=r*u.daysPer400Years;var s=parseInt(i/u.daysPer100Years);4==s&&(s=3),i-=s*u.daysPer100Years;var o=parseInt(i/u.daysPer4Years);i-=o*u.daysPer4Years;var n=parseInt(i/u.daysPerYear);if(4==n&&(n=3),e==u.datePartYear)return parseInt(400*r+100*s+4*o+n+1);if(i-=n*u.daysPerYear,e==u.datePartDayOfYear)return parseInt(i+1);for(var a=3==n&&(24!=o||3==s),l=a?u.daysToMonth366:u.daysToMonth365,d=i>>6;i>=l[d];)d++;return e==u.datePartMonth?parseInt(d):parseInt(i-l[d-1]+1)},u.dayOfWeek=function(){var e=u.dateData,t=parseInt(e/u.millisPerDay+1)%7;return t},u.dayOfYear=function(){return u.getDatePart(u.datePartDayOfYear)},u.weekOfYear=function(e){var t=u.toDate(),i=e||u.calendar.firstDay,r=new Date(t.getFullYear(),0,1),s=r.getDay()-i;s=s>=0?s:s+7;var o,n=Math.floor((t.getTime()-r.getTime()-6e4*(t.getTimezoneOffset()-r.getTimezoneOffset()))/864e5)+1;return 4>s?(o=Math.floor((n+s-1)/7)+1,o>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-i,nday=nday>=0?nday:nday+7,o=nday<4?1:53)):o=Math.floor((n+s-1)/7),o},u.subtract=function(t){return new e.jqx.timeSpan(u.dateData*u.ticksPerMillisecond-t.dateData*u.ticksPerMillisecond)},u.dateToMS=function(e,t,i){if(e>=1&&9999>=e&&t>=1&&12>=t){e=parseInt(e);var r=u.isLeapYear(e)?u.daysToMonth366:u.daysToMonth365;if(i>=1&&i<=r[t]-r[t-1]){var s=e-1,o=365*s+parseInt(s/4)-parseInt(s/100)+parseInt(s/400)+r[t-1]+i-1;return o*u.millisPerDay}}},u.isLeapYear=function(e){if(1>e||e>9999)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)},u.timeToMS=function(e,t,i,r){if(e>=0&&24>e&&t>=0&&60>t&&i>=0&&60>i){var s=parseInt(3600*e+60*t+i);return r>0&&1e3>r?s*u.millisPerSecond+r:s*u.millisPerSecond}},u.daysInMonth=function(e,t){if(1>t||t>12)throw new Error("Month out of Range");var i=u.isLeapYear(e)?u.daysToMonth366:u.daysToMonth365;return i[t]-i[t-1]},u.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},u.startsWith=function(e,t){return 0===e.indexOf(t)},u.endsWith=function(e,t){return e.substr(e.length-t.length)===t},u.trim=function(e){return(e+"").replace(u.regexTrim,"")},u.expandFormat=function(e,t){t=t||"F";var i,r=e.patterns,s=t.length;if(1===s){if(i=r[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===s&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},u.getEra=function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,r=e.getTime(),s=0,o=t.length;o>s;s++)if(i=t[s].start,null===i||r>=i)return s;return 0},u.toUpper=function(e){return e.split("").join(" ").toUpperCase()},u.toUpperArray=function(e){for(var t=[],i=0,r=e.length;r>i;i++)t[i]=u.toUpper(e[i]);return t},u.getEraYear=function(e,t,i,r){var s=e.getFullYear();return!r&&t.eras&&(s-=t.eras[i].offset),s},u.getDayIndex=function(e,t,i){var r,s=e.days,o=e._upperDays;return o||(e._upperDays=o=[u.toUpperArray(s.names),u.toUpperArray(s.namesAbbr),u.toUpperArray(s.namesShort)]),t=t.toUpperCase(),i?(r=u.arrayIndexOf(o[1],t),-1===r&&(r=u.arrayIndexOf(o[2],t))):r=u.arrayIndexOf(o[0],t),r},u.getMonthIndex=function(e,t,i){var r=e.months,s=e.monthsGenitive||e.months,o=e._upperMonths,n=e._upperMonthsGen;o||(e._upperMonths=o=[u.toUpperArray(r.names),u.toUpperArray(r.namesAbbr)],e._upperMonthsGen=n=[u.toUpperArray(s.names),u.toUpperArray(s.namesAbbr)]),t=u.toUpper(t);var a=u.arrayIndexOf(i?o[1]:o[0],t);return 0>a&&(a=u.arrayIndexOf(i?n[1]:n[0],t)),a},u.appendPreOrPostMatch=function(e,t){for(var i=0,r=!1,s=0,o=e.length;o>s;s++){var n=e.charAt(s);switch(n){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(n),r=!1}}return i},u.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},u.tryparseDate=function(t,i,r){if(void 0==i||null==i)i=u.calendar;else if(null!=i&&i&&"string"===e.type(i)&&Globalize){var s=Globalize.cultures[i];s&&(i=s.calendar)}if(void 0!=r){if("array"===e.type(r))for(var o=0;o<r.length;o++){var n=u.parseDate(t,r[o],i);if(n)return n}var n=u.parseDate(t,r,i);if(n)return n}if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var a=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,l=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==l){var d=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),l=null;d&&(l=new Date(1*d[1]+36e5*d[2]+6e4*d[3]))}if(null==l||"Invalid Date"==l||isNaN(l)){var h=a.exec(t);if(h){var c=new Date(parseInt(h[1]));if(h[2]){var p=parseInt(h[3]);"-"===h[2]&&(p=-p);var f=c.getUTCMinutes();c.setUTCMinutes(f-p)}if(!isNaN(c.valueOf()))return c}}return l}var m={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var g in m)if(l=u.parseDate(t,m[g],i))return l;var v=i.patterns;for(g in v)if(l=u.parseDate(t,v[g],i)){if("ISO"==g){var x=u.parseDate(t,v.ISO2,i);if(x)return x}return l}if("string"===e.type(t)){t=u.trim(t);var w=[":","/","-"," ",","],b=function(e,t,i){return i.replace(new RegExp(e,"g"),t)};t=b(", ",",",t);var y="",_=t;t.indexOf(":")>=0?(y=t.substring(t.indexOf(":")-2),y=u.trim(y),_=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(y=t.substring(t.toUpperCase().indexOf("AM")-2),y=u.trim(y),_=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(y=t.substring(t.toUpperCase().indexOf("PM")-2),y=u.trim(y),_=t.substring(0,t.toUpperCase().indexOf("PM")-2));var j=new Date,q=!1;if(_){for(var o=0;o<w.length;o++)if(_.indexOf(w[o])>=0){W=_.split(w[o]);break}for(var T=new Array,C=new Array,k=new Array,S=null,D=null,o=0;o<W.length;o++){var I=W[o],P=u.parseDate(I,"d",i)||u.parseDate(I,"dd",i)||u.parseDate(I,"ddd",i)||u.parseDate(I,"dddd",i);if(P&&(T.push(P.getDate()),I.length>2)){S=o;break}}for(var o=0;o<W.length;o++){var I=W[o],A=u.parseDate(I,"M",i)||u.parseDate(I,"MM",i)||u.parseDate(I,"MMM",i)||u.parseDate(I,"MMMM",i);if(A){if(void 0!=S&&S==o)continue;if(C.push(A.getMonth()),I.length>2){D=o;break}}}for(var o=0;o<W.length;o++){var I=W[o],B=u.parseDate(I,"yyyy",i);if(B){if(void 0!=S&&S==o)continue;if(void 0!=D&&D==o)continue;k.push(B.getFullYear())}}for(var M=new Array,H=0;H<T.length;H++)for(var d=0;d<C.length;d++)for(var z=0;z<k.length;z++){var c=new Date(k[z],C[d],T[H]);k[z]<1970&&c.setFullYear(k[z]),NaN!=c.getTime()&&M.push(c)}M.length>0&&(j=M[0],q=!0)}if(y){var E=y.indexOf(":")>=0?y.split(":"):y,O=u.parseDate(y,"h:mm tt",i)||u.parseDate(y,"HH:mm:ss.fff",i)||u.parseDate(y,"HH:mm:ss.ff",i)||u.parseDate(y,"h:mm:ss tt",i)||u.parseDate(y,"HH:mm:ss.tttt",i)||u.parseDate(y,"HH:mm:ss",i)||u.parseDate(y,"HH:mm",i)||u.parseDate(y,"HH",i),L=0,N=0,F=0,R=0;O&&NaN!=O.getTime()?(L=O.getHours(),N=O.getMinutes(),F=O.getSeconds(),R=O.getMilliseconds()):(1==E.length&&(L=parseInt(E[0])),2==E.length&&(L=parseInt(E[0]),N=parseInt(E[1])),3==E.length&&(L=parseInt(E[0]),N=parseInt(E[1]),E[2].indexOf(".")>=0?(F=parseInt(E[2].toString().split(".")[0]),R=parseInt(E[2].toString().split(".")[1])):F=parseInt(E[2])),4==E.length&&(L=parseInt(E[0]),N=parseInt(E[1]),F=parseInt(E[2]),R=parseInt(E[3]))),!j||isNaN(L)||isNaN(N)||isNaN(F)||isNaN(R)||(j.setHours(L,N,F,R),q=!0)}if(q)return j}if(null!=t){for(var x=null,W=[":","/","-"],V=!0,I=0;I<W.length;I++)-1!=t.indexOf(W[I])&&(V=!1);if(V){var G=new Number(t);if(!isNaN(G))return new Date(G)}}return null},u.getParseRegExp=function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var s,o=u.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),n=["^"],a=[],l=0,d=0,h=u.getTokenRegExp();null!==(s=h.exec(o));){var c=o.slice(l,s.index);if(l=h.lastIndex,d+=u.appendPreOrPostMatch(c,n),d%2)n.push(s[0]);else{var p,f=s[0],m=f.length;switch(f){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":p="(\\D+)";break;case"tt":case"t":p="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":p="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":p="(\\d\\d?)";break;case"zzz":p="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":p="([+-]?\\d\\d?)";break;case"/":p="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+f+"'."}p&&n.push(p),a.push(s[0])}}u.appendPreOrPostMatch(o.slice(l),n),n.push("$");var g=n.join("").replace(/\s+/g,"\\s+"),v={regExp:g,groups:a};return i[t]=v},u.outOfRange=function(e,t,i){return t>e||e>i},u.expandYear=function(e,t){var i=new Date,r=u.getEra(i);if(100>t){var s=e.twoDigitYearMax;s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s;var o=u.getEraYear(i,e,r);t+=o-o%100,t>s&&(t-=100)}return t},u.parseDate=function(e,t,i){void 0!=i&&null!=i||(i=u.calendar),e=u.trim(e);var r=i,s=u.getParseRegExp(r,t),o=new RegExp(s.regExp).exec(e);if(null===o)return null;for(var n,a=s.groups,l=null,d=null,h=null,c=null,p=null,f=0,m=0,g=0,v=0,x=null,w=!1,b=0,y=a.length;y>b;b++){var _=o[b+1];if(_){var j=a[b],q=j.length,T=parseInt(_,10);switch(j){case"dd":case"d":if(c=T,u.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(h=u.getMonthIndex(r,_,3===q),u.outOfRange(h,0,11))return null;break;case"M":case"MM":if(h=T-1,u.outOfRange(h,0,11))return null;break;case"y":case"yy":case"yyyy":if(d=4>q?u.expandYear(r,T):T,u.outOfRange(d,0,9999))return null;break;case"h":case"hh":if(f=T,12===f&&(f=0),u.outOfRange(f,0,11))return null;break;case"H":case"HH":if(f=T,u.outOfRange(f,0,23))return null;break;case"m":case"mm":if(m=T,u.outOfRange(m,0,59))return null;break;case"s":case"ss":if(g=T,u.outOfRange(g,0,59))return null;break;case"tt":case"t":if(w=r.PM&&(_===r.PM[0]||_===r.PM[1]||_===r.PM[2]),!w&&(!r.AM||_!==r.AM[0]&&_!==r.AM[1]&&_!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(v=T*Math.pow(10,3-q),u.outOfRange(v,0,999))return null;break;case"ddd":case"dddd":if(p=u.getDayIndex(r,_,3===q),u.outOfRange(p,0,6))return null;break;case"zzz":var C=_.split(/:/);if(2!==C.length)return null;if(n=parseInt(C[0],10),u.outOfRange(n,-12,13))return null;var k=parseInt(C[1],10);if(u.outOfRange(k,0,59))return null;x=60*n+(u.startsWith(_,"-")?-k:k);break;case"z":case"zz":if(n=T,u.outOfRange(n,-12,13))return null;x=60*n;break;case"g":case"gg":var S=_;if(!S||!r.eras)return null;S=trim(eraNathat.toLowerCase());for(var D=0,I=r.eras.length;I>D;D++)if(S===r.eras[D].nathat.toLowerCase()){l=D;break}if(null===l)return null}}}var P,A=new Date,B=r.convert;if(P=A.getFullYear(),null===d?d=P:r.eras&&(d+=r.eras[l||0].offset),null===h&&(h=0),null===c&&(c=1),B){if(A=B.toGregorian(d,h,c),null===A)return null}else{if(A.setFullYear(d,h,c),A.getDate()!==c)return null;if(null!==p&&A.getDay()!==p)return null}if(w&&12>f&&(f+=12),A.setHours(f,m,g,v),null!==x){var M=A.getMinutes()-(x+A.getTimezoneOffset());A.setHours(A.getHours()+parseInt(M/60,10),M%60)}return A},u.toString=function(t,i){function r(e,t){var i,r=e+"";return t>1&&r.length<t?(i=f[t-2]+r,i.substr(i.length-t,t)):i=r}function s(e,t){if(p)return p[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0===t&&(t="yyyy-MM-dd HH:mm:ss"),e.jqx.date.cache&&e.jqx.date.cache[u.dateData+t])return e.jqx.date.cache[u.dateData+t];if(i&&"string"===e.type(i)&&Globalize){var o=Globalize.cultures[i];o&&(i=o.calendar)}var n=u.toDate();if(void 0!=i&&null!=i||(i=u.calendar),"string"==typeof n)return n;n.toString()+"_"+t;if(!t||!t.length||"i"===t){var a;return a=u.formatDate(n,i.patterns.F,i)}var l=i.eras,d="s"===t;t=u.expandFormat(i,t),a=[];for(var h,c,p,f=["0","00","000"],m=0,g=u.getTokenRegExp();;){var v=g.lastIndex,x=g.exec(t),w=t.slice(v,x?x.index:t.length);if(m+=u.appendPreOrPostMatch(w,a),!x)break;if(m%2)a.push(x[0]);else{var b=x[0],y=b.length;switch(b){case"ddd":case"dddd":var _=3===y?i.days.namesAbbr:i.days.names;a.push(_[n.getDay()]);break;case"d":case"dd":c=!0,a.push(r(s(n,2),y));break;case"MMM":case"MMMM":var j=s(n,1);a.push(i.months[3===y?"namesAbbr":"names"][j]);break;case"M":case"MM":a.push(r(s(n,1)+1,y));break;case"y":case"yy":case"yyyy":j=u.getEraYear(n,i,u.getEra(n,l),d),4>y&&(j%=100),a.push(r(j,y));break;case"h":case"hh":h=n.getHours()%12,0===h&&(h=12),a.push(r(h,y));break;case"H":case"HH":a.push(r(n.getHours(),y));break;case"m":case"mm":a.push(r(n.getMinutes(),y));break;case"s":case"ss":a.push(r(n.getSeconds(),y));break;case"t":case"tt":j=n.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",a.push(1===y?j.charAt(0):j);break;case"f":case"ff":case"fff":a.push(r(n.getMilliseconds(),3).substr(0,y));break;case"z":case"zz":h=n.getTimezoneOffset()/60,a.push((0>=h?"+":"-")+r(Math.floor(Math.abs(h)),y));break;case"zzz":h=n.getTimezoneOffset()/60,a.push((0>=h?"+":"-")+r(Math.floor(Math.abs(h)),2)+":"+r(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&a.push(i.eras[u.getEra(n,l)].name);break;case"/":a.push(i["/"]);break;default:throw"Invalid date format pattern '"+b+"'."}}}var q=a.join("");return e.jqx.date.cache||(e.jqx.date.cache=new Array),e.jqx.date.cache[u.dateData+t]=q,q},u.add=function(t,i,r){var s=u.internalMS();if(void 0===i){if(r===!1)return u.dateData=s+parseInt(t._ticks/u.ticksPerMillisecond),u;var o=new e.jqx.date(s+parseInt(t._ticks/u.ticksPerMillisecond));return o.timeZone=u.timeZone,o}var n=t*i;if(n<=-u.maxMillis||n>=u.maxMillis)throw new Error("Out of Range");if(r===!1)return u.dateData=s+n,u;var o=new e.jqx.date(s+n);return o.timeZone=u.timeZone,o},u.addDays=function(e,t){return u.add(e,u.millisPerDay,t)},u.clone=function(){var t=new e.jqx.date(u.dateData);return t.timeZone=u.timeZone,t},u.clearTime=function(){var t=u.month(),i=u.year(),r=u.day(),s=new e.jqx.date(i,t,r,0,0,0,0);return s.timeZone=u.timeZone,s},u.addHours=function(e,t){return u.add(e,u.millisPerHour,t)},u.addMilliseconds=function(e,t){return u.add(e,1,t)},u.addMinutes=function(e,t){return u.add(e,u.millisPerMinute,t)},u.addMonths=function(t,i){if(-12e4>t||t>12e4)throw new Error("Invalid Months Value");var r=parseInt(u.getDatePart(u.datePartYear)),s=parseInt(u.getDatePart(u.datePartMonth)),o=parseInt(u.getDatePart(u.datePartDay)),n=s-1+t;if(n>=0?(s=n%12+1,r+=n/12):(s=12+(n+1)%12,r+=(n-11)/12),r=parseInt(r),1>r||r>9999)throw new Error("Year out of range");var a=u.daysInMonth(r,s);if(o>a&&(o=a),i===!1)return u.dateData=u.dateToMS(r,s,o)+u.internalMS()%u.millisPerDay,u;var l=new e.jqx.date(u.dateToMS(r,s,o)+u.internalMS()%u.millisPerDay);return l.timeZone=u.timeZone,l},u.addSeconds=function(e,t){return u.add(e,u.millisPerSecond,t)},u.addYears=function(e,t){return u.addMonths(12*e,t)},u.getTimeZoneOffset=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),r=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-(e.getTimezoneOffset()/60),dst:+r}},u.isInDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return u.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())},u.supportsDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=i.getTimezoneOffset()},u.date=function(){var t=u.month(),i=u.year(),r=u.day(),s=new e.jqx.date(i,t,r);return s.timeZone=u.timeZone,s},u.isWeekend=function(){return 0==u.dayOfWeek()||6==u.dayOfWeek()},u.toDate=function(e){var t=u.month(),i=u.year(),r=u.day(),s=u.hour(),o=u.minute(),n=u.second(),a=u.millisecond(),l=new Date(i,t-1,r);if(1970>i&&l.setFullYear(i),l.setHours(s,o,n,a),e){var d=u.timeZones.filter(function(t){return t.id==e});if(d.length){var h=d[0].offset;"Local"==e&&(h=-l.getTimezoneOffset());var c=l.getTime(),p=60*l.getTimezoneOffset()*1e3;if(u.timeZone){var f=u.timeZones.filter(function(e){return e.id==u.timeZone});if(f.length)var p=60*-f[0].offset*1e3}var m=c+p;l=new Date(m+6e4*h)}}return l},u.toTimeZone=function(t){var i=t;null==i&&(i="Local");var r=u.toDate(i),s=new e.jqx.date(r);return s.timeZone=t,s},u.day=function(){return u.getDatePart(u.datePartDay)},u.month=function(){return u.getDatePart(u.datePartMonth)},u.year=function(){return u.getDatePart(u.datePartYear)},u.millisecond=function(){return parseInt(u.internalMS()%1e3)},u.hour=function(){return parseInt(u.internalMS()/u.millisPerHour%24)},u.minute=function(){return parseInt(u.internalMS()/u.millisPerMinute%60)},u.second=function(){return parseInt(u.internalMS()/u.millisPerSecond%60)},u.valueOf=function(){return u.dateData},u.equals=function(e){return u.dateData===e.dateData},0===arguments.length){var p=new Date;u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else if(1===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var f="number"==typeof arguments[0]&&isFinite(arguments[0]);if(f||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])u.dateData=arguments[0];else if("date"==e.type(arguments[0])){var p=arguments[0];u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else u.dateData=arguments[0];else if("today"===arguments[0]){var p=new Date;u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else if("todayDate"===arguments[0]){var p=new Date;p.setHours(0,0,0,0),u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else{var p=u.tryparseDate(arguments[0]);u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}}else if(2===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var f="number"==typeof arguments[0]&&isFinite(arguments[0]);if(f||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])u.dateData=arguments[0];else if("date"==e.type(arguments[0])){var p=arguments[0];u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else u.dateData=arguments[0];else if("today"===arguments[0]){var p=new Date;u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else if("todayDate"===arguments[0]){var p=new Date;p.setHours(0,0,0,0),u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else{var p=u.tryparseDate(arguments[0]);u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}u.timeZone=arguments[1]}else if(arguments.length>2)if("string"===e.type(arguments[0])){var p=u.tryparseDate(arguments[0],arguments[2],arguments[1]);u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else{var m=arguments[0],g=arguments[1],v=arguments[2],x=arguments[3],w=arguments[4],b=arguments[5],y=arguments[6];void 0===x&&(x=0),void 0===w&&(w=0),void 0===b&&(b=0),void 0===y&&(y=0),g--;var p=new Date(m,g,v,x,w,b,y);1970>m&&p.setFullYear(m),u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}return u}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],s=arguments[1],o=0;i>o;o++)if(o in t){var n=t[o];e.call(s,n,o,t)&&r.push(n)}return r}),function(e){e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.jqxWidget("jqxScheduler","",{}),e.extend(e.jqx._jqxScheduler.prototype,{defineInstance:function(){var t={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:359,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new e.jqx.date(0),max:new e.jqx.date(9999,12,31),date:new e.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,
editDialog:!0,toolbarHeight:54,tableZIndex:369,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return e.extend(!0,this,t),this.that=this,t},createInstance:function(t){var i=this;i._views=new Array,i._view=i.view;for(var r=0;r<i.views.length;r++)"string"===e.type(i.views[r])?i._views.push({type:i.views[r]}):i._views.push(i.views[r]);for(var r=0;r<i._views.length;r++)if(i._views[r].type==i.view){i._view=r;break}15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var s=i.source._source.datafields;s&&s.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-scheduler")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content jqx-disableselect")),i._testmodules()||(i.overlay=e("<div style='z-index: 999; position:absolute;'></div>"),i.overlay.hide(),i.overlay.appendTo(i.host),i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),r=e(window).height();i._hostWidth=null,i._hostHeight=null;var s=i.host.width(),o=i.host.height();i._hostWidth=s,i._hostHeight=o,i._lastHostWidth==s&&i._lastHostHeight==o||i._updatesize(i._lastHostWidth!=s,i._lastHostHeight!=o),i._lastWidth=t,i._lastHeight=r,i._lastHostWidth=s,i._lastHostHeight=o}),i.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=e("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,e(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var r=i.find("button");r.jqxButton({theme:t.theme,width:"50%",height:30});var s=!1;r.mousedown(function(){s=!0;var r=this.id;r.indexOf("editRecurringAppointmentOccurrence")>=0?t.editSeries(!1):t.editSeries(!0),e(i).jqxWindow("close")}),this.addHandler(e(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(e(i),"keydown",function(t){return 13==t.keyCode&&e(document.activeElement).ischildof(e(i))&&"button"==document.activeElement.nodeName.toLowerCase()?(e(document.activeElement).trigger("mousedown"),e(document.activeElement).trigger("mouseup"),!0):void 0}),this.addHandler(e(i),"close",function(e){return s?(s=!1,t.overlay.hide(),t.focus(),void t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})):(t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1)}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}var i=this.getFirstDayOfWeek(e);return i},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,r=this._views[this._view];switch(i){case"dayView":case"timelineDayView":t=1,r.days&&(t=r.days);break;case"weekView":case"timelineWeekView":t=7,r.days&&(t=r.days);break;case"monthView":case"timelineMonthView":t=41,r.days&&(t=r.days);break;case"agendaView":t=7,r.days&&(t=r.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((0>i||i>6)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){var e=this.date;e<this.min&&(e=this.min),e>this.max&&(e=this.max);var t=this._views[this._view].type;this._views[this._view];switch(e=e.clearTime(),t){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return e}var i=e.day(),r=e.addDays(-i+1);return e=r},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var r=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(r=!0),r?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=function(){""!=t.length&&(t+=",")};this.host.jqxScrollBar||(i(),t+=" jqxscrollbar.js"),this.host.jqxButton||(i(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(i(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(i(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(i(),t+=" jqxcalendar.js");try{Globalize||(i(),t+=" globalize.js")}catch(r){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updatesize:function(t,i){if(!this._loading){var r=this,s=r.host.width(),o=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=o),void 0!=r._resizeTimer&&(clearTimeout(r._resizeTimer),r._resizeTimer=null);var n=300,a=function(){r._resizeTimer&&clearTimeout(r._resizeTimer),r.resizingGrid=!0,e.jqx.isHidden(r.host)||(r._updatecolumnwidths(),r.refresh(),r._oldWidth=s,r._oldHeight=o,r.resizingGrid=!1)};a(),r._resizeTimer=setTimeout(function(){var e=r.host.width(),t=r.host.height();r._oldWidth==e&&r._oldHeight==t||a()},n)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchMode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchMode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=t){for(var r in this.schedulerLocalization)t[r]&&(this.schedulerLocalization[r]=t[r]);t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),i!==!1&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;("auto"===i.width||null===i.width||i.autowidth)&&999999==i.maxWidth&&(t=!0);var r=i._views[i._view].type,s=i._views[i._view];if("monthView"==r&&i.resources&&"none"==i.resources.orientation&&!s.monthRowAutoHeight){var o=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(o!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var n=parseInt(i.scrollBarSize),a=i.table?i.table.height():0,l=0,d="inherit",o=i.vScrollBar[0].style.visibility;i.hScrollBar[0].style.visibility;if(e)var h=e;else var h=i.host.height();h-=i.columnGroups?i.showHeader?i.columnsheader.height():0:i.showHeader?i.columnsHeight:0,i.filterable&&(h-=i.filter.height()),i.pageable&&(h-=i.pagerHeight,"both"===i.pagerPosition&&(h-=i.pagerHeight)),i.showToolbar&&(h-=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(h-=i.legendHeight);var c=!1;("auto"===i.height||null===i.height||i.autoheight)&&999999==i.maxHeight&&(c=!0),!c&&a>h&&i.getRows().length>0?(i.vScrollBar[0].style.visibility=d,l=4+parseInt(n),i.vScrollBar.jqxScrollBar({max:a-h})):i.vScrollBar[0].style.visibility="hidden",o!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();var u=i.table?i.table.width():0;u>4&&(u-=4);var p=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),f=p+i.host.width()-l;if(u>f&&!t){if(i.hScrollBar[0].style.visibility=d,i.hScrollBar.jqxScrollBar({max:2+p+u-f}),l=4+parseInt(n),0==n&&(l=0),!c&&a!=h){if(a>h-l+4&&i.getRows().length>0){i.hScrollBar.jqxScrollBar({max:p+u-f});var m="hidden"===i.vScrollBar[0].style.visibility;i.vScrollBar[0].style.visibility=d,i._updatecolumnwidths(),m&&i.hScrollBar.jqxScrollBar({max:u-f+p});var g=i.table?i.table.width():0;g>3&&(g-=3),g!=u&&(f>g?(i.hScrollBar.jqxScrollBar({max:p+g-f}),i.hScrollBar[0].style.visibility="hidden",l=0):m?g>f&&i.hScrollBar.jqxScrollBar({max:p+g-f}):i.hScrollBar.jqxScrollBar({max:u-f+p-n}))}a-h>0?i.vScrollBar.jqxScrollBar({max:a-h+l}):i.vScrollBar[0].style.visibility="hidden"}}else i.hScrollBar[0].style.visibility="hidden";0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(i+=this.columnGroups?this.showHeader?this.columnsheader.height():-1:this.showHeader?this.columnsHeight:-1,i+=this.showLegend&&this._resources.length>0?this.legendHeight:0,i+=this.showToolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var r=this.filter.find(".filterrow"),s=this.filter.find(".filterrow-hidden"),o=1;s.length>0&&(o=0),i+=this.filterHeight-1+this.filterHeight*r.length*o}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i].width;this.columns.records[i].hidden||("auto"==r?(r=this._measureElementWidth(this.columns.records[i].text),t+=r):t+=r)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var e=this.legendHeight;0==this._resources.length&&(e=0);var t=this._hostWidth?this._hostWidth:this.host.width(),i=this._hostHeight?this._hostHeight:this.host.height(),r=i;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var s=0;if(this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",s+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=s+"px"&&(this.legendbartop[0].style.top=s+"px");var o=s+e+"px";this.content[0].style.top!=o&&(s+=e,this.content[0].style.top=s+"px");
}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(r);var n=parseInt(this.scrollBarSize),a=4,l=2,d=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(d=n+a),"hidden"!=this.hScrollBar[0].style.visibility&&(l=n+a+2),0==n&&(l=0,d=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var h=this._arrangeAutoHeight(l-2),c=this._arrangeAutoWidth(d+1);if((h||c)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),h){var u=this._measureTopAndHeight();s=u.top,i=u.height}}var p=0;this.showLegend&&"bottom"==this.legendPosition?(l+=e,p+=e):this.showLegend&&(l+=e),this.hScrollBar[0].style.height!=n+"px"&&(this.hScrollBar[0].style.height=parseInt(n)+"px"),this.hScrollBar[0].style.top==s+i-a-n-p+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=s+i-a-n-p-1+"px",this.hScrollBar[0].style.left="0px");var f=this.hScrollBar[0].style.width,m=!1,g=!1;0==d?f!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",m=!0):f!=t-n-a+"px"&&(this.hScrollBar[0].style.width=t-n-a+"px",m=!0),this.vScrollBar[0].style.width!=n+"px"&&(this.vScrollBar[0].style.width=n+"px",g=!0),this.vScrollBar[0].style.height!=parseInt(i)-l+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-l+"px",g=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(n)-a+"px"&&this.vScrollBar[0].style.top==s+"px"||(this.vScrollBar[0].style.top=s+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(n)-a+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:s}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:n+2}));var v=this.vScrollInstance;v.disabled=this.disabled;var x=this.hScrollInstance;x.disabled=this.disabled,m&&x.refresh(),g&&v.refresh();var w=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(n)+3+"px",e.bottomRight[0].style.height=parseInt(n)+4+"px"):e.bottomRight[0].style.visibility="hidden"};w(this),this.content[0].style.width!=t-d+"px"&&(this.content[0].style.width=t-d+"px"),this.content[0].style.height!=i-l+3+"px"&&(this.content[0].style.height=i-l+3+"px"),this.content[0].style.top!=s+"px"&&(this.content[0].style.top=parseInt(s)+"px"),this.rtl&&this.content.css("left",d),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",s-1+i-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=r;var b=this.schedulercontent.coord();this._tableOffset=b}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,i=e.top,e=i;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,e!==!1&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},_rendercelltexts:function(){var t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(i);s.id=e.jqx.utilities.createId(),s.innerHTML=t,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(r+t)},this.content[0].appendChild(s),this._gridRenderElement=s}},databind:function(t,i,r){if(this.loadingstate!==!0){var s=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var o=this;null==t&&(t={}),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);var n=null;null!=t&&(n=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new e.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var a=1;this.resources&&this.resources.source&&(a=2);var l=0,d=function(){if(l==a){var t=o._resources.length>1?o._resources.length:1;if(o.resources&&"horizontal"===o.resources.orientation?(o.tableColumns=t,o.tableRows=1):o.resources&&"vertical"===o.resources.orientation?(o.tableRows=t,o.tableColumns=1):(o.tableColumns=1,o.tableRows=1),o._render(),o.autoShowLoadElement&&!o._loading&&(e(o.dataloadelement).css("visibility","hidden"),e(o.dataloadelement).css("display","none")),o._updateTouchScrolling(),o._raiseEvent("bindingComplete"),r&&r(),!o.initializedcall){if(o.initializedcall=!0,o.isInitialized=!0,(null!=o.width&&-1!=o.width.toString().indexOf("%")||null!=o.height&&-1!=o.height.toString().indexOf("%"))&&o._updatesize(!0),o.ready&&o.ready(),o._rendercelltexts(),o._gridRenderElement){e(o._gridRenderElement).show("slow");var i=6e3+Math.floor(4e3*Math.random()+1),n=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();s[e.camelCase(n)](function(){e(o._gridRenderElement).hide("slow",function(){e(o._gridRenderElement).remove()})},i)}if("hidden"==o.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version<8;"visible"==o.vScrollBar.css("visibility")&&o.vScrollBar.css("visibility","inherit"),"visible"==o.hScrollBar.css("visibility")&&o.hScrollBar.css("visibility","inherit"),o._intervalTimer=setInterval(function(){"visible"==o.host.css("visibility")&&(o._updatesize(!0),clearInterval(o._intervalTimer))},100)}}}};this.dataview.update=function(t){o._loading=!1,o.appointmentsByKey=new Array,o.appointments=new Array,o.uiappointments=new Array;for(var i=(o.source._source.datafields,["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"]),r=new Array,s=0;s<o.source.records.length;s++){var n=o.source.records[s],a={};for(var h in o.appointmentDataFields){var c=o.appointmentDataFields[h],u=n[c];if("from"!=h&&"to"!=h||(u=new e.jqx.date(u)),"style"==h&&u){var p=o.getAppointmentColors(u);a.color=p.color,a.background=p.background,a.borderColor=p.border}if("recurrencePattern"==h&&u&&(u=new e.jqx.scheduler.recurrencePattern(u),u.timeZone=n.timeZone||o.timeZone),"recurrenceException"==h){var f=new Array;if(u){u.indexOf("EXDATE:")>=0&&(u=u.substring(u.indexOf("EXDATE:")+7));var m=new Array;u.indexOf(",")>=0?m=u.split(","):m.push(u);for(var g=0;g<m.length;g++){var v=m[g];if(v.indexOf(";")>=0){var x=v.split(";")[1];v=v.split(";")[0],x.toLowerCase().indexOf("display")>=0&&x.toLowerCase().indexOf("none")&&(a.hidden=!0)}try{var w=e.jqx.scheduler.utilities.untilStringToDate(v);"Invalid Date"!=w&&(w=a.timeZone?new e.jqx.date(w,a.timeZone):o.timeZone?w.toTimeZone(o.timeZone):new e.jqx.date(w))}catch(b){var w=new e.jqx.date(v,o.timeZone)}f.push(w)}}u=f}a[h]=u}for(var y in i){var h=i[y];if(void 0==a[h]){var u="";if("originalData"==h)continue;"ownerId"==h&&(u=null),"timeZone"==h&&(u=null),"recurrencePattern"==h&&(u=null),"recurrenceException"==h&&(u=null),"allDay"==h&&(u=!1),"draggable"==h&&(u=!0),"resizable"==h&&(u=!0),"hidden"==h&&(u=!1),"resourceId"==h&&(u=null),"from"==h&&(u=new e.jqx.date),"to"==h&&(u=(new e.jqx.date).addHours(1)),a[h]=u}}a.originalData=n,o.resources&&!o.resources.source&&-1==r.indexOf(a.resourceId)&&r.push(a.resourceId),o.appointmentsByKey[n.uid]=a,o.appointments.push(a);var _=new e.jqx.scheduler.appointment(a);if(a.timeZone&&(_.from=_.from.toTimeZone(a.timeZone),_.to=_.to.toTimeZone(a.timeZone)),o.timeZone?(a.timeZone||(_.timeZone=o.timeZone),_.from=_.from.toTimeZone(o.timeZone),_.to=_.to.toTimeZone(o.timeZone)):(_.from=_.from.toTimeZone(null),_.to=_.to.toTimeZone(null)),a.jqxAppointment=_,a.recurrenceException)for(var j=0;j<a.recurrenceException.length;j++){var w=_.recurrenceException[j],q=_.clone();q.occurrenceFrom=w;var T=_.duration();o.allDay&&(T=new e.jqx.timeSpan(1e4*(o.to-o.from))),q.from=w,q.to=w.add(T),q.rootAppointment=_,q.hidden=!0,_.exceptions.push(q)}_.boundAppointment=a,_.scheduler=o,o.uiappointments.push(_)}o._resources=r,l++,d()},this.resourcesDataView.update=function(e){if(o.resources.dataField){o._resources=new Array;for(var t=0;t<e.length;t++)o._resources.indexOf(e[t][o.resources.dataField])>=0||e[t][o.resources.dataField]&&o._resources.push(e[t][o.resources.dataField])}else o._resources=e;void 0==o.resources.orientation&&(o.resources.orientation="none"),l++,d()},this.dataview.databind(t),this.resources&&this.resources.source&&this.resourcesDataView.databind(this.resources.source)}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=t,s=i;s.owner=this;var o=new e.Event(r);o.owner=this,o.args=s;var n=this.host.trigger(o);return i=o.args,n},ensureAppointmentVisible:function(e){return this.appointmentsByKey[e]?this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment):!1},_ensureAppointmentVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!t)return!1;var i=this.getViewStart(),r=this.getViewEnd(),s=e.jqx.scheduler.utilities.rangeIntersection(t.from,t.to,i,r);if(!s)return this.navigateTo(t.from),this._ensureAppointmentVisible(t);var o=t.id,n=e('[data-key="'+o+'"]');if(n.length>0)var a=n[0];else{if(!(t.elements&&t.elements.length>0))return!1;var l=t.elements[0],a=l.element}var d=this.vScrollInstance.value,h=this.hScrollInstance.value;if(this.rtl)var h=this.hScrollInstance.max-h;var c=this.element.clientHeight,u=this.element.clientWidth,p=0;p+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0;var f=this._views[this._view].type,m=this._views[this._view],g=0;if("dayView"==f||"weekView"==f){var v=this.showAllDayRow;!m.timeRuler||"dayView"!==f&&"weekView"!==f||void 0!=m.timeRuler.showAllDayRow&&(v=m.timeRuler.showAllDayRow),v&&(g=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var x=t.duration().days()>=1||t.allDay;if(x&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(p+=this.toolbarHeight),c-=p,this.showLegend&&this._resources.length>0&&(c-=this.legendHeight);var w=0,b=0,y=d-w,_=c+y-g,j=h-b,q=u+j,T=a;T=e(T);var C=(T[0].clientHeight,T.position().top-g);if(y>=C){var k=C;0>k&&(k=0),(!x||x&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",k)}else if(C>=_){var k=C;0>k&&(k=0),(!x||x&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",k-2)}var S=T.position().left;S=Math.round(S);S+T.outerWidth();if(0===Math.round(T.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),j>=S){var D=S-T.outerWidth()+b;0>D&&(D=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-S):this.hScrollBar.jqxScrollBar("setPosition",S)}S>q&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-S):this.hScrollBar.jqxScrollBar("setPosition",S))},ensureVisible:function(t,i){for(var r=this,s="date"==e.type(t)?t:t.toDate(),o=0;o<r.rows.length;o++)for(var n=0;n<r.rows[o].cells.length;n++){var a=r.rows[o].cells[n];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=r._getDateByString,h=d(l);if(h.valueOf()==s.valueOf())return r._ensureVisible(a)}}},_ensureVisible:function(t){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var i=this.vScrollBar.jqxScrollBar("value"),r=this.hScrollBar.jqxScrollBar("value");this.rtl&&(r=this.hScrollBar.jqxScrollBar("max")-r);var s=this._hostHeight,o=this._hostWidth,n=0;n+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.showToolbar&&(n+=this.toolbarHeight),s-=n,this.showLegend&&this._resources.length>0&&(s-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(s-=20);var a=0,l=0,d=this._views[this._view].type,h=this._views[this._view],c=0;if("dayView"==d||"weekView"==d){var u=this.showAllDayRow;!h.timeRuler||"dayView"!==d&&"weekView"!==d||void 0!=h.timeRuler.showAllDayRow&&(u=h.timeRuler.showAllDayRow),u&&(c=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var p=i-a,f=s+p-c,m=r-l,g=o+m,v=t;v=e(v);var x=v.position().top-c,w=x+v.outerHeight(),b=v.position().left;b=Math.round(b);var y=b+v.outerWidth();if(0===Math.round(v.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),m>=b){var _=b-v.outerWidth()+l;0>_&&(_=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-_):this.hScrollBar.jqxScrollBar("setPosition",_)}y>=g&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+l+y-o)):this.hScrollBar.jqxScrollBar("setPosition",2+l+y-o));var j=v.parent().index();if(this.tableRows>0&&j--,0===Math.round(v.position().top)||0===j)return this.vScrollBar.jqxScrollBar("setPosition",0);var q=this.table[0].rows.length-1,T=this.table[0].rows[q];if(T[0]===v.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(p>=x){var C=x;return 0>C&&(C=0),this.vScrollBar.jqxScrollBar("setPosition",C)}return w>=f?this.vScrollBar.jqxScrollBar("setPosition",4+w-s+c):void 0},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i;var s=this.getColumn(e);switch(null!=s&&(s[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getColumn(e);return i[t]},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){var i=this;if(e.jqx.isHidden(i.host))return;i.table[0].style.top="0px",i.vScrollInstance.setPosition(0),i._renderrows(),i._arrange(),i._renderhorizontalscroll(),i._updateTouchScrolling(),i._refreshToolBar(),i._updateFocusedCell()}},_updateFocusedCell:function(){var e=this;if(e.focusedCell)return void e._updateCellsSelection();var t=e._views[e._view].type,i=e._views[e._view],r=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||void 0!=i.timeRuler.showAllDayRow&&(r=i.timeRuler.showAllDayRow),!r||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){e.focusedCell=null;for(var s=0;s<this.rows.length;s++){for(var o=0;o<this.rows[s].cells.length;o++){var n=this.rows[s].cells[o];if(-1==n.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=n;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.schedulercontent&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(!t.dragOrResize){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var r=this.host.find("#verticalScrollBar"+this.element.id),s=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=r.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=s.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var o=this.source.datafields;if(null==o&&this.source._source&&(o=this.source._source.datafields),o)for(var n=0;n<this.columns.length;n++){var a=this.columns[n];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<o.length;l++)if(o[l].name==a.datafield&&!o[l].format){o[l].format=a.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var d=this,h=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.schedulercontent&&(d.schedulercontent[0].scrollLeft=0,d.schedulercontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h(),!1}),t!==!0&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.schedulerDataCollection(t.element):t._initializeColumns(),t.host.height(t.height),t.host.width(t.width),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.schedulercontent=t.schedulercontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.schedulercontent.remove();var i=t.columnsHeight;i=t._preparecolumnGroups(),t.columnsheader.height(i),t.content.append(t.columnsheader),t.content.append(t.schedulercontent),t._rendercolumnheaders(),t.tableheight=null,t.schedulercontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),null!=t.pinnedtable&&(t.pinnedtable.remove(),t.pinnedtable=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.pinnedtable=e('<div id="contenttable2'+t.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),t.schedulercontent.addClass(t.toTP("jqx-grid-content")),t.schedulercontent.addClass(t.toTP("jqx-widget-content")),t.schedulercontent.append(t.table),1==t.tableRows&&t.schedulercontent.append(t.pinnedtable),t._renderrows(),t._arrange(),t._resourcesElements=new Array;var r=function(i,r){i.children().remove();var i=e("<div style='margin:5px; position: relative;'></div>").appendTo(i);t._resourcesElements[r]=new Array,e.each(t._resources,function(s){var o=t.getColors(s),n=this.toString(),a=e("<div data-toggle='on' style='border-color: "+o.border+"; background: "+o.background+";' class='"+t.toThemeProperty("jqx-scheduler-legend")+"'></div>");a.appendTo(i);var l=e("<div class='"+t.toThemeProperty("jqx-scheduler-legend-label")+"'>"+n+"</div>");l.appendTo(i),t._resourcesElements[r][n]=a;var d=function(){"on"==a.attr("data-toggle")?t.hideAppointmentsByResource(n):t.showAppointmentsByResource(n)};t.addHandler(a,"mousedown",function(){return d(),!1}),t.addHandler(l,"mousedown",function(){return d(),!1})})};r(t.legendbarbottom,"bottom"),r(t.legendbartop,"top"),"top"==t.legendPosition?t.legendbarbottom.hide():t.legendbartop.hide(),0==t._resources.length&&(t.legendbarbottom.hide(),t.legendbartop.hide()),t.renderToolBar?t.renderToolBar(t.toolbar):t._renderToolBar(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._addHandlers(),t.clearSelection();var s=t._views[t._view].type,o=t._views[t._view],n=t.showAllDayRow;!o.timeRuler||"dayView"!==s&&"weekView"!==s||void 0!=o.timeRuler.showAllDayRow&&(n=o.timeRuler.showAllDayRow),!n||"dayView"!=s&&"weekView"!=s?t.focusedCell=t.rows[0].cells[0]:t.focusedCell=t.rows[1].cells[0],t._lastSelectedCell=t.focusedCell,t._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;e.className.indexOf("jqx-scheduler-appointment")>=0&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,r=0;4>r&&i.parentNode;r++)i.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=this,i=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");if(i.indexOf(".")>=0)var r=i.substring(0,i.indexOf(".")),s=(i.substring(i.indexOf(".")+1),t.appointmentsByKey[r]),o=s.jqxAppointment.renderedAppointments[i];else var s=t.appointmentsByKey[i],o=s.jqxAppointment;return o},_renderToolBar:function(){var t=this,i=e('<div style="width: 100%; height: 100%; position: relative;"></div>'),r=(this.toolbarHeight-20)/2;i.css("top",r),t.toolbarLeftButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarRightButton=e('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.attr("title",t.schedulerLocalization.toolBarPreviousButtonString),t.toolbarRightButton.attr("title",t.schedulerLocalization.toolBarNextButtonString),t.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:t.disabled,theme:t.theme}),t.dateTimeInput=e('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),t.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),t.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var s=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(t.toThemeProperty("jqx-icon-arrow-left")),t.toolbarLeftButton.wrapInner(s);var o=e("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(t.toThemeProperty("jqx-icon-arrow-right")),t.toolbarRightButton.wrapInner(o),t.rtl&&(t.toolbarLeftButton.css("float","right"),t.toolbarRightButton.css("float","right"),t.dateTimeInput.css("float","right")),t.addHandler(t.toolbarRightButton,"mouseenter",function(){o.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseenter",function(){s.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mouseleave",function(){o.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),t.addHandler(t.toolbarLeftButton,"mouseleave",function(){s.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),t.addHandler(t.toolbarRightButton,"mousedown",function(){o.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarRightButton,"mouseup",function(){o.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),t.addHandler(t.toolbarLeftButton,"mousedown",function(){s.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarLeftButton,"mouseup",function(){s.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(e(document),"mouseup.pagerbuttons"+t.element.id,function(){o.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),s.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),t.addHandler(t.toolbarRightButton,"click",function(){t.toolbarRightButton.jqxButton("disabled")||(t.rtl?t.navigateBackward():t.navigateForward(),t.focus())}),t.addHandler(t.toolbarLeftButton,"click",function(){t.toolbarLeftButton.jqxButton("disabled")||(t.rtl?t.navigateForward():t.navigateBackward(),t.focus())}),t.toolbar.children().remove(),t.toolbar.append(i),t.rtl?(i.append(t.toolbarRightButton),i.append(t.dateTimeInput),i.append(t.toolbarLeftButton)):(i.append(t.toolbarLeftButton),i.append(t.dateTimeInput),i.append(t.toolbarRightButton)),t.toolbarDetails=e('<div class="'+t.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),t.toolbarViews=e('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),t.rtl&&(t.toolbarDetails.css("float","right"),t.toolbarDetails.css("margin-left","0px"),t.toolbarDetails.css("margin-right","7px"),t.toolbarViews.css("margin-left","10px"),t.toolbarViews.css("margin-right","0px"),t.toolbarViews.css("float","left"));var n=new Array;t.rtl?(n.push(t.toolbarRightButton),n.push(t.dateTimeInput),
n.push(t.toolbarLeftButton)):(n.push(t.toolbarLeftButton),n.push(t.dateTimeInput),n.push(t.toolbarRightButton));var a=t._views.length-1;e.each(t._views,function(i){var r="",s=i;if(t.rtl&&(s=a-i),void 0!=t._views[s].text)r=t._views[s].text;else switch(t._views[s].type){case"dayView":r=t.schedulerLocalization.dayViewString;break;case"weekView":r=t.schedulerLocalization.weekViewString;break;case"monthView":r=t.schedulerLocalization.monthViewString;break;case"agendaView":r=t.schedulerLocalization.agendaViewString;break;case"timelineDayView":r=t.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":r=t.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":r=t.schedulerLocalization.timelineMonthViewString}var o='<span data-type="'+t._views[s].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+r+"</span>",l=e(o);l.addClass(t.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),n.push(l),0==s&&(t.rtl?l.addClass(t.toTP("jqx-rc-r")):l.addClass(t.toTP("jqx-rc-l"))),s==t._views.length-1&&(t.rtl?l.addClass(t.toTP("jqx-rc-l")):l.addClass(t.toTP("jqx-rc-r"))),s===t._view&&l.addClass(t.toTP("jqx-fill-state-pressed")),l.mouseenter(function(){l.addClass(t.toTP("jqx-fill-state-hover"))}),l.mouseleave(function(){l.removeClass(t.toTP("jqx-fill-state-hover"))}),l.mousedown(function(){t._setView(s),t.focus()}),e(t.toolbarViews).append(l)}),i.append(t.toolbarDetails),i.append(t.toolbarViews),t._views.length<2&&t.toolbarViews.hide(),t.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:t.rtl,localization:t._getDateTimeInputLocalization(),firstDayOfWeek:t.schedulerLocalization.firstDay,todayString:t.schedulerLocalization.todayString,clearString:t.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),t.addHandler(t.dateTimeInput,"change",function(i){t.fromNavigate||(t.navigateTo(new e.jqx.date(i.args.date,t.timeZone)),t.focus())}),t.tabKeyElements=n;var l=t._views[t._view].type,d=function(i){var r=e.jqx.formatDate(t.getViewStart().toDate(),i,t.schedulerLocalization),s=e.jqx.formatDate(t.getViewEnd().toDate(),i,t.schedulerLocalization);"dayView"===l||"timelineDayView"===l?t.toolbarDetails.html(r):t.toolbarDetails.html(r+" - "+s),t.rtl?(t.toolbarDetails.addClass("jqx-rtl"),t.toolbarDetails.html("<span style='direction:rtl;'>"+s+"<span> - <span style='direction:rtl;'>"+r+"</span>")):t.toolbarDetails[0].style.direction="ltr"};d(t.toolBarRangeFormat);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120,c=t.toolBarRangeFormat;if(h>t.host.width()){c=t.toolBarRangeFormatAbbr,d(c);var h=t.toolbarViews.width()+t.toolbarDetails.width()+120;if(h>t.host.width()){t.toolbarDetails.hide();var h=t.toolbarViews.width()+120;h>t.host.width()&&t.toolbarViews.hide()}}else t.currentToolbarFormat=t.toolBarRangeFormat},_setView:function(t){var i=this;if(i.toolbarViews.find(".jqx-fill-state-pressed").removeClass(i.toTP("jqx-fill-state-pressed")),i.rtl?e(i.toolbarViews.children()[i._views.length-1-t]).addClass(i.toTP("jqx-fill-state-pressed")):e(i.toolbarViews.children()[t]).addClass(i.toTP("jqx-fill-state-pressed")),i._view!==t){var r=i.vScrollBar[0].style.visibility;r&&(i._scrollPosition||(i._scrollPosition=new Array),i._scrollPosition[i._view]=i.vScrollInstance.value);var s=i.hScrollBar[0].style.visibility;s&&(i._hscrollPosition||(i._hscrollPosition=new Array),i._hscrollPosition[i._view]=i.hScrollInstance.value);var o=i._views[i._view].type,n=i._views[t].type;i._view=t,i._refreshColumns(),i.refresh();var a=i.hScrollBar[0].style.visibility;s!==a&&i._renderrows(),i._scrollPosition[i._view]&&i.vScrollInstance.setPosition(i._scrollPosition[i._view]),i._hscrollPosition[i._view]&&i.hScrollInstance.setPosition(i._hscrollPosition[i._view]),i.selectedJQXAppointment&&i._ensureAppointmentVisible(i.selectedJQXAppointment);var l=i.getViewStart(),d=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("viewChange",{date:i.date,from:l,to:d,oldViewType:o,newViewType:n})}},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var t=this,i=this._views[this._view].type,r=this._views[this._view],s=new e.jqx.date(this.date,t.timeZone),o=function(){for(;(0==s.dayOfWeek()||6==s.dayOfWeek())&&!1===r.showWeekends;)s=s.addDays(1);return s};switch(i){case"dayView":case"timelineDayView":s=s.addDays(1),s=o();break;case"weekView":case"timelineWeekView":s=s.addDays(7);break;case"monthView":case"timelineMonthView":var n=(s.day(),s.month()),a=s.year(),l=new e.jqx.date(a,n,1);l.timeZone=t.timeZone,s=l.addMonths(1);break;case"agendaView":s=r.days?s.addDays(r.days):s.addDays(7)}return this.navigateTo(s)},navigateBackward:function(){var t=this,i=this._views[this._view].type,r=this._views[this._view],s=new e.jqx.date(this.date,t.timeZone),o=function(){for(;(0==s.dayOfWeek()||6==s.dayOfWeek())&&!1===r.showWeekends;)s=s.addDays(-1);return s};switch(i){case"dayView":case"timelineDayView":s=s.addDays(-1),s=o();break;case"weekView":case"timelineWeekView":s=s.addDays(-7);break;case"monthView":case"timelineMonthView":var n=(s.day(),s.month()),a=s.year(),l=new e.jqx.date(a,n,1);l.timeZone=t.timeZone,s=l.addMonths(-1);break;case"agendaView":s=r.days?s.addDays(-r.days):s.addDays(-7)}return this.navigateTo(s)},_refreshToolBar:function(t){var i=this,r=i.getViewStart(),s=i.getViewEnd(),o=function(t){var o=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization),n=e.jqx.formatDate(s.toDate(),t,i.schedulerLocalization),a=i._views[i._view].type,l=i._views[i._view];if(l.showWeekends===!1){0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(1)),0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(-1)),0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(-1));var o=e.jqx.formatDate(r.toDate(),t,i.schedulerLocalization),n=e.jqx.formatDate(s.toDate(),t,i.schedulerLocalization)}"dayView"===a||"timelineDayView"===a?i.toolbarDetails.html(o):i.toolbarDetails.html(o+" - "+n),i.rtl?(i.toolbarDetails.addClass("jqx-rtl"),i.toolbarDetails.html("<span style='direction:rtl;'>"+n+"<span> - <span style='direction:rtl;'>"+o+"</span>")):i.toolbarDetails[0].style.direction="ltr"};if(t)return void o(i._lastFormatString||i.toolBarRangeFormat);o(i.toolBarRangeFormat),i.toolbarDetails.show(),i.toolbarViews.show();var n=i.toolbarViews.width()+i.toolbarDetails.width()+120;if(n>i.host.width()){o(i.toolBarRangeFormatAbbr);var n=i.toolbarViews.width()+i.toolbarDetails.width()+120;if(n>i.host.width()){i.toolbarDetails.hide();var n=i.toolbarViews.width()+120;n>i.host.width()&&i.toolbarViews.hide()}}},navigateTo:function(t){var i=this;if("date"==e.type(t)&&(t=new e.jqx.date(t)),!(t<this.min||t>this.max)){t.timeZone=i.timeZone,i.date=t,i._refreshToolBar(!0),i.fromNavigate=!0,i.dateTimeInput.val(t.toDate()),i.fromNavigate=!1,i._refreshColumnTitles(),i._renderrows(),i._updateFocusedCell();var r=i.getViewStart(),s=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._raiseEvent("dateChange",{date:t,from:r,to:s})}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columnGroups.length;i++){var r=t.columnGroups[i];if(r.name===e)return r}return null},i=0;i<this.columnGroups.length;i++){var s=this.columnGroups[i];if(s.groups||(s.groups=null),s.parentGroup&&(s.parentgroup=s.parentGroup),s.parentgroup){var o=r(s.parentgroup);o&&(s.parent=o,o.groups||(o.groups=new Array),-1===o.groups.indexOf(s)&&o.groups.push(s))}}for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(s.columngroup){var o=r(s.columngroup);o&&(o.groups||(o.groups=new Array),s.parent=o,-1===o.groups.indexOf(s)&&o.groups.push(s))}}for(var n=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i],a=s;for(s.level=0;a.parent;)a=a.parent,s.level++;var a=s,l=s.level;for(n=Math.max(n,s.level);a.parent;)a=a.parent,a&&(a.level=--l)}for(var d=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=d(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columnGroups.length;i++){var s=this.columnGroups[i],h=d(s);s.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){var t=this;t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(e(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(e(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc);var i="mousedown";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave");var r="mousemove.scheduler"+t.element.id,s="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&t.touchMode!==!0&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,s=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(e(document),r),t.removeHandler(e(document),s),!t.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var o=null;window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)&&t.removeHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id)}}catch(n){}t.removeHandler(t.host,r),t.removeHandler(e(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(t,i,r){if(t){var s=this;s.selectedAppointment&&s.clearAppointmentsSelection();var o=t.id,n=e('[data-key="'+o+'"]');if(n.length>0){s.selectedJQXAppointment=t,i?s.selectedAppointment=e(i):s.selectedAppointment=e(n[0]);var a=s._views[s._view].type;s._views[s._view];if("agendaView"==a)return void s.clearSelection();switch(n.addClass(s.toTP("jqx-scheduler-selected-appointment")),t.resizable&&n.find(".jqx-scheduler-appointment-resize-indicator").show(),a){case"dayView":e(n).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e(n).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":n.length>1&&e.each(n,function(t){s.rtl?(t>0&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),t<n.length-1&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(t>0&&e(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),t<n.length-1&&e(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==r)return void s.clearSelection()}s.clearSelection()}},clearAppointmentsSelection:function(){var t=this;if(t.selectedAppointment){var i=t.selectedAppointment.attr("data-key"),r=e('[data-key="'+i+'"]');r.removeClass(t.toTP("jqx-scheduler-selected-appointment")),r.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null}},selectCell:function(e,t,i){for(var r=this,s=e.toDate(),o=0;o<r.rows.length;o++)for(var n=0;n<r.rows[o].cells.length;n++){var a=r.rows[o].cells[n];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),d=r._getDateByString,h=d(l);if(t&&a.getAttribute("data-end-date")){if(h.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),r.focusedCell=a,r._lastSelectedCell=a,r._updateCellsSelection(),void r._ensureVisible(r.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(h.valueOf()==s.valueOf())return a.setAttribute("data-selected","true"),r.focusedCell=a,r._lastSelectedCell=a,r._updateCellsSelection(),void r._ensureVisible(r.focusedCell)}}r._updateCellsSelection()},selectRange:function(e,t,i,r){var s=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var o=e.toDate(),n=t.toDate(),a=!1,l=0;l<s.rows.length;l++)for(var d=0;d<s.rows[l].cells.length;d++){var h=s.rows[l].cells[d];if(!r||h.getAttribute("data-view")===r){var c=h.getAttribute("data-date"),u=s._getDateByString,p=u(c);if(i&&h.getAttribute("data-end-date"))p.valueOf()>=o.valueOf()&&p.valueOf()<=n.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;p.valueOf()>=o.valueOf()&&p.valueOf()<=n.valueOf()&&(h.setAttribute("data-selected","true"),a||(s._lastSelectedCell=h,s.focusedCell=h,a=!0))}}s._updateCellsSelection()},_selectRange:function(t,i){var r=this;if("agendaView"!=r._views[r._view].type){var s=t,o=i.getAttribute("data-view");if(t.getAttribute("data-view")===o){var n=i.getAttribute("data-date"),a=s.getAttribute("data-date");if(null!=n&&null!=a){var l=i.getAttribute("data-end-date"),d=s.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,u=r._getDateByString,p=u(n),f=u(a);p<this.min.toDate()&&(p=this.min.toDate()),f<this.min.toDate()&&(f=this.min.toDate()),p>this.max.toDate()&&(p=this.max.toDate()),f>this.max.toDate()&&(f=this.max.toDate());var m=Math.min(p,f),g=Math.max(p,f),v=r.rows,x=0,w=0;x>0&&r.rtl&&(x=0,w=1);var b=v.length;if(h&&(b=1,null==t.getAttribute("data-end-date"))){f.setHours(0,0,0,0);var y=new e.jqx.date(f,r.timeZone).toString();e(s).parent().index();e.each(v[0].cells,function(){var e=this.getAttribute("data-date");if(e===y){t=this,c=null!=i.getAttribute("data-end-date")&&null!=t.getAttribute("data-end-date");var r=i.getAttribute("data-date"),s=t.getAttribute("data-date"),o=u(r),n=u(s);return m=Math.min(o,n),g=Math.max(o,n),!1}})}for(var _=0;b>_;_++){var j=v[_];if(h&&this.tableRows>1){var q=parseInt(t.getAttribute("data-view")),T=v.length/r.tableRows,C=(-1+q)*T;k=v[C],j=v[C]}for(var k=j.cells,S=x;S<k.length-w;S++)if(k[S].getAttribute("data-view")===o&&(k[S].removeAttribute("data-selected"),c||!k[S].getAttribute("data-end-date"))){var D=k[S].getAttribute("data-date"),I=u(D).valueOf();I>=m&&g>=I&&k[S].setAttribute("data-selected","true")}}r._updateCellsSelection()}}}},findCell:function(e,t){var i=this,r=null;if(!i._tableOffset){var s=i.schedulercontent.coord();i._tableOffset=s}var o=i._tableOffset,n=o.top,a=o.left;if(n>t)return null;if(a>e)return null;if(t>n+i._hostHeight)return null;if(e>a+i._hostWidth)return null;for(var l=!1,d=i.rows,h=i._views[i._view],c=h.type,u=0,p=i.vScrollInstance.value,f=i.hScrollInstance.value,m=0;m<d.length&&!l;m++){var g=d[m],v=g.cells,x=!1;(0==m&&"dayView"==c||"weekView"==c)&&(x=i.showAllDayRow,!h.timeRuler||"dayView"!==c&&"weekView"!==c||void 0!=h.timeRuler.showAllDayRow&&(x=h.timeRuler.showAllDayRow),x&&(u=i._allDayRowFullHeight));for(var w=0;w<v.length;w++){var b=v[w];if(0!=w||!b.getAttribute("data-time-slot")){if(b._left)var y=b._left,_=b._top,j=b._width,q=b._height;else{var y=b.offsetLeft+a,_=b.offsetTop+n,j=b.offsetWidth,q=b.offsetHeight;b._left=y,b._top=_,b._width=j,b._height=q}if(b._left=y,b._top=_,b._width=j,b._height=q,0!==j&&0!==q){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(y-=i.hScrollInstance.max-f):y-=f,_-=p,0==m&&x&&(_+=p),!(t>=_&&_+q>t))break;if(e>=y&&y+j>e){r=b,l=!0;break}}}}}return r},_removeFeedbackAndStopResize:function(){var t=this;if(t.feedback){if(t.feedback.remove(),t.feedback=null,t.pinnedfeedback.remove(),t.pinnedfeedback=null,t.feedbacks)for(var i=0;i<t.feedbacks.length;i++)t.feedbacks[i].remove();if(t._resizeDays=0,t._resizeStep=0,t._lastX=null,t.feedbacks=new Array,t.leftResize=!1,t.rightResize=!1,t.topResize=!1,t.bottomResize=!1,t.overlay.hide(),t.resizing=!1,t.resizeFrom=null,t._dragCell=null,t._dragStartCell=null,t.resizeTo=null,t.dragOrResize=!1,t.isMouseDown=!1,t.selectedJQXAppointment){var r=e('[data-key="'+t.selectedJQXAppointment.id+'"]');r.removeClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"))}t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(t,i,r,s){var o=this;if(t===!1)if(i.isException()){for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,a=0;a<n.length;a++)if(n[a].occurrenceFrom.equals(i.occurrenceFrom)){n[a]=i;break}}else i.rootAppointment.recurrenceException||(i.rootAppointment.recurrenceException=new Array),null!=i.rootAppointment?(i.rootAppointment.exceptions.push(i),i.rootAppointment.recurrenceException.push(i.occurrenceFrom)):(i.exceptions.push(i),i.recurrenceException.push(i.occurrenceFrom));else if(t===!0){if(i.isException())for(var n=i.rootAppointment?i.rootAppointment.exceptions:i.exceptions,a=0;a<n.length;a++)if(n[a].occurrenceFrom.equals(i.occurrenceFrom)){for(var l=0;l<i.rootAppointment.recurrenceException.length;l++)if(i.rootAppointment.recurrenceException[l].equals(n[a].occurrenceFrom)){var d=(i.from,new e.jqx.date(n[a].occurrenceFrom.year(),n[a].occurrenceFrom.month(),n[a].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second()));i.rootAppointment.recurrenceException[l]=d;break}n[a]=i;var d=(i.from,new e.jqx.date(n[a].occurrenceFrom.year(),n[a].occurrenceFrom.month(),n[a].occurrenceFrom.day(),i.from.hour(),i.from.minute(),i.from.second()));n[a].occurrenceFrom=d;break}if(null!=i.rootAppointment){i.rootAppointment.recurrencePattern=i.rootAppointment.recurrencePattern.createNewPattern();var h=i.rootAppointment.from,c=i.rootAppointment.duration(),u=i.rootAppointment.recurrencePattern.freq,d=null;switch(u){case"daily":d=new e.jqx.date(h.year(),h.month(),h.day(),i.from.hour(),i.from.minute(),i.from.second());break;case"weekly":d=new e.jqx.date(h.year(),h.month(),h.day(),i.from.hour(),i.from.minute(),i.from.second());break;case"monthly":d=new e.jqx.date(h.year(),h.month(),h.day(),i.from.hour(),i.from.minute(),i.from.second());break;case"yearly":d=new e.jqx.date(h.year(),h.month(),h.day(),i.from.hour(),i.from.minute(),i.from.second())}s?(i.rootAppointment.from=h,i.rootAppointment.to=h.add(i.duration())):(i.rootAppointment.from=d,i.rootAppointment.to=d.add(c)),i.rootAppointment.allDay=i.allDay,i.rootAppointment.resourceId=i.resourceId,i.rootAppointment.color=i.color,i.rootAppointment.borderColor=i.borderColor,i.rootAppointment.background=i.background,i.rootAppointment.timezone=i.timezone,i.rootAppointment.subject=i.subject,i.rootAppointment.description=i.description,i.rootAppointment.location=i.location,i.rootAppointment.category=i.category,i.rootAppointment.status=i.status,o.resizing?i.rootAppointment.recurrencePattern.setFrom(h):i.rootAppointment.recurrencePattern.setFrom(d)}else i.recurrencePattern=i.recurrencePattern.createNewPattern(),i.recurrencePattern.setFrom(i.from);var p=e(r).attr("data-view"),f=o._resources[parseInt(p)-1];null!=f&&(null!=i.rootAppointment?i.rootAppointment.resourceId=f:i.resourceId=f)}},_handleMouseUp:function(t,i,r){var s=this;clearInterval(s._verticalIntervalDragVelocity),clearInterval(s._horizontalIntervalDragVelocity),clearInterval(s._intervalDrag),clearInterval(s._horizontalIntervalDrag);var o=t,n=!1;if(r?s.resizeTo?o.to.equals(s.resizeTo)&&(n=!0):s.resizeFrom&&o.from.equals(s.resizeFrom)&&(n=!0):s._dragStartCell==i&&(n=!0),n){var a=e('[data-key="'+t.id+'"]');return a.removeClass(s.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void s._removeFeedbackAndStopResize()}var l=o.duration(),d=o.duration().days()>=1||o.allDay,h=function(t,o){if(o.allDay||d)var n=s.getMaxAllDayAppointments(s.appointmentsToRender);if(r)s.resizeTo?(s.resizeTo>s.max&&(s.resizeTo=s.max),s.resizeTo<s.min&&(s.resizeTo=s.min),o.to=s.resizeTo):s.resizeFrom&&(s.resizeFrom>s.max&&(s.resizeFrom=s.max),s.resizeFrom<s.min&&(s.resizeFrom=s.min),o.from=s.resizeFrom),0==o.from.hour()&&0==o.from.minute()&&23==o.to.hour()&&59==o.to.minute()&&(o.allDay=!0);else{var a=s._views[s._view].type,h=s._views[s._view],c=e(i).attr("data-date"),u=null!=e(i).attr("data-end-date"),p=new e.jqx.date(c,s.timeZone);if(p<s.min&&(p=s.min),p>s.max&&(p=s.max),s.rtl&&d&&u)o.to=e.jqx.scheduler.utilities.getEndOfDay(p);else if(!s.rtl||"monthView"!=a&&"timelineMonthView"!=a)if(!s.rtl||"timelineDayView"!=a&&"timelineWeekView"!=a)o.from=p;else{var f=s.getMinutesPerScale();o.to=p.addMinutes(f)}else o.to=e.jqx.scheduler.utilities.getEndOfDay(p);if("dayView"===a||"weekView"===a)if(d||u){if(!d&&u)o.to=e.jqx.scheduler.utilities.getEndOfDay(p),o.allDay=!0;else if(d&&u&&!s.rtl)o.to=p.add(l),0==o.from.hour()&&0==o.from.minute()&&23==o.to.hour()&&59==o.to.minute()&&(o.allDay=!0);else if(d&&u&&s.rtl)o.from=e.jqx.scheduler.utilities.getStartOfDay(o.to.add(new e.jqx.timeSpan(-l))),0==o.from.hour()&&0==o.from.minute()&&23==o.to.hour()&&59==o.to.minute()&&(o.allDay=!0);else if(d&&!u){var m=30,g=h.timeRuler&&h.timeRuler.scale;switch(g){case"sixtyMinutes":case"hour":m=60;break;case"fifteenMinutes":case"quarterHour":m=15;break;case"tenMinutes":m=10;break;case"fiveMinutes":m=5}o.to=p.addMinutes(m),o.allDay=!1}}else o.to=p.add(l),o.allDay=!1;else if("monthView"===a)s.rtl?o.from=e.jqx.scheduler.utilities.getStartOfDay(o.to.add(new e.jqx.timeSpan(-l))):o.to=p.add(l);else if("timelineDayView"===a||"timelineWeekView"===a||"timelineMonthView"===a)if(s.rtl)if("timelineMonthView"==a)o.from=e.jqx.scheduler.utilities.getStartOfDay(o.to.add(new e.jqx.timeSpan(-l)));else{var f=s.getMinutesPerScale();o.from=p.addMinutes(f).add(new e.jqx.timeSpan(-l))}else o.to=p.add(l)}s._saveChangesAfterDragOrResize(t,o,i,s.resizing);var a=e(i).attr("data-view"),v=s._resources[parseInt(a)-1];null!=v&&(o.resourceId=v),s.resizing=!1,s.resizeFrom=null,s._dragCell=null,s.resizeTo=null;var x={},w={};for(var b in s.appointmentDataFields){var y=s.appointmentDataFields[b],_=o[b];x[b]=_,"from"!=b&&"to"!=b||(_=_.toDate()),w[y]=_}if(x.originalData=w,o.boundAppointment=x,s._raiseEvent("appointmentChange",{appointment:o.boundAppointment}),s.changedAppointments[o.id]={type:"Update",appointment:o.boundAppointment},s.table.find(".jqx-icon-arrow-down").hide(),"monthView"==s._views[s._view].type&&s._views[s._view].monthRowAutoHeight)s._renderrows();else if("weekView"!=s._views[s._view].type&&"dayView"!=s._views[s._view].type||!o.allDay&&!d){var j=s.getViewStart(),q=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(j,q),s._renderAppointments(j,q)}else if(s.tableRows>1)s._renderrows();else{var j=s.getViewStart(),q=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(j,q),s._renderAppointments(j,q);var T=s.getMaxAllDayAppointments(s.appointmentsToRender);if(T!=n){var C=T*(s._defaultRowHeight-2);C=s.isTouchDevice()?Math.max(22+s._defaultRowHeight,17+C):Math.max(3*s._defaultRowHeight,17+C),1==s.tableRows?e(e(s.table[0].rows[0]).find("td")).css("height",C+"px"):e(e(s.table[0].rows[1]).find("td")).css("height",C+"px"),e(s.oldRow).find("td").css("height",C+"px"),e(s.pinnedTableRow).find("td").css("height",C+"px"),s.pinnedtable.height(C),s._updateScrollbars(s._hostHeight?s._hostHeight:s.host.height())}}s._removeFeedbackAndStopResize()};o.isRecurrentAppointment()?h(!1,o):h(null,o)},_handleDayWeekViewResize:function(t,i,r,s,o){var n=this,a=(n._views[n._view].type,n._views[n._view]),l=o.duration().days()>=1||o.allDay;if(l||r.getAttribute("data-end-date")){var d=function(e){return!(e<n.cellWidth-10)},h=a.appointmentsRenderMode&&"exactTime"==a.appointmentsRenderMode;if(o.allDay||!h){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(r).width()/2){var c=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-n.cellWidth;d(c)&&(n.feedback.css("left",5+s.left+n.cellWidth),n.feedback.width(c-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+s.left+n.cellWidth),n.pinnedfeedback.width(c-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(r.getAttribute("data-date"),n.timeZone)).addDays(-1):n.resizeFrom=new e.jqx.date(r.getAttribute("data-date"),n.timeZone).addDays(1))}else if(t<n._lastResizeX-e(r).width()/2){var c=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left;d(c)&&(n.feedback.css("left",5+s.left),n.feedback.width(c-5),n.feedback.hide(),n.pinnedfeedback.css("left",5+s.left),n.pinnedfeedback.width(c-5),n._lastResizeX=n.pinnedfeedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(r.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new e.jqx.date(r.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize){n._lastResizeX||(n._lastResizeX=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left);var u=e(r).width()/2;if(t>n._lastResizeX+u){var p=e(r).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,c=n.selectedAppointmentTableBounds.width+p;d(c)&&(n.feedback.hide(),n.feedback.width(c-6),n.feedback.css("left",5+s.left),n.pinnedfeedback.width(c-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+p+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(r.getAttribute("data-date"),n.timeZone):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(r.getAttribute("data-date"),n.timeZone)))}else if(t<n._lastResizeX-u){var p=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,c=n.selectedAppointmentTableBounds.width+p;d(c)&&(n.feedback.hide(),n.feedback.css("left",5+s.left),n.feedback.width(c-6),n.pinnedfeedback.width(c-6),n._lastResizeX=n.selectedAppointmentTableBounds.width+p+n.pinnedfeedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(r.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(r.getAttribute("data-date"),n.timeZone).addDays(-1)))}}}else{var f=new Array,m=new Array,g=-1,v=-1,x=this.host.coord().left,w=0,b=n.hScrollInstance.value;if(n.rtl)var b=n.hScrollInstance.max-n.hScrollInstance.value;"hidden"==n.hScrollBar[0].style.visibility&&(b=0);for(var y=t+b,_=0;_<this.columns.records.length;_++)this.columns.records[_].timeColumn&&(n.rtl||(x+=this.columns.records[_].width,w++));for(var j=n.getViewStart(),q=n.getViewEnd(),_=0;_<this._getColumnsLengthPerView();_++){var T=this.columns.records[_+w].width;n.leftResize?(n.rtl||(f.push(x),m.push(j.addDays(_)),(0!=o.from.hour()||0==o.from.hour()&&0!=o.from.minute())&&x<n.selectedAppointmentTableBounds.left&&x+T>n.selectedAppointmentTableBounds.left&&(f.push(n.selectedAppointmentTableBounds.left),m.push(o.from),g=f.length-1),(23!=o.to.hour()||23==o.to.hour()&&59!=o.to.minute())&&x<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&x+T>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(f.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(o.to),v=f.length-1)),n.rtl&&(f.push(x),m.push(q.addDays(-_-1)),(0!=o.from.hour()||0==o.from.hour()&&0!=o.from.minute())&&x<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&x+T>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(f.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(o.from),g=f.length-1),(23!=o.to.hour()||23==o.to.hour()&&59!=o.to.minute())&&x<n.selectedAppointmentTableBounds.left&&x+T>n.selectedAppointmentTableBounds.left&&(f.push(n.selectedAppointmentTableBounds.left),m.push(o.to),v=f.length-1)),x+=T):n.rtl?((0!=o.from.hour()||0==o.from.hour()&&0!=o.from.minute())&&x<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&x+T>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(f.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(o.from),g=f.length-1),(23!=o.to.hour()||23==o.to.hour()&&59!=o.to.minute())&&x<n.selectedAppointmentTableBounds.left&&x+T>n.selectedAppointmentTableBounds.left&&(f.push(n.selectedAppointmentTableBounds.left),m.push(o.to),v=f.length-1),x+=T,f.push(x),m.push(q.addDays(-_-1))):((0!=o.from.hour()||0==o.from.hour()&&0!=o.from.minute())&&x<n.selectedAppointmentTableBounds.left&&x+T>n.selectedAppointmentTableBounds.left&&(f.push(n.selectedAppointmentTableBounds.left),m.push(o.from),g=f.length-1),(23!=o.to.hour()||23==o.to.hour()&&59!=o.to.minute())&&x<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&x+T>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(f.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),m.push(o.to),v=f.length-1),x+=T,f.push(x),m.push(j.addDays(_)))}if(n.leftResize){for(var _=0;_<f.length;_++){var s=f[_],C=f[_+1];C||(C=s);var k=_<f.length-1?y>=s&&C>=y:y>=s;if(k){var T=-s+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,S=n.pinnedfeedback.width(),D=n.pinnedfeedback.css("left"),I=n.resizeTo,P=n.resizeFrom;T>0&&(n.pinnedfeedback.css("left",s),
n.pinnedfeedback.width(T),_==g?n.rtl?n.resizeTo=o.from:n.resizeFrom=o.from:_==v?n.rtl?n.resizeTo=o.to:n.resizeFrom=o.to:n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[_]):n.resizeFrom=m[_])}}var A=n.resizeFrom,B=n.resizeTo;n.rtl?A=o.from:B=o.to;var M=new e.jqx.timeSpan(1e4*(B-A));M.days()<1&&(n.pinnedfeedback.css("left",D),n.pinnedfeedback.width(S),n.resizeFrom=P,n.resizeTo=I)}else if(n.rightResize){for(var _=0;_<f.length;_++){var s=f[_],C=f[_+1];C||(C=s);var k=_<f.length-1?t>=s-this.cellWidth/3&&t<=C-this.cellWidth/3:t>=s-this.cellWidth/3;if(k){var T=s-n.selectedAppointmentTableBounds.left-15,S=n.pinnedfeedback.width();n.pinnedfeedback.width(T);var I=n.resizeTo,P=n.resizeFrom;if(_==g){n.rtl?n.resizeFrom=o.from:n.resizeTo=o.from;var T=s-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(T);break}if(_==v){n.rtl?n.resizeFrom=o.to:n.resizeTo=o.to;var T=s-n.selectedAppointmentTableBounds.left-9;n.pinnedfeedback.width(T);break}n.rtl?n.resizeFrom=m[_]:n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(m[_]);break}}var A=n.resizeFrom,B=n.resizeTo;n.rtl?B=o.to:A=o.from;var M=new e.jqx.timeSpan(1e4*(B-A));M.days()<1&&(n.pinnedfeedback.width(S),n.resizeFrom=P,n.resizeTo=I)}}}else{var H=function(e){return!(10>e)},z=n.findCell(n.feedback.coord().left,i);if(n.topResize){if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),i>n._lastResizeY+e(r).height()/2){var E=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-s.top-e(r).height()-3;if(H(E)){n.feedback.css("top",2+s.top+e(r).height()),n.feedback.height(E),n._lastResizeY=n.feedback.coord().top;var O=new e.jqx.date(z.getAttribute("data-date"),n.timeZone);n.resizeFrom=O.addMinutes(n.getMinutesPerScale())}}else if(i<n._lastResizeY-e(r).height()/2){var E=n.selectedAppointmentTableBounds.height+n.selectedAppointmentTableBounds.top-s.top-3;H(E)&&(n.feedback.css("top",2+s.top),n.feedback.height(E),n._lastResizeY=n.feedback.coord().top,n.resizeFrom=new e.jqx.date(z.getAttribute("data-date"),n.timeZone))}}else if(n.bottomResize)if(n._lastResizeY||(n._lastResizeY=n.mouseDownPosition.top),i>n._lastResizeY+e(r).height()/2){var p=-5+e(r).height()+s.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,E=n.selectedAppointmentTableBounds.height+p;H(E)&&(n.feedback.height(E),n._lastResizeY=n.selectedAppointmentTableBounds.height+p+n.feedback.coord().top,n.resizeTo=new e.jqx.date(z.getAttribute("data-date"),n.timeZone).addMinutes(n.getMinutesPerScale()))}else if(i<n._lastResizeY-e(r).height()/2){var p=-5+s.top-n.selectedAppointmentTableBounds.height-n.selectedAppointmentTableBounds.top,E=n.selectedAppointmentTableBounds.height+p;H(E)&&(n.feedback.height(E),n._lastResizeY=n.selectedAppointmentTableBounds.height+p+n.feedback.coord().top,n.resizeTo=new e.jqx.date(z.getAttribute("data-date"),n.timeZone))}}},_handleTimelineMonthViewResize:function(t,i,r,s,o){var n=this,a=(n._views[n._view].type,n._views[n._view],function(e){return!(10>e)}),l=n.findCell(t,n.feedback.coord().top);if(o.allDay){if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(r).width()/2){var d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-e(r).width();a(d)&&(n.feedback.css("left",s.left+e(r).width()),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(-1)):n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(1))}else if(t<n._lastResizeX-e(r).width()/2){var d=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left;a(d)&&(n.feedback.css("left",s.left),n.feedback.width(d),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone)):n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize)if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(r).width()/2){var h=e(r).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,d=n.selectedAppointmentTableBounds.width+h-5;a(d)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+h+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone)))}else if(t<n._lastResizeX-e(r).width()/2){var h=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,d=n.selectedAppointmentTableBounds.width+h-5;a(d)&&(n.feedback.width(d),n._lastResizeX=n.selectedAppointmentTableBounds.width+h+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(1):n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(l.getAttribute("data-date"),n.timeZone).addDays(-1)))}}else{for(var c=new Array,u=new Array,p=-1,f=-1,m=this.host.coord().left,g=0,v=0;v<this.columns.records.length;v++)this.columns.records[v].timeColumn&&(m+=this.columns.records[v].width,g++);var x=n.hScrollInstance.value;if(n.rtl)var x=n.hScrollInstance.max-n.hScrollInstance.value;"hidden"==n.hScrollBar[0].style.visibility&&(x=0);for(var w=t+x,b=n.getViewStart(),y=n.getViewEnd(),v=(this._getColumnsLengthPerView()-1,0);v<this._getColumnsLengthPerView();v++){var _=this.columns.records[v+g].width;n.leftResize?(c.push(m),n.rtl?u.push(y.addDays(-v)):u.push(b.addDays(v)),(0!=o.from.hour()||0==o.from.hour()&&0!=o.from.minute())&&m<n.selectedAppointmentTableBounds.left&&m+_>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),u.push(o.from),p=c.length-1),(23!=o.to.hour()||23==o.to.hour()&&59!=o.to.minute())&&m<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&m+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width+8),u.push(o.to),f=c.length-1),m+=_):((0!=o.from.hour()||0==o.from.hour()&&0!=o.from.minute())&&m<n.selectedAppointmentTableBounds.left&&m+_>n.selectedAppointmentTableBounds.left&&(c.push(n.selectedAppointmentTableBounds.left),u.push(o.from),p=c.length-1),(23!=o.to.hour()||23==o.to.hour()&&59!=o.to.minute())&&m<n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&m+_>n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width&&(c.push(n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width),u.push(o.to),f=c.length-1),m+=_,c.push(m),n.rtl?u.push(y.addDays(-v-1)):u.push(b.addDays(v)))}if(n.leftResize){for(var v=0;v<c.length;v++){var j=c[v],q=c[v+1];q||(q=j);var T=v<c.length-1?w>=j&&q>=w:w>=j;if(T){var _=-j+n.selectedAppointmentTableBounds.left+n.selectedAppointmentTableBounds.width,C=n.feedback.width(),k=n.feedback.css("left"),S=n.resizeTo,D=n.resizeFrom;n.feedback.css("left",j),n.feedback.width(_),v==p?n.rtl?n.resizeTo=o.from:n.resizeFrom=o.from:v==f?n.rtl?n.resizeTo=o.to:n.resizeFrom=o.to:n.rtl?n.resizeTo=u[v]:n.resizeFrom=u[v]}}var I=n.resizeFrom,P=n.resizeTo;n.rtl?I=o.from:P=o.to;new e.jqx.timeSpan(1e4*(P-I));n.feedback.width()<20&&(n.feedback.css("left",k),n.feedback.width(C),n.resizeFrom=D,n.resizeTo=S)}else if(n.rightResize){for(var v=0;v<c.length;v++){var j=c[v],q=c[v+1];q||(q=j);var T=v<c.length-1?w>=j-this.cellWidth/3&&w<=q-this.cellWidth/3:w>=j-this.cellWidth/3;if(T){var _=j-n.selectedAppointmentTableBounds.left-12,C=n.feedback.width();n.feedback.width(_);var S=n.resizeTo,D=n.resizeFrom;if(v==p){n.rtl?n.resizeFrom=o.from:n.resizeTo=o.from;var _=j-n.selectedAppointmentTableBounds.left;n.feedback.width(_);break}if(v==f){n.rtl?n.resizeFrom=o.to:n.resizeTo=o.to;var _=j-n.selectedAppointmentTableBounds.left;n.feedback.width(_);break}n.rtl?n.resizeFrom=u[v]:n.resizeTo=e.jqx.scheduler.utilities.getEndOfDay(u[v]);break}}var I=n.resizeFrom,P=n.resizeTo;n.rtl?P=o.to:I=o.from;new e.jqx.timeSpan(1e4*(P-I));n.feedback.width()<20&&(n.feedback.width(C),n.resizeFrom=D,n.resizeTo=S)}}},_handleMonthViewResize:function(t,i,r,s,o){var n=this;if(n.selectedJQXAppointment){var a=(n._views[n._view].type,n._views[n._view]),l=-5;n.tableColumns>1&&(l=parseInt(-5/n.tableColumns));for(var d=0;d<n.columns.records.length/n.tableColumns;d++)n.columns.records[d].timeColumn||(l+=n.columns.records[d].width);var h=n.selectedJQXAppointment.resourceId,c=n._resources.indexOf(h);n.resources&&"none"==n.resources.orientation&&(c=-1);var u="0px";-1!=c&&1==n.tableRows&&(u=l*c+"px"),a.showWeekNumbers&&(n.rtl||(u=parseInt(u)+n.columns.records[0].width+"px"));var p=r.offsetWidth,f=(r.offsetHeight,18);n.isTouchDevice()&&(f=2);for(var d=0;6>d;d++)n.feedbacks[d][0].style.left=u,n.feedbacks[d][0].style.width=l+"px",n.feedbacks[d][0].style.display="block",n.feedbacks[d][0].style.top=parseInt(n.rows[d].top)+f+"px",n.tableRows>1&&(n.feedbacks[d][0].style.top=parseInt(n.rows[6*c+d].top)+f+"px"),e(n.feedbacks[d][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=n.selectedJQXAppointment.elements,g=(m[0].cells[0].cell,m[m.length-1]),v=g.lastCellY,x=g.lastCellX,w=m[0].cellY,b=m[0].cellX,y=parseInt(s.top),_=parseInt(s.left);if(n.rtl){if(n.leftResize){for(var j=!1,d=0;6>d;d++){var q=n.feedbacks[d],T=parseInt(q[0].style.top)-f;parseInt(q[0].style.left);if(y>T)q[0].style.width=l+"px";else for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.width=m[C].width+"px",q[0].style.top=m[C].y+"px")}var S=m[0],D=parseInt(S.x);if(T==w)if(q[0].style.left=D+"px",y==w){if(q[0].style.left=1+s.left+"px",q[0].style.width=-1+S.x+S.width-s.left+"px",s.left>S.x+S.width&&(q[0].style.width=S.width+"px",q[0].style.left=S.x+"px"),"exactTime"==a.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var I=n.host.coord().left;t-I>=S.x-10&&t-I<=S.cellX+n.cellWidth&&(q[0].style.width=S.width+"px",q[0].style.left=S.x+"px",j=!0)}}else w>y?(q[0].style.left=D+"px",q[0].style.width=S.width+"px"):y>w&&(q[0].style.left=u,q[0].style.width=S.x+S.width-parseInt(u)+"px");else T==y&&(q[0].style.width=l-s.left+parseInt(u)+"px",q[0].style.left=s.left+"px");if(w>T&&(q[0].style.display="none"),T>y&&(q[0].style.display="none"),w>y)for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.display="block",q[0].style.width=m[C].width+"px",q[0].style.left=m[C].x+"px")}if(y==w)for(var C=0;C<m.length;C++){var k=m[C].cellY;(w>y||y==w)&&k==T&&w!=v&&(q[0].style.left=1+s.left+parseInt(u)+"px",1+s.left+parseInt(u)>S.x+S.width&&(q[0].style.left=S.x+"px"),q[0].style.width=-1+S.x+S.width-s.left+"px")}}var P=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(r.getAttribute("data-date"),n.timeZone));P>n.selectedJQXAppointment.from&&!j?n.resizeTo=P:n.resizeTo=n.selectedJQXAppointment.to}else if(n.rightResize){for(var A=!1,d=0;6>d;d++){var q=n.feedbacks[d],T=parseInt(q[0].style.top)-f;parseInt(q[0].style.left);y>T&&(q[0].style.width=l+"px");for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.top=m[C].y+"px")}var S=m[0],D=parseInt(S.x);if(T==w)if(q[0].style.left=D+"px",y==w)if(_>=b){if(q[0].style.width=_+p-D-5+"px","exactTime"==a.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var I=n.host.coord().left;t-I>=S.lastCellX&&t-I<=S.x+S.width+15&&(q[0].style.width=S.width+"px",A=!0)}}else q[0].style.width=S.width+"px";else y>w?(q[0].style.left=D+"px",q[0].style.width=S.width+"px"):w>y&&(q[0].style.left=D+"px",q[0].style.width=l-D+parseInt(u)+"px");else T==y&&(q[0].style.width=_+p-5-parseInt(u)+"px");if(T>v&&(q[0].style.display="none"),y>T&&(q[0].style.display="none"),y>v)for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.display="block"),T==v&&(q[0].style.width=m[C].width+"px",q[0].style.left=m[C].x+"px")}if(v>=y&&T==v)for(var C=0;C<m.length;C++){var k=m[C].cellY;T!=y&&k==T&&w!=v?(q[0].style.width=m[C].width+"px",q[0].style.left=m[C].x+"px"):T==y&&k==T&&w!=v&&(q[0].style.left=m[C].x+"px",q[0].style.width=_+p-5-parseInt(u)-m[C].x+"px")}}var P=new e.jqx.date(r.getAttribute("data-date"),n.timeZone);P<n.selectedJQXAppointment.to&&!A?n.resizeFrom=P:n.resizeFrom=n.selectedJQXAppointment.from}}else if(n.leftResize){for(var A=!1,d=0;6>d;d++){var q=n.feedbacks[d],T=parseInt(q[0].style.top)-f;parseInt(q[0].style.left);if(y>T){q[0].style.width=l+"px";for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.top=m[C].y+"px")}}else for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.width=m[C].width+"px",q[0].style.top=m[C].y+"px")}var S=m[0],D=parseInt(S.x);if(T==w)if(q[0].style.left=D+"px",y==w){if(q[0].style.left=1+s.left+"px",q[0].style.width=-1+S.x+S.width-s.left+"px","exactTime"==a.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var B=n.cellWidth-(S.x-b),I=n.host.coord().left;t-I>=S.x&&t-I<=S.x+B+2&&(q[0].style.left=D+"px",q[0].style.width=S.width+"px",A=!0)}}else y>w?(q[0].style.left=D+"px",q[0].style.width=S.width+"px"):w>y&&(q[0].style.left=u,q[0].style.width=S.x+S.width-parseInt(u)+"px");else T==y&&(q[0].style.width=l-s.left+parseInt(u)+"px",q[0].style.left=s.left+"px");if(T>v&&(q[0].style.display="none"),y>T&&(q[0].style.display="none"),y>=v)for(var C=0;C<m.length;C++){var k=m[C].cellY;y>v||y==v&&_>x?k==T&&(q[0].style.display="block",q[0].style.width=m[C].width+"px",q[0].style.left=m[C].x+"px"):y==v&&x>=_&&w!=v&&(q[0].style.width=m[C].width-s.left+parseInt(u)+"px")}}var P=new e.jqx.date(r.getAttribute("data-date"),n.timeZone);P<n.selectedJQXAppointment.to&&!A?n.resizeFrom=P:n.resizeFrom=n.selectedJQXAppointment.from}else if(n.rightResize){for(var j=!1,d=0;6>d;d++){var q=n.feedbacks[d],T=parseInt(q[0].style.top)-f;parseInt(q[0].style.left);y>T&&(q[0].style.width=l+"px");for(var C=0;C<m.length;C++){var k=m[C].cellY;k==T&&(q[0].style.top=m[C].y+"px")}var S=m[0],D=parseInt(S.x);if(T==w)if(q[0].style.left=D+"px",y==w)if(_>=b){if(q[0].style.width=_+p-D-5+"px","exactTime"==a.appointmentsRenderMode&&!n.selectedJQXAppointment.allDay){var I=n.host.coord().left;t-I>=x&&t-I<=S.x+S.width+15&&(q[0].style.width=S.width+"px",j=!0)}}else q[0].style.width=S.width+"px";else w>y?(q[0].style.left=D+"px",q[0].style.width=S.width+"px"):y>w&&(q[0].style.left=D+"px",q[0].style.width=l-D+parseInt(u)+"px");else T==y&&(q[0].style.width=_+p-5-parseInt(u)+"px");if(w>T&&(q[0].style.display="none"),T>y&&T>w&&(q[0].style.display="none"),w>=y)for(var C=0;C<m.length;C++){var k=m[C].cellY;(w>y||y==w&&b>_)&&k==T&&(q[0].style.display="block",q[0].style.width=m[C].width+"px")}}var P=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(r.getAttribute("data-date"),n.timeZone));P>n.selectedJQXAppointment.from&&!j?n.resizeTo=P:n.resizeTo=n.selectedJQXAppointment.to}for(var M=new Array,d=0;6>d;d++){var q=n.feedbacks[d];"block"==q[0].style.display&&M.push(q)}e.each(M,function(t){n.rtl?(t>0&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),t<M.length-1&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(t>0&&(e(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),t<M.length-1&&(e(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(t,i,r,s,o){var n=this,a=(n._views[n._view].type,n._views[n._view],n.getMinutesPerScale()),l=function(e){return!(10>e)},d=n.findCell(t,n.feedback.coord().top);if(n.leftResize){if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(r).width()/2){var h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left-e(r).width();l(h)&&(n.feedback.css("left",2+s.left+e(r).width()),n.feedback.width(h),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone):n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(a))}else if(t<n._lastResizeX-e(r).width()/2){var h=n.selectedAppointmentTableBounds.width+n.selectedAppointmentTableBounds.left-s.left;l(h)&&(n.feedback.css("left",2+s.left),n.feedback.width(h),n._lastResizeX=n.feedback.coord().left,n.rtl?n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(a):n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone))}}else if(n.rightResize)if(n._lastResizeX||(n._lastResizeX=n.mouseDownPosition.left),t>n._lastResizeX+e(r).width()/2){var c=e(r).width()+s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,h=n.selectedAppointmentTableBounds.width+c;l(h)&&(n.feedback.width(h),n._lastResizeX=n.selectedAppointmentTableBounds.width+c+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone):n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(a))}else if(t<n._lastResizeX-e(r).width()/2){var c=s.left-n.selectedAppointmentTableBounds.width-n.selectedAppointmentTableBounds.left,h=n.selectedAppointmentTableBounds.width+c;l(h)&&(n.feedback.width(h),n._lastResizeX=n.selectedAppointmentTableBounds.width+c+n.feedback.coord().left,n.rtl?n.resizeFrom=new e.jqx.date(d.getAttribute("data-date"),n.timeZone).addMinutes(a):n.resizeTo=new e.jqx.date(d.getAttribute("data-date"),n.timeZone))}},_handleResize:function(t,i,r,s,o){var n=this,a=n._views[n._view].type,l=n._views[n._view];"dayView"===a||"weekView"===a?n._handleDayWeekViewResize(t,i,r,s,o):"timelineMonthView"===a?n._handleTimelineMonthViewResize(t,i,r,s,o):"monthView"===a?n._handleMonthViewResize(t,i,r,s,o):"timelineDayView"!==a&&"timelineWeekView"!==a||n._handleTimelineDayWeekViewResize(t,i,r,s,o),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(n._horizontalIntervalDrag),n._horizontalIntervalDrag=setInterval(function(){var e=n.host.width(),i=n.host.coord().left,r=i+25,s=e+r-45;n.rtl?t>s?n.hScrollInstance.setPosition(n.hScrollInstance.value-5):r>t&&n.hScrollInstance.setPosition(n.hScrollInstance.value+5):r>t?n.hScrollInstance.setPosition(n.hScrollInstance.value-5):t>s&&n.hScrollInstance.setPosition(n.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(n._intervalDrag),n._intervalDrag=setInterval(function(){var t=n.host.height(),r=0;r+=n.columnGroups?n.showHeader?n.columnsheader.height():0:n.showHeader?n.columnsHeight:0,n.showToolbar&&(r+=n.toolbarHeight),t-=r;var s=n.legendHeight;0==n._resources.length&&(s=0),n.showLegend&&(t-=s);var d=r+n.host.coord().top,h=n.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||void 0!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow);var c=o.duration().days()>=1||o.allDay;h&&c?d-=20:h&&n.resizing&&(d+=e(n.table[0].rows[0]).height(),t-=e(n.table[0].rows[0]).height());var u=d+25,p=t+u-45;u>i?n.vScrollInstance.setPosition(n.vScrollInstance.value-5):i>p&&n.vScrollInstance.setPosition(n.vScrollInstance.value+5)},5)),n.resizing=!0},_startTimers:function(t,i,r){var s=this,o=s.host.coord(),n=0,a=0;"hidden"!=s.hScrollInstance.element.style.visibility&&(clearInterval(s._horizontalIntervalDragVelocity),s._horizontalIntervalDragVelocity=setInterval(function(){n++,n>40&&(n=40)},100),clearInterval(s._horizontalIntervalDrag),s._horizontalIntervalDrag=setInterval(function(){var e=s._hostWidth,i=o.left,r=i+30,a=e+r-60;s.rtl?r>t?s.hScrollInstance.setPosition(s.hScrollInstance.value+10+n):t>a?s.hScrollInstance.setPosition(s.hScrollInstance.value-10-n):n=0:r>t?s.hScrollInstance.setPosition(s.hScrollInstance.value-10-n):t>a?s.hScrollInstance.setPosition(s.hScrollInstance.value+10+n):n=0},10)),"hidden"!=s.vScrollInstance.element.style.visibility&&(clearInterval(s._verticalIntervalDragVelocity),s._verticalIntervalDragVelocity=setInterval(function(){a++,a>40&&(a=40)},100),clearInterval(s._intervalDrag),s._intervalDrag=setInterval(function(){var t=s._hostHeight,n=0;n+=s.columnGroups?s.showHeader?s.columnsheader.height():0:s.showHeader?s.columnsHeight:0;var l=s._views[s._view].type,d=s._views[s._view];s.showToolbar&&(n+=s.toolbarHeight),t-=n,s.showLegend&&s._resources.length>0&&(t-=s.legendHeight);var h=o.top,c=n+h;if("dayView"==l||"weekView"==l){var u=s.showAllDayRow;!d.timeRuler||"dayView"!==l&&"weekView"!==l||void 0!=d.timeRuler.showAllDayRow&&(u=d.timeRuler.showAllDayRow);var p=r.duration().days()>=1||r.allDay;u&&p?c-=20:u&&s.resizing&&(c+=e(s.table[0].rows[0]).height())}var f=c+30,m=h+t+n-30;f>i?s.vScrollInstance.setPosition(s.vScrollInstance.value-10-a):i>m?s.vScrollInstance.setPosition(s.vScrollInstance.value+10+a):a=0},10))},_hoverCell:function(e){var t=this;return t.enableHover?t._resources.length>0&&e.className.indexOf("pinned")>=0?!0:e.className.indexOf("time-column")>=0?!0:e.className.indexOf("jqx-scheduler-disabled-cell")>=0?!0:e&&e==t.hoveredCell?!0:(t.hoveredCell=e,e?(t._removeHoveredCell(),t.hoveredCell=e,e.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)):!0):!0},_removeHoveredCell:function(){var e=this;if(e.hoveredCell){var t=e.hoveredCell,i=function(i){var r=t.className;r=r.replace(" "+e.toTP("jqx-fill-state-hover"),""),r=r.replace(" "+e.toTP("jqx-grid-cell-hover"),""),r=r.replace(" "+e.toTP("jqx-scheduler-cell-hover"),""),t.className=r,t.jqxClassName=r};i(t)}e.hoveredCell=null},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.focused=!1;var i=!1;this.addHandler(e(document),"keydown.scheduler"+t.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!t.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(r){if(!t.focusedCell||t.selectedAppointment||i||e(t.focusedCell).addClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!0,i)if(t.appointmentsToRender.length>0){var s=t.appointmentsToRender[t.appointmentsToRender.length-1];t._selectAppointment(s),t._lastSelectedAppointment=s}else if(t.focusedCell){if(t.focusedCell&&-1==t.focusedCell.className.indexOf("-focus"))return t._updateCellsSelection(),!1}else t._updateFocusedCell()}),this.addHandler(this.host,"blur",function(i){if(t.focusedCell){if(document.activeElement==t.element)return!0;if(e(document.activeElement).ischildof(t.host))return!0;e(t.focusedCell).removeClass(t.toThemeProperty("jqx-scheduler-cell-focus")),t.focused=!1}}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(i){return t.enableBrowserSelection?!0:t.showToolBar&&e(i.target).ischildof(t.toolbar)?!0:t.rowDetails&&e(i.target).parents("[data-role=details]").length>0?!0:void 0==t.editKey?!1:void 0}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var r=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),r?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){t._htimer&&clearTimeout(t._htimer),r?t.table&&t._renderhorizontalscroll():t._htimer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},1)};var s="mousedown";this.isTouchDevice()&&(s=e.jqx.mobile.getTouchEventName("touchstart"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(s="mousedown")),this.addHandler(this.table,"mouseleave",function(e){t._removeHoveredCell()}),t.isTouchDevice()&&(t.enableHover=!1);var o="mousemove.scheduler"+this.element.id,n="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&this.touchMode!==!0&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(e(document),o,function(i){var r=i.pageX,s=i.pageY;if(t.isTouchDevice()){var o=e.jqx.position(i);if(r=o.left,s=o.top,isNaN(r)||isNaN(s)){var o=e.jqx.position(i.originalEvent);r=o.left,s=o.top}}if(t.disabled||3===i.which)return!0;if(!t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hostWidth){var n=t.host.coord();if(n.left+t._hostWidth<r||r<n.left)return!0;if(n.top+t._hostHeight<s||s<n.top)return!0}if(t.mouseDownPosition&&(Math.abs(t.mouseDownPosition.left-r)>=3&&Math.abs(t.mouseDownPosition.left-r)<=10||Math.abs(t.mouseDownPosition.top-s)>=3&&Math.abs(t.mouseDownPosition.top-s)<=10)&&(t.dragOrResize=!0),t.selectedAppointment&&t.dragOrResize){var a=null;if(t._hasOpenedMenu)return!0;if(t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var l=t._views[t._view].type,d=t._views[t._view],h=!1;if("td"===i.target.nodeName.toLowerCase())var c=i.target;else var c=t.findCell(r,s);if(!c)return!0;if(void 0!=c.getAttribute("data-time-slot"))return!0;if(c.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!t.feedback){if(a=t.getJQXAppointmentByElement(t.selectedAppointment),!a.draggable&&!a.resizable)return a=null,!0;if(t.beginDrag){var u=t.beginDrag(a);if(!u)return!0}var p=e('[data-key="'+a.id+'"]'),f=t.selectedAppointment.position();t.feedback=t.selectedAppointment.clone(!0),t.pinnedfeedback=t.selectedAppointment.clone(!0);var m=!("row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing),g=function(e){m&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),p.addClass(t.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(t.toTP("jqx-scheduler-feedback-appointment")),e.addClass(t.toTP("jqx-scheduler-feedback-drag-appointment")),m?e.css("z-index",401):e.css("z-index",400)};if(g(t.feedback),g(t.pinnedfeedback),"monthView"!=t._views[t._view].type||m){if(t.table.append(t.feedback),1==t.tableRows?t.pinnedtable.append(t.pinnedfeedback):t.table.append(t.pinnedfeedback),t.feedback.css("left",f.left),t.feedback.css("top",f.top),t.pinnedfeedback.css("left",f.left),t.pinnedfeedback.css("top",f.top),"monthView"==t._views[t._view].type&&t.isTouchDevice()){t.feedbacks=new Array;for(var v=0;6>v;v++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[v]).hide(),t.table.append(e(t.feedbacks[v]))}}else{t.feedbacks=new Array;for(var v=0;6>v;v++)t.feedbacks.push(t.feedback.clone(!0)),e(t.feedbacks[v]).hide(),t.table.append(e(t.feedbacks[v]))}}if(t.dragging){var u=t.dragging(a,c,t.feedback);if(!1===u)return!0}var o=e(c).position();if(t.endDrag)var x=t.feedback.css("left"),w=t.feedback.css("top"),b=t.feedback.width(),y=t.feedback.height;a||(a=t.selectedJQXAppointment),a||(t.selectAppointment(t.uiappointments[0].id),a=t.selectedJQXAppointment);var _=a.resourceId,j=t._resources.indexOf(_);t.resources&&"none"==t.resources.orientation&&(j=-1);var q=!1,T=t.isTouchDevice();if(T&&t.touchMode!==!0&&null==t._dragCell&&!(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing))switch(l){case"dayView":case"weekView":var h=a.duration().days()>=1||a.allDay;h?(r>=t.selectedAppointmentBounds.left-15&&r<=t.selectedAppointmentBounds.left+15&&(q=!0,t.leftResize=!0),r>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&r<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(q=!0,t.rightResize=!0)):(s>=t.selectedAppointmentBounds.top-15&&s<=t.selectedAppointmentBounds.top+15&&(q=!0,t.topResize=!0),s>=t.selectedAppointmentBounds.top-15+t.selectedAppointmentBounds.height&&s<=t.selectedAppointmentBounds.top+t.selectedAppointmentBounds.height+15&&(q=!0,t.bottomResize=!0));break;default:r>=t.selectedAppointmentBounds.left-15&&r<=t.selectedAppointmentBounds.left+15&&(q=!0,t.leftResize=!0),r>=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width-15&&r<=t.selectedAppointmentBounds.left+t.selectedAppointmentBounds.width+15&&(q=!0,t.rightResize=!0)}if(T&&(t.leftResize||t.rightResize||t.topResize||t.bottomResize||t.resizing)||q){if(c.getAttribute("data-view")!=j+1&&t._resources.length>0&&"none"!=t.resources.orientation)return!0;var C=t._getDateByString(c.getAttribute("data-date"));if(C<t.min.toDate()||C>t.max.toDate())return;t._handleResize(r,s,c,o,a),t._oldResizeTD=c}else if(!T&&"row-resize"==t.selectedAppointment[0].style.cursor||"col-resize"==t.selectedAppointment[0].style.cursor||t.resizing){if(c.getAttribute("data-view")!=j+1&&t._resources.length>0&&t.resources&&"none"!=t.resources.orientation)return!0;var C=t._getDateByString(c.getAttribute("data-date"));if(C<t.min.toDate()||C>t.max.toDate())return;t._handleResize(r,s,c,o,a),t._oldResizeTD=c}else{if(!a.draggable)return t._removeFeedbackAndStopResize(),!0;if(t._dragCell==c)return t._startTimers(r,s,a),t.isTouchDevice()&&t.touchMode!==!0?(i.stopPropagation(),!1):void 0;var C=t._getDateByString(c.getAttribute("data-date"));if(C<t.min.toDate()||C>t.max.toDate())return;var k=a.duration();if(l.indexOf("month")>=0&&new e.jqx.date(C).add(k)>t.max)return;var S="hidden"==t.vScrollBar[0].style.visibility?0:6+t.vScrollBar.outerWidth();if(t._dragCell=c,t.feedback[0].style.left=2+o.left+"px",t.feedback[0].style.top=2+o.top+"px","dayView"===l||"weekView"===l){t.pinnedfeedback.css("left",2+o.left),t.pinnedfeedback.css("top",2+o.top);var D=0;if(c.getAttribute("data-end-date")){var I=t.appointmentsMinHeight;if(t.isTouchDevice()&&(I=t.touchAppointmentsMinHeight),d.appointmentHeight&&(I=d.appointmentHeight),h=a.duration().days()>=1||a.allDay,t.feedback.css("top",2+o.top+I),t.pinnedfeedback.css("top",2+o.top+18),"dayView"==l){var P=t.selectedAppointment.coord().left-9;t.feedback.css("left",P),t.pinnedfeedback.css("left",P)}if(h){if(t.pinnedfeedback.css("top",a.elements[0].y),D=t.selectedAppointment.width(),2+o.left+D>t.host.width()-S){var A=2+o.left+D-t.host.width()+S+6;D-=A}t.feedback.width(D),t.feedback.height(I),t.pinnedfeedback.width(D),t.pinnedfeedback.height(I)}else D=e(c).width()-4,t.feedback.width(D),t.feedback.height(I),t.pinnedfeedback.width(D),t.pinnedfeedback.height(I);t.feedback.hide(),t.pinnedfeedback.show()}else{t.feedback.show(),t.pinnedfeedback.hide();var B=2,M=d.timeRuler&&d.timeRuler.scale;switch(M){case"sixtyMinutes":case"hour":B=1;break;case"thirtyMinutes":case"halfHour":B=2;break;case"fifteenMinutes":case"quarterHour":B=4;break;case"tenMinutes":B=6;break;case"fiveMinutes":B=12}D=e(c).width()-4,t.feedback.width(D),h=a.duration().days()>=1||a.allDay,h?t.feedback.height(e(c).height()-6):t.feedback.height(t.selectedAppointment.height())}t._startTimers(r,s,a)}else if("monthView"===l){t.feedback.css("left",1+o.left);var H=t.selectedAppointmentTableBounds,z=parseInt(H.top);z>o.top&&z<o.top+c.offsetHeight?t.feedback.css("top",z+"px"):t.feedback.css("top",t.selectedAppointment.height()+o.top-2),t.isTouchDevice()&&t.feedback.css("top",o.top+2),D=t.selectedAppointment.width(),t.feedback.width(D),t.feedback.height(t.selectedAppointment.height()),t._startTimers(r,s,a)}else if("timelineDayView"===l||"timelineMonthView"===l||"timelineWeekView"===l){var H=t.selectedAppointmentTableBounds,z=parseInt(H.top);z>o.top&&z<o.top+c.offsetHeight&&t.feedback.css("top",z+"px"),t._startTimers(r,s,a)}}if(t.endDrag){var u=t.endDrag(a,c,t.feedback);return u||t.feedback.width(b),t.feedback.height(y),t.feedback.css("top",w),t.feedback.css("left",x),!0}if(t.isTouchDevice()&&t.touchMode!==!0)return i.stopPropagation(),!1}});var a=function(e){if(t.isMouseDown=!1,t.dragOrResize=!1,t.contextMenu&&t.menu&&3!==e.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),3===e.which)return!0;if(t.selectedAppointment&&t.feedback){if(t.editRecurrenceDialog.jqxWindow("isOpen"))return;t._handleMouseUp(t.selectedJQXAppointment,t._dragCell,t.resizing)}};if(this.addHandler(e(document),n,function(e){return a(e)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var l=null;if(window.parent&&document.referrer&&(l=document.referrer),l&&-1!=l.indexOf(document.location.host)){
var d=function(e){return t.disabled?void 0:a(e)};t.addHandler(e(window.top.document),"mouseup.jqxscheduler"+t.element.id,d)}}}catch(h){}this.addHandler(this.host,o,function(i){var r=i.pageX,s=i.pageY;if(t.disabled||3===i.which)return!0;if(t.selectedAppointment&&t.isMouseDown)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;if(t._hasOpenedMenu)return!0;if("none"!==t.overlay[0].style.display)return!0;var o=null;i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(o=i.target);for(var n=i.target,a=0;4>a&&n.parentNode;a++)n.className.indexOf("jqx-scheduler-appointment")>=0&&-1==n.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==n.className.indexOf("jqx-scheduler-appointment-content")&&-1==n.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(o=n),n=n.parentNode;if(o){var l=t._views[t._view].type,d=(t._views[t._view],t.getJQXAppointmentByElement(o));if(d.resizable){var h=d.duration(),c=d.allDay||h.days()>=1||23==h.hours()&&59==h.minutes&&59==h.seconds,u=e(o).coord(),p=e(o).position();t.selectedAppointmentBounds={top:u.top,left:u.left,width:e(o).width(),height:e(o).height()},t.selectedAppointmentTableBounds={top:p.top,left:p.left,width:e(o).width(),height:e(o).height()};var f=t.selectedAppointmentBounds;if("weekView"==l||"dayView"==l)c?"dayView"!=l?r>=f.left-3&&r<=f.left+6?(o.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):r>=f.left+f.width-6&&r<=f.left+f.width+3?(o.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):o.style.cursor="pointer":o.style.cursor="pointer":s>=f.top-3&&s<=f.top+6?(o.style.cursor="row-resize",t.topResize=!0,t.bottomResize=!1):s>=f.top+f.height-6&&s<=f.top+f.height+3?(o.style.cursor="row-resize",t.topResize=!1,t.bottomResize=!0):o.style.cursor="pointer";else if("monthView"==l&&d.elements.length>1)for(var m=t.table.coord(),a=0;a<d.elements.length;a++){var g=d.elements[a],f={top:m.top+g.y,left:m.left+g.x,width:g.width,height:g.height};if(0==a&&!t.rtl||a==d.elements.length-1&&t.rtl)if(r>=f.left-3&&r<=f.left+6){if(s>=f.top&&s<=f.top+f.height){o.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1,t.selectedAppointment=e(o);break}o.style.cursor="pointer"}else o.style.cursor="pointer";else if(a==d.elements.length-1&&!t.rtl||0==a&&t.rtl)if(r>=f.left+f.width-6&&r<=f.left+f.width+3){if(s>=f.top&&s<=f.top+f.height){o.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0,t.selectedAppointment=e(o);break}o.style.cursor="pointer"}else o.style.cursor="pointer"}else r>=f.left-3&&r<=f.left+6?(o.style.cursor="col-resize",t.leftResize=!0,t.rightResize=!1):r>=f.left+f.width-6&&r<=f.left+f.width+3?(o.style.cursor="col-resize",t.leftResize=!1,t.rightResize=!0):o.style.cursor="pointer"}}if(!t.enableHover)return!0;if("td"===i.target.nodeName.toLowerCase())var v=i.target;else var v=t.findCell(r,s);if(!v)return!0;if(t._removeHoveredCell(),t.renderedRecords&&0===t.renderedRecords.length)return!0;if(t.isMouseDown){if(Math.abs(t.mousecaptureposition.left-r)>3||Math.abs(t.mousecaptureposition.top-s)>3){if(0===t.mousecaptureposition.clickedcell.length)return void(t.selectionarea[0].style.visibility="hidden");t.lastHoveredCell!=v&&(t._selectRangeTimer&&clearTimeout(t._selectRangeTimer),t._selectRangeTimer=setTimeout(function(){var e=t._views[t._view].type;"agendaView"!=e&&t._selectRange(v,t.mousecaptureposition.clickedcell[0])},1)),t.lastHoveredCell=v}}else if(!o){if(1==t.rows.length&&1==t.rows[0].cells.length)return!0;t._hoverCell(v)}return!0}),this.addHandler(e(document),"keydown.jqxscheduler"+t.element.id,function(e){return t.focused&&e.ctrlKey&&68==e.keyCode?!1:void 0}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)});var c=function(i){var r=(i.target,null);if(t.disabled)return!0;t.menu||3!=i.which||t._initMenu();var s=(t.table.coord(),i.pageX),o=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(s=arguments[1].pageX,o=arguments[1].pageY),t.isTouchDevice()){var n=e.jqx.position(i);if(s=n.left,o=n.top,isNaN(s)||isNaN(o)){var n=e.jqx.position(i.originalEvent);s=n.left,o=n.top}}t.mouseDown={top:o,left:s};var r=t.findCell(s,o);if("td"===i.target.nodeName.toLowerCase())var r=i.target;else var r=t.findCell(s,o);var a=t._views[t._view].type,l=t._views[t._view];if("monthView"===a&&l.weekViewNavigation&&r&&r.getAttribute("data-time-slot")){var d=t._getDateByString(r.getAttribute("data-date")),h=new e.jqx.date(d);t.date=h,t.setView("weekView")}if("monthView"===a&&l.dayViewNavigation){var c=e(r).coord().top;if(r&&o>=c&&c+16>=o){var d=t._getDateByString(r.getAttribute("data-date")),h=new e.jqx.date(d);t.date=h,t.setView("dayView")}}if("span"===i.target.nodeName.toLowerCase()&&(i.target.className.indexOf("jqx-icon-arrow-down")>=0||i.target.className.indexOf("jqx-icon-close")>=0))return i.target.mousedown&&i.target.mousedown(),!0;var u=e(r).parent(),p=u.attr("data-key");t.mousecaptureposition={left:i.pageX,top:i.pageY,clickedrow:e(u).index(),clickedcell:e(r)},3!==i.which?(t.isMouseDown=!0,t.isMouseDownDate=new Date):t.isMouseDown=!1,t.contextMenu&&t.menu&&3!==i.which&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);var f=function(e){if(3===i.which&&t.contextMenu&&t.menu){e?t.menu.find("li:first").show():t.menu.find("li:first").hide();var r=t.menu.coord();if("block"==t.menu.css("display")&&r.left==i.pageX&&r.top==i.pageY)return t._hasOpenedMenu=!0,i.preventDefault(),void i.stopPropagation();t.menuOpening=!0,t.menu.jqxMenu("open",i.pageX,i.pageY),t.menuOpening=!1,t._hasOpenedMenu=!0,i.preventDefault(),i.stopPropagation(),setTimeout(function(){t.menu.jqxMenu("focus")},50)}},m=function(){for(var e=0;e<C.length;e++)for(var t=C[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")},g=i.target.className.indexOf("jqx-scheduler-appointment")>=0&&-1==i.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==i.target.className.indexOf("jqx-scheduler-appointment-content")?e(i.target):e(i.target).parents(".jqx-scheduler-appointment");if(0==g.length&&(g=null),g&&-1==g[0].className.indexOf("feedback")){if(g.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;t.mouseDownPosition={top:o,left:s};var v=e(g).coord();t.selectedAppointmentBounds={top:v.top,left:v.left,width:e(g).width(),height:e(g).height()};var n=e(g).position();t.selectedAppointmentTableBounds={top:n.top,left:n.left,width:e(g).width(),height:e(g).height()},t._dragStartCell||(t._dragStartCell=t.findCell(v.left,v.top));var x=t.getJQXAppointmentByElement(g);t._selectAppointment(x,g,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment}),t.clearSelection();var w=(new Date).getTime(),b=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(b=1e3),t.clickTime||(t.clickTime=new Date),w-t.clickTime.getTime()<b&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which){if(!x.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen"))){var y=t._initDialog(x);y!==!1&&t._openDialog()}t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})}else x.readOnly||3!==i.which&&t.focus();return t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,void(x.readOnly||3==i.which&&f(!0))}if(3===i.which){var _=t.getSelection();if(null!==_)f(!1);else{t.clearAppointmentsSelection(),r.setAttribute("data-selected","true"),t._lastSelectedCell=r,t.focusedCell=r,t._updateCellsSelection(r),f(!1);var j=new e.jqx.date(r.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:r,date:j})}}else 3!=i.which&&t.clearAppointmentsSelection();if("agendaView"==t.view){var g=-1!=i.target.className.indexOf("jqx-scheduler-agenda-appointment");if(g){g=i.target;var x=t.getJQXAppointmentByElement(g);t._selectAppointment(x,g,"mouse"),t._raiseEvent("appointmentClick",{appointment:x.boundAppointment});var w=(new Date).getTime(),b=300;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&(b=1e3),t.clickTime||(t.clickTime=new Date),w-t.clickTime.getTime()<b&&t._lastSelectedAppointment&&x.id==t._lastSelectedAppointment.id&&3!=i.which){if(!x.readOnly&&!t.editRecurrenceDialog.jqxWindow("isOpen")&&(!t._editDialog||t._editDialog&&!t._editDialog.jqxWindow("isOpen"))){var y=t._initDialog(x);y!==!1&&t._openDialog()}t.mouseDownPosition=null,t.isMouseDown=!1,i.preventDefault&&i.preventDefault(),t._raiseEvent("appointmentDoubleClick",{appointment:x.boundAppointment})}t._lastSelectedAppointment=x,i.preventDefault&&i.preventDefault(),i.stopPropagation(),t.clickTime=new Date,x.readOnly||3==i.which&&f(!0)}}if(void 0!==p&&3!=i.which){t.clickedTD=r;var j=new e.jqx.date(r.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellClick",{cell:r,date:j});var q=t.rowinfo[p],T=!1;if(q){var w=(new Date).getTime(),b=300;if(t.clickTime||(t.clickTime=new Date),t.focus(),t._lastSelectedCell&&"true"==t._lastSelectedCell.getAttribute("data-selected")&&"true"===r.getAttribute("data-selected")&&w-t.clickTime.getTime()<b){var j=new e.jqx.date(r.getAttribute("data-date"),t.timeZone);t._raiseEvent("cellDoubleClick",{cell:r,date:j}),T=!0,t._initDialog(),t._openDialog(),i.preventDefault&&i.preventDefault()}}var C=t.rows;if("true"!=r.getAttribute("data-selected")||i.shiftKey||w-t.clickTime.getTime()>b){if("true"==r.getAttribute("data-time-slot"))return;if(i.shiftKey||(t.shiftSelectedCell=null),i.shiftKey&&t._lastSelectedCell&&"agendaView"!=a&&(t.shiftSelectedCell||(t.shiftSelectedCell=t._lastSelectedCell),r.getAttribute("data-view")===t.shiftSelectedCell.getAttribute("data-view")&&m(),t._selectRange(r,t.shiftSelectedCell)),!i.shiftKey){m();var d=t._getDateByString(r.getAttribute("data-date"));d>=t.min.toDate()&&d<=t.max.toDate()?r.setAttribute("data-selected","true"):r.setAttribute("data-selected","false")}e('[data-key="'+p+'"]').removeClass(t.toTP("jqx-scheduler-selected-appointment")),t.selectedAppointment=null;var d=t._getDateByString(r.getAttribute("data-date"));d>=t.min.toDate()&&d<=t.max.toDate()&&(t._lastSelectedCell=r,t.focusedCell=r),t._updateCellsSelection(r),t.openedMonthCellPopup&&t.openedMonthCellPopup.remove()}t.clickTime=new Date,i.stopPropagation&&i.stopPropagation()}};this.addHandler(this.pinnedtable,s,function(e){var t=c(e);return void 0!=t?t:void 0}),this.addHandler(this.table,s,function(e){var t=c(e);return void 0!=t?t:void 0})},moveAppointment:function(t,i,r,s,o){var n=this,a=s.getAttribute("data-end-date");if(t){if(n.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(n._verticalIntervalDragVelocity),clearInterval(n._horizontalIntervalDragVelocity),clearInterval(n._intervalDrag),clearInterval(n._horizontalIntervalDrag);var l=t.duration(),d=t.duration().days()>=1||t.allDay,h=function(h){if(!o){var c=n._views[n._view].type,u=n._views[n._view],p=i;if(t.from=p,"dayView"===c||"weekView"===c)if(d||a){if(!d&&a)t.to=e.jqx.scheduler.utilities.getEndOfDay(p),t.allDay=!0;else if(d&&a)t.to=p.add(l);else if(d&&!a){var f=30,m=u.timeRuler&&u.timeRuler.scale;switch(m){case"sixtyMinutes":case"hour":f=60;break;case"fifteenMinutes":case"quarterHour":f=15;break;case"tenMinutes":f=10;break;case"fiveMinutes":f=5}t.to=p.addMinutes(f),t.allDay=!1}}else t.to=p.add(l),t.allDay=!1;else"monthView"===c?t.to=p.add(l):"timelineDayView"!==c&&"timelineWeekView"!==c&&"timelineMonthView"!==c||(t.to=p.add(l))}if(n._saveChangesAfterDragOrResize(h,t,s,o),null!=r&&(t.resourceId=r),n.table.find(".jqx-icon-arrow-down").hide(),t.allDay||d)n._renderrows();else{var g=n.getViewStart(),v=e.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd());n._prepareAppointmentsInView(g,v),n._renderAppointments(g,v)}n._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),n.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},n._ensureAppointmentVisible(n.selectedJQXAppointment)};h(t.isRecurrentAppointment()?!1:null)}},getAppointmentProperty:function(e,t){var i=null;return this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i?i[t]:void 0},setAppointmentProperty:function(t,i,r){var s=this,o=null;if(this.appointmentsByKey[t]&&(o=this.appointmentsByKey[t].jqxAppointment),o)switch(o[i]=r,s.changedAppointments[t]={type:i,appointment:o.boundAppointment},t){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var n=s.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(n,a),s._renderAppointments(n,a);break;case"hidden":case"timeZone":if(o.isAllDayAppointment())s._renderrows();else{var n=s.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(n,a),s._renderAppointments(n,a)}break;default:s._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=e.rootAppointment?e.rootAppointment.exceptions:e.exceptions,r=0;r<i.length;r++)if(i[r].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[r]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var s=e.id;delete t.appointmentsByKey[s];for(var o=-1,r=0;r<t.appointments.length;r++)if(t.appointments[r]==e.boundAppointment||t.appointments[r].id==e.boundAppointment.id){o=r;break}-1!=o&&t.appointments.splice(o,1),o=-1;for(var r=0;r<t.uiappointments.length;r++)if(t.uiappointments[r]==e||t.uiappointments[r].id==e.id){o=r;break}-1!=o&&t.uiappointments.splice(o,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[o+1]?t.selectAppointment(t.uiappointments[o+1].id):t.uiappointments[o-1]?t.selectAppointment(t.uiappointments[o-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[s]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(t){var i=this;if(t.scheduler||(t.scheduler=this),!t.duration)if(t.from||t.to){var r=new e.jqx.scheduler.appointment;for(var s in t)r[s]=t[s];t=r}else{var o=t,n={},a=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var s in i.appointmentDataFields){var l=i.appointmentDataFields[s],d=o[l];if("from"!=s&&"to"!=s||(d=new e.jqx.date(d)),"style"==s&&d){var h=i.getAppointmentColors(d);n.color=h.color,n.background=h.background,n.borderColor=h.border}if("recurrencePattern"==s&&d&&(d=new e.jqx.scheduler.recurrencePattern(d),d.timeZone=o.timeZone||i.timeZone),"recurrenceException"==s){var c=new Array;if(d){d.indexOf("EXDATE:")>=0&&(d=d.substring(d.indexOf("EXDATE:")+7));var u=new Array;d.indexOf(",")>=0?u=d.split(","):u.push(d);for(var p=0;p<u.length;p++){var f=u[p];if(f.indexOf(";")>=0){var m=f.split(";")[1];f=f.split(";")[0],m.toLowerCase().indexOf("display")>=0&&m.toLowerCase().indexOf("none")&&(n.hidden=!0)}try{var g=e.jqx.scheduler.utilities.untilStringToDate(f);"Invalid Date"!=g&&(g=n.timeZone?new e.jqx.date(g,n.timeZone):i.timeZone?g.toTimeZone(i.timeZone):new e.jqx.date(g))}catch(v){var g=new e.jqx.date(f,i.timeZone)}c.push(g)}}d=c}n[s]=d}for(var x in a){var s=a[x];if(void 0==n[s]){var d="";if("originalData"==s)continue;"ownerId"==s&&(d=null),"timeZone"==s&&(d=null),"recurrencePattern"==s&&(d=null),"recurrenceException"==s&&(d=null),"allDay"==s&&(d=!1),"draggable"==s&&(d=!0),"resizable"==s&&(d=!0),"hidden"==s&&(d=!1),"resourceId"==s&&(d=null),"from"==s&&(d=new e.jqx.date),"to"==s&&(d=(new e.jqx.date).addHours(1)),n[s]=d}}n.originalData=o;var t=new e.jqx.scheduler.appointment(n);n.timeZone&&(t.from=t.from.toTimeZone(n.timeZone),t.to=t.to.toTimeZone(n.timeZone)),i.timeZone?(n.timeZone||(t.timeZone=i.timeZone),t.from=t.from.toTimeZone(i.timeZone),t.to=t.to.toTimeZone(i.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null))}var s=i.dataview.generatekey();t.id=s,i.appointmentsByKey[s]=t,i.appointments.push(t);var w={},b={};for(var y in i.appointmentDataFields){var l=i.appointmentDataFields[y],d=t[y];w[y]=d,"from"!=y&&"to"!=y||(d=d.toDate()),b[l]=d}w.originalData=b,t.boundAppointment=w,w.jqxAppointment=t,t.jqxAppointment=t,i._raiseEvent("appointmentAdd",{appointment:t.boundAppointment}),i.uiappointments.push(t),i.changedAppointments[s]={type:"Add",appointment:t.boundAppointment},i.hiddenResources&&i.hiddenResources[t.resourceId]?i.hideAppointmentsByResource(t.resourceId):i._renderrows(),i._selectAppointment(t),i._lastSelectedAppointment=t},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,r=0;i>0&&e.rtl&&(i=0,r=1);for(var s=0;s<t.length;s++)for(var o=t[s].cells,n=i;n<o.length-r;n++){var a=o[n];if("true"==a.getAttribute("data-selected")){var l=a.jqxClassName||a.className;if(l.indexOf("jqx-fill-state-pressed")>=0){a!=e.focusedCell?(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,"")):a==e.focusedCell&&e.focused&&(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}l=l.replace(" jqx-fill-state-pressed",""),l=l.replace(" jqx-fill-state-pressed-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),l=l.replace(" jqx-grid-cell-selected",""),l=l.replace(" jqx-grid-cell-selected-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-selected",""),l=l.replace(" jqx-scheduler-cell-selected-"+e.theme,""),l=l+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l}else{var l=a.jqxClassName||a.className;if(-1==l.indexOf("jqx-fill-state-pressed")){a!=e.focusedCell?(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,"")):a==e.focusedCell&&e.focused&&(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus"))),a.className!=l&&(a.className=l),a.jqxClassName=l;continue}a==e.focusedCell&&e.focused&&(l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l),l=l.replace(" jqx-fill-state-pressed",""),l=l.replace(" jqx-fill-state-pressed-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-focus",""),l=l.replace(" jqx-scheduler-cell-focus-"+e.theme,""),l=l.replace(" jqx-grid-cell-selected",""),l=l.replace(" jqx-grid-cell-selected-"+e.theme,""),l=l.replace(" jqx-scheduler-cell-selected",""),l=l.replace(" jqx-scheduler-cell-selected-"+e.theme,""),a==e.focusedCell&&e.focused&&!e.selectedAppointment&&(l=l+=" "+e.toTP("jqx-scheduler-cell-focus")),a.className!=l&&(a.className=l),a.jqxClassName=l,a.removeAttribute("data-selected")}}},_getuikey:function(t,i){var r=null,s=this.table[0].rows;if(r=e(s[t]).attr("data-key"),e(s[t]).attr("data-role")){var o=e(s[t]);if("next"==i){for(;o;)if(o=o.next()){var n=o.attr("data-role");if(!n)return r=o.attr("data-key")}}else if("prev"==i)for(;o;)if(o=o.prev()){var n=o.attr("data-role");if(!n)return r=o.attr("data-key")}return null}return r},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var r=24,s=this.showAllDayRow;if(t.timeRuler&&("dayView"===e||"weekView"===e)){var o=0,n=23;if(void 0!=t.timeRuler.scaleStartHour)var o=parseInt(t.timeRuler.scaleStartHour);if(void 0!=t.timeRuler.scaleEndHour)var n=parseInt(t.timeRuler.scaleEndHour);0>o&&(o=0),0>n&&(n=23),o>23&&(o=0),n>23&&(n=23),r=n-o+1,void 0!=t.timeRuler.showAllDayRow&&(s=t.timeRuler.showAllDayRow)}var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:var l=2*r;if("hour"===i||"sixtyMinutes"===i)var l=r;else if("quarterHour"===i||"fifteenMinutes"===i)var l=4*r;else if("tenMinutes"===i)var l=6*r;else if("fiveMinutes"===i)var l=12*r;s&&l++;break;case"monthView":var l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":var l=1;break;case"agendaView":var l=this.appointments?this.appointments.length:0}for(var d=0;l>d;d++)a.push({uid:d});return a},_getDateByString:function(e){var t=e.split(" "),i=t[0].split("-"),r=t[1].split(":"),s=parseInt(i[0],10),o=parseInt(i[1],10)-1,n=parseInt(i[2],10),a=parseInt(r[0],10),l=parseInt(r[1],10),d=parseInt(r[2],10),h=new Date(s,o,n,a,l,d);return 1970>s&&h.setFullYear(s,o,n),h},_getCellByDate:function(e,t,i){var r=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var s=0;s<r.length;s++){var o=r[s];if(!o.element.getAttribute("data-group-row"))for(var n=0;n<o.cells.length;n++){var a=o.cells[n];if(null==a.getAttribute("rowspan")&&a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date"))){var l=a.getAttribute("data-date"),d=this._getDateByString(l);if(d.valueOf()==e.valueOf())return a}}}},_handleKey:function(t){if(this._loading)return!0;var i=t.shiftKey,r=t.ctrlKey||t.metaKey,s=this,o=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(s._hasOpenedMenu)return 27==o?s.closeMenu():s.menu.jqxMenu("focus"),!0;if(13===o||s.selectedAppointment&&46==o){if(s.editRecurrenceDialog&&s.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(s._editDialog&&s._editDialog.jqxWindow("isOpen"))return!0;if(s.selectedAppointment){var n=s.getJQXAppointmentByElement(s.selectedAppointment);if(!n.readOnly)if(46==o){var a=s._initDialog(n,"delete");a!==!1&&s._openDialog()}else{var a=s._initDialog(n);a!==!1&&s._openDialog()}}else s._initDialog(),s._openDialog()}if(27===o&&s.dragOrResize){s.table.find(".jqx-icon-arrow-down").hide();var l=s.getViewStart(),d=e.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());return s._prepareAppointmentsInView(l,d),s._renderAppointments(l,d),s._removeFeedbackAndStopResize(),!1}var h=function(t){var o=s.selectedAppointment,n=s.getJQXAppointmentByElement(o),a=n.elements[0].cells[0].cell,l=n.elements[n.elements.length-1].cells[n.elements[n.elements.length-1].cells.length-1].cell,d=s.rows[s.rows.length-1].cells[s.rows[s.rows.length-1].cells.length-1];!i&&(i||r||"down"!=t&&"right"!=t)||(a=l);var h=s._views[s._view].type,c=(s._views[s._view],a);switch(t){case"left":var u=s.rowByCell[a.getAttribute("data-key")],p=u.indexOf(a);if(p>0&&!i)c=u.cells[p-1];else if("monthView"==h&&!i){var f=u.aboveRow;f&&(c=f.cells[f.cells.length-1])}break;case"right":var u=s.rowByCell[a.getAttribute("data-key")],p=u.indexOf(a);if(p<u.cells.length-1)c=u.cells[p+1];else if("monthView"==h){var m=u.belowRow;m&&(c=m.cells[0])}"monthView"==h&&!i&&r&&l==d&&(c=a);break;case"up":var u=s.rowByCell[a.getAttribute("data-key")],p=u.indexOf(a),f=u.aboveRow;f&&!i&&(c=f.cells[p]);break;case"down":var u=s.rowByCell[a.getAttribute("data-key")],p=u.indexOf(a),m=u.belowRow;m&&(c=m.cells[p])}var g=c.getAttribute("data-date"),v=new e.jqx.date(g,s.timeZone),h=e(c).attr("data-view"),x=s._resources[parseInt(h)-1];if(i){var h=s._views[s._view].type,w=(s._views[s._view],!1);"dayView"===h||"weekView"===h?a.getAttribute("data-end-date")?"left"==t&&(n.elements[0].cells.length>1||s.rtl)?(s.rtl?n.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(1)):n.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(-1)),w=!0):"right"==t&&((!s.rtl||s.rtl&&n.elements[0].cells.length>1)&&(n.to=e.jqx.scheduler.utilities.getEndOfDay(v)),w=!0):"up"==t&&n.elements[0].cells.length>1?(n.to=v,w=!0):"down"==t&&(n.to=v.addMinutes(s.getMinutesPerScale()),w=!0):h.indexOf("month")>=0?"left"==t&&(n.elements[0].cells.length>1||n.elements.length>1)?(n.to=e.jqx.scheduler.utilities.getEndOfDay(v.addDays(-1)),w=!0):"right"==t&&(n.to=e.jqx.scheduler.utilities.getEndOfDay(v),w=!0):!s.rtl&&"left"==t&&n.elements[0].cells.length>1||s.rtl&&"right"==t&&n.elements[0].cells.length>1?(n.to=v,s.rtl&&(n.to=v.addMinutes(s.getMinutesPerScale())),w=!0):(!s.rtl&&"right"==t||s.rtl&&"left"==t)&&(n.to=v.addMinutes(s.getMinutesPerScale()),s.rtl&&(n.to=n.to.addMinutes(s.getMinutesPerScale())),w=!0),w&&s.moveAppointment(n,v,x,c,!0)}else if(r)s.moveAppointment(n,v,x,c);else{s.clearAppointmentsSelection();var b=!0;"down"==t&&(b=!1),s.selectCell(v,b,h),s._ensureVisible(c)}if(s.selectedAppointment){s.selectedAppointment.removeClass(s.toTP("jqx-scheduler-selected-appointment"));var y=s.selectedAppointment.attr("data-key");e('[data-key="'+y+'"]').addClass(s.toTP("jqx-scheduler-selected-appointment")),s.clearSelection()}};if(t.altKey&&s._resourcesElements&&s._resources&&s._resources.length>0){var c=function(e){var t=s._resourcesElements.bottom[e];"on"==t.attr("data-toggle")?s.hideAppointmentsByResource(e):s.showAppointmentsByResource(e)},u=o>=49&&58>=o?u=o-48:-1;if(u>=1)return e.each(s._resources,function(e,t){return e==u-1?(c(t),!1):void 0}),!1}if(t.ctrlKey){if(!s.selectedAppointment){if(37==o)return s.toolbarLeftButton.trigger("click"),s._ensureVisible(s.focusedCell),!1;if(39==o)return s.toolbarRightButton.trigger("click"),s._ensureVisible(s.focusedCell),!1}if(49==o)return s._setView(0),!1;if(50==o)return s._setView(1),!1;if(51==o)return s._setView(2),!1;if(52==o)return s._setView(3),!1;if(53==o)return s._setView(4),!1;if(54==o)return s._setView(5),!1;if(68==o)return s.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==o)return s.openMenu(),!1}if(9==o)if(t.shiftKey)if(s.selectedAppointment){s.clearSelection();var p=s.selectedAppointment,n=s.getJQXAppointmentByElement(p);if(n){var f=s.tabKeyAppointments.indexOf(n);return f>0?(n=s.tabKeyAppointments[f-1],s._selectAppointment(n),s._lastSelectedAppointment=n,s._ensureAppointmentVisible(n),!1):(s.clearAppointmentsSelection(),s.focusedCell?s.focusedCell&&-1==s.focusedCell.className.indexOf("-focus")?(s._updateCellsSelection(),s._ensureVisible(s.focusedCell),!1):!0:(s._updateFocusedCell(),s._ensureVisible(s.focusedCell),!1))}}else if(s.focusedCell){if(s.focusedCell&&-1==s.focusedCell.className.indexOf("-focus"))return s._updateCellsSelection(),s._ensureVisible(s.focusedCell),!1}else s._updateFocusedCell(),s._ensureVisible(s.focusedCell);else{if(s.selectedAppointment){s.clearSelection();var p=s.selectedAppointment,n=s.getJQXAppointmentByElement(p),f=s.tabKeyAppointments.indexOf(n);return f<s.tabKeyAppointments.length-1?(n=s.tabKeyAppointments[f+1],s._selectAppointment(n),s._lastSelectedAppointment=n,s._ensureAppointmentVisible(n),!1):(s.clearAppointmentsSelection(),!0)}var n=s.tabKeyAppointments[0];if(n)return s._selectAppointment(n),s._lastSelectedAppointment=n,s._ensureAppointmentVisible(n),!1;if(!s.focusedCell)return s._updateFocusedCell(),s._ensureVisible(s.focusedCell),!1;if(s.focusedCell&&-1==s.focusedCell.className.indexOf("-focus"))return s._updateCellsSelection(),s._ensureVisible(s.focusedCell),!1}if(s.selectedAppointment){if(37==o?h("left"):38==o?h("up"):40==o?h("down"):39==o&&h("right"),o>=37&&40>=o)return!1}else{var m=this._lastSelectedCell;if(m){e(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],m=this._lastSelectedCell);var g=(this.rows,this._views[this._view].type),v=this._views[this._view],x="halfHour";v.timeRuler&&v.timeRuler.scale&&(x=v.timeRuler.scale);var w=function(i,r){var o=30;switch(x){case"sixtyMinutes":case"hour":o=60;break;case"thirtyMinutes":case"halfHour":o=30;break;case"fifteenMinutes":case"quarterHour":o=15;break;case"tenMinutes":o=10;break;case"fiveMinutes":o=5}var n=i.getAttribute("data-date"),a=function(e,i,r){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==g)&&null==e.getAttribute("data-time-slot")){if(r<s.min||r>s.max)return;var o=s.rows,n=s._lastSelectedCell;if(s._lastSelectedCell=e,t.shiftKey&&s._lastSelectedCell?s.shiftSelectedCell||(s.shiftSelectedCell=m):t.shiftKey||(s.shiftSelectedCell=null),s.shiftSelectedCell)e.getAttribute("data-end-date")&&s.shiftSelectedCell.getAttribute("data-end-date")?(s.focusedCell=e,s._selectRange(e,s.shiftSelectedCell)):e.getAttribute("data-end-date")||s.shiftSelectedCell.getAttribute("data-end-date")?(s.focusedCell=n,s._lastSelectedCell=n):(s.focusedCell=e,s._selectRange(e,s.shiftSelectedCell));else{for(var a=0;a<o.length;a++){var l=o[a];if(!l.element.getAttribute("data-group-row"))for(var d=0;d<l.cells.length;d++){var i=l.cells[d];i.removeAttribute("data-selected","false")}}e.setAttribute("data-selected","true"),s.focusedCell=e}s._ensureVisible(s.focusedCell)}};new e.jqx.date(n,s.timeZone),i.getAttribute("data-view");switch(r){case"left":var l=s.rowByCell[i.getAttribute("data-key")],d=l.indexOf(i);if(d>0)var h=l.cells[d-1],c=new e.jqx.date(h.getAttribute("data-date"),s.timeZone);a(h,i,c);break;case"right":var l=s.rowByCell[i.getAttribute("data-key")],d=l.indexOf(i);if(d<l.cells.length-1)var h=l.cells[d+1],c=new e.jqx.date(h.getAttribute("data-date"),s.timeZone);a(h,i,c);break;case"up":var l=s.rowByCell[i.getAttribute("data-key")],d=l.indexOf(i),u=l.aboveRow;if(u){var h=u.cells[d];if(0==d&&h.getAttribute("rowspan"))for(var p=-1+s.rows.indexOf(l),h=i;p>=0;){if(s.rows[p].cells[0]!=h){h=s.rows[p].cells[0];break}p--}var c=new e.jqx.date(h.getAttribute("data-date"),s.timeZone);a(h,i,c)}break;case"down":var l=s.rowByCell[i.getAttribute("data-key")],d=l.indexOf(i),f=l.belowRow;if(f){var h=f.cells[d];if(0==d&&h.getAttribute("rowspan"))for(var p=1+s.rows.indexOf(l),h=i;p<s.rows.length;){if(s.rows[p].cells[0]!=h){h=s.rows[p].cells[0];break}p++}var c=new e.jqx.date(h.getAttribute("data-date"),s.timeZone);a(h,i,c)}break;case"home":var l=s.rowByCell[i.getAttribute("data-key")],d=l.indexOf(i),v=s.rows[0],h=v.cells[d],c=new e.jqx.date(h.getAttribute("data-date"),s.timeZone);a(h,i,c);break;case"end":var l=s.rowByCell[i.getAttribute("data-key")],d=l.indexOf(i),w=s.rows[s.rows.length-1],h=w.cells[d],c=new e.jqx.date(h.getAttribute("data-date"),s.timeZone);a(h,i,c)}s._updateCellsSelection()},b=function(){w(m,"home")},y=function(){w(m,"end")};return 36==o||r&&38==o?(b(),!1):35==o||r&&40==o?(y(),!1):37==o?(s.selectedAppointment?h(m,"left"):w(m,"left"),!1):38==o?(s.selectedAppointment?h(m,"up"):w(m,"up"),!1):40==o?(s.selectedAppointment?h(m,"down"):w(m,"down"),!1):39==o?(s.selectedAppointment?h(m,"right"):w(m,"right"),!1):void 0}}},getSelectedCells:function(){for(var e=this,t=e.rows,i=t.length,r=new Array,s=0;i>s;s++)for(var o=t[s].cells,n=0;n<o.length;n++)o[n].getAttribute("data-selected")&&r.push(o[n]);return r.sort(function(t,i){return e._sortByDate(t,i)})},getSelection:function(){var t=this,i=t.getSelectedCells();if(0==i.length)return null;var r=i[0].getAttribute("data-date"),s=i[i.length-1].getAttribute("data-date"),o=t.getMinutesPerScale(),n=t._views[t._view].type;n.toLowerCase().indexOf("month")>=0&&(o=0),i[0].getAttribute("data-end-date")&&(o=0),s=new e.jqx.date(s,t.timeZone).addMinutes(o);var n=parseInt(i[0].getAttribute("data-view"))-1,a=t._resources[n];
return t._views[t._view].type.toLowerCase().indexOf("month")>=0?{from:new e.jqx.date(r,t.timeZone),to:e.jqx.scheduler.utilities.getEndOfDay(s),resourceId:a}:{from:new e.jqx.date(r,t.timeZone),to:s,resourceId:a}},clearSelection:function(){for(var e=this,t=e.rows,i=t.length,r=0;i>r;r++)for(var s=t[r].cells,o=0;o<s.length;o++)s[o].removeAttribute("data-selected");e._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,r,s){this.rtl&&(e=this.hScrollInstance.max-e);var o=0,n=-1,a=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var l=0;i+r>l;l++){if(this.columns.records[l].hidden||(o+=this.columns.records[l].width),o>=e&&-1==n&&(n=l),o>t+e){a=l;break}}return a++,a>i+r&&(a=i+r),-1==n&&(n=0),{start:n,end:a}},_renderhorizontalscroll:function(){var t=this,i=t.hScrollInstance,r=i.value;"hidden"===t.hScrollBar[0].style.visibility&&(i.value=0,r=0);var s=parseInt(r);if(null!=t.table){for(var o=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},n=t._getvirtualcolumnsindexes(s,t._hostWidth,0,t.columns.records.length,!1),a=n.start,l=n.end,d=(t.rows,0);a>d;d++){var h=d,c=t.columns.records[h].element[0];o(c)&&c.parentNode.removeChild(c)}for(var d=l;d<t.columns.records.length;d++){var h=d,c=t.columns.records[h].element[0];o(c)&&c.parentNode.removeChild(c)}for(var d=a;l>d;d++){var h=d;c=t.columns.records[h].element[0],o(c)||t.columnsrow[0].appendChild(c)}var u=t.columnsrow,p=0;t.columns.records.length-p,t.columns.records,0==t.source.records.length;if(t.rtl&&"hidden"!=t.hScrollBar.css("visibility")&&(s=i.max-s),t.table[0].style.left=-s+"px","block"==t.pinnedtable[0].style.display&&(t.pinnedtable[0].style.left=-s+"px"),t._resources.length>0&&t.tableRows>0)for(var f=0;f<this.table[0].rows.length;f++){var m=this.table[0].rows[f];m.getAttribute("data-group-row")&&e(m).find("span").css("left",5+s)}u[0].style.marginLeft=-s+"px"}},_getDayName:function(e,t){e>=7&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var t=this._views[this._view].type,i=this._views[this._view];if(i.timeSlotWidth&&(i.timeSlotWidth=Math.max(i.timeSlotWidth,30),i.columnWidth=i.timeSlotWidth),i.columnWidth&&i.columnWidth<30&&(i.columnWidth=30),this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);this.columns=new Array;for(var s=new Array,o=this,n=function(t,r){var s="halfHour";i.timeRuler&&i.timeRuler.scale&&(s=i.timeRuler.scale);var n=24,a=0,l=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)var a=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)var l=parseInt(i.timeRuler.scaleEndHour);0>a&&(a=0),0>l&&(l=23),a>23&&(a=0),l>23&&(l=23),n=l-a+1}var d=60,h=2;if(s)switch(s){case"sixtyMinutes":case"hour":h=1;break;case"thirtyMinutes":case"halfHour":h=2;break;case"fifteenMinutes":case"quarterHour":h=4;break;case"tenMinutes":h=6;break;case"fiveMinutes":h=12}var c=(new Array,"auto");i.timeRuler&&i.timeRuler.formatString&&(c=i.timeRuler.formatString);var u=a,p=n,f=t.addHours(u),m="auto";m=i.columnWidth?h*i.columnWidth:80*h;for(var g=0;p>g;g++){var v=f.toDate();if("auto"===c)if(0==v.getHours()&&0==v.getMinutes()||12==v.getHours()&&0==v.getMinutes())var x="hh tt";else var x="hh:mm";else if(e.isFunction(c))var x=c(v);else x=c;e.jqx.dataFormat.isDate(v)&&(v=e.jqx.dataFormat.formatdate(v,x,o.schedulerLocalization)),f=f.addMinutes(d,!1),o.columns.push({columnGroup:r,text:v,minwidth:30,width:m})}},a=0;a<this.tableColumns;a++){if(this.tableColumns>1){var l=o._resources[a]?o._resources[a]:"Resource"+a;s.push({text:l,name:l})}var d="left";switch(this.rtl&&(d="right"),t){case"dayView":var h=this.getViewStart();!1===i.showWeekends&&(0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)),0!==h.dayOfWeek()&&6!==h.dayOfWeek()||(h=h.addDays(1)));var c="auto";i&&i.columnWidth&&(c=i.columnWidth);var l=o._resources[a]?o._resources[a]:"Resource"+a;this.columns.push({align:d,width:c,columnGroup:l,text:this._getDayName(h.dayOfWeek())});break;case"weekView":case"monthView":for(var r=0;7>r;r++){var u=this.schedulerLocalization.firstDay+r;if(!1!==i.showWeekends||0!==r&&6!==r){var c="auto";i&&i.columnWidth&&(c=i.columnWidth);var l=o._resources[a]?o._resources[a]:"Resource"+a;this.columns.push({align:"weekView"==t?d:"center",width:c,columnGroup:l,text:this._getDayName(u)})}}break;case"timelineDayView":var l=o._resources[a]?o._resources[a]:"Resource"+a;n(o.getViewStart(),l);break;case"timelineWeekView":for(var r=0;7>r;r++){var u=this.schedulerLocalization.firstDay+r;if(!1!==i.showWeekends||0!==r&&6!==r){var l=o._resources[a]?o._resources[a]:"Resource"+a;s.push({align:o.rtl?"right":"left",parentGroup:l,name:this._getDayName(u)+a,text:this._getDayName(u)}),n(o.getViewStart().addDays(r),this._getDayName(u)+a)}}break;case"timelineMonthView":var p=o.getViewStart(),f="auto";i.timeRuler&&i.timeRuler.formatString&&(f=i.timeRuler.formatString);for(var r=0;41>r;r++){var u=p.dayOfWeek();if(!1!==i.showWeekends||0!==u&&6!==u){var c="auto";c=i.columnWidth?i.columnWidth:100;var m=p.toDate();if("auto"===f){var g="dd";m=p.toDate(),1===m.getDate()&&(g="MMM dd")}else if(e.isFunction(f))var g=f(m);else g=f;e.jqx.dataFormat.isDate(m)&&(m=e.jqx.dataFormat.formatdate(m,g,o.schedulerLocalization)),p=p.addDays(1);var l=o._resources[a]?o._resources[a]:"Resource"+a;o.columns.push({minwidth:30,columnGroup:l,text:m,width:c})}}break;case"agendaView":var v=i.dateColumnWidth,x=i.timeColumnWidth,w=i.appointmentColumnWidth;w||(w="70%"),x||(x="auto"),v||(v="auto"),o.columns.push({text:o.schedulerLocalization.agendaDateColumn,width:v}),o.columns.push({text:o.schedulerLocalization.agendaTimeColumn,width:x}),o.columns.push({text:o.schedulerLocalization.agendaAppointmentColumn,width:w})}}s.length>0&&(this.columnGroups=s);var o=this,b=new e.jqx.schedulerDataCollection(this.element),y=0;this._columns=this.columns;var _="left",j=new e.jqx.scheduler.column(o,this);j.visibleindex=y++,j.text="",j.width=o.timeRulerWidth,j.editable=!1,j.timeColumn=!0,_="left",j.text="",j.hidden=!1,j.width=o.timeRulerWidth;var q=!1;!i.timeRuler||"dayView"!==t&&"weekView"!==t?"dayView"!==t&&"weekView"!==t&&(j.hidden=!0):(j._text=i.timeRuler.text||"",_=i.timeRuler.position||"left",j.hidden=i.timeRuler.hidden||!1,j.width=i.timeRuler.width||o.timeRulerWidth,i.timeRuler.timeZones&&(q=!0));var T=function(s){var n=new e.jqx.scheduler.column(o,o);n.visibleindex=y++,n.text="",n.width=o.timeRulerWidth,n.editable=!1,n.timeColumn=!0,_="left",n.text="",n.hidden=!1,n.timeZone=i.timeRuler.timeZones[s].id,n.width=o.timeRulerWidth,!i.timeRuler||"dayView"!==t&&"weekView"!==t||(n._text=i.timeRuler.timeZones[r].text||"",n.hidden=i.timeRuler.hidden||!1,n.width=i.timeRuler.width||o.timeRulerWidth,b.add(n))};if("left"===_&&("dayView"===t||"weekView"===t)){if(i.timeRuler&&i.timeRuler.timeZones)for(var r=0;r<i.timeRuler.timeZones.length;r++)T(r);b.add(j)}"left"===_&&"monthView"===t&&i.showWeekNumbers&&(j.hidden=!1,b.add(j));new Array;if(e.each(this.columns,function(t){if(void 0!=o.columns[t]){var i=new e.jqx.scheduler.column(o,this);i.visibleindex=y++,b.add(i)}}),"right"===_&&("dayView"===t||"weekView"===t)){if(i.timeRuler)for(var r=0;r<i.timeRuler.timeZones.length;r++)T(r);b.add(j)}"right"===_&&"monthView"===t&&i.showWeekNumbers&&(j.hidden=!1,b.add(j)),this.rtl&&b.records.reverse(),this.columns=b},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":i=t.showWeekends!==!1?7:5;break;case"monthView":i=t.showWeekends!==!1?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":i=this.columns.records.length;break;case"agendaView":i=this.columns.records.length}return i},_renderagenda:function(){function t(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}var i=this,r=(i._views[i._view].type,i._views[i._view]),s=i.getViewStart(),o=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd().addDays(-1));i._prepareAppointmentsInView(s,o);for(var n=i.appointmentsToRender.length,a=new Array,l=0,d=0;d<i.appointmentsToRender.length;d++)for(var h=i.appointmentsToRender[d],c=h.from.clearTime();c<e.jqx.scheduler.utilities.getEndOfDay(h.to);){var u=c.toString();a[u]?(a[u].appointments.push(h),l++):(a[u]={date:c,appointments:new Array},a[u].appointments.push(h),a[a.length]=a[u],l++),c=c.addDays(1).clearTime()}var p=0,f=0;i.rows=new Array;for(var m=e.jqx.browser.msie&&e.jqx.browser.version<8,g=0,v=0,x=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",w=0,b="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+x+"' id='table"+i.element.id+"'><colgroup>",y=i.columns.records.length,_=0;y>_;_++){var j=i.columns.records[_];if(j.hidden)g++,nonHiddenColumns--;else{var q=j.width;if(q<j.minwidth&&(q=j.minwidth),q>j.maxwidth&&(q=j.maxwidth),q-=v,0>q&&(q=0),m){var T=q;_==g&&T++,b+="<col style='max-width: "+T+"px; width: "+T+"px;'>"}else b+="<col style='max-width: "+q+"px; width: "+q+"px;'>";w+=q}}if(b+="</colgroup>",0==n){var C='<tr role="row">',k=this.host.height(),S=0;S+=i.columnGroups?i.showHeader?i.columnsheader.height():0:i.showHeader?i.columnsHeight:0,i.showToolbar&&(S+=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(S+=i.legendHeight),k-=S;var D='<td data-date="'+s.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+k+"px; height: "+k+"px; max-width:"+w+"px; width:"+w+"px;",I=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");I+=" "+this.toTP("jqx-center-align"),D+='" class="'+I+'">',D+=this.schedulerLocalization.emptyDataString,D+="</td>",C+=D,C+="</tr>",b+=C,this.table[0].style.width=w+2+"px",f=w}var P=i.rowsHeight;i.isTouchDevice()&&(rowsHeight=i.touchRowsHeight);for(var d=0;d<a.length;d++)for(var A=d,c=a[d],B=0;B<c.appointments.length;B++){var M=0,C='<tr data-key="'+A+'" role="row">';p=0;for(var H=c.appointments[B],_=0;y>_;_++){var z=i.columns.records[_],E=_;i.rtl&&(E=y-1-_);var q=z.width;q<z.minwidth&&(q=z.minwidth),q>z.maxwidth&&(q=z.maxwidth),q-=v,0>q&&(q=0);var I=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");i.rtl&&(I+=" "+i.toTP("jqx-cell-rtl"));var O="",A=i.dataview.generatekey(),L=-1,N=c.date,k=P+"px",D='<td data-key="'+A+'" data-view="'+L+'" data-date="'+N.toString()+'" role="gridcell" '+O+' style="max-width:'+q+"px; width:"+q+"px; height: "+k+"; min-height: "+P+"px;";if(0==E&&0==B){var F=c.appointments.length,D='<td rowspan="'+F+'" data-key="'+A+'" data-view="'+L+'" data-date="'+N.toString()+'" role="gridcell" '+O+' style="max-width:'+q+"px; width:"+q+"px;  min-height: "+P+"px;";I+=" "+i.toTP("jqx-center-align")}else if(0==E){p++;continue}i.rtl&&1==E&&(I+=" "+i.toTP("jqx-right-align")),z.hidden?(D+="display: none;",i._hiddencolumns=!0):(M+=v+q,D+=0!=p||i.rtl?"border-left-width: 1px;":"border-left-width: 0px;",p++),D+='" class="'+I+'">';var R="";if(0==E&&0==B){var W=N.toString("dddd",i.schedulerLocalization),V=N.toString("MMMM, yyyy",i.schedulerLocalization),G=i.toTP("jqx-scheduler-agenda-date"),U=i.toTP("jqx-scheduler-agenda-day"),$=i.toTP("jqx-scheduler-agenda-week");R='<div class="'+G+'"><strong class="'+U+'">'+N.day()+'</strong><br/><em class="'+$+'">'+W+'</em><br/><span class="'+G+'">'+V+"</span></div>"}if(1==E){var Y="auto",r=this._views[this._view],K=H.from,X=H.to;r.timeRuler&&r.timeRuler.formatString&&(Y=r.timeRuler.formatString);var Z=Y,J=Y;if("auto"===Y){if(0==K.hour()&&0==K.minute()||12==K.hour()&&0==K.minute())var Z="hh tt";else var Z="hh:mm";if(0==X.hour()&&0==X.minute()||12==X.hour()&&0==X.minute())var J="hh tt";else var J="hh:mm"}var G=i.toTP("jqx-scheduler-agenda-time");R=H.allDay?"<span class='"+G+"'>"+i.schedulerLocalization.agendaAllDayString+"</span>":i.rtl?"<span class='"+G+"'>"+X.toString(J,i.schedulerLocalization)+" - "+K.toString(Z,i.schedulerLocalization)+"</span>":"<span class='"+G+"'>"+K.toString(Z,i.schedulerLocalization)+" - "+X.toString(J,i.schedulerLocalization)+"</span>"}else if(2==E){H.resourceId&&e.each(i._resources,function(e,t){if(H.resourceId==t){var r=i.getColors(e),s=(this.toString(),i.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(i.rtl)var s=i.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var o="<div data-key='"+H.id+"' class='"+s+"' style='margin-right: 5px; border-color: "+r.border+"; background: "+r.background+";' class='"+i.toThemeProperty("jqx-scheduler-legend")+"'></div>";R=o}});var Q=H.subject?H.subject:"(No Title)",ee=H.location,te=H.description,ie=H.status?i.schedulerLocalization.editDialogStatuses[H.status]:"",re=H.isRecurrentAppointment(),se=(H.isException(),""+i.schedulerLocalization.editDialogSubjectString+": "+Q);ee&&(se+="\n"+i.schedulerLocalization.editDialogLocationString+": "+ee),te&&(se+="\n"+i.schedulerLocalization.editDialogDescriptionString+": "+te),ie&&(se+="\n"+i.schedulerLocalization.editDialogStatusString+": "+ie),re&&(se+="\n"+i.schedulerLocalization.editDialogRepeatString+": "+re);var G=i.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(i.rtl)var G=i.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");R+="<span data-key='"+H.id+"' title='"+se+"' class='"+G+"'>"+Q+"</span>"}D+=R,D+="</td>",C+=D}0==f&&(i.table[0].style.width=M+2+"px",i.pinnedtable[0].style.width=M+2+"px",f=M),C+="</tr>",b+=C}b+="</table>",i.table[0].innerHTML=b,i.pinnedtable[0].innerHTML=b,i.pinnedtable[0].style.display="none";var oe=e(i.table[0].firstChild),ne=e(i.pinnedtable[0].firstChild);i._table=oe,i._pinnedtable=ne,e.jqx.browser.msie&&e.jqx.browser.version<10&&(i._table[0].style.width=f+"px",i._pinnedtable[0].style.width=f+"px"),0===n&&(i._table[0].style.width=2+f+"px",i._pinnedtable[0].style.width=2+f+"px",i._pinnedtable[0].style.display="none"),i._pinnedtable[0].style.display="none",i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.table[0].rows=i.table[0].firstChild.rows,i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var ae=i.table[0].rows.length,d=0;ae>d;d++){var le=i.table[0].rows[d];if(!le.getAttribute("data-group-row")){var de=new t;de.aboveRow=null,de.belowRow=null,i.rows.length>0&&(de.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=de),de.element=le,i.rows.push(de);for(var he=!1,_=0;_<le.cells.length;_++){if(le.cells.length<i.columns.records.length&&!he)for(var ce=d;ce>=0;){var ue=i.table[0].rows[ce];if(i.table[0].rows[ce].cells.length==i.columns.records.length){var pe=ue.cells[0];i.columnCells[de.cells.length]||(i.columnCells[de.cells.length]=new Array),i.columnCells[de.cells.length].push(pe),0==i.cellWidth&&(i.cellWidth=pe.clientWidth),0==i.cellHeight&&(1==ae||d>1)&&(i.cellHeight=pe.clientHeight),de.cells.push(pe),he=!0;break}ce--}var pe=le.cells[_];"none"!==pe.style.display&&(pe.className.indexOf("jqx-grid-cell-pinned")>=0||(i.columnCells[de.cells.length]||(i.columnCells[de.cells.length]=new Array),i.columnCells[de.cells.length].push(pe),0==i.cellWidth&&(i.cellWidth=pe.clientWidth),0==i.cellHeight&&(1==ae||d>1)&&(i.cellHeight=pe.clientHeight),de.cells.push(pe),i.rowByCell[pe.getAttribute("data-key")]=de))}}}0===n&&(i._table[0].style.tableLayout="auto"),i._updateScrollbars(i.host.height()),i._arrange(),i.rendered&&i.rendered(),i.renderedTime=new Date},_renderrows:function(){function t(){var e={};return e.cells=new Array,e.indexOf=function(t){for(var i=0;i<e.cells.length;i++)if(e.cells[i].getAttribute("data-key")==t.getAttribute("data-key"))return i;return-1},e}var i=this;if(!i._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var i=this,r=i._views[i._view].type,s=i._views[i._view];if("agendaView"==r)return void i._renderagenda();var o=1,n=i.getViewStart(),a=e.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._prepareAppointmentsInView(n,a);var l=new Array;if("weekView"===r||"dayView"===r)var o=i.getMaxAllDayAppointments(i.appointmentsToRender);else"monthView"===r&&s.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(l=i._getMonthAppointmentsPerWeek());var d,h=(i.tableRows>1?i.tableRows:0,"halfHour"),c=null;s.rowHeight&&(c=s.rowHeight),s&&s.allDayRowHeight&&(d=s.allDayRowHeight),s.timeRuler&&s.timeRuler.scale&&(h=s.timeRuler.scale);var u=0;i.table[0].rows=new Array,i.rows=new Array;var p=i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content");i.rtl&&(p+=" "+i.toTP("jqx-cell-rtl"));var f=i.columns.records.length,m=i._getColumnsLengthPerView(),g=e.jqx.browser.msie&&e.jqx.browser.version<8;g&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null;var v=(new Array,i.source.records);v=i.dataview.evaluate(v),i.dataViewRecords=v,i.cells=new Array;i.dataViewRecords;i.renderedRecords=i.getRows();var x=(i.tableZIndex,i.getRows().length),w=0,b=0;if(g)for(var y=0;f>y;y++){var _=i.columns.records[y],j=_.width;j<_.minwidth&&(j=_.minwidth),j>_.maxwidth&&(j=_.maxwidth);var q=e('<table><tr><td role="gridcell" style="max-width: '+j+"px; width:"+j+'px;" class="'+p+'"></td></tr></table>');e(document.body).append(q);var T=q.find("td");w=1+parseInt(T.css("padding-left"))+parseInt(T.css("padding-right")),q.remove();break}var C=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",k="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+C+"' id='table"+i.element.id+"'><colgroup>",S=0,D=f,I=2,P=30;switch(h){case"sixtyMinutes":case"hour":P=60,I=1;break;case"thirtyMinutes":case"halfHour":P=30,I=2;break;case"fifteenMinutes":case"quarterHour":P=15,I=4;break;case"tenMinutes":P=10,I=6;break;case"fiveMinutes":P=5,I=12}var A=1;"timelineDayView"===r||"timelineWeekView"===r?(f=I*f,A=I,m=f/i.tableColumns):"timelineMonthView"===r?m=f/i.tableColumns:"monthView"===r&&(m=s.showWeekNumbers?(f-i.tableColumns)/i.tableColumns:f/i.tableColumns);for(var B=function(e){var t=i.columns.records[e];if(t)return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;var t=i.columns.records[e];return t},y=0;f>y;y++){var _=B(y);if(_.hidden)S++,D--;else{var j=_.width/A;if(j<_.minwidth&&(j=_.minwidth/A),j>_.maxwidth&&(j=_.maxwidth/A),j-=w,0>j&&(j=0),"monthView"==r&&i.rtl&&_.timeColumn&&j++,g){var M=j;y==S&&M++,k+="<col style='max-width: "+M+"px; width: "+M+"px;'>"}else k+="<col style='max-width: "+j+"px; width: "+j+"px;'>";b+=j}}if(k+="</colgroup>",i._hiddencolumns=!1,0===x){var H='<tr role="row">',z=i.host.height();i.pageable&&(z-=i.pagerHeight,"both"===i.pagerPosition&&(z-=i.pagerHeight)),z-=i.columnsHeight,i.showLegend&&i._resources.length>0&&(z-=i.legendHeight),25>z&&(z=25),"hidden"!=i.hScrollBar[0].style.visibility&&(z-=i.hScrollBar.outerHeight()),("auto"===i.height||null===i.height||i.autoheight)&&(z=300);var q='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+z+"px; height: "+z+"px; max-width:"+b+"px; width:"+b+"px;",p=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");i.rtl&&(p+=" "+i.toTP("jqx-cell-rtl")),p+=" "+i.toTP("jqx-center-align"),q+='" class="'+p+'">',q+=i.schedulerLocalization.emptyDataString,q+="</td>",H+=q,k+=H,i.table[0].style.width=b+2+"px",u=b}var E=i.getRows(),n=i.getViewStart(),z=i._hostHeight?i._hostHeight:i.host.height(),O=0;O+=i.columnGroups?i.showHeader?i.columnsheader.height():0:i.showHeader?i.columnsHeight:0,i.showToolbar&&(O+=i.toolbarHeight),i.showLegend&&i._resources.length>0&&(O+=i.legendHeight);var L=i.showAllDayRow,N=23;s.resourceHeaderRowHeight&&(N=s.resourcesRowHeight),N+=2,void 0!=s.showAllDayRow&&(L=s.showAllDayRow);var F=i._columnswidth>i._hostWidth,R=F?3+i.scrollBarSize:0,W=i.tableRows>1?i.resources.unitsInView:1;if(void 0==W&&(W=i._resources.length),i.resources&&i.resources.resourceRowHeight&&(c=i.resources.resourceRowHeight),null==c||"auto"==c){var V=i.rowsHeight,G=3*V;if(i.isTouchDevice()){V=i.touchRowsHeight;var G=22+V}1==i.tableRows?(c=z>0?z-O:V,i.columns.records.length>10&&(c=z>0?z-i.scrollBarSize-5-O:V)):(c=z>0?(z-O-N)/x:V,i.columns.records.length>10&&(c=z>0?(z-i.scrollBarSize-5-O-W*N)/(W*x):V)),"dayView"===r||"weekView"===r?L&&(null==d||"auto"==d?(c=z>0?(z-O)/(i.tableRows*x):G,d=c):c=z>0?(z-O-d-W*N)/(W*(x-1)):V):"monthView"===r&&("hidden"==i.hScrollBar[0].style.visibility&&(R=0),c=1==i.tableRows?z>0?(z-O-R)/x:V:z>0?(z-O-N-R)/x:V),c=Math.max(V,c),d||(d=G),d=Math.max(G,d),i._allDayRowHeight=d,i._defaultRowHeight=V,d=o*(V-2),d=Math.max(G,17+d),i._allDayRowFullHeight=d,s.allDayRowHeight&&(i._allDayRowHeight=s.allDayRowHeight,d=o*(s.allDayRowHeight-2),i._allDayRowFullHeight=d)}var U=new Array;if(i.resources&&i.resources.colorScheme){for(var $=0;$<i.colorSchemes.length;$++)if(i.colorSchemes[$].name==i.resources.colorScheme){U=i.colorSchemes[$].colors;break}for(;i._resources.length>U.length-1;){var Y=parseInt(i.resources.colorScheme.substring(6));Y>=27&&(Y=0),U=U.concat(i.colorSchemes[Y].colors),Y++}}for(var K=0;K<i.tableRows;K++){var X=0,Z=23;if(s.timeRuler&&void 0!=s.timeRuler.scaleStartHour)var X=parseInt(s.timeRuler.scaleStartHour);if(s.timeRuler&&void 0!=s.timeRuler.scaleEndHour)var Z=parseInt(s.timeRuler.scaleEndHour);var J=n;!1===s.showWeekends&&(0!=J.dayOfWeek()&&6!=J.dayOfWeek()||(J=J.addDays(1)));var Q=new Array,ee="monthView"!=r&&"timelineDayView"!=r&&"timelineWeekView"!=r&&"timelineMonthView"!=r&&L?1:0;if(i.tableRows>1){var H='<tr data-group-row="true" role="row">',p=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(p+=" "+i.toTP("jqx-cell-rtl")),g)p+=" "+i.toTP("jqx-grid-cell-pinned");else{p+=" "+i.toTP("jqx-grid-cell-pinned"),je+=' colspan="'+f+'"';for(var M=0,te=0;f>te;te++){var ie=B(te),re=ie.width/A;re<ie.minwidth&&(j=ie.minwidth/A),re>ie.maxwidth&&(j=ie.maxwidth/A),re-=w,0>re&&(re=0),ie.hidden||(M+=re)}j=M}var q='<td style="height:'+N+"px;";if(y!=f-1||1!=f||i.rtl||(q+="border-right-color: transparent;"),i._resources.length>0&&i.resources.colorScheme&&"none"!=i.resources.orientation){var se="",oe="",ne="",ae=function(e){var t=105,i=.299*e.r+.587*e.g+.114*e.b,r=t>255-i?"Black":"White";return r};se=U[K],se=i.hexToRgba(U[K],.7).toString(),ne=ae(i.hexToRgba(U[K],.7)),oe=U[K],q+="background: "+se+";",q+="border-color: "+oe+";",q+="color: "+ne+";"}q+='" class="'+p+'" role="gridcell" '+je;var le=i._resources[K];q+="><span style='position: relative;'>"+le+"</span>",q+="</td>",H+=q,k+=H}for(var de=0;x>de;de++){var he={},ce="jqx"+i.element.id+"_"+de;he.uid=ce;var H='<tr data-key="'+ce+'" role="row">',ue=0,pe=0;if(Q[0]&&de>ee){var P=30;if("monthView"!=r){switch(h){case"sixtyMinutes":case"hour":P=60;break;case"thirtyMinutes":case"halfHour":P=30;break;case"fifteenMinutes":case"quarterHour":P=15;break;case"tenMinutes":P=10;break;case"fiveMinutes":P=5}for(var fe=0;f>fe;fe++)Q[fe]=Q[fe].addMinutes(P,!1)}else for(var fe=0;f>fe;fe++)Q[fe]=Q[fe].addDays(7,!1)}var me=0,ge=1,ve=0;s.showWeekends||void 0==s.showWeekends?(ve=i.columns.records.length/(7*i.tableColumns),ve*=I):(ve=i.columns.records.length/(5*i.tableColumns),ve*=I);var xe=0;i.rtl&&(xe=1);for(var we=0,y=0;f>y;y++){var be=B(y);if(me>=m&&(me=0,we=0,xe=0,i.rtl&&(xe=1),ge++),!Q[y])if(i.rtl){if(r.toString().indexOf("timelineDayView")>=0){var ye=1+y;Q[y]=J.addHours(1+Z).addMinutes(-ye*P,!1)}else r.toString().indexOf("timelineWeekView")>=0?s.showWeekends||void 0==s.showWeekends?Q[y]=J.addDays(6-we).addHours(1+Z,!1).addMinutes(-xe*P,!1):Q[y]=J.addDays(4-we).addHours(1+Z,!1).addMinutes(-xe*P,!1):"dayView"==r||"monthView"==r||"weekView"==r?s.showWeekends||void 0==s.showWeekends?Q[y]=J.addDays(6-me).addHours(X,!1):Q[y]=J.addDays(4-me).addHours(X,!1):Q[y]=J.addDays(m-me-1).addHours(X,!1);i.timeZone&&(Q[y].timeZone=i.timeZone)}else{if(r.toString().indexOf("timelineDayView")>=0){var ye=y;Q[y]=J.addHours(X).addMinutes(ye*P,!1)}else r.toString().indexOf("timelineWeekView")>=0?Q[y]=J.addDays(we).addHours(X,!1).addMinutes(xe*P,!1):Q[y]=J.addDays(me).addHours(X,!1);i.timeZone&&(Q[y].timeZone=i.timeZone)}xe++,xe>=ve&&(xe=0,we++),be.timeColumn||"dayView"!==r&&"weekView"!==r?!be.timeColumn&&"monthView"===r&&s.showWeekNumbers?me++:"monthView"===r&&!s.showWeekNumbers||"timelineMonthView"===r?me++:"timelineDayView"!=r&&"timelineWeekView"!=r||me++:me++;var _e=Q[y],j=be.width/A;j<be.minwidth&&(j=be.minwidth/A),j>be.maxwidth&&(j=be.maxwidth/A),j-=w,0>j&&(j=0);var p=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");be.pinned&&(p+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===be.displayfield&&(p+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&de%2!=0&&(p+=" "+i.toTP("jqx-grid-cell-alt")),0!=de||!L||"dayView"!==r&&"weekView"!==r||(p+=" "+i.toTP("jqx-grid-cell-alt")),(_e>i.max||_e<i.min)&&(p+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(p+=" "+i.toTP("jqx-cell-rtl"));var je="",ce=i.dataview.generatekey(),qe=K+ge;i.resources&&"none"==i.resources.orientation&&(qe=-1),0==i._resources.length&&(qe=-1);var q='<td data-key="'+ce+'" data-view="'+qe+'" data-date="'+_e.toString()+'" role="gridcell" '+je+' style="max-width:'+j+"px; width:"+j+"px;  height:"+c+"px;";if(0==de&&L&&("dayView"===r||"weekView"===r))var q='<td  data-key="'+ce+'" data-view="'+qe+'" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(_e).toString()+'" data-date="'+_e.clearTime().toString()+'" role="gridcell" '+je+' style="max-width:'+j+"px; width:"+j+"px; height:"+d+"px;";if("monthView"==r&&s.monthRowAutoHeight&&l.length>0&&l[de]&&"auto"!=l[de]&&c<l[de])var q='<td data-key="'+ce+'" data-view="'+qe+'" data-date="'+_e.toString()+'" role="gridcell" '+je+' style="max-width:'+j+"px; width:"+j+"px;  height:"+l[de]+"px;";if(i.resources&&i._resources.length>0&&i.resources.colorScheme&&"none"!==i.resources.orientation){var se="",oe="";if(se=U[K+ge-1],se=0!=de||!L||"dayView"!==r&&"weekView"!==r?i.hexToRgba(U[K+ge-1],.3).toString():i.shadeColor(U[K+ge-1],.3).toString(),(0!=de||!L||"dayView"!==r&&"weekView"!==r)&&-1==r.indexOf("month")&&!be.timeColumn&&s.showWorkTime!==!1){var Te=1,Ce=5,ke=8,Se=18;if(s.workTime)var Te=s.workTime.fromDayOfWeek?s.workTime.fromDayOfWeek:0,Ce=s.workTime.toDayOfWeek?s.workTime.toDayOfWeek:0,ke=s.workTime.fromHour?s.workTime.fromHour:8,Se=s.workTime.toHour?s.workTime.toHour:8;_e.dayOfWeek()>=Te&&_e.dayOfWeek()<=Ce&&_e.hour()>=ke&&_e.hour()<Se&&(se=i.hexToRgba(U[K+ge-1],.1).toString())}oe=U[ge+K-1],q+="background: "+se+";",q+="border-color: "+oe+";"}if(y!=f-1||1!=f||i.rtl||(q+="border-right-color: transparent;"),be.timeColumn&&!be.hidden&&"monthView"===r){var p=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(p+=" "+i.toTP("jqx-scheduler-week-number-column"),i.tableRows>1)var p=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(p+=" "+i.toTP("jqx-cell-rtl")),0!==_e.minute()){pe++;continue}var q='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+_e.toString()+'" role="gridcell" style="max-width:'+j+"px; width:"+j+"px;";y!=f-1||1!=f||i.rtl?i.rtl&&0==y&&(q+="border-left-color: transparent;"):q+="border-right-color: transparent;",y==f-1&&i.rtl&&(q+="border-right-color: transparent;")}if(!be.timeColumn||be.hidden||"dayView"!==r&&"weekView"!==r){if(de>0){var De="border-left-width: 1px;";i.rtl&&0==y&&"monthView"==r&&s.showWeekNumbers&&(De="border-left-width: 0px;"),q+=De}}else{var p=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.tableRows>1)var p=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(p+=" "+i.toTP("jqx-cell-rtl")),de>0){if(0!==_e.minute()){pe++;continue}var q='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+_e.toString()+'" rowspan='+I+' role="gridcell" '+je+' style="max-width:'+j+"px; width:"+j+"px;";y!=f-1||1!=f||i.rtl?i.rtl&&0==y&&(q+="border-left-color: transparent;"):q+="border-right-color: transparent;"}else{if(i.resources&&"none"==i.resources.orientation&&(qe=-1),0==de&&L&&("dayView"===r||"weekView"===r))var q='<td data-view="'+qe+'" data-time-slot="true" data-end-date="'+e.jqx.scheduler.utilities.getEndOfDay(_e).toString()+'" data-date="'+_e.toString()+'" role="gridcell" '+je+' style="max-width:'+j+"px; width:"+j+"px;";y!=f-1||1!=f||i.rtl?0==y&&1==f&&i.rtl&&(q+="border-right-color: transparent;"):q+="border-right-color: transparent;",i.rtl&&(q+="border-left-width: 1px;"),i.tableRows>1&&(q+="background: "+se+";",q+="border-color: "+oe+";")}}if("left"!=be.cellsalign&&(p+="right"===be.cellsalign?" "+i.toTP("jqx-right-align"):" "+i.toTP("jqx-center-align")),be.timeColumn||i.rowinfo[he.uid]&&i.rowinfo[he.uid].selected&&i.editKey!==he.uid&&"none"!==i.selectionMode&&(p+=" "+i.toTP("jqx-grid-cell-selected"),p+=" "+i.toTP("jqx-fill-state-pressed"),p+=" "+i.toTP("jqx-scheduler-cell-selected")),be.hidden?(q+="display: none;",i._hiddencolumns=!0):(ue+=w+j,0!=pe||i.rtl||(q+="border-left-width: 0px;"),pe++),(0!=de||!L||"dayView"!==r&&"weekView"!==r)&&-1==r.indexOf("month")&&(p+=" "+i.toTP("jqx-grid-cell-nowrap"),de%2!=1||be.timeColumn||(p+=" "+i.toTP("jqx-scheduler-middle-cell")),!be.timeColumn&&s.showWorkTime!==!1)){var Te=1,Ce=5,ke=8,Se=18;if(s.workTime)var Te=s.workTime.fromDayOfWeek?s.workTime.fromDayOfWeek:0,Ce=s.workTime.toDayOfWeek?s.workTime.toDayOfWeek:0,ke=s.workTime.fromHour?s.workTime.fromHour:8,Se=s.workTime.toHour?s.workTime.toHour:8;p+=_e.dayOfWeek()>=Te&&_e.dayOfWeek()<=Ce&&_e.hour()>=ke&&_e.hour()<Se?" "+i.toTP("jqx-scheduler-work-time-cell"):" "+i.toTP("jqx-scheduler-not-work-time-cell")}var Ie="";if("monthView"===r){i.touchDevice||be.timeColumn||(p+=" "+i.toTP("jqx-top-align"));var Pe="dd";Ie=_e.toDate();var Ae=i.toTP("jqx-scheduler-month-outer-cell")+" ",Be=i.toTP("jqx-scheduler-month-weekend-cell");i.date.month()==_e.month()&&(Ae=""),_e.isWeekend()?p+=" "+Be:Be="",1===Ie.getDate()&&(Pe="MMM dd"),Ie=i.touchDevice?c>16?"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(Ie,Pe,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+e.jqx.dataFormat.formatdate(Ie,Pe,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":c>16?"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(Ie,Pe,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell")+"'>"+e.jqx.dataFormat.formatdate(Ie,Pe,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"}else"timelineWeekView"!==r&&"timelineDayView"!==r&&"timelineMonthView"!==r||(p+=" "+i.toTP("jqx-right-align jqx-bottom-align"),Ie="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>");0!=de||!L||"dayView"!==r&&"weekView"!==r||be.timeColumn||(p+=" "+i.toTP("jqx-top-align"),p+=" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(p+=" "+i.toTP("jqx-rtl")),Ie=_e.toDate(),Ie="<span>"+e.jqx.dataFormat.formatdate(Ie,"dd",i.schedulerLocalization)+"</span>");var Me=be.cellsFormat;
if(be.timeColumn&&!be.hidden){Ie=_e.toDate(),be.timeZone&&(Ie=_e.clone().toTimeZone(be.timeZone),Ie=Ie.toDate());s.timeRuler&&s.timeRuler.formatString?Me=s.timeRuler.formatString:be.timeColumn.format||(Me=0==Ie.getHours()||12==Ie.getHours()?"hh tt":"hh:mm"),e.jqx.dataFormat.isDate(Ie)&&(Ie=e.jqx.dataFormat.formatdate(Ie,Me,i.schedulerLocalization)),ee>de&&(p+=i.rtl?" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):" "+i.toTP("jqx-scheduler-time-column-header-cell"),Ie=""),ee>de&&(be._text&&(p+=" "+i.toTP("jqx-bottom-align")),s.timeRuler&&s.timeRuler.timeZones&&s.timeRuler.timeZones.length>0&&y<s.timeRuler.timeZones.length&&(Ie=be._text)),"monthView"==r&&(Ie=_e.weekOfYear(i.schedulerLocalization.firstDay))}else""!=Me&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Ie)?Ie=e.jqx.dataFormat.formatdate(Ie,Me,i.schedulerLocalization):(e.jqx.dataFormat.isNumber(Ie)||!isNaN(parseFloat(Ie))&&isFinite(Ie))&&(Ie=e.jqx.dataFormat.formatnumber(Ie,Me,i.schedulerLocalization)));if(""!=be.cellclassname&&be.cellclassname)if("string"==typeof be.cellclassname)p+=" "+be.cellclassname;else{var He=be.cellclassname(de,be.datafield,Ie,he);He&&(p+=" "+He)}if(""!=be.cellsRenderer&&be.cellsRenderer){var ze=E.indexOf(he);Ie=be.cellsRenderer(ze,be.datafield,Ie,he)}q+='" class="'+p+'">',q+=Ie,q+="</td>",H+=q}0==u&&(i.table[0].style.width=ue+2+"px",i.pinnedtable[0].style.width=ue+2+"px",u=ue),H+="</tr>",k+=H,i.rowinfo[he.uid]?"row"in i.rowinfo[he.uid]||(i.rowinfo[he.uid].row=he):i.rowinfo[he.uid]={row:he}}}k+="</table>",i.table[0].innerHTML=k,i.pinnedtable[0].innerHTML=k,i.table[0].rows=i.table[0].firstChild.rows;var Ee=e.jqx.browser.msie&&e.jqx.browser.version<9,Oe=null;if(!L||"dayView"!==r&&"weekView"!==r||1!=i.tableRows)i.pinnedtable[0].style.display="none";else if(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=d+"px",!Ee)if(1==i.tableRows){i.oldRow=i.table[0].rows[0];try{i.table[0].rows[0]=i.pinnedtable.find("tr")[0]}catch(Le){}Oe=i.pinnedtable.find("tr")[0],i.pinnedTableRow=Oe}else{i.oldRow=i.table[0].rows[1];try{i.table[0].rows[1]=i.pinnedtable.find("tr")[1]}catch(Le){}Oe=i.pinnedtable.find("tr")[1],i.pinnedTableRow=Oe}var te=e(i.table[0].firstChild),Ne=e(i.pinnedtable[0].firstChild);i._table=te,i._pinnedtable=Ne,e.jqx.browser.msie&&e.jqx.browser.version<10&&(i._table[0].style.width=u+"px",i._pinnedtable[0].style.width=u+"px"),0===x&&(i._table[0].style.width=2+u+"px",i._pinnedtable[0].style.width=2+u+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var Fe=i.table[0].rows.length,de=0;Fe>de;de++){var Re=i.table[0].rows[de];if(0==de&&Oe&&(Re=Oe),!Re.getAttribute("data-group-row")){var he=new t;he.aboveRow=null,he.belowRow=null,i.rows.length>0&&(he.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=he),he.element=Re,i.rows.push(he);for(var y=0;y<Re.cells.length;y++){var We=Re.cells[y];We.getAttribute("data-time-slot")||"none"!==We.style.display&&(We.className.indexOf("jqx-grid-cell-pinned")>=0||(i.columnCells[he.cells.length]||(i.columnCells[he.cells.length]=new Array),i.columnCells[he.cells.length].push(We),0==i.cellWidth&&(i.cellWidth=We.clientWidth),0==i.cellHeight&&(1==Fe||de>1)&&(i.cellHeight=We.clientHeight),"monthView"==i._views[i._view].type&&void 0==he.top&&(he.top=parseInt(e(We).position().top)),he.cells.push(We),i.rowByCell[We.getAttribute("data-key")]=he))}}}0===x&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(n,a),("none"!=i.pinnedtable[0].style.display||("dayView"==r||"weekView"==r)&&i.tableRows>1)&&i._updateScrollbars(i.host.height()),"monthView"===r&&s.monthRowAutoHeight&&(0==l.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}},showAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var r=t.uiappointments[i];if(r.resourceId==e&&(r.hidden=!1,r.hiddenByResourceId=!1,r.exceptions))for(var s=0;s<r.exceptions.length;s++)r.exceptions[s].hiddenByResourceId=!1,r.exceptions[s].hidden=!1}if(t._resourcesElements){var o=t.getColors(t._resources.indexOf(e));t._resourcesElements.top[e].attr("data-toggle","on"),t._resourcesElements.top[e].css("background",o.background),t._resourcesElements.bottom[e].attr("data-toggle","on"),t._resourcesElements.bottom[e].css("background",o.background)}t.hiddenResources&&delete t.hiddenResources[e],t._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var r=t.uiappointments[i];if(r.resourceId==e&&(r.hidden=!0,r.hiddenByResourceId=!0,r.exceptions))for(var s=0;s<r.exceptions.length;s++)r.exceptions[s].hiddenByResourceId=!0,r.exceptions[s].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(t,i){var r=this;if(!r._appupdating){for(var s=new Array,o=0;o<this.uiappointments.length;o++){var n=this.uiappointments[o];if(!n.hidden||null!=n.recurrencePattern){var a=e.jqx.scheduler.utilities.rangeIntersection(n.from,n.to,t,i);a&&!n.recurrencePattern&&s.push(n),n.renderedAppointments=new Array;var l=!1;if(n.recurrencePattern){for(var d=n.getOccurrences(t,i),h=n.exceptions,c=0;c<d.length;c++){var u=d[c];if(!u.hidden){for(var p=!0,f=0;f<h.length;f++){var m=h[f],g=m.occurrenceFrom?m.occurrenceFrom:m;if(r.selectedJQXAppointment&&r.selectedJQXAppointment.rootAppointment&&!l&&r.selectedJQXAppointment.occurrenceFrom.clearTime().equals(g.clearTime())&&(r.selectedJQXAppointment=m,l=!0),g.clearTime().equals(u.from.clearTime())){p=!1;break}}p&&(r.selectedJQXAppointment&&r.selectedJQXAppointment.rootAppointment&&!l&&r.selectedJQXAppointment.occurrenceFrom.clearTime().equals(u.occurrenceFrom.clearTime())&&(r.selectedJQXAppointment=u,l=!0),n.renderedAppointments[u.id]=u,s.push(u))}}for(var f=0;f<h.length;f++){var m=h[f],g=m.occurrenceFrom?m.from:m,v=n.createOccurrence(g);m.occurrenceFrom&&(m.cloneAppointmentAttributes(v),m.hidden)||v!=n&&(s.push(m),n.renderedAppointments[m.id]=m)}}}}var x=new Array;this.tabKeyAppointments=new Array;for(var o=0;o<s.length;o++){var w=s[o];x.push(w),this.tabKeyAppointments.push(w)}x.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(e,t){return r._sortAppointmentsByResourceId(e,t,r)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=x}},_renderDayWeekAppointments:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),r=new Array,s=new Array,o=this.rows,n=t.showAllDayRow,a=t.getMinutesPerScale();i.timeRuler&&void 0!=i.timeRuler.showAllDayRow&&(n=i.timeRuler.showAllDayRow);for(var l=0;l<this.appointmentsToRender.length;l++){var d=this.appointmentsToRender[l],h=d.from,c=d.to,u=e.jqx.scheduler.utilities.getEndOfDay(c),p=h.day(),f=(d.allDay,t._getDateByString),m=new Array,g=new Array,v=d.resourceId,x=t._resources.indexOf(v);t.resources&&"none"==t.resources.orientation&&(x=-1);var w=h.toDate().valueOf(),b=c.toDate().valueOf(),y=(u.toDate().valueOf(),function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});if(!d.allDay&&d.duration().days()<1||!n){var _=c.toDate(),j=!1;0==_.getHours()&&0==_.getMinutes()&&(j=!0);for(var q=0;q<t.columnCells.length;q++)if(t.columnCells[q]){var T=t.columnCells[q];t.rtl&&(T=t.columnCells[t.columnCells.length-1-q]);for(var C=0;C<T.length;C++)if(!T[C].getAttribute("data-end-date")){var k=T[C].getAttribute("data-date"),S=f(k),D=f(k);D.setMinutes(D.getMinutes()+a-1);var I=S.valueOf(),P=D.valueOf();if(!(I>c)&&(I>=w&&b>I||P>=w&&b>P||w>=I&&P>=b)){if(-1!=x&&1+x!=T[C].getAttribute("data-view"))continue;p!=S.getDate()&&(m.sort(y),g.push(m),m=new Array,p=h.addDays(1).day()),m.push({cell:T[C],date:S})}}}m.sort(y),g.push(m);for(var A=new Array,q=0;q<g.length;q++){var T=g[q];if(0!=T.length){var B=t.cellWidth,M=T[T.length-1].cell.offsetTop+t.cellHeight,H=T[0].cell.offsetLeft,z=T[0].cell.offsetTop,E=t.getMinutesPerScale(),_=new e.jqx.date(T[T.length-1].date,t.timeZone).addMinutes(E),O={cells:T,x:H,y:z,height:M-z,width:B,appointment:d,from:new e.jqx.date(T[0].date,t.timeZone),to:_};A.push(O),r.push(O)}}d.elements=A,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}else{var T=o[0].cells;if(this.tableRows>1){var L=o.length/t.tableRows,N=x*L;T=o[N].cells}for(var C=0;C<T.length;C++){var k=T[C].getAttribute("data-date"),F=f(k),S=new e.jqx.date(F,t.timeZone);S=e.jqx.scheduler.utilities.getEndOfDay(S);var I=S.toDate().valueOf();if(!(I>u)&&S>=h&&u>=S){if(-1!=x&&1+x!=T[C].getAttribute("data-view"))continue;0==m.length&&(S=e.jqx.scheduler.utilities.getStartOfDay(S)),m.push({cell:T[C],date:S})}}m.sort(y),g.push(m);for(var A=new Array,q=0;q<g.length;q++){var T=g[q];if(0==T.length)break;var R=e(T[0].cell).position(),B=e(T[T.length-1].cell).position().left+this.cellWidth-R.left,M=e(T[T.length-1].cell).position().top,H=R.left,z=R.top;if(this.rtl)var R=e(T[T.length-1].cell).position(),H=R.left,B=e(T[0].cell).position().left+this.cellWidth-R.left;var W=T[T.length-1].date;W=new e.jqx.date(e.jqx.scheduler.utilities.getEndOfDay(W),t.timeZone);var O={cells:T,x:H,y:z,height:M-z+this.cellHeight,width:B,appointment:d,from:e.jqx.scheduler.utilities.getStartOfDay(new e.jqx.date(T[0].date,t.timeZone)),to:W};A.push(O),s.push(O)}d.elements=A,d.rootAppointment&&(d.rootAppointment.elements=d.rootAppointment.elements.concat(d.elements))}}var V=this.getViewStart(),G=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var U=new Array,$=V,Y=0;G>$;){U[Y]=new Array;for(var q=0;q<r.length;q++){var K=r[q];K.from.day()==$.day()&&(K.column=-1,K.columnSpan=1,U[Y].push(K))}Y++,$=$.addDays(1)}for(var q=0;q<U.length;q++)this._renderAppointmentsInDay(U[q]);this._renderAllDayAppointments(s)}else for(var C=0;C<this._resources.length;C++){for(var X=this._resources[C],U=new Array,$=V,Y=0;G>$;){U[Y]=new Array;for(var q=0;q<r.length;q++){var K=r[q];K.from.day()==$.day()&&(K.column=-1,K.columnSpan=1,K.appointment.resourceId==X&&U[Y].push(K))}Y++,$=$.addDays(1)}for(var q=0;q<U.length;q++)this._renderAppointmentsInDay(U[q]);for(var Z=new Array,q=0;q<s.length;q++)s[q].appointment.resourceId==X&&Z.push(s[q]);this._renderAllDayAppointments(Z)}},_renderAllDayAppointments:function(t){var i=this,r=this.showAllDayRow,s=this._views[this._view];if(s.timeRuler&&void 0!=s.timeRuler.showAllDayRow&&(r=s.timeRuler.showAllDayRow),r&&0!=t.length){var o=t,n=1;if(n=this.getMaxAllDayAppointments(t),1==this.tableRows){this.table[0].rows[0].clientHeight/n}else{this.table[0].rows[1].clientHeight/n}for(var a=0;a<t.length;a++){var l=t[a];l.row=-1;var d=this.getCollisionAppointments(l,t);d.sort(this._sortAppointmentsByFrom);var h=d.indexOf(l);if(h>=0)for(var c=h;c<d.length;c++)d[c].row=-1;for(var u=0;n>u;u++){var p=u;for(var f in d){if("indexOf"==f)break;var m=d[f];if(-1==m.row&&!this.isBusyRow(p,d)){m.row=p;var g=n,v=this.getMaxAllDayAppointments(d);g>v&&(g=v),m.rowsCount=g}}}}for(var u=0;u<o.length;u++){var l=o[u],d=this.getCollisionAppointments(l,o);d.sort(this._sortAppointmentsByFrom);var x=1;for(var f in d){if("indexOf"==f)break;var w=d[f];x=Math.max(x,w.rowsCount)}for(var f in d){if("indexOf"==f)break;var w=d[f];w.rowsCount=x}if(1==d.length)l.rowSpan=x;else{for(var b=0,y=!0,c=l.row;x>c;c++){for(var f in d){if("indexOf"==f)break;var m=d[f];m!=l&&m.row==c&&(y=!1)}if(!y)break;b++}l.rowSpan=b}}var _=i.appointmentsMinHeight+2;if(i.isTouchDevice())var _=i.touchAppointmentsMinHeight+2;for(var j=0;j<o.length;j++){var q=_,l=o[j];l.height=_;var T=q*l.row;if(l.y=18+l.y+T+4*l.row,l.x+=3,l.width-=8,0!=l.appointment.from.hour()||23!=l.appointment.to.hour()){var C=this.getViewStart(),k=this.getViewEnd();if(i.rtl){var S=parseFloat(i.cellWidth/24)*l.appointment.to.hour()+parseFloat(i.cellWidth/48)*(l.appointment.to.minute()/30),D=parseFloat(i.cellWidth/24)*l.appointment.from.hour()+parseFloat(i.cellWidth/48)*(l.appointment.from.minute()/30);S>0&&(S=i.cellWidth-S),l.appointment.from<C&&(D=0),l.appointment.to>k&&(S=0),"exactTime"==s.appointmentsRenderMode&&(l.x+=S,l.width-=S,l.width-=D),l.appointment.duration().days()<1&&l.width<15&&(l.width=15),l.timewidth=l.width,"exactTimeStatus"==s.appointmentsRenderMode&&(l.timewidth-=S,l.timewidth-=D),l.timex=S}else{var S=parseFloat(i.cellWidth/24)*l.appointment.from.hour()+parseFloat(i.cellWidth/48)*(l.appointment.from.minute()/30);l.appointment.from<C&&(S=0),l.timewidth=l.width,l.timex=S;var D=parseFloat(i.cellWidth/24)*l.appointment.to.hour()+parseFloat(i.cellWidth/48)*(l.appointment.to.minute()/30);l.appointment.to>k&&(D=0),l.timewidth-=S,D>0&&(l.timewidth-=i.cellWidth,l.timewidth+=D),"exactTime"==s.appointmentsRenderMode&&(l.width=l.timewidth,l.x+=S)}}}for(var j=0;j<o.length;j++){var I=o[j],P="",A="auto",s=this._views[this._view],B=I.appointment.from,M=I.appointment.to;s.timeRuler&&s.timeRuler.formatString&&(A=s.timeRuler.formatString);var H=A;if("auto"===A){if(0==B.hour()&&0==B.minute()||12==B.hour()&&0==B.minute())var H="hh tt";else var H="hh:mm";if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())var z="hh tt";else var z="hh:mm"}var E=B.toString(H),O=M.toString(z),L=I.appointment.duration(),N=I.appointment.allDay||23===L.hours&&59===L.minutes&&59===L.seconds,F=I.appointment.background,R=I.appointment.subject?I.appointment.subject:"(No Title)",W=I.appointment.color,V=I.appointment.resourceId,G=i.getColors(i._resources.indexOf(V)),U=" data-resourceId='"+V+"' ",$=I.appointment.borderColor,Y=I.appointment.location;Y.length>0&&(Y=", "+Y),F||(F=G.background),$||($=G.border),W||(W=G.color);var K=I.appointment.isRecurrentAppointment(),X=I.appointment.isException();N&&(E="",O="");var Z="",J=i.toTP("jqx-scheduler-appointment-status"),Q="",ee=i.statuses[I.appointment.status],te=!1;ee&&("transparent"==ee?te=!1:(Q="<div style='background: "+ee+"; border-right-color: "+$+"' class='"+J+"'></div>","tentative"==ee&&(J=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Q="<div style='background-color: "+$+"; border-right-color: "+$+"' class='"+J+"'></div>"),te=!0));var ie=i.toTP("jqx-scheduler-appointment-duration-status"),re="<div style='width: "+I.timewidth+"px; left: "+I.timex+"px;' class='"+ie+"'></div>";N&&(re="");var se="";if("exactTimeStatus"!=s.appointmentsRenderMode&&(re=""),i.rtl){var J=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");Q="<div style='background: "+ee+"; border-left-color: "+$+"' class='"+J+"'></div>","tentative"==ee&&(J=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Q="<div style='background-color: "+$+"; border-left-color: "+$+"' class='"+J+"'></div>"),se=Q,Q=""}var oe="",ne=R+Y;if(N||(ne=R+Y+re),i.renderAppointment){var ae=i.renderAppointment({appointment:I.appointment.boundAppointment,textColor:W,background:F,borderColor:$,html:ne,cssClass:"",style:"",width:I.width,height:I.height,view:i._views[i._view].type});if(ae){var P=ae.html;if(P!=ne&&(ne=P),W=ae.textColor,F=ae.background,$=ae.borderColor,ae.cssClass&&(oe=ae.cssClass+" "),""!=ae.style){var G=i.getAppointmentColors(ae.style);F=G.background,$=G.border,W=G.color}}}if(""===Z)if(te)var Z="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+Q+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div>"+se+"</div>";else var Z="<div style='white-space:nowrap;' class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ne+"</div></div>";var le="";if(i.rtl&&(le=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),X){var de="white"==W.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception");P="<div data-key='"+I.appointment.id+"'"+U+"class='"+le+oe+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+$+"; color:"+W+"; background:"+F+";'><div class='"+de+"'></div>"+Z+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(K){var he="white"==W.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence");P="<div data-key='"+I.appointment.id+"'"+U+"class='"+le+oe+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+$+"; color:"+W+"; background:"+F+";'><div class='"+he+"'></div>"+Z+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else P="<div data-key='"+I.appointment.id+"'"+U+"class='"+le+oe+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+I.x+"px; top: "+I.y+"px; width: "+I.width+"px; line-height: "+I.height+"px; height: "+I.height+"px; border-color:"+$+"; color:"+W+"; background:"+F+";'>"+Z+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var ce=e(P);if(1==this.tableRows?ce.appendTo(this.pinnedtable):ce.appendTo(this.table),I.element=ce,this.appointmentTooltips)if(I.appointment.tooltip)ce[0].setAttribute("title",I.appointment.tooltip);else{var ue=I.appointment.subject;if(E&&(ue=E+" - "+O+" "+ue),ue){var Y=I.appointment.location;Y&&(ue+="\n"+Y),ce[0].setAttribute("title",ue)}}}}},_renderAppointmentsInDay:function(t,i){if(0!=t.length){var r=this,s=this._views[this._view],o=t,n=(this.getViewStart(),this.getViewEnd(),1),a=0;s.timeRuler?(a=this.columns.records[1].width,s.timeRuler.timeZones&&(a=this.columns.records[1+s.timeRuler.timeZones.length].width)):a=this.columns.records[1].width,n=this.getMaxColumnsInADay(t);var l=a/n;if(!(0>l)){for(var d=0;d<t.length;d++){var h=t[d];h.column=-1;var c=this.getCollisionAppointments(h,t);c.sort(this._sortAppointmentsByFrom);var u=c.indexOf(h);if(u>=0)for(var p=u;p<c.length;p++)c[p].column=-1;for(var f=0;n>f;f++){var m=f;for(var g in c){if("indexOf"==g)break;var v=c[g];if(-1==v.column&&!this.isBusyColumn(m,c)){v.column=m;var x=n,w=this.getMaxColumnsInADay(c);x>w&&(x=w),v.columnsCount=x}}}}for(var f=0;f<o.length;f++){var h=o[f],c=this.getCollisionAppointments(h,o);c.sort(this._sortAppointmentsByFrom);var b=1;for(var g in c){if("indexOf"==g)break;var y=c[g];void 0!=y.columnsCount&&(b=Math.max(b,y.columnsCount))}for(var g in c){if("indexOf"==g)break;var y=c[g];y.columnsCount=b}if(1==c.length)h.columnSpan=b;else{for(var _=0,j=!0,p=h.column;b>p;p++){for(var g in c){if("indexOf"==g)break;var v=c[g];void 0!=v.column&&v!=h&&v.column==p&&(j=!1)}if(!j)break;_++}h.columnSpan=_}}for(var q=0;q<o.length;q++){var T=a/o[q].columnsCount,h=o[q];h.width=-5+T*h.columnSpan;var C=T*h.column;if(h.x=2+h.x+C,h.height-=5,h.y+=1,"exactTime"==s.appointmentsRenderMode){var k=r.getMinutesPerScale();if(h.appointment.from.minute()%k!=0)var S=h.appointment.from.minute()%k,D=parseFloat(r.cellHeight/k)*S;else var D=0;if(h.appointment.to.minute()%k!=0)var S=h.appointment.to.minute()%k,I=r.cellHeight-parseFloat(r.cellHeight/k)*S;else I=0;h.y+=D,h.height-=D,h.height-=I}}for(var q=0;q<o.length;q++){var P=o[q],A="",B="auto",s=this._views[this._view],M=P.appointment.from,H=P.appointment.to;s.timeRuler&&s.timeRuler.formatString&&(B=s.timeRuler.formatString);var z=B;if("auto"===B){if(0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute())var z="hh tt";else var z="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var E="hh tt";else var E="hh:mm"}var O=(M.toString(z),H.toString(E),P.appointment.background),L=P.appointment.subject?P.appointment.subject:"(No Title)",N=P.appointment.location?P.appointment.location:"",F=P.appointment.color,R=P.appointment.resourceId,W=r.getColors(r._resources.indexOf(R)),V=" data-resourceId='"+R+"' ",G=P.appointment.borderColor;O||(O=W.background),G||(G=W.border),F||(F=W.color);var U=P.appointment.isRecurrentAppointment(),$=P.appointment.isException(),Y="",K=r.toTP("jqx-scheduler-appointment-status"),X="",Z=r.statuses[P.appointment.status],J=!1;Z&&("transparent"==Z?J=!1:(X="<div style='background: "+Z+"; border-right-color: "+G+"' class='"+K+"'></div>","tentative"==Z&&(K=r.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),X="<div style='background-color: "+G+"; border-right-color: "+G+"' class='"+K+"'></div>"),J=!0));var Q="";if(r.rtl){var K=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");X="<div style='background: "+Z+"; border-left-color: "+G+"' class='"+K+"'></div>","tentative"==Z&&(K=r.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),X="<div style='background-color: "+G+"; border-left-color: "+G+"' class='"+K+"'></div>"),Q=X,X=""}var ee="",te=L+"<br/>"+N;if(!N)var te=L;if(r.renderAppointment){var ie=r.renderAppointment({appointment:P.appointment.boundAppointment,textColor:F,background:O,borderColor:G,html:te,cssClass:"",style:"",width:P.width,height:P.height,view:r._views[r._view].type});if(ie){var A=ie.html;if(A!=te&&(te=A),F=ie.textColor,O=ie.background,G=ie.borderColor,ie.cssClass&&(ee=ie.cssClass+" "),""!=ie.style){var W=r.getAppointmentColors(ie.style);O=W.background,G=W.border,F=W.color}}}if(""===Y)if(J)var Y="<div class='"+r.toTP("jqx-scheduler-appointment-content")+"'>"+X+"<div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+te+"</div>"+Q+"</div>";else var Y="<div class='"+r.toTP("jqx-scheduler-appointment-content")+"'><div class='"+r.toTP("jqx-scheduler-appointment-inner-content")+"'>"+te+"</div></div>";var re="";if(r.rtl&&(re=r.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),$){var se="white"==F.toLowerCase()?r.toTP("jqx-icon-recurrence-exception-white"):r.toTP("jqx-icon-recurrence-exception");A="<div data-key='"+P.appointment.id+"'"+V+"class='"+re+ee+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+P.x+"px; top: "+P.y+"px; width: "+P.width+"px; height: "+P.height+"px; border-color:"+G+"; color:"+F+"; background:"+O+";'><div class='"+se+"'></div>"+Y+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(U){var oe="white"==F.toLowerCase()?r.toTP("jqx-icon-recurrence-white"):r.toTP("jqx-icon-recurrence");A="<div data-key='"+P.appointment.id+"'"+V+"class='"+re+ee+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+P.x+"px; top: "+P.y+"px; width: "+P.width+"px; height: "+P.height+"px; border-color:"+G+"; color:"+F+"; background:"+O+";'><div class='"+oe+"'></div>"+Y+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else A="<div data-key='"+P.appointment.id+"'"+V+"class='"+re+ee+r.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+P.x+"px; top: "+P.y+"px; width: "+P.width+"px; height: "+P.height+"px; border-color:"+G+"; color:"+F+"; background:"+O+";'>"+Y+"<div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+r.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ne=e(A);if(ne.appendTo(this.table),P.element=ne,this.appointmentTooltips)if(P.appointment.tooltip)ne[0].setAttribute("title",P.appointment.tooltip);else{var ae=P.appointment.subject;if(ae){var N=P.appointment.location;N&&(ae+="\n"+N),ne[0].setAttribute("title",ae)}}}}}},getCollisionAppointments:function(t,i){for(var r=new Array,s=t.from,o=t.to,n=0;n<i.length;n++){var a=i[n],l=a.from,d=a.to;e.jqx.scheduler.utilities.rangeIntersection(s,o,l,d)&&r.push(a)}return r},getAllDayCollisionAppointments:function(t,i){for(var r=new Array,s=e.jqx.scheduler.utilities.getStartOfDay(t.from),o=e.jqx.scheduler.utilities.getEndOfDay(t.to),n=0;n<i.length;n++){var a=i[n],l=e.jqx.scheduler.utilities.getStartOfDay(a.from),d=e.jqx.scheduler.utilities.getEndOfDay(a.to);e.jqx.scheduler.utilities.rangeIntersection(s,o,l,d)&&r.push(a)}return r},_renderAppointments:function(e,t){var i=this;if(!i._appupdating){i.table.find(".jqx-scheduler-appointment").remove(),i.pinnedtable.find(".jqx-scheduler-appointment").remove();var r=i._views[i._view].type;"dayView"===r||"weekView"===r?i._renderDayWeekAppointments(e,t):"monthView"===r?i._renderMonthAppointments(e,t):"timelineWeekView"!==r&&"timelineDayView"!==r&&"timelineMonthView"!==r||i._renderTimelineAppointments(e,t),i.selectedJQXAppointment&&i._selectAppointment(i.selectedJQXAppointment)}},_renderTimelineAppointments:function(t,i){for(var r=this,s=r._views[r._view].type,o=r._views[r._view],n=new Array,a=(this.rows,this.cellHeight),l=this.cellWidth,d=r.getMinutesPerScale(),h=0;h<this.appointmentsToRender.length;h++){var c=this.appointmentsToRender[h],u=c.from,p=c.to,f=r._getDateByString,m=new Array,g=u.toDate().valueOf(),v=p.toDate().valueOf();"timelineMonthView"===s&&(g=u.clearTime().toDate().valueOf());var x=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},w=r.rows[0],b=c.resourceId,y=r._resources.indexOf(b);if(r._resources.length>0&&"horizontal"!==r.resources.orientation&&y>=1&&(w=r.rows[y]),r.resources&&"none"==r.resources.orientation){y=-1;var w=r.rows[0]}for(var _=w.cells,j=0;j<_.length;j++){var q=_[j].getAttribute("data-date");_[j].appointments=new Array;var T=f(q),C=T.valueOf(),k=f(q);k.setMinutes(k.getMinutes()+d-1);var S=k.valueOf();if(!(C>p)&&(C>=g&&v>C||S>=g&&v>S)){if(-1!=y&&1+y!=_[j].getAttribute("data-view"))continue;m.push({cell:_[j],date:T}),w=N}}m.sort(x);var D=new Array,_=m;if(0==_.length)break;var I=r.appointmentsMinHeight;r.isTouchDevice()&&(I=r.touchAppointmentsMinHeight),o.appointmentHeight&&(I=o.appointmentHeight);var P=e(_[0].cell).position(),A=I,B=e(_[_.length-1].cell).position().left-P.left+l,M=P.left,H=P.top;if(r.rtl)var P=e(_[_.length-1].cell).position(),B=e(_[0].cell).position().left-P.left+l,M=P.left,H=P.top;var z=new e.jqx.date(_[_.length-1].date,r.timeZone).addMinutes(d);if("timelineMonthView"===s)var z=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(_[_.length-1].date,r.timeZone));var E={cellX:M,cellY:H,cellHeight:a,cells:_,x:M,y:H,height:A,width:B,appointment:c,from:new e.jqx.date(_[0].date,r.timeZone),to:z};D.push(E),n.push(E),c.elements=D,c.rootAppointment&&(c.rootAppointment.elements=c.rootAppointment.elements.concat(c.elements))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(n,t,i);else for(var j=0;j<this._resources.length;j++){for(var O=this._resources[j],L=new Array,N=0;N<n.length;N++)n[N].appointment.resourceId==O&&L.push(n[N]);this._renderUITimelineAppointments(L,t,i)}},_renderUITimelineAppointments:function(t,i,r){var s=this,o=(s._views[s._view].type,s._views[s._view]),n=t,a=1,s=this,l=new Array;a=s.getMaxTimelineAppointments(t,l,i,r);var d=s.appointmentsMinHeight;s.isTouchDevice()&&(d=s.touchAppointmentsMinHeight),o.appointmentHeight&&(d=o.appointmentHeight);for(var h=0;h<t.length;h++){var c=t[h];c.row=-1;var u=s.getCollisionAppointments(c,t);u.sort(s._sortAppointmentsByFrom);var p=u.indexOf(c);if(p>=0)for(var f=p;f<u.length;f++)u[f].row=-1;for(var m=0;a>m;m++){var g=m;for(var v in u){if("indexOf"==v)break;var x=u[v];if(-1==x.row&&!s.isBusyRow(g,u)){x.row=g;var w=a,b=s.getMaxTimelineAppointments(u,l,i,r);w>b&&(w=b),x.rowsCount=w}}}}for(var m=0;m<n.length;m++){var c=n[m],u=s.getCollisionAppointments(c,n);u.sort(s._sortAppointmentsByFrom);var y=1;for(var v in u){if("indexOf"==v)break;var _=u[v];y=Math.max(y,_.rowsCount)}for(var v in u){if("indexOf"==v)break;var _=u[v];_.rowsCount=y}if(1==u.length)c.rowSpan=y;else{for(var j=0,q=!0,f=c.row;y>f;f++){for(var v in u){if("indexOf"==v)break;var x=u[v];x!=c&&x.row==f&&(q=!1)}if(!q)break;j++}c.rowSpan=j}}for(var T=0;T<n.length;T++){var C=d,c=n[T];c.height=C;var k=2+(3+C)*c.row;c.y=c.y+k,c.x+=1,c.width-=5;var S=s._views[s._view].type,o=s._views[s._view];if("timelineMonthView"==S&&o.appointmentsRenderMode){if(0!=c.appointment.from.hour()||23!=c.appointment.to.hour())if(s.rtl){var D=parseFloat(s.cellWidth/24)*c.appointment.to.hour()+parseFloat(s.cellWidth/48)*(c.appointment.to.minute()/30),I=parseFloat(s.cellWidth/24)*c.appointment.from.hour()+parseFloat(s.cellWidth/48)*(c.appointment.from.minute()/30);D>0&&(D=s.cellWidth-D),"exactTime"==o.appointmentsRenderMode&&(c.x+=D,c.width-=D,c.width-=I),c.appointment.duration().days()<1&&c.width<15&&(c.width=15),c.timewidth=c.width,c.timex=D}else{var D=parseFloat(s.cellWidth/24)*c.appointment.from.hour()+parseFloat(s.cellWidth/48)*(c.appointment.from.minute()/30),I=parseFloat(s.cellWidth/24)*c.appointment.to.hour()+parseFloat(s.cellWidth/48)*(c.appointment.to.minute()/30);if(c.timewidth=c.width,c.timex=D,c.timewidth-=D,c.timewidth-=s.cellWidth,c.timewidth+=I,"exactTime"==o.appointmentsRenderMode&&(c.width=c.timewidth,c.x+=D,c.appointment.duration().days()<1&&c.width<15&&(c.width=15,D+15>s.cellWidth))){var P=s.cellWidth-D-15;c.x+=P}}}else if(o.appointmentsRenderMode&&"exactTime"==o.appointmentsRenderMode){var A=s.getMinutesPerScale();if(c.appointment.from.minute()%A!=0){var B=c.appointment.from.minute()%A,D=parseFloat(s.cellWidth/A)*B;if(s.rtl)var D=parseFloat(s.cellWidth/A)*B}else var D=0;if(c.appointment.to.minute()%A!=0){var B=c.appointment.to.minute()%A,I=s.cellWidth-parseFloat(s.cellWidth/A)*B;if(s.rtl)var I=s.cellWidth-parseFloat(s.cellWidth/A)*B}else I=0;s.rtl?(c.x+=I,c.width-=D,c.width-=I):(c.x+=D,c.width-=D,c.width-=I)}}for(var M="",T=0;T<n.length;T++){var H=n[T],z="",E="auto",o=s._views[s._view];H.appointment.from,H.appointment.to;o.timeRuler&&o.timeRuler.formatString&&(E=o.timeRuler.formatString);var O=H.appointment.background,L=H.appointment.subject?H.appointment.subject:"(No Title)",N=H.appointment.location;N&&N.length>1&&(N=", "+N);var F=H.appointment.color,R=H.appointment.resourceId,W=s.getColors(s._resources.indexOf(R)),V=" data-resourceId='"+R+"' ",G=H.appointment.borderColor;O||(O=W.background),G||(G=W.border),F||(F=W.color);var U=H.appointment.isRecurrentAppointment(),$=H.appointment.isException(),Y="",K=s.toTP("jqx-scheduler-appointment-status"),X="",Z=s.statuses[H.appointment.status],J=!1;Z&&("transparent"==Z?J=!1:(X="<div style='background: "+Z+"; border-right-color: "+G+"' class='"+K+"'></div>","tentative"==Z&&(K=s.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),X="<div style='background-color: "+G+"; border-right-color: "+G+"' class='"+K+"'></div>"),J=!0));var Q="";if(s.rtl){var K=s.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");
X="<div style='background: "+Z+"; border-left-color: "+G+"' class='"+K+"'></div>","tentative"==Z&&(K=s.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),X="<div style='background-color: "+G+"; border-left-color: "+G+"' class='"+K+"'></div>"),Q=X,X=""}var ee="",te=L+"<br/>"+N;if(s.renderAppointment){var ie=s.renderAppointment({appointment:H.appointment.boundAppointment,textColor:F,background:O,borderColor:G,html:te,cssClass:"",style:"",width:H.width,height:H.height,view:s._views[s._view].type});if(ie){var z=ie.html;if(z!=te&&(te=z),F=ie.textColor,O=ie.background,G=ie.borderColor,ie.cssClass&&(ee=ie.cssClass+" "),""!=ie.style){var W=s.getAppointmentColors(ie.style);O=W.background,G=W.border,F=W.color}}}if(""===Y)if(J)var Y="<div style='white-space:nowrap;' class='"+s.toTP("jqx-scheduler-appointment-content")+"'>"+X+"<div class='"+s.toTP("jqx-scheduler-appointment-inner-content")+"'>"+te+"</div>"+Q+"</div>";else var Y="<div style='white-space:nowrap;' class='"+s.toTP("jqx-scheduler-appointment-content")+"'><div class='"+s.toTP("jqx-scheduler-appointment-inner-content")+"'>"+te+"</div></div>";var re="";if(s.rtl&&(re=s.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),$){var se="white"==F.toLowerCase()?s.toTP("jqx-icon-recurrence-exception-white"):s.toTP("jqx-icon-recurrence-exception");z="<div data-key='"+H.appointment.id+"'"+V+"class='"+re+ee+s.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+G+"; color:"+F+"; background:"+O+";'><div class='"+se+"'></div>"+Y+"<div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(U){var oe="white"==F.toLowerCase()?s.toTP("jqx-icon-recurrence-white"):s.toTP("jqx-icon-recurrence");z="<div data-key='"+H.appointment.id+"'"+V+"class='"+re+ee+s.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+G+"; color:"+F+"; background:"+O+";'><div class='"+oe+"'></div>"+Y+"<div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else z="<div data-key='"+H.appointment.id+"'"+V+"class='"+re+ee+s.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+G+"; color:"+F+"; background:"+O+";'>"+Y+"<div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+s.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";M=z;var ne=e(z);if(ne.appendTo(this.table),H.element=ne,this.appointmentTooltips)if(H.appointment.tooltip)ne[0].setAttribute("title",H.appointment.tooltip);else{var ae=H.appointment.subject;if(ae){var N=H.appointment.location;N&&(ae+="\n"+N),ne[0].setAttribute("title",ae)}}}for(var le=s.table.find(".jqx-scheduler-appointment"),de=function(e){for(var t=0;t<le.length;t++){var i=le[t].getAttribute("data-key");if(i==e)return le[t]}},T=0;T<n.length;T++){var H=n[T],ne=e(de(H.appointment.id));e.each(H.cells,function(t){var i=e(this.cell),r=H.cellY,o=(H.cellX,H.cellHeight);if(i[0].appointments||(i[0].appointments=new Array),i[0].appointments.push({ui:ne,appointment:H}),ne=ne,H.y+H.height>=r+o-12){ne[0].style.visibility="hidden";var n=i.find(".jqx-icon-arrow-down");n.length>0&&(n[0].style.display="block",n[0].mousedown=function(){s.openedMonthCellPopup&&s.openedMonthCellPopup.remove();var t=e("<div></div>"),n=(new e.jqx.date(i.attr("data-date"),s.timeZone),e("<div class='"+s.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+s.toTP("jqx-icon-close")+"'></span></div>"));n.height(16),n.find("span")[0].mousedown=function(){t.remove()},n.addClass(s.toTP("jqx-widget-header")),t.addClass(s.toTP("jqx-widget")),t.addClass(s.toTP("jqx-window")),t.addClass(s.toTP("jqx-scheduler-month-cell-popup")),t.addClass(s.toTP("jqx-popup"));var a=e("<div></div>");t.append(n),t.append(a),a.addClass(s.toTP("jqx-widget-content"));for(var l=i.width(),d=21,h=0;h<i[0].appointments.length;h++){var c=i[0].appointments[h].ui.clone(!0);c.css("left","3px"),c.css("top","0px"),c.css("margin-top","2px"),c.css("position","relative"),c.css("visibility","visible"),c.width(l-6),c.click(function(e){var t=s.getJQXAppointmentByElement(s.getAppointmentElement(e.target));s._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),c.dblclick(function(e){var t=s.getJQXAppointmentByElement(s.getAppointmentElement(e.target));if(!t.readOnly&&!s.editRecurrenceDialog.jqxWindow("isOpen")&&(!s._editDialog||s._editDialog&&!s._editDialog.jqxWindow("isOpen"))){var i=s._initDialog(t);i!==!1&&s._openDialog()}s._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})}),d+=c.outerHeight()+4,a.append(c)}t.css("overflow","hidden"),t.css("position","absolute");var u=s.table.height()-r-25;o>u&&(u=o),t.css("max-height",u),t.height(d),t.width(l),t.css("z-index","9999");var p=i.position();t.css("top",p.top),t.css("left",p.left),s.table.append(t),s.openedMonthCellPopup=t})}})}},_renderMonthAppointments:function(){for(var t=this,i=(t._views[t._view].type,t._views[t._view]),r=new Array,s=(this.rows,e(".jqx-scheduler-month-cell:first").height()),o=0;o<this.appointmentsToRender.length;o++){var n=this.appointmentsToRender[o],a=e.jqx.scheduler.utilities.getStartOfDay(n.from),l=e.jqx.scheduler.utilities.getEndOfDay(n.to),d=(n.allDay,t._getDateByString),h=new Array,c=new Array,u=a.toDate().valueOf(),p=l.toDate().valueOf(),f=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},m=-1,g=n.resourceId,v=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(v=-1);for(var x=0;x<t.rows.length;x++)for(var w=t.rows[x].cells,b=0;b<w.length;b++){var y=w[b].getAttribute("data-date"),_=d(y),j=_.valueOf();j>l||(w[b].appointments=new Array,-1!=v&&1+v!=w[b].getAttribute("data-view")||j>=u&&p>j&&(m!=x&&-1!=m&&(h.sort(f),c.push(h),h=new Array),h.push({cell:w[b],date:_}),m=x))}h.sort(f),c.push(h);for(var q=new Array,x=0;x<c.length;x++){var w=c[x];if(0==w.length)break;var T=t.appointmentsMinHeight;t.isTouchDevice()&&(T=t.touchAppointmentsMinHeight),i.appointmentHeight&&(T=i.appointmentHeight);var C=T,k=e(w[w.length-1].cell).position().left,S=k-e(w[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var S=k-e(w[0].cell).position().left+t.columns.records[1].width;var D=e(w[0].cell).position(),I=D.left,P=D.top+s,A=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(w[w.length-1].date,t.timeZone)),B=new e.jqx.date(w[0].date,t.timeZone);if(t.rtl){var A=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(w[0].date,t.timeZone)),B=new e.jqx.date(w[w.length-1].date,t.timeZone),D=e(w[w.length-1].cell).position(),I=D.left,P=D.top+s,k=e(w[0].cell).position().left,S=k-e(w[w.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var S=k-e(w[w.length-1].cell).position().left+t.columns.records[1].width}var M={cells:w,cellY:parseInt(D.top),cellX:parseInt(D.left),lastCellY:parseInt(D.top),lastCellX:k,x:I,y:P,height:C,width:S,appointment:n,from:B,to:A};q.push(M),r.push(M)}n.elements=q,n.rootAppointment&&(n.rootAppointment.elements=n.rootAppointment.elements.concat(n.elements))}var H=this.getViewStart(),z=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var E=new Array,O=H,L=0;z>O;){E[L]=new Array;for(var x=0;x<r.length;x++){var N=r[x];O<=N.from&&N.to<O.addDays(7)&&(N.row=-1,N.rowSpan=1,E[L].push(N))}L++,O=O.addDays(7)}for(var x=0;x<E.length;x++)E[x].length>0&&this._renderUIMonthAppointments(E[x])}else for(var b=0;b<this._resources.length;b++){for(var F=this._resources[b],E=(new Array,new Array),O=H,L=0;z>O;){E[L]=new Array;for(var x=0;x<r.length;x++){var N=r[x];O<=N.from&&N.to<O.addDays(7)&&(N.row=-1,N.rowSpan=1,N.appointment.resourceId==F&&E[L].push(N))}L++,O=O.addDays(7)}for(var x=0;x<E.length;x++)E[x].length>0&&this._renderUIMonthAppointments(E[x])}},_getMonthAppointmentsPerWeek:function(){var t=this,i=(t._views[t._view].type,t._views[t._view]),r=new Array,s=(this.rows,e(".jqx-scheduler-month-cell:first").height());if(!t.rows)return new Array;for(var o=0;o<this.appointmentsToRender.length;o++){var n=this.appointmentsToRender[o],a=e.jqx.scheduler.utilities.getStartOfDay(n.from),l=e.jqx.scheduler.utilities.getEndOfDay(n.to),d=(n.allDay,t._getDateByString),h=new Array,c=new Array,u=a.toDate().valueOf(),p=l.toDate().valueOf(),f=function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0},m=-1,g=n.resourceId,v=t._resources.indexOf(g);t.resources&&"none"==t.resources.orientation&&(v=-1);for(var x=0;x<t.rows.length;x++)for(var w=t.rows[x].cells,b=0;b<w.length;b++){var y=w[b].getAttribute("data-date"),_=d(y),j=_.valueOf();j>l||-1!=v&&1+v!=w[b].getAttribute("data-view")||j>=u&&p>j&&(m!=x&&-1!=m&&(h.sort(f),c.push(h),h=new Array),h.push({cell:w[b],date:_}),m=x)}h.sort(f),c.push(h);for(var q=new Array,x=0;x<c.length;x++){var w=c[x];if(0==w.length)break;var T=t.appointmentsMinHeight;t.isTouchDevice()&&(T=t.touchAppointmentsMinHeight),i.appointmentHeight&&(T=i.appointmentHeight);var C=T,k=e(w[w.length-1].cell).position().left,S=k-e(w[0].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var S=k-e(w[0].cell).position().left+t.columns.records[1].width;var D=e(w[0].cell).position(),I=D.left,P=D.top+s,A=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(w[w.length-1].date,t.timeZone)),B=new e.jqx.date(w[0].date,t.timeZone);if(t.rtl){var A=e.jqx.scheduler.utilities.getEndOfDay(new e.jqx.date(w[0].date,t.timeZone)),B=new e.jqx.date(w[w.length-1].date,t.timeZone),D=e(w[w.length-1].cell).position(),I=D.left,P=D.top+s,k=e(w[0].cell).position().left,S=k-e(w[w.length-1].cell).position().left+t.columns.records[0].width;if(i.showWeekNumbers)var S=k-e(w[w.length-1].cell).position().left+t.columns.records[1].width}var M={cells:w,cellY:parseInt(D.top),cellX:parseInt(D.left),lastCellY:parseInt(D.top),lastCellX:k,x:I,y:P,height:C,width:S,appointment:n,from:B,to:A};q.push(M),r.push(M)}}var H=this.getViewStart(),z=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var E=new Array,O=H,L=0;z>O;){E[L]=new Array;for(var x=0;x<r.length;x++){var N=r[x];O<=N.from&&N.to<O.addDays(7)&&(N.row=-1,N.rowSpan=1,E[L].push(N))}L++,O=O.addDays(7)}for(var F=new Array,x=0;x<E.length;x++)if(E[x].length>0){var R=this.getMaxMonthAppointments(E[x]),T=t.appointmentsMinHeight;t.isTouchDevice()&&(T=t.touchAppointmentsMinHeight),i.appointmentHeight&&(T=i.appointmentHeight),F.push(R*(T+3)+22)}else F.push("auto");return F}for(var F=new Array,b=0;b<this._resources.length;b++){for(var W=this._resources[b],E=(new Array,new Array),O=H,L=0;z>O;){E[L]=new Array;for(var x=0;x<r.length;x++){var N=r[x];O<=N.from&&N.to<O.addDays(7)&&(N.row=-1,N.rowSpan=1,N.appointment.resourceId==W&&E[L].push(N))}L++,O=O.addDays(7)}for(var x=0;x<E.length;x++)if(E[x].length>0){var R=this.getMaxMonthAppointments(E[x]);F.push(R*(T+3)+22)}else F.push("auto");return F}},_renderUIMonthAppointments:function(t){var i=this._views[this._view],r=t,s=(this.getViewStart(),this.getViewEnd(),1),o=this;s=this.getMaxMonthAppointments(t);var n=o.appointmentsMinHeight;o.isTouchDevice()&&(n=o.touchAppointmentsMinHeight),i.appointmentHeight&&(n=i.appointmentHeight);var a=this._sortAppointmentsByFrom;this.rtl&&(a=this._sortAppointmentsByTo);for(var l=0;l<t.length;l++){var d=t[l];d.row=-1;var h=this.getCollisionAppointments(d,t);h.sort(a);var c=h.indexOf(d);if(c>=0)for(var u=c;u<h.length;u++)h[u].row=-1;for(var p=0;s>p;p++){var f=p;for(var m in h){if("indexOf"==m)break;var g=h[m];if(-1==g.row&&!this.isBusyRow(f,h)){g.row=f;var v=s,x=this.getMaxMonthAppointments(h);v>x&&(v=x),g.rowsCount=v}}}}for(var p=0;p<r.length;p++){var d=r[p],h=this.getCollisionAppointments(d,r);h.sort(a);var w=1;for(var m in h){if("indexOf"==m)break;var b=h[m];w=Math.max(w,b.rowsCount)}for(var m in h){if("indexOf"==m)break;var b=h[m];b.rowsCount=w}if(1==h.length)d.rowSpan=w;else{for(var y=0,_=!0,u=d.row;w>u;u++){for(var m in h){if("indexOf"==m)break;var g=h[m];g!=d&&g.row==u&&(_=!1)}if(!_)break;y++}d.rowSpan=y}}for(var j=0;j<r.length;j++){var q=n,d=r[j];d.height=q;var T=2+(3+q)*d.row;if(d.y=d.y+T,d.x+=1,d.width-=5,0!=d.appointment.from.hour()||23!=d.appointment.to.hour())if(o.rtl){var C=parseFloat(o.cellWidth/24)*d.appointment.to.hour()+parseFloat(o.cellWidth/48)*(d.appointment.to.minute()/30),k=parseFloat(o.cellWidth/24)*d.appointment.from.hour()+parseFloat(o.cellWidth/48)*(d.appointment.from.minute()/30);d.appointment.elements.length>1?d==d.appointment.elements[0]?k>0?"exactTime"==i.appointmentsRenderMode?(d.width-=o.cellWidth-C,d.width-=k):d.timewidth=d.width-o.cellWidth+C-k:(d.timewidth=d.width,d.timex=0):d==d.appointment.elements[d.appointment.elements.length-1]&&("exactTime"==i.appointmentsRenderMode&&(d.x+=o.cellWidth,d.x-=C,d.width+=C,d.width-=o.cellWidth),d.timewidth=d.width-o.cellWidth+C,d.timex=o.cellWidth-C):("exactTime"==i.appointmentsRenderMode&&(d.x+=o.cellWidth,d.x-=C,d.width-=o.cellWidth-C,d.width-=k),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width-o.cellWidth+C-k,d.timex=o.cellWidth-C)}else{var C=parseFloat(o.cellWidth/24)*d.appointment.from.hour()+parseFloat(o.cellWidth/48)*(d.appointment.from.minute()/30);d.timewidth=d.width,d.from.clearTime().toString()==d.appointment.from.clearTime().toString()?d.timex=C:C=0,d.appointment.elements.length>1&&d.appointment.elements[0]!=d&&(C=0);var k=parseFloat(o.cellWidth/24)*d.appointment.to.hour()+parseFloat(o.cellWidth/48)*(d.appointment.to.minute()/30);if(d.appointment.elements.length>1&&d.appointment.elements[d.appointment.elements.length-1]!=d&&(k=0),d.timewidth-=C,k>0&&(d.timewidth-=o.cellWidth,d.timewidth+=k),"exactTime"==i.appointmentsRenderMode&&(d.from.clearTime().toString()==d.appointment.from.clearTime().toString()&&(d.x+=C),d.width=d.timewidth,d.appointment.duration().days()<1&&d.width<15&&(d.width=15,C+15>o.cellWidth))){var S=o.cellWidth-C-15;d.x+=S}}}for(var j=0;j<r.length;j++){var D=r[j],I="",P="auto",i=this._views[this._view],A=D.appointment.from,B=D.appointment.to,P="auto",i=this._views[this._view],A=D.appointment.from,B=D.appointment.to;i.timeRuler&&i.timeRuler.formatString&&(P=i.timeRuler.formatString);var M=P,H=P;if("auto"===P){if(0==A.hour()&&0==A.minute()||12==A.hour()&&0==A.minute())var M="hh tt";else var M="hh:mm";if(0==B.hour()&&0==B.minute()||12==B.hour()&&0==B.minute())var H="hh tt";else var H="hh:mm"}var z=A.toString(M),E=B.toString(H),O=D.appointment.duration(),L=D.appointment.allDay||23===O.hours&&59===O.minutes&&59===O.seconds,N=D.appointment.background,F=D.appointment.subject?D.appointment.subject:"(No Title)",R=D.appointment.color,W=D.appointment.resourceId,V=o.getColors(o._resources.indexOf(W)),G=" data-resourceId='"+W+"' ",U=D.appointment.borderColor,$=D.appointment.location;$&&$.length>1&&($=", "+$),N||(N=V.background),U||(U=V.border),R||(R=V.color);var Y=D.appointment.isRecurrentAppointment(),K=D.appointment.isException(),X="",Z=o.toTP("jqx-scheduler-appointment-status"),J="",Q=o.statuses[D.appointment.status],ee=!1;Q&&("transparent"==Q?ee=!1:(J="<div style='background: "+Q+"; border-right-color: "+U+"' class='"+Z+"'></div>","tentative"==Q&&(Z=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),J="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+Z+"'></div>"),ee=!0));var te=o.toTP("jqx-scheduler-appointment-duration-status"),ie="<div style='width: "+D.timewidth+"px; left: "+D.timex+"px;' class='"+te+"'></div>";L&&(ie=""),"exactTimeStatus"!=i.appointmentsRenderMode&&(ie="");var re="";if(o.rtl){var Z=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");J="<div style='background: "+Q+"; border-left-color: "+U+"' class='"+Z+"'></div>","tentative"==Q&&(Z=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),J="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+Z+"'></div>"),re=J,J=""}var se="",oe=F+$;if(L||(oe=F+$+ie),o.renderAppointment){var ne=o.renderAppointment({appointment:D.appointment.boundAppointment,textColor:R,background:N,borderColor:U,html:oe,cssClass:"",style:"",width:D.width,height:D.height,view:o._views[o._view].type});if(ne){var I=ne.html;if(I!=oe&&(oe=I),R=ne.textColor,N=ne.background,U=ne.borderColor,ne.cssClass&&(se=ne.cssClass+" "),""!=ne.style){var V=o.getAppointmentColors(ne.style);N=V.background,U=V.border,R=V.color}}}if(""===X)if(ee)var X="<div style='white-space:nowrap;' class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+J+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+oe+"</div>"+re+"</div>";else var X="<div style='white-space:nowrap;' class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+oe+"</div></div>";var ae="";if(o.rtl&&(ae=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),K){var le="white"==R.toLowerCase()?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception");I="<div data-key='"+D.appointment.id+"'"+G+"class='"+ae+se+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+U+"; color:"+R+"; background:"+N+";'><div class='"+le+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(Y){var de="white"==R.toLowerCase()?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence");I="<div data-key='"+D.appointment.id+"'"+G+"class='"+ae+se+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+U+"; color:"+R+"; background:"+N+";'><div class='"+de+"'></div>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else I="<div data-key='"+D.appointment.id+"'"+G+"class='"+ae+se+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+U+"; color:"+R+"; background:"+N+";'>"+X+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var he=e(I);if(he.appendTo(this.table),D.element=he,this.appointmentTooltips)if(D.appointment.tooltip)he[0].setAttribute("title",D.appointment.tooltip);else{var ce=D.appointment.subject;if(z&&!L&&(ce=z+" - "+E+" "+ce),ce){var $=D.appointment.location;$&&(ce+="\n"+$),he[0].setAttribute("title",ce)}}e.each(D.cells,function(){var t=e(this.cell),i=t.position();if(t[0].appointments||(t[0].appointments=new Array),t[0].appointments.push({ui:he,appointment:D}),D.y+D.height+2>=i.top+t.height()){he.css("visibility","hidden");var r=t.find(".jqx-icon-arrow-down");r.show(),r[0]&&(r[0].mousedown=function(){o.openedMonthCellPopup&&o.openedMonthCellPopup.remove();var r=e("<div></div>"),s=t.find("div").clone(!0);s.find("span").removeClass().addClass(o.toTP("jqx-icon-close")),s.find("span")[0].mousedown=function(){r.remove()},s.addClass(o.toTP("jqx-widget-header")),r.addClass(o.toTP("jqx-widget")),r.addClass(o.toTP("jqx-window")),r.addClass(o.toTP("jqx-scheduler-month-cell-popup")),r.addClass(o.toTP("jqx-popup"));var n=e("<div></div>");r.append(s),r.append(n),n.addClass(o.toTP("jqx-widget-content jqx-disableselect"));for(var a=t.width(),l=5+t.find("div").outerHeight(),d=0;d<t[0].appointments.length;d++){var h=t[0].appointments[d].ui.clone(!0);h.css("left","3px"),h.css("top","0px"),h.css("margin-top","2px"),h.css("position","relative"),h.css("visibility","visible"),h.width(a-6),l+=h.outerHeight()+4,n.append(h),h.click(function(e){var t=o.getJQXAppointmentByElement(o.getAppointmentElement(e.target));o._raiseEvent("appointmentClick",{appointment:t.boundAppointment})}),h.dblclick(function(e){var t=o.getJQXAppointmentByElement(o.getAppointmentElement(e.target));if(!t.readOnly&&!o.editRecurrenceDialog.jqxWindow("isOpen")&&(!o._editDialog||o._editDialog&&!o._editDialog.jqxWindow("isOpen"))){var i=o._initDialog(t);i!==!1&&o._openDialog()}o._raiseEvent("appointmentDoubleClick",{appointment:t.boundAppointment})})}r.css("overflow","hidden"),r.css("position","absolute"),r.height(l),r.width(a),r.css("z-index","9999"),r.css("top",i.top),r.css("left",i.left),o.table.append(r),o.openedMonthCellPopup=r})}})}},_sortByDate:function(e,t){var i=e.getAttribute("data-date");i=this._getDateByString(i);var r=t.getAttribute("data-date");return r=this._getDateByString(r),r>i?-1:i>r?1:i==r?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.equals(t.from)){var i=e.to-e.from,r=1e4*i,i=t.to-t.from,s=1e4*i;if(r>s)return-1}return e.from<t.from?-1:e.from>t.from?1:e.from==t.from?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=e.to-e.from,r=1e4*i,i=t.to-t.from,s=1e4*i;if(r>s)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){var r=i._resources.indexOf(e.resourceId),s=i._resources.indexOf(t.resourceId);return r==s?0:s>r?-1:r>s?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++){var r=t[i];if(r.row==e)return!0}return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++){var r=t[i];if(r.column==e)return!0}return!1},getMaxTimelineAppointments:function(t,i,r,s){if(0==t.length)return 1;var o=this,n=o._views[o._view].type,a=(o._views[o._view],1),l=r,d=this.getMinutesPerScale(),h=null,c=null,u="";for(var p in t){if("indexOf"==p)break;var f=t[p];h||(h=f.from),c||(c=f.to),h=Math.min(f.from,h),c=Math.max(f.to,c),u+=f.appointment.id}if(u+=h,u+=c,i[u])return i[u];h=new e.jqx.date(h,o.timeZone),c=new e.jqx.date(c,o.timeZone);for(var l=h;c>h;){var m=l;if("timelineMonthView"===n)var g=m.addDays(1);else var g=m.addMinutes(d);var v=0;for(var p in t){if("indexOf"==p)break;var f=t[p],x=f.from,w=f.to,b=e.jqx.scheduler.utilities.rangeIntersection(m,g,x,w);b&&v++}a=Math.max(v,a),l="timelineMonthView"===n?l.addDays(1,!1):l.addMinutes(d,!1)}return i[u]=a,a},getMaxMonthAppointments:function(t){this._views[this._view].type,this._views[this._view];if(0==t.length)return 1;for(var i=1,r=this.getViewStart().clone(),s=this.getViewEnd();s>r;){var o=r,n=e.jqx.scheduler.utilities.getEndOfDay(o),a=0;for(var l in t){if("indexOf"==l)break;var d=t[l],h=d.from,c=d.to,u=e.jqx.scheduler.utilities.rangeIntersection(o,n,h,c);u&&a++}i=Math.max(a,i),r=r.addDays(1,!1)}return i},getMaxAllDayAppointments:function(t){var i=(this._views[this._view].type,this._views[this._view],this);if(0==t.length)return 1;var r=function(t){for(var r=1,s=i.getViewStart(),o=i.getViewEnd();o>s;){var n=s,a=e.jqx.scheduler.utilities.getEndOfDay(n),l=0;for(var d in t){if("indexOf"==d)break;var h=t[d],c=h;if(h.appointment&&(c=h.appointment),1!=c.hidden&&c.duration&&(c.allDay||c.duration().days()>=1)){var u=h.from,p=h.to,f=e.jqx.scheduler.utilities.rangeIntersection(n,a,u,p);f&&l++}}r=Math.max(l,r),s=s.addDays(1,!1)}return r};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var s=r(t);else{for(var o=1,n=0;n<this._resources.length;n++){for(var a=this._resources[n],l=new Array,d=0;d<t.length;d++)t[d].appointment&&t[d].appointment.resourceId==a?l.push(t[d]):void 0!=t[d].resourceId&&t[d].resourceId==a&&l.push(t[d]);var s=r(l);o=Math.max(o,s)}s=o}return s},getMinutesPerScale:function(){var e=(this._views[this._view].type,this._views[this._view]),t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(t){var i=(this._views[this._view].type,this._views[this._view]),r=30,s="halfHour";switch(i.timeRuler&&i.timeRuler.scale&&(s=i.timeRuler.scale),s){case"sixtyMinutes":case"hour":r=60;break;case"thirtyMinutes":case"halfHour":r=30;break;case"fifteenMinutes":case"quarterHour":r=15;break;case"tenMinutes":r=10;break;case"fiveMinutes":r=5}if(0==t.length)return 1;for(var o=1,n=t[0].from.clone(),a=n.addMinutes(r),l=e.jqx.scheduler.utilities.getEndOfDay(n);l>n;){var d=n,h=a,c=0;for(var u in t){if("indexOf"==u)break;var p=t[u];if(p.from||p.to){var f=p.from,m=p.to,g=e.jqx.scheduler.utilities.rangeIntersection(d,h,f,m);g&&c++}}o=Math.max(c,o),n=n.addMinutes(r,!1),a=a.addMinutes(r,!1)}return o},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updatecolumnwidths:function(){var t=this,i=this._hostWidth,r=i;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(i-=parseInt(this.scrollBarSize)+6,this.rtl&&(i+=3),r=i);var s="";if(void 0!=this.columns&&void 0!=this.columns.records){var t=this,o=!1,n=new Array;e.each(this.columns.records,function(e,o){if(!this.hidden){if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var o=0,a="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollBarSize+5;0==t.scrollBarSize&&(a=0),o=parseFloat(this.width)*r/100,void 0!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*r/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),i-=Math.round(o)}else"auto"==this.width||this._width?s+=this.text:i-=this.width;"auto"==this._width&&(n[n.length]=this)}});var a=this.columnsheader.find("#columntable"+this.element.id);if(0!=a.length){var l=0,d=(a.find(".jqx-grid-column-header"),0);e.each(this.columns.records,function(s,a){var h=this.element,c=!1,u=this.width,p=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(u=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*r/100:parseFloat(this.width)*r/100,u=Math.round(u),c=!0),"auto"==this.width||this._width||c)if(c)u<this.minwidth&&"auto"!=this.minwidth&&(u=this.minwidth,this.width=u),u>this.maxwidth&&"auto"!=this.maxwidth&&(u=this.maxwidth,this.width=u),parseInt(h[0].style.width)!=u&&(h.width(u),this.width=u);else{var f=t.columns.records.length,m=t._views[t._view].type;if("dayView"===m||"weekView"===m){var g=t._views[t._view];g.timeRuler?(g.timeRuler.timeZones&&(f-=g.timeRuler.timeZones.length),f--):f--}else"monthView"===m&&t._views[t._view].showWeekNumbers&&f--;var v=Math.floor(i*(1/f));t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?v=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(v=Math.round((2+i)*(1/t._getColumnsLengthPerView())));var x=i*(1/f)-v;if(l+=x,l>=1&&(l-=1,v++),l>=.5&&s==t.columns.records.length-1&&v++,"agendaView"==m&&(v=i/n.length,v++),0>v){var w=e("<span>"+this.text+"</span>");e(document.body).append(w),v=10+w.width(),w.remove()}v<this.minwidth&&(v=this.minwidth),v>this.maxwidth&&(v=this.maxwidth),this._width="auto",this.width=parseInt(v),h.width(this.width)}else parseInt(h[0].style.width)!=this.width&&h.width(this.width);parseInt(h[0].style.left)!=d&&h.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,p!==this.width&&(o=!0)}),this.columnsheader.width(2+d),a.width(this.columnsheader.width()),this._resizecolumnGroups(),o&&(this._renderrows(),t._arrange())}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){var i=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var r=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');r[0].cells=new Array;var s=0,o="",n=this._hostWidth;n||(this._hostWidth=this.host.width());var a=this._hostWidth,l=a,d=this.getRows().length,h=this.rowsHeight;this.isTouchDevice()&&(h=this.touchRowsHeight),d*h>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(a-=parseInt(this.scrollBarSize)+6,this.rtl&&(a+=3),l=a);var c=new Array,u=new Array;if(e.each(this.columns.records,function(e,t){if(!this.hidden)if("auto"==this.width||this._width)o+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)a-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)a-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var t=0;t=parseFloat(this.width)*l/100,t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),a-=t}else"string"==typeof this.width&&(this.width=parseInt(this.width)),a-=this.width;null!=this.width&&"auto"!=this.width||(u[u.length]=this),c[c.length]=this}),this.rtl)for(var p=0;p<c.length;p++)this.columns.replace(p,c[p]);var f=this.headerZIndex,m=t.columnsHeight,g=function(e,i){var r=t.columnGroupslevel*t.columnsHeight;return r-=i.level*t.columnsHeight},v=0,x=document.createDocumentFragment();e.each(this.columns.records,function(o,n){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=g(this.datafield,this),m=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(d+=" "+t.toTP("jqx-disableselect"));var h=t.rtl?f++:f--,c=document.createElement("div");c.setAttribute("role","columnheader"),c.style.position="absolute",c.style.zIndex=h,c.style.height="100%",c.className=d;var p=e(c);t.rtl&&0===o&&(p[0].style.borderLeftColor="transparent"),t.columnGroups?(p[0].style.height=m+"px",p[0].style.bottom="0px"):this.timeColumn||(p[0].style.height=-1+m+"px"),this.uielement=p,this.element=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var w=this.width,b=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(w=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*l/100:parseFloat(this.width)*l/100,w=Math.round(w),b=!0),"auto"==this.width||this._width||b)if(b)w<this.minwidth&&"auto"!=this.minwidth&&(w=this.minwidth),w>this.maxwidth&&"auto"!=this.maxwidth&&(w=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(w),this.width=w;else{var y=t.columns.records.length,_=t._views[t._view].type;if("dayView"===_||"weekView"===_){var j=t._views[t._view];j.timeRuler?(j.timeRuler.timeZones&&(y-=j.timeRuler.timeZones.length),y--):y--}else"monthView"===_&&t._views[t._view].showWeekNumbers&&y--;var q=Math.floor(a*(1/y));t.resources&&t.resources.resourceColumnWidth&&"auto"!=t.resources.resourceColumnWidth?q=t.resources.resourceColumnWidth:t.resources&&t.resources.resourceColumnWidth&&"auto"==t.resources.resourceColumnWidth&&"horizontal"==t.resources.orientation&&(q=Math.round((2+a)*(1/t._getColumnsLengthPerView())));
var T=a*(1/y)-q;v+=T,v>=1&&(v-=1,q++),v>=.5&&o==t.columns.records.length-1&&q++,isNaN(q)&&(q=this.minwidth),"agendaView"==_&&(q=a/u.length,q++),0>q&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),q=10+$element.width(),$element.remove()),q<this.minwidth&&(q=this.minwidth),q>this.maxwidth&&(q=this.maxwidth),this._width="auto",this.width=parseInt(q),w=this.width,p.width(this.width)}else w<this.minwidth&&"auto"!=this.minwidth&&(w=this.minwidth),w>this.maxwidth&&"auto"!=this.maxwidth&&(w=this.maxwidth),p[0].style.width=parseInt(w)+"px";this.timeColumn&&(p.css("border-bottom-color","transparent"),i.timeRuler&&i.timeRuler.timeZones&&o<i.timeRuler.timeZones.length&&p.css("border-right-color","transparent"),1==this.tableRows&&p.addClass(t.toTP("jqx-scheduler-time-column"))),this.hidden&&p.css("display","none");e(p.children()[0]);r[0].cells[o]=p[0];var C=t._rendercolumnheader(this.text,this.align,m,t);p[0].innerHTML=C,x.appendChild(p[0]);p[0].style.left=s+"px",this.hidden||(s+=w)}),r[0].appendChild(x),s>0?this.columnsheader[0].style.width=2+s+"px":this.columnsheader[0].style.width=s+"px",this._columnswidth=s,this.columnsrow=r,t.columnsheader.append(r),r[0].style.width=s+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var t=this.headerZIndex+this.columns.records.length,i=this,r=i.toTP("jqx-grid-column-header")+" "+i.toTP("jqx-grid-columngroup-header")+" "+i.toTP("jqx-widget-header");i.rtl&&(r+=" "+i.toTP("jqx-grid-columngroup-header-rtl"));var s=this.columnsheader.find("#columntable"+this.element.id);s.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columnGroupslevel-1;o++)for(var n=0;n<this.columnGroups.length;n++){var a=this.columnGroups[n],l=a.level;if(l===o){var d=l*this.columnsHeight,h=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=c(r):r.hidden||(t+=r.width,h=Math.min(parseInt(r.element[0].style.left),h))}return t};a.width=c(a),a.left=h;var u=this.columnsHeight,p=t--,f=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+r+'"></div>'),m=e(this._rendercolumnheader(a.text,a.align,this.columnsHeight,this));a.renderer&&a.renderer(f,a.text),f.append(m),f[0].style.left=h+"px",0===h&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=d+"px",f[0].style.height=u+"px",f[0].style.width=-1+a.width+"px",s.append(f),a.element=f}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level,r=i*this.columnsHeight,s=99999;if(t.groups){var o=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=o(r):(t+=r.width,s=Math.min(parseInt(r.element[0].style.left),s))}return t};t.width=o(t),t.left=s;var n=this.columnsHeight,a=t.element;a[0].style.left=s+"px",a[0].style.top=r+"px",a[0].style.height=n+"px",a[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click")}},destroy:function(){var t=this;t._removeHandlers(),t._editDialog&&t._editDialog.jqxWindow("destroy"),t.menu&&t.menu.jqxMenu("destroy"),t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("destroy"),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&s!==r)if("filterable"==i)t._render();else if("view"==i)t.setView(s);else if("views"==i){t._columns=null,t._views=new Array,t._view=t.view;for(var o=0;o<t.views.length;o++)"string"===e.type(t.views[o])?t._views.push({type:t.views[o]}):t._views.push(t.views[o]);for(var o=0;o<t._views.length;o++)if(t._views[o].type==t.view){t._view=o;break}t._render()}else if("height"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t._hostWidth=null,t._hostHeight=null,t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("resources"==i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("selectionMode"===i)t.selectionMode=s.toLowerCase();else if("touchMode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;"showLegend"==i?(t.legendbartop.show(),t.legendbarbottom.show(),t.refresh()):"disabled"==i?(s?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.host.find(".jqx-grid-group-collapse").css("cursor",s?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",s?"default":"pointer")):"columnsHeight"==i?t._render():"localization"==i?(t._render(),t.editRecurrenceDialog&&(t.editRecurrenceDialog.jqxWindow("destroy"),t.createEditRecurrenceDialog())):"theme"==i?(e.jqx.utilities.setTheme(r,s,t.host),t._editDialog&&e.jqx.utilities.setTheme(r,s,t._editDialog),t.editRecurrenceDialog&&e.jqx.utilities.setTheme(r,s,t.editRecurrenceDialog),t.menu&&t.menu.jqxMenu({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.refresh()):t.refresh()}},_rendercolumnheader:function(e,t,i,r){var s="4px";r.columnGroups?(s=i/2-this._columnheight/2,0>s&&(s=4),s+="px"):25!=this.columnsHeight&&(s=this.columnsHeight/2-this._columnheight/2,0>s&&(s=4),s+="px");var o='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){var n=this.columnRenderer(e,t,i,o);if(void 0!=n)return n}return o}})}(jqxBaseFramework),function(e){e.jqx.scheduler||(e.jqx.scheduler={}),e.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},areWeekDaysIncluded:function(t,i){var r=!1;return e.each(t,function(e,t){return t===i?(r=!0,!1):void 0}),r},getStartOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),0,0,0);return i.timeZone=t.timeZone,i},getEndOfDay:function(t){var i=new e.jqx.date(t.year(),t.month(),t.day(),23,59,59);return i.timeZone=t.timeZone,i},getDaysCount:function(e,t){for(var i=1;t>e;)e.day()!=t.day()&&i++,e=e.addDays(1);return i},getStartOfWeek:function(e,t){var i=e.dayOfWeek(),r=t.firstDay;r>i&&(i+=7);var s=i-r,o=e.addDays(-s);return o.date()},getEndOfWeek:function(e,t,i){var r=7,s=that.getStartOfWeek(e,dateTimeFormat,i);return s.addDays(r)},getEndOfMonth:function(t,i){var r=t.daysInMonth(),s=new e.jqx.date(t.year(),t.month(),r,23,59,59);return s.timeZone=t.timeZone,s},rangeIntersection:function(e,t,i,r){var s=e.valueOf(),o=i.valueOf(),n=t.valueOf(),a=r.valueOf();if(o>=s&&n>o)return!0;if(s>o&&a>s)return!0;if(s==o||n==a)return!0;if(o>s){if(n>o&&a>n)return!0;if(n>a)return!0}else{if(a>s&&n>a)return!0;if(a>n)return!0}return!1},rangeContains:function(e,t,i,r){return i>=e&&t>=r},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((i-new Date(t.getFullYear(),0,1))/e.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(e){return e instanceof Date&&(e=e.getFullYear()),e%4===0&&e%100!==0||e%400===0},tzOffset:function(e){return 60*e.getTimezoneOffset()*1e3},monthRange:function(t,i){var r=new Date(t,i,1);return[e.jqx.scheduler.utilities.getWeekday(r),e.jqx.scheduler.utilities.getMonthDays(r)]},getMonthDays:function(t){var i=t.getMonth();return 1==i&&e.jqx.scheduler.utilities.isLeapYear(t)?29:e.jqx.scheduler.utilities.monthDays[i]},getWeekday:function(e){var t=[6,0,1,2,3,4,5];return t[e.getDay()]},combine:function(e,t){return t=t||e,new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},sort:function(e){e.sort(function(e,t){return e.getTime()-t.getTime()})},timeToUntilString:function(e){for(var t,i=new Date(e),r=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),"T",i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Z"],s=0;s<r.length;s++)t=r[s],!/[TZ]/.test(t)&&10>t&&(r[s]="0"+String(t));return r.join("")},untilStringToDate:function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=t.exec(e);if(!i)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},Time:function(e,t,i){this.hour=e,this.minute=t,this.second=i,this.that=this,this.getHours=function(){return that.hour},this.getMinutes=function(){return that.minute},this.getSeconds=function(){return that.second},this.getTime=function(){return 1e3*(60*that.hour*60+60*that.minute+that.second)}}},e.jqx.scheduler.appointment=function(){var t=this;if(t.from=new e.jqx.date,t.to=(new e.jqx.date).addHours(1),t.subject="",t.description="",t.location="",t.tooltip="",t.hidden=!1,t.resourceId=null,t.id="",t.background=null,t.color=null,t.borderColor=null,t.status="busy",t.style=null,t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.occurrenceEnumerator=null,t.rootAppointment=null,t.hiddenByResourceId=!1,t.draggable=!0,t.resizable=!0,t.recurrentAppointment=!1,t.allDay=!1,t.readOnly=!1,t.showStatus=!0,t.timeZone=null,t.scheduler=null,t.elements=new Array,t.duration=function(){var i=t.to-t.from,r=1e4*i;return new e.jqx.timeSpan(r)},t.toString=function(e){var i=function(e){for(var t="";e.length>75;)t+=e.substr(0,75)+"\n",e=" "+e.substr(75);return t+=e},r=function(e){return(10>e?"0":"")+e},s=function(e,t){return e?t?""+e.getFullYear()+r(e.getMonth()+1)+r(e.getDate())+"T"+r(e.getHours())+r(e.getMinutes())+r(e.getSeconds()):""+e.getUTCFullYear()+r(e.getUTCMonth()+1)+r(e.getUTCDate())+"T"+r(e.getUTCHours())+r(e.getUTCMinutes())+r(e.getUTCSeconds())+"Z":""},o=function(){for(var i="",r=0;r<t.recurrenceException.length;r++)i+=s(t.recurrenceException[r].toDate(),e),r<t.recurrenceException.length-1&&(i+=",");return i},n=t.status;return n||(n="CONFIRMED"),"busy"==n.toLowerCase()&&(n="CONFIRMED"),"tentative"==n.toLowerCase()&&(n="TENTATIVE"),"free"==n.toLowerCase()&&(n="CANCELLED"),"outOfOffice"==n.toLowerCase()&&(n="CANCELLED"),"BEGIN:VEVENT\nUID:"+t.id+"\nDTSTAMP:"+s(new Date,e)+"\n"+i("TITLE:"+t.subject)+"\nDTSTART:"+s(t.from.toDate(),e)+"\nDTEND:"+s(t.to.toDate(),e)+"\n"+(t.recurrencePattern?"RRULE:"+t.recurrencePattern.toString()+"\n":"")+(t.recurrenceException&&t.recurrenceException.length>0?"EXDATE:"+o()+"\n":"")+(t.subject?i("SUMMARY:"+t.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(t.status?i("STATUS:"+n)+"\n":"")+(t.description?i("DESCRIPTION:"+t.description)+"\n":"")+(t.location?i("LOCATION:"+t.location)+"\n":"")+"END:VEVENT"},t.range=function(){return t.allDay?{from:e.jqx.scheduler.utilities.getStartOfDay(t.from),to:e.jqx.scheduler.utilities.getEndOfDay(t.to)}:{from:t.from,to:t.to}},t.clearRecurrence=function(){t.recurrencePattern&&(t.exceptions=new Array,t.exceptionDates=new Array,t.recurrencePattern=null,t.recurrenceException=new Array,t.hidden=!1)},t.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay},t.cloneAppointmentAttributes=function(e){e.subject=t.subject,e.description=t.description,e.location=t.location,e.tooltip=t.tooltip,e.resourceId=t.resourceId,e.category=t.category,e.status=t.status,e.rootAppointment=t,e.color=t.color,e.borderColor=t.borderColor,e.background=t.background,e.hidden=t.hidden,e.timezone=t.timeZone,e.style=t.style,e.hiddenByResourceId=t.hiddenByResourceId},t.createOccurrence=function(i){if(null==i)return null;var r=new e.jqx.scheduler.appointment;r.allDay=t.allDay;var s=t.duration();return t.allDay&&(s=new e.jqx.timeSpan(1e4*(t.to-t.from))),r.from=i,r.to=i.add(s),r.occurrenceFrom=i.clone(),r.subject=t.subject,r.description=t.description,r.location=t.location,r.tooltip=t.tooltip,r.resourceId=t.resourceId,r.category=t.category,r.status=t.status,r.rootAppointment=t,r.color=t.color,r.draggable=t.draggable,r.resizable=t.resizable,r.borderColor=t.borderColor,r.background=t.background,r.recurrentAppointment=!0,r.timeZone=t.timeZone,r.style=t.style,r.hiddenByResourceId=t.hiddenByResourceId,r.boundAppointment=t.boundAppointment,t.hiddenByResourceId&&(r.hidden=!0),r.id=t.id+"."+e.jqx.scheduler.utilities.guid(),t.hidden=!0,t.occurrenceIndex++,r},t.clone=function(){var i=new e.jqx.scheduler.appointment;return i.allDay=t.allDay,i.from=t.from.clone(),i.to=t.to.clone(),i.subject=t.subject,i.description=t.description,i.location=t.location,i.tooltip=t.tooltip,i.resourceId=t.resourceId,i.category=t.category,i.status=t.status,i.color=t.color,i.borderColor=t.borderColor,i.background=t.background,i.style=t.style,i.timeZone=t.timeZone,i.hiddenByResourceId=t.hiddenByResourceId,t.hiddenByResourceId&&(i.hidden=!0),i.id=t.id+"."+e.jqx.scheduler.utilities.guid(),i},t.isRecurrentAppointment=function(){return t.recurrentAppointment||null!=t.recurrencePattern},t.anyExceptions=function(){return null!=t.exceptions&&t.exceptions.length>0},t.anyOccurrences=function(){return null!=t.occurrenceEnumerator&&t.occurrenceEnumerator.getNextAppointment()},t.isException=function(){var e=t.rootAppointment||this;if(!e.recurrenceException)return!1;for(var i=0;i<e.recurrenceException.length;i++){var r=e.recurrenceException[i];if(t.occurrenceFrom&&r.equals(t.occurrenceFrom))return!0}return!1},t.getOccurrences=function(i,r){t.occurrenceIndex=0;var s=null!==i?i:t.from,o=new e.jqx.scheduler.recurrentAppointmentsList(t,t.calendar,s,r,t.scheduler);return t.occurrences=o.list,o.list},1===arguments.length)if("object"==e.type(arguments[0]))for(var i in arguments[0]){var r=arguments[0][i];void 0!==this[i]&&(this[i]=r)}else t.from=arguments[0],t.to=new e.jqx.date(t.from).addHours(1);else 2===arguments.length?(t.from=arguments[0],t.to=arguments[1]):3===arguments.length?(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2]):3===arguments.length&&(t.from=arguments[0],t.to=arguments[1],t.subject=arguments[2],t.description=arguments[3]);null!=t.recurrencePattern&&t.recurrencePattern.setFrom(t.from)},e.jqx.scheduler.recurrentAppointmentsList=function(){var t=this;return t.recurrentAppointment=null,t.currentTime=null,t.calendar=e.jqx.scheduler.calendar,t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31),t.foundItems=0,t.list=new Array,t.scheduler=null,t.getOccurrences=function(i,r,s){return void 0==i?t.list:new e.jqx.scheduler.recurrentAppointmentsList(i,t.calendar,r,s).list},t.current=function(){return t.recurrentAppointment.createOccurrence(t.currentTime)},t.fillList=function(){t.currentTime=null,t.foundItems=0,t.list=new Array;var e=t.recurrentAppointment.recurrencePattern;if(e.step=0,e.current=0,e.currentYearDay=0,null==e)return!1;for(;t.getNextAppointment(e);){var i=t.current();i&&t.list.push(i)}},t.getNextAppointment=function(e){if(null==t.recurrentAppointment)return!1;var i=4294967295,r=(this.scheduler._views[this.scheduler._view].type,this.scheduler._views[this.scheduler._view]),s=0;switch(e.freq){case"weekly":s=7;break;case"monthly":s=31;break;case"yearly":s=365}for(var o=0;i>o;o++){var n=e.getNewOccurenceDate();if(e.currentTime=n,e.to<n&&e.to.addDays(s)>=n||t.to<n&&t.to.addDays(s)>=n)return t.currentTime=null,!0;if(e.to.addDays(s)<n||t.to.addDays(s)<n)return t.currentTime=null,!1;var a=!0;if(a=t.getCanSetTime(e,n,a),e.canCreateNewOccurence(n,t.calendar)){var l=!0;!1===r.showWeekends&&(6!=n.dayOfWeek()&&0!=n.dayOfWeek()||(l=!1)),l&&t.foundItems++}if(a)return t.currentTime=n,!(t.foundItems>e.count)}return!1},t.getCanSetTime=function(e,i,r){return e.canCreateNewOccurence(i,t.calendar)||(r=!1),i<t.from&&i.add(t.recurrentAppointment.duration())<=t.from&&(r=!1),t.to<=i&&(r=!1),r},t.isException=function(e,i,r){for(var s=t.recurrentAppointment.exceptions,o=0;o<s.length;o++)if(r.isDateInExceptionAppointment(e,i,s[o])&&-1===r.newExceptions.indexOf(s[o]))return!0;return!1},arguments&&arguments.length>0&&(t.recurrentAppointment=arguments[0],arguments[1]&&(t.calendar=arguments[1]),arguments[2]&&(t.from=arguments[2]),arguments[3]&&(t.to=arguments[3]),arguments[4]&&(t.scheduler=arguments[4]),void 0===arguments[2]&&(t.from=new e.jqx.date(0),t.to=new e.jqx.date(9999,12,31)),t.fillList()),t},e.jqx.scheduler.recurrencePattern=function(){var t=this,i={from:new e.jqx.date(0),to:new e.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return e.extend(!0,t,i),t.getNewOccurenceDate=function(){var i=function(e,t){var i=0,r=[];if(e instanceof Array)for(;t>i;i++)r[i]=[].concat(e);else for(;t>i;i++)r[i]=e;return r},r=function(e,t){var i=e%t;return 0>i*t?i+t:i},s=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],r=e;t>r;r++)i.push(r);return i},o=[0,31,60,91,121,152,182,213,244,274,305,335,366],n=[0,31,59,90,120,151,181,212,243,273,304,334,365],a=t.from.year(),l=[6,0,1,2,3,4,5],d=function(e){t.yearlen=e%4!=0||e%100==0&&e%400!=0?365:366,t.nextyearlen=(1+e)%4!=0||(1+e)%100==0&&(1+e)%400!=0?365:366;var i=(new Date(e,0,1),l[new Date(e,0,1).getDay()]),r=function(){for(var e=[],t=0;55>t;t++)e=e.concat(s(7));return e}();365==t.yearlen?(t.wdaymask=r.slice(i),t.mrange=[].concat(n)):(t.wdaymask=r.slice(i),t.mrange=[].concat(o))};switch(d(a),t.freq){case"daily":default:var h=t.from.add(new e.jqx.timeSpan(t.step*t.interval,0,0,0));return t.step++,h;case"weekly":if(t.byweekday){var h=new e.jqx.date(t.from,t.timeZone);if(h=h.addDays(7*(t.step*t.interval)),t.step>=1){h=h.addDays(-t.from.dayOfWeek());var c=h.addDays(7)}else var c=h.addDays(7-t.from.dayOfWeek());for(var u=h,p=0;7>p&&l[u.dayOfWeek()]!==t.byweekday[t.current]&&!(u>=c);p++)u=u.addDays(1);h=u,t.current++,void 0==t.byweekday[t.current]&&(t.current=0,t.step++)}return h;case"monthly":if(t.bynweekday.length>0){var h=new e.jqx.date(t.from.year(),t.from.month(),1,t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addMonths(t.step*t.interval),d(h.year());var f=h.month(),m=[t.mrange.slice(f-1,f+1)][0],g=m[0],v=m[1];v-=1,t.nwdaymask=i(0,t.yearlen),t.step++;for(var x=0;x<t.bynweekday.length;x++){var w=t.bynweekday[x][0],b=t.bynweekday[x][1];0>b?(p=v+7*(b+1),p-=r(t.wdaymask[p]-w,7)):(p=g+7*(b-1),p+=r(7-t.wdaymask[p]+w,7)),p>=g&&v>=p&&(t.nwdaymask[p]=1)}var y=p+1,_=y-g,h=new e.jqx.date(t.from.year(),t.from.month(),_,t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addMonths((t.step-1)*t.interval)}else if(t.bymonthday.length>0){var h=new e.jqx.date(t.from.year(),t.from.month(),t.bymonthday[t.current],t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addMonths(t.step*t.interval),t.current++,t.bymonthday[t.current]||(t.current=0,t.step++)}else{var h=new e.jqx.date(t.from.year(),t.from.month(),t.day,t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addMonths(t.step*t.interval),t.step++}return h;case"yearly":if(t.bymonth&&t.bymonth.length>0)if(t.bynweekday.length>0){var h=new e.jqx.date(t.from.year(),t.bymonth[t.current],1,t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addYears(t.step*t.interval),d(h.year());var f=h.month(),m=[t.mrange.slice(f-1,f+1)][0],g=m[0],v=m[1];v-=1,t.nwdaymask=i(0,t.yearlen);for(var x=0;x<t.bynweekday.length;x++){var w=t.bynweekday[x][0],b=t.bynweekday[x][1];0>b?(p=v+7*(b+1),p-=r(t.wdaymask[p]-w,7)):(p=g+7*(b-1),p+=r(7-t.wdaymask[p]+w,7)),p>=g&&v>=p&&(t.nwdaymask[p]=1)}var y=p+1,_=y-g;h=new e.jqx.date(h.year(),t.bymonth[t.current],_,t.from.hour(),t.from.minute(),t.from.second()),h.timeZone=t.timeZone,t.step++}else if(t.byyearday.length>0){var h=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.byyearday[t.currentYearDay],t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.currentYearDay++,t.byyearday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.bymonth[t.current]||(t.current=0,t.step++))}else{var h=new e.jqx.date(t.from.year(),t.bymonth[t.current],t.from.day(),t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.current++,t.bymonth[t.current]||(t.current=0,t.step++)}else if(t.byyearday&&t.byyearday.length>0){var h=new e.jqx.date(t.from.year(),t.from.month(),t.byyearday[t.current],t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.current++,t.byyearday[t.current]||(t.current=0,t.step++)}else if(null!=t.byweekno){var j=function(i,r){var s=1,o=new e.jqx.date(r.year(),1,1,r.hour(),r.minute(),r.second());for(o.timeZone=t.timeZone;s!=i&&(o=o.addDays(7),s++,!(s>53)););for(;e.jqx.scheduler.utilities.getWeekday(o.toDate())!=t.wkst;)o=o.addDays(1);return o},h=t.from.addYears(t.step*t.interval);if(h=j(t.byweekno[t.current],h),t.byweekday){for(var u=h,p=0;7>p&&l[u.dayOfWeek()]!==t.byweekday[t.currentYearDay];p++)u=u.addDays(1);h=u,t.currentYearDay++,t.byweekday[t.currentYearDay]||(t.currentYearDay=0,t.current++,t.byweekno[t.current]||(t.current=0,t.step++))}else t.current++,t.byweekno[t.current]||(t.current=0,t.step++)}else{var h=new e.jqx.date(t.from.year(),t.month,t.day,t.from.hour(),t.from.minute(),t.from.second());h.timeZone=t.timeZone,h=h.addYears(t.step*t.interval),t.step++}return h}},t.isDateInExceptionAppointment=function(e,i,r){switch(t.freq){case"daily":case"weekly":default:return e.year()==r.from.year()&&e.dayOfYear()==r.from.dayOfYear()}},t.createNewPattern=function(){if(t.ical){var i=new e.jqx.scheduler.recurrencePattern(t.ical);return i}var i=new e.jqx.scheduler.recurrencePattern;return i.from=t.from,i.to=t.to,i.count=t.count,i.interval=t.interval,i.exceptions=t.exceptions,i.newExceptions=t.newExceptions,i.weekDays=t.weekDays,i.isEveryWeekDay=t.isEveryWeekDay,i.month=t.month,i.day=t.day,i.current=t.current,i.currentYearDay=t.currentYearDay,i.step=t.step,i.days=t.days,i.bynweekday=t.bynweekday,i.bymonth=t.bymonth,i.bymonthday=t.bymonthday,i.byyearday=t.byyearday,i.byweekno=t.byweekno,i.byweekday=t.byweekday,i.freq=i.freq,i.timeZone=i.timeZone,i},t.equals=function(e){var i=t.from==e.from&&t.to==e.to&&t.count===e.count&&t.interval===e.interval&&t.day===e.day&&t.month===e.month;return i},t.isDayOfWeekIncluded=function(i){var r=i.dayOfWeek();return e.jqx.scheduler.utilities.areWeekDaysIncluded(t.weekDays,r)},t.getWeekIndexFromDate=function(i,r){var s=r.firstDay,o=e.jqx.scheduler.utilities.getStartOfWeek(t.from,r,s),n=new e.jqx.timeSpan(i.subtract(o));return parseInt(n.days()/7)},t.canCreateNewOccurence=function(e,i){e.toDate();switch(t.freq){case"daily":default:return t.bymonth&&-1==t.bymonth.indexOf(e.month())?!1:t.isEveryWeekDay?!!t.isDayOfWeekIncluded(e,i):!0;case"weekly":var r=t.getWeekIndexFromDate(e,i);if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(r%t.interval!=0)return!1;if(t.weekDays=={}){if(t.from.dayOfWeek()!=start.dayOfWeek())return!1}else if(!t.isDayOfWeekIncluded(e,i))return!1;break;case"monthly":case"yearly":if(t.bymonth&&-1==t.bymonth.indexOf(e.month()))return!1;if(e<t.from)return!1}return!0},t.toString=function(){var t={};t.dtstart=this.from.toDate(),t.until=this.to?this.to.toDate():null,t.count=this.count;var i={};i.YEARLY=0,i.MONTHLY=1,i.WEEKLY=2,i.DAILY=3,i.HOURLY=4,i.MINUTELY=5,i.SECONDLY=6,t.freq=i[this.freq.toUpperCase()],"YEARLY"==t.freq&&(t.bymonth=this.bymonth?this.bymonth:(new Array).push(this.month)),t.byweekday=new Array;var r=["MO","TU","WE","TH","FR","SA","SU"];e.each(this.weekDays,function(){t.byweekday.push(this)}),void 0!=this.byyearday&&(t.byyearday=this.byyearday),void 0!=this.byweekno&&(t.byweekno=this.byweekno),t.bymonthday=this.bymonthday,t.wkst=r[this.wkst],t.interval=this.interval;var s=new e.jqx.ICalRule(t);return s.toString()},t.init=function(i){var r=new e.jqx.ICalRule(t.ical,i),s=r.options;if(t.from=s.dtstart?new e.jqx.date(s.dtstart,t.timeZone):t.from,t.count=void 0!=s.count?s.count:t.count,t.freq=r.FREQUENCIES[s.freq].toLowerCase(),t.interval=void 0!=s.interval?s.interval:t.interval,t.to=s.until?new e.jqx.date(s.until,t.timeZone):t.to,t.wkst=s.wkst,t.bymonth=s.bymonth,t.bymonth&&t.bymonth.length>0?t.month=t.bymonth[0]:t.month=t.from.month(),t.day=t.from.day(),void 0!=s.byweekday){t.weekDays={};for(var o=0;o<s.byweekday.length;o++){var n=s.byweekday[o];switch(n){case 0:t.weekDays.Monday=1;break;case 1:t.weekDays.Tuesday=2;break;case 2:t.weekDays.Wednesday=3;break;case 3:t.weekDays.Thursday=4;break;case 4:t.weekDays.Friday=5;break;case 5:t.weekDays.Saturday=6;break;case 6:t.weekDays.Sunday=0}}t.byweekday=s.byweekday}return t.byweekno=s.byweekno,s.bynweekday&&(t.bynweekday=s.bynweekday),void 0!=s.bymonthday&&(t.bymonthday=s.bymonthday.sort(),t.bymonthday[0]&&(t.day=t.bymonthday[0])),void 0!=s.byyearday&&(t.day=s.byyearday[0],t.byyearday=s.byyearday.sort()),s},t.setFrom=function(e){t.from=e.clone(),t.ical&&t.init(e)},1==arguments.length&&(t.ical=arguments[0],t.init()),t},e.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},e.jqx.ICalRule=function(t,i){var r=this,s=function(e,t){1===arguments.length&&(t=e,e=0);for(var i=[],r=e;t>r;r++)i.push(r);return i},o=function(e,t){var i=0,r=[];if(e instanceof Array)for(;t>i;i++)r[i]=[].concat(e);else for(;t>i;i++)r[i]=e;return r},n=function(e){return e instanceof Array&&0==e.length?!1:Boolean(e)},a=function(e,t){return-1!=e.indexOf(t)},l=([].concat(o(1,31),o(2,28),o(3,31),o(4,30),o(5,31),o(6,30),o(7,31),o(8,31),o(9,30),o(10,31),o(11,30),o(12,31),o(1,7)),[].concat(o(1,31),o(2,29),o(3,31),o(4,30),o(5,31),o(6,30),o(7,31),o(8,31),o(9,30),o(10,31),o(11,30),o(12,31),o(1,7)),s(1,29)),d=s(1,30),h=s(1,31),c=s(1,32);[].concat(c,d,c,h,c,h,c,c,h,c,h,c,c.slice(0,7)),[].concat(c,l,c,h,c,h,c,c,h,c,h,c,c.slice(0,7));l=s(-28,0),d=s(-29,0),h=s(-30,0),c=s(-31,0);var u=([].concat(c,d,c,h,c,h,c,c,h,c,h,c,c.slice(0,7)),[].concat(c,l,c,h,c,h,c,c,h,c,h,c,c.slice(0,7)),function(){for(var e=[],t=0;55>t;t++)e=e.concat(s(7));return e}(),function(e,t){var i=this;if(0===t)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t,this.nth=function(e){return i.n==e?i:new u(i.weekday,e)},this.equals=function(e){return i.weekday==e.weekday&&i.n==e.n},this.toString=function(){var e=["MO","TU","WE","TH","FR","SA","SU"][i.weekday];return this.n&&(e=(i.n>0?"+":"")+String(i.n)+e),e},this.getJsWeekday=function(){return 6==i.weekday?0:i.weekday+1}});this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new u(0),this.TU=new u(1),this.WE=new u(2),this.TH=new u(3),this.FR=new u(4),this.SA=new u(5),this.SU=new u(6);var p={freq:null,dtstart:null,interval:1,wkst:r.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var t,i,s,o,n,l=this.origOptions,d=[];i=Object.keys(l),s=Object.keys(p);for(var h=0;h<i.length;h++)if(a(s,i[h])&&(t=i[h].toUpperCase(),o=l[i[h]],n=[],!(null===o||o instanceof Array&&!o.length))){switch(t){case"FREQ":o=r.FREQUENCIES[l.freq];break;case"WKST":o||(o=0),o=o.toString();break;case"BYWEEKDAY":t="BYDAY",o instanceof Array||(o=[o]);for(var c,f=0;f<o.length;f++)c=o[f],c instanceof u||(c=c instanceof Array?new u(c[0],c[1]):new u(c)),n[f]=c.toString();o=n;break;case"DTSTART":case"UNTIL":o=e.jqx.scheduler.utilities.timeToUntilString(o);break;default:if(o instanceof Array){for(var f=0;f<o.length;f++)n[f]=String(o[f]);o=n}else o=String(o)}d.push([t,o])}for(var m=[],h=0;h<d.length;h++){var g=d[h];m.push(g[0]+"="+g[1].toString())}return m.join(";")},this.parseString=function(t){if(t=t.replace(/^\s+|\s+$/,""),!t.length)return null;var i,s,o,n,a,l=t.split(";"),d={};for(i=0;i<l.length;i++)if(a=l[i].split("="),o=a[0],n=a[1],""!=o)switch(o){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(-1!=n.indexOf(","))for(n=n.split(","),s=0;s<n.length;s++)/^[+-]?\d+$/.test(n[s])&&(n[s]=Number(n[s]));else/^[+-]?\d+$/.test(n)&&(n=Number(n));o=o.toLowerCase(),d[o]=n;break;case"BYDAY":var h,c,p,f=n.split(",");for(d.byweekday=[],s=0;s<f.length;s++)p=f[s],2==p.length?(c=r[p],d.byweekday.push(c)):(p=p.match(/^([+-]?\d)([A-Z]{2})$/),h=Number(p[1]),c=p[2],c=r[c].weekday,d.byweekday.push(new u(c,h)));break;case"FREQ":d.freq=r[n];break;case"WKST":d.wkst=r[n];break;case"DTSTART":d.dtstart=e.jqx.scheduler.utilities.untilStringToDate(n);break;case"UNTIL":d.until=e.jqx.scheduler.utilities.untilStringToDate(n);break;case"BYEASTER":d.byeaster=Number(n);break;default:throw new Error("Unknown ICalRule property '"+o+"'")}return r.options=d,d},"string"===e.type(t)?this.options=this.parseString(t):this.options=t||{};var t=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,r;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),r=0;o>r;){var n;r in s&&(n=s[r],e.call(i,n,r,s)),r++}}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=i.length;return function(s){if("object"!=typeof s&&("function"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var o,n,a=[];for(o in s)e.call(s,o)&&a.push(o);if(t)for(n=0;r>n;n++)e.call(s,i[n])&&a.push(i[n]);return a}}()),this.origOptions={};var f=[],m=Object.keys(this.options),g=Object.keys(p);if(m.forEach(function(e){this.origOptions[e]=this.options[e],a(g,e)||f.push(e)},this),f.length)throw new Error("Invalid options: "+f.join(", "));if(!r.FREQUENCIES[this.options.freq]&&null===t.byeaster)throw new Error("Invalid Frequency: "+String(t.freq));g.forEach(function(e){a(m,e)||(t[e]=p[e])});var v=this.options;if(null!==v.byeaster&&(v.freq=this.YEARLY),
v.dtstart||(v.dtstart=new Date,v.dtstart.setMilliseconds(0)),i&&(v.dtstart=i.toDate()),null===v.wkst?v.wkst=this.MO.weekday:"number"==typeof v.wkst||(null==v.wkst?v.wkst=this.MO.weekday:v.wkst=v.wkst.weekday),null!==v.bysetpos){"number"==typeof v.bysetpos&&(v.bysetpos=[v.bysetpos]);for(var x=0;x<v.bysetpos.length;x++){var w=v.bysetpos[x];if(0==w||!(w>=-366&&366>=w))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(n(v.byweekno)||n(v.byyearday)||n(v.bymonthday)||null!==v.byweekday||null!==v.byeaster))switch(v.freq){case this.YEARLY:v.bymonth||(v.bymonth=v.dtstart.getMonth()+1),v.bymonthday=v.dtstart.getDate();break;case this.MONTHLY:v.bymonthday=v.dtstart.getDate();break;case this.WEEKLY:v.byweekday=e.jqx.scheduler.utilities.getWeekday(v.dtstart)}if(null===v.bymonth||v.bymonth instanceof Array||(v.bymonth=[v.bymonth]),null===v.byyearday||v.byyearday instanceof Array||(v.byyearday=[v.byyearday]),null===v.bymonthday)v.bymonthday=[],v.bynmonthday=[];else if(v.bymonthday instanceof Array){var b=[],y=[];for(x=0;x<v.bymonthday.length;x++){var w=v.bymonthday[x];w>0?b.push(w):0>w&&y.push(w)}v.bymonthday=b,v.bynmonthday=y}else v.bymonthday<0?(v.bynmonthday=[v.bymonthday],v.bymonthday=[]):(v.bynmonthday=[],v.bymonthday=[v.bymonthday]);if(null===v.byweekno||v.byweekno instanceof Array||(v.byweekno=[v.byweekno]),null===v.byweekday)v.bynweekday=null;else if("number"==typeof v.byweekday)v.byweekday=[v.byweekday],v.bynweekday=null;else if(v.byweekday instanceof u)!v.byweekday.n||v.freq>this.MONTHLY?(v.byweekday=[v.byweekday.weekday],v.bynweekday=null):(v.bynweekday=[[v.byweekday.weekday,v.byweekday.n]],v.byweekday=null);else{var _=[],j=[];for(x=0;x<v.byweekday.length;x++){var q=v.byweekday[x];"number"==typeof q?_.push(q):!q.n||v.freq>this.MONTHLY?_.push(q.weekday):j.push([q.weekday,q.n])}v.byweekday=n(_)?_:null,v.bynweekday=n(j)?j:null}if(null===v.byhour?v.byhour=v.freq<this.HOURLY?[v.dtstart.getHours()]:null:"number"==typeof v.byhour&&(v.byhour=[v.byhour]),null===v.byminute?v.byminute=v.freq<this.MINUTELY?[v.dtstart.getMinutes()]:null:"number"==typeof v.byminute&&(v.byminute=[v.byminute]),null===v.bysecond?v.bysecond=v.freq<this.SECONDLY?[v.dtstart.getSeconds()]:null:"number"==typeof v.bysecond&&(v.bysecond=[v.bysecond]),v.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],v.byhour)for(x=0;x<v.byhour.length;x++)for(var T=v.byhour[x],C=0;C<v.byminute.length;C++)for(var k=v.byminute[C],S=0;S<v.bysecond.length;S++){var D=v.bysecond[S];this.timeset.push(new e.jqx.scheduler.utilities.Time(T,k,D))}e.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxScheduler.prototype,{_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),s=parseInt(i[1]),o=parseInt(i[2]),n=parseInt(i[3].substring(1,4)),a={r:r,g:s,b:o},l=this._rgbToHex(a);return 0==r&&0==s&&0==o&&0==n?"#ffffff":"#"+l}var r=parseInt(i[0].substring(4)),s=parseInt(i[1]),o=parseInt(i[2].substring(1,4)),a={r:r,g:s,b:o},l=this._rgbToHex(a);return"#"+l}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4);t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},exportData:function(t){var i=this;if(!e.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var r=this.exportSettings.serverURL,s=this.exportSettings.characterSet,o=this.exportSettings.fileName;void 0===o&&(o="jqxScheduler");var i=this;if("ical"!=t&&"ics"!=t){var n=this.getDataAppointments(),a=new Array,l={},d={},h=this.host.find(".jqx-grid-cell:first");h.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),h.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),h.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),h.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var c="cell",u=1,p="column",f=1,m=e(this.columns.records[0].element),g=0;e.each(this.appointmentDataFields,function(e,r){if(l[r]={},l[r].text=r,l[r].width=100,l[r].formatString="",l[r].localization=i.schedulerLocalization,"from"==e||"to"==e?(l[r].type="date",l[r].formatString=i.exportSettings.dateTimeFormatString):l[r].type="string",l[r].cellsAlign="left",a.push(l[r]),c="cell"+u,p="column"+f,"html"==t||"xls"==t||"pdf"==t){var s=function(e,s,o,n,a,h,c,u,p){d[e]={},void 0!=s&&(d[e]["font-size"]=s.css("font-size"),d[e]["font-weight"]=s.css("font-weight"),d[e]["font-style"]=s.css("font-style"),d[e]["background-color"]=i._getexportcolor(s.css("background-color")),d[e].color=i._getexportcolor(s.css("color")),d[e]["border-color"]=i._getexportcolor(s.css("border-top-color")),o?d[e]["text-align"]="left":(d[e]["text-align"]="left",d[e].formatString="",d[e].dataType="string","from"!=c&&"to"!=c||(d[e].dataType="date",d[e].formatString=i.exportSettings.dateTimeFormatString)),"html"!=t&&"pdf"!=t||(d[e]["border-top-width"]=s.css("border-top-width"),d[e]["border-left-width"]=s.css("border-left-width"),d[e]["border-right-width"]=s.css("border-right-width"),d[e]["border-bottom-width"]=s.css("border-bottom-width"),d[e]["border-top-style"]=s.css("border-top-style"),d[e]["border-left-style"]=s.css("border-left-style"),d[e]["border-right-style"]=s.css("border-right-style"),d[e]["border-bottom-style"]=s.css("border-bottom-style"),o?(0==g&&(d[e]["border-left-width"]=s.css("border-right-width")),d[e]["border-top-width"]=s.css("border-right-width"),d[e]["border-bottom-width"]=s.css("border-bottom-width")):(0==g&&(d[e]["border-left-width"]="1px"),d[e]["border-right-width"]="1px")),o&&(l[r].style=e),l[r].cellStyle=e)};s(p,m,!0,!1,this,i,e),f++,s(c,h,!1,!1,this,i,e),u++}g++});var v=e.jqx.dataAdapter.ArrayExporter(n,l,d,r);if(null==o){this._renderrows();var x=v.exportTo(t);return setTimeout(function(){i.exporting=!1},50),x}v.exportToFile(t,o,r,s),this._renderrows(),setTimeout(function(){i.exporting=!1},50)}else if(i._resources.length>1&&o&&i.resourcesInMultipleICSFiles)for(var n=this.getAppointments(),w=0;w<i._resources.length;w++){for(var b=i._resources[w],y=new Array,_=0;_<n.length;_++){var j=n[_];j.resourceId==b&&y.push(j)}for(var q="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",T=0;T<y.length;T++)q+=y[T].jqxAppointment.toString(),T<y.length-1&&(q+="\n");q+="\nEND:VCALENDAR";for(var C=q.length,k=new Uint8Array(new ArrayBuffer(C)),T=0;C>T;T++)k[T]=q.charCodeAt(T);var S=new Blob([k],{type:"application/calendar"});saveAs(S,o+"_"+b+".ics")}else{for(var n=this.getAppointments(),q="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",w=0;w<n.length;w++)q+=n[w].jqxAppointment.toString(),w<n.length-1&&(q+="\n");q+="\nEND:VCALENDAR";var C=q.length,k=new Uint8Array(new ArrayBuffer(C));for(w=0;C>w;w++)k[w]=q.charCodeAt(w);var S=new Blob([k],{type:"application/calendar"});if(!o)return q;saveAs(S,o+".ics")}},shadeColor:function(e,t){var i=parseInt(e.slice(1),16),r=0>t?0:255,s=0>t?-1*t:t,o=i>>16,n=i>>8&255,a=255&i;return"#"+(16777216+65536*(Math.round((r-o)*s)+o)+256*(Math.round((r-n)*s)+n)+(Math.round((r-a)*s)+a)).toString(16).slice(1)},hexToRgba:function(t,i){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),s=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<10;return void 0==this.alpha||t?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return void 0==i?r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),toString:s}:null:(i>1?i=1:0>i&&(i=0),r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),alpha:i,toString:s}:null)},getAppointmentColors:function(e){var t="",i="",r="";t=this.hexToRgba(e,this.appointmentOpacity).toString(),i=e;var s=function(e){var t=105,i=.299*e.r+.587*e.g+.114*e.b,r=t>255-i?"Black":"White";return r};return r=s(this.hexToRgba(e,.7)),{background:t,color:r,border:i}},getColors:function(e){-1==e&&(e=0);var t="",i="",r="",s=this.resources?this.resources.colorScheme:null;s||(s="scheme01");for(var o=new Array,n=0;n<this.colorSchemes.length;n++)if(this.colorSchemes[n].name==s){o=this.colorSchemes[n].colors;break}for(;e>o.length-1;){var a=parseInt(s.substring(6));a>=27&&(a=0),o=o.concat(this.colorSchemes[a].colors),a++}t=o[e],t=this.hexToRgba(o[e],.7).toString(),i=o[e];var l=function(e){var t=105,i=.299*e.r+.587*e.g+.114*e.b,r=t>255-i?"Black":"White";return r};return r=l(this.hexToRgba(o[e],.7)),{background:t,color:r,border:i}},getAppointments:function(){for(var e=this.uiappointments,t=new Array,i=0;i<e.length;i++){var r=e[i].boundAppointment;r.toString=r.jqxAppointment.toString,t.push(r)}return t},getDataAppointments:function(){for(var t=this.uiappointments,i=new Array,r=0;r<t.length;r++){var s=t[r].boundAppointment,o={};e.each(this.appointmentDataFields,function(t,i){if(o[i]=s[t],"from"!=t&&"to"!=t||"date"!=e.type(s[t])&&(o[i]=s[t].toDate()),"recurrencePattern"==t&&s[t]&&(o[i]=s[t].toString()),"recurrenceException"==t&&s[t]){o[i]="";for(var r=0;r<s[t].length;r++)o[i]+=s[t][r].toString(),r<s[t].length-1&&(o[i]+=",")}try{JSON&&(o.toString=function(){return JSON.stringify(o)})}catch(n){}}),i.push(o)}return i},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.height(t),this._rendercolumnheaders()},_refreshColumnTitles:function(){var t=this._views[this._view].type,i=this._views[this._view],r=this,s=new Array;if(r.columns.records[0].timeColumn&&s.push({}),i.timeRuler&&i.timeRuler.timeZones)for(var o=0;o<i.timeRuler.timeZones.length;o++)s.push({});for(var n=function(t,o,n){var a="halfHour";i.timeRuler&&i.timeRuler.scale&&(a=i.timeRuler.scale);var l=24,d=0,h=23;if(i.timeRuler){if(void 0!=i.timeRuler.scaleStartHour)var d=parseInt(i.timeRuler.scaleStartHour);if(void 0!=i.timeRuler.scaleEndHour)var h=parseInt(i.timeRuler.scaleEndHour);0>d&&(d=0),0>h&&(h=23),d>23&&(d=0),h>23&&(h=23),l=h-d+1}var c=60,u=2;if(a)switch(a){case"sixtyMinutes":case"hour":u=1;break;case"thirdyMinutes":case"halfHour":u=2;break;case"fifteenMinutes":case"quarterHour":u=4;break;case"tenMinutes":u=6;break;case"fiveMinutes":u=12}var p=(new Array,"auto");i.timeRuler&&i.timeRuler.formatString&&(p=i.timeRuler.formatString);var f=d,m=l,g=t.addHours(f);if(r.rtl)var g=t.addHours(h);for(var v=0;m>v;v++){var x=g.toDate();if("auto"===p)if(0==x.getHours()&&0==x.getMinutes()||12==x.getHours()&&0==x.getMinutes())var w="hh tt";else var w="hh:mm";else if(e.isFunction(p))var w=p(x);e.jqx.dataFormat.isDate(x)&&(x=e.jqx.dataFormat.formatdate(x,w,r.schedulerLocalization)),g=r.rtl?g.addMinutes(-c):g.addMinutes(c),s.push({}),r.columns.records[s.length-1].text=x}},a=(this.tableColumns,0);a<this.tableColumns;a++)switch(t){case"dayView":var l=this.getViewStart();!1===i.showWeekends&&(0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1)),0!==l.dayOfWeek()&&6!==l.dayOfWeek()||(l=l.addDays(1))),s.push({}),this.columns.records[s.length-1].text=this._getDayName(l.dayOfWeek());break;case"weekView":case"monthView":for(var o=0;7>o;o++){var d=this.schedulerLocalization.firstDay+o;(!1!==i.showWeekends||0!==o&&6!==o)&&(s.push({}),r.rtl&&(d=6-d),this.columns.records[s.length-1].text=this._getDayName(d))}break;case"timelineDayView":var h=r._resources[a]?r._resources[a]:"Resource"+a;n(r.getViewStart(),h);break;case"timelineWeekView":for(var o=0;7>o;o++){var d=this.schedulerLocalization.firstDay+o;(!1!==i.showWeekends||0!==o&&6!==o)&&(r.rtl&&(d=6-d),n(r.getViewStart().addDays(o),this._getDayName(d)))}break;case"timelineMonthView":var c=r.getViewStart(),u="auto";i.timeRuler&&i.timeRuler.formatString&&(u=i.timeRuler.formatString);for(var o=0;41>o;o++){var d=c.dayOfWeek();if(!1!==i.showWeekends||0!==d&&6!==d){r.rtl&&(d=6-d);var p=c.toDate();if("auto"===u){var f="dd";p=c.toDate(),1===p.getDate()&&(f="MMM dd")}else if(e.isFunction(u))var f=u(p);e.jqx.dataFormat.isDate(p)&&(p=e.jqx.dataFormat.formatdate(p,f,r.schedulerLocalization)),c=c.addDays(1),s.push({}),r.columns.records[s.length-1].text=p}}}for(var m=r.columnsHeight,g=function(e,t){var i=r.columnGroupslevel*r.columnsHeight;return i-=t.level*r.columnsHeight},o=0;o<this.columns.records.length;o++){var v=this.columns.records[o];if(!v.timeColumn){r.columnGroups&&r.columnGroups.length&&(m=g(v.datafield,v));var x=null!=v.renderer?v.renderer(v.text,v.align,m):r._rendercolumnheader(v.text,v.align,m,v);null==x&&(x=r._rendercolumnheader(v.text,v.align,m,r)),null!=v.renderer&&(x=e(x)),e(v.element).html(x)}}},initRepeatPanels:function(t,i,r){var s=this,o=e("<div></div>");i.append(o);var n=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(o),a=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),l=e("<div></div>").appendTo(a),d=e("<div></div>");i.append(d);var h=e("<div></div>");d.append(h);var c=function(t,i){var o=e("<div></div>").appendTo(t),n=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(o),a=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),l=e("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+s.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(a);l.jqxRadioButton({rtl:s.rtl,groupName:"end"+i,theme:s.theme,width:200,height:25,checked:!0}),s.editDialogFields[i].repeatEndNever=l,s.editDialogFields[i].repeatEndNeverLabel=n;var d=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(o),h=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),c=e("<div style='position:relative;  float:left;'><span style='margin-left:2px;'>"+s.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(h);c.jqxRadioButton({rtl:s.rtl,groupName:"end"+i,theme:s.theme,width:60,height:25,checked:!1});var u=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(h);u.jqxNumberInput({rtl:s.rtl,decimal:10,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+s.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(h);s.editDialogFields[i].repeatEndAfter=c,s.editDialogFields[i].repeatEndAfterValue=u,s.editDialogFields[i].repeatEndAfterLabel=d;var p=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(o),f=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),m=e("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+s.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(f);m.jqxRadioButton({rtl:s.rtl,groupName:"end"+i,theme:s.theme,width:60,height:25,checked:!1});var g=e("<div style='margin-left: 3px; float:left;'></div>").appendTo(f);g.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:s.rtl,localization:s._getDateTimeInputLocalization(),firstDayOfWeek:s.schedulerLocalization.firstDay,todayString:s.schedulerLocalization.todayString,clearString:s.schedulerLocalization.clearString,value:r,formatString:s.editDialogDateFormatString,height:25,width:150,theme:s.theme});g.jqxDateTimeInput("getInstance");return s.editDialogFields[i].repeatEndOn=m,s.editDialogFields[i].repeatEndOnValue=g,s.editDialogFields[i].repeatEndOnLabel=p,o};h.detach(),s.editDialogFields.repeatEndPanel={},s.editDialogFields.repeatEndPanelContainer=h,c(h,"repeatEndPanel");var u=function(){var t=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),i=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(t),r=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(t),o=e("<div style='float:left;'></div>").appendTo(r);o.jqxNumberInput({rtl:s.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+s.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(r);s.editDialogFields.daily={},s.editDialogFields.daily.repeatDayInterval=o,s.editDialogFields.daily.repeatDayLabel=i,s.editDialogFields.daily.panel=t,t.detach(),s.editDialogFields.weekly={};var n=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),a=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(n),l=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(n),d=e("<div style='float:left;'></div>").appendTo(l);d.jqxNumberInput({rtl:s.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+s.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(l);s.editDialogFields.weekly.repeatWeekInterval=d,s.editDialogFields.weekly.repeatWeekIntervalLabel=a;var h=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(n),c=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(n),u=e("<div style='float:left;'></div>").appendTo(c);s.editDialogFields.weekly.repeatDaysLabel=h,s.editDialogFields.weekly.repeatDays=new Array;for(var p=0;7>p;p++){var f=s._getDayName(p,"firstTwoLetters"),m=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+f+"</span></div>");u.append(m);var g=1==p;m.jqxCheckBox({rtl:s.rtl,height:25,checked:g,width:50,theme:s.theme}),s.editDialogFields.weekly.repeatDays.push(m)}s.editDialogFields.weekly.panel=n,n.detach(),s.editDialogFields.monthly={};var v=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),x=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(v),w=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(v),b=e("<div style='float:left;'></div>").appendTo(w);b.jqxNumberInput({rtl:s.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+s.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(w);s.editDialogFields.monthly.repeatMonth=b,s.editDialogFields.monthly.repeatMonthLabel=x;var y=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(v),_=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(v),j=e("<div style='float:left;'></div>").appendTo(_),q=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+s.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(j);q.jqxRadioButton({rtl:s.rtl,groupName:"month",height:25,width:60,checked:!0,theme:s.theme});var T=e("<div style='float:left;'></div>").appendTo(j);T.jqxNumberInput({rtl:s.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme}),s.editDialogFields.monthly.repeatMonthDay=T,s.editDialogFields.monthly.repeatMonthDayBool=q,s.editDialogFields.monthly.repeatMonthDayLabel=y;var C=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(v),k=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(v),S=e("<div style='float:left;'></div>").appendTo(k),D=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(S);D.jqxRadioButton({groupName:"month",height:25,width:25,checked:!1,theme:s.theme});var I=e("<div style='float:left;'></div>").appendTo(S),P=new Array;P.push(s.schedulerLocalization.editDialogRepeatFirstString),P.push(s.schedulerLocalization.editDialogRepeatSecondString),P.push(s.schedulerLocalization.editDialogRepeatThirdString),P.push(s.schedulerLocalization.editDialogRepeatFourthString),P.push(s.schedulerLocalization.editDialogRepeatLastString),I.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:P,autoDropDownHeight:!0,height:25,width:"auto",theme:s.theme});for(var A=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(S),B=new Array,p=0;7>p;p++){var f=s._getDayName(p);B.push(f)}A.jqxDropDownList({rtl:s.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:B,height:25,width:"auto",theme:s.theme}),s.editDialogFields.monthly.repeatDayOfWeekBool=D,s.editDialogFields.monthly.repeatDayOfWeek=A,s.editDialogFields.monthly.repeatDayOfWeekLabel=C,s.editDialogFields.monthly.repeatDayOfWeekType=I,s.editDialogFields.monthly.panel=v,v.detach(),s.editDialogFields.yearly={};var M=e("<div style='visibility: hidden;'></div>").appendTo(e(document.body)),H=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(M),z=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(M),E=e("<div style='float:left;'></div>").appendTo(z);E.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme});e("<div style='float: left; margin-left: 5px; line-height:25px;'>"+s.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(z);s.editDialogFields.yearly.repeatYear=E,s.editDialogFields.yearly.repeatYearLabel=H;var O=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(M),L=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(M),N=e("<div style='float:left;'></div>").appendTo(L),F=e("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(N);F.jqxRadioButton({rtl:s.rtl,groupName:"year",height:25,width:25,checked:!0,theme:s.theme}),s.editDialogFields.yearly.repeatYearBool=F,s.editDialogFields.yearly.repeatYearBoolLabel=O;for(var R=e("<div style='float:left;'></div>").appendTo(N),W=new Array,p=0;12>p;p++){var V=s.schedulerLocalization.months.names[p];W.push(V)}R.jqxDropDownList({selectedIndex:0,height:25,dropDownWidth:150,width:"auto",source:W,theme:s.theme}),s.editDialogFields.yearly.repeatYearMonth=R;var G=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(N);G.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:s.theme}),s.editDialogFields.yearly.repeatYearDay=G;var U=e("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(M),$=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(M),Y=e("<div style='float:left;'></div>").appendTo($),K=e("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(Y);K.jqxRadioButton({rtl:s.rtl,groupName:"year",height:25,width:25,checked:!1,theme:s.theme});var X=e("<div style='float:left;'></div>").appendTo(Y);s.editDialogFields.yearly.repeatDayOfWeekBool=K,s.editDialogFields.yearly.repeatDayOfWeekType=X,s.editDialogFields.yearly.repeatDayOfWeekLabel=U;var Z=new Array;Z.push(s.schedulerLocalization.editDialogRepeatFirstString),Z.push(s.schedulerLocalization.editDialogRepeatSecondString),Z.push(s.schedulerLocalization.editDialogRepeatThirdString),Z.push(s.schedulerLocalization.editDialogRepeatFourthString),Z.push(s.schedulerLocalization.editDialogRepeatLastString),X.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:Z,autoDropDownHeight:!0,height:25,width:"auto",theme:s.theme});var J=e("<div style='margin-left: 5px; float:left;'></div>").appendTo(Y);s.editDialogFields.yearly.repeatDayOfWeek=J;for(var Q=new Array,p=0;7>p;p++){var f=s._getDayName(p);Q.push(f)}J.jqxDropDownList({rtl:s.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:Q,height:25,width:"auto",theme:s.theme});for(var W=new Array,ee=(e("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+s.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(Y),e("<div style='margin-left: 5px; float:left;'></div>").appendTo(Y)),p=0;12>p;p++){var V=s.schedulerLocalization.months.names[p];W.push(V)}s.editDialogFields.yearly.repeatDayOfWeekMonth=ee,ee.jqxDropDownList({rtl:s.rtl,dropDownWidth:150,selectedIndex:0,source:W,height:25,width:"auto",theme:s.theme}),s.editDialogFields.yearly.panel=M,M.detach()};s.editAppointment&&s.editAppointment.rootAppointment,u();var p=e("<div></div>");i.append(p);var f=e("<div class='jqx-scheduler-edit-dialog-label'>"+s.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(p),m=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(p),g=e("<div style='position:relative; top:2px;'>"+s.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(m);g.jqxCheckBox({height:25,width:"100%",theme:s.theme}),p.hide(),s.editDialogFields.resetExceptions=g,s.editDialogFields.resetExceptionsLabel=f,s.editDialogFields.resetExceptionsContainer=p;var v=new Array;v.push(s.schedulerLocalization.editDialogRepeatNeverString),v.push(s.schedulerLocalization.editDialogRepeatDailyString),v.push(s.schedulerLocalization.editDialogRepeatWeeklyString),v.push(s.schedulerLocalization.editDialogRepeatMonthlyString),v.push(s.schedulerLocalization.editDialogRepeatYearlyString),l.jqxDropDownList({rtl:s.rtl,width:"100%",height:25,autoDropDownHeight:!0,theme:s.theme,source:v,selectedIndex:0}),s.editDialogFields.repeat=l,s.editDialogFields.repeatLabel=n,s.editDialogFields.repeatContainer=o,s.editDialogFields.repeatPanel=d,this.addHandler(l,"change",function(e){var r=e.args.item.index;(function(){switch(d.children().detach(),r){case 0:break;case 1:s.editDialogFields.daily.panel.css("visibility","visible"),d.append(s.editDialogFields.daily.panel);break;case 2:s.editDialogFields.weekly.panel.css("visibility","visible"),d.append(s.editDialogFields.weekly.panel);break;case 3:s.editDialogFields.monthly.panel.css("visibility","visible"),d.append(s.editDialogFields.monthly.panel);break;case 4:s.editDialogFields.yearly.panel.css("visibility","visible"),d.append(s.editDialogFields.yearly.panel)}d.append(h),0==r?s.editDialogFields.repeatEndPanelContainer.hide():s.editDialogFields.repeatEndPanelContainer.show(),s.isTouchDevice()||(t.jqxWindow({height:150}),t.jqxWindow({height:i[0].scrollHeight+40}))})()})},_initMenu:function(){var t=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=e('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(e(window),"orientationchange.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.addHandler(e(window),"orientationchanged.jqxscheduler"+this.element.id,function(){t.menu.jqxMenu("close"),t._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(e){27==e.keyCode&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1,t.focus())}),this.addHandler(this.menu,"open",function(e){t.contextMenuOpen&&t.contextMenuOpen(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._raiseEvent("contextMenuOpen",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(e){t.contextMenuClose&&t.contextMenuClose(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e),t._hasOpenedMenu=!1,document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0&&!t.menuOpening&&t.focus(),t._raiseEvent("contextMenuClose",{menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(e){return e.preventDefault(),e.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(e){var i=t.menu.jqxMenu("getItem",e.args.id);if(t._raiseEvent("contextMenuItemClick",{item:i,menu:t.menu,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),t.contextMenuItemClick){var r=t.contextMenuItemClick(t.menu,t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null,e);if(1==r)return new Date-t.renderedTime>500&&t._renderrows(),t.menu.jqxMenu("close"),void(t._hasOpenedMenu=!1)}if("createAppointment"==i.id)t._initDialog(),t._openDialog(),"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1);else{if("editAppointment"!=i.id)return"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1),!0;var s=t.getJQXAppointmentByElement(t.selectedAppointment);if(!s.readOnly){var r=t._initDialog(s);r!==!1&&t._openDialog()}"keyboard"==e.args.clickType&&(t.menu.jqxMenu("close"),t._hasOpenedMenu=!1)}});var i=new Array;i.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),i.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var r={rtl:this.rtl,keyboardNavigation:!0,source:i,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};t.contextMenuCreate&&t.contextMenuCreate(t.menu,r),t._raiseEvent("contextMenuCreate",{menu:t.menu,settings:r}),this.menu.jqxMenu(r)}},_initDialog:function(t,i){var r=this,s=null;if(t&&t.isRecurrentAppointment()&&!r.editRecurrenceDialog.jqxWindow("isOpen")){var o=r.host.coord(),n=o.top+r.host.height()/2-r.editRecurrenceDialog.height()/2,a=o.left+r.host.width()/2-r.editRecurrenceDialog.width()/2;r.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){r.editRecurrenceDialog.find("button:first").focus()},25),r.editRecurrenceDialog.jqxWindow("move",a,n),r.editRecurrenceDialog.jqxWindow("open"),r.editSeries=function(e){e?(r._initDialog(t.rootAppointment),r._openDialog()):(r._initDialog(t),r._openDialog())},r.overlay.show(),r.overlay.width(r.host.width()),r.overlay.height(r.host.height());var o=r.host.coord();return r.overlay.offset(o),r._editDialog||r._initDialog(),!1}if(r.editAppointment=t,t||(s=r.getSelection(),s||(r.focus(),r.focusedCell.setAttribute("data-selected","true"),r._lastSelectedCell=r.focusedCell,r._updateCellsSelection(r.focusedCell),s=r.getSelection())),s||t){var l=s?s.from:t.from,d=s?s.to:t.to,h=r.getSelectedCells();if(h.length>0){var c=h[h.length-1].getAttribute("data-end-date");c&&(d=e.jqx.scheduler.utilities.getEndOfDay(d))}r._editStart=l,r._editEnd=d}if(r.editDialogFields&&r.editDialogFields.resourceContainer&&r._resources.length>0){for(var u=new Array,p=0;p<r._resources.length;p++)u.push(r._resources[p]);var f=!0;u.length>10&&(f=!1),r.editDialogFields.resource.jqxDropDownList({source:u,selectedIndex:0,autoDropDownHeight:f}),t||r.editDialogFields.resource.val(s.resourceId)}if(r.editDialogFields&&r.editDialogFields.repeatContainer&&(t&&t.rootAppointment?(r.editDialogFields.repeatContainer.hide(),r.editDialogFields.repeatPanel.hide()):(r.editDialogFields.repeatContainer.show(),r.editDialogFields.repeatPanel.show())),null==r._editDialog){r._editDialog=null;var m=null==t?r.schedulerLocalization.editDialogCreateTitleString:r.schedulerLocalization.editDialogTitleString,g=e("<div><div>"+m+"</div><div id='dialog"+this.element.id+"'></div></div>");e(g).jqxWindow({rtl:r.rtl,zIndex:99999,autoFocus:!1,autoOpen:!1,animationType:"none",theme:r.theme,width:530,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){r.editDialogFields={},null==l&&null==d&&r._editStart&&r._editEnd&&(l=r._editStart,d=r._editEnd),g.jqxWindow("setTitle",m);var i=e(g.children()[1]),o=e("<div></div>");
i.append(o);var n=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(o),a=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(o),h=e("<input type='text'/>").appendTo(a);h.jqxInput({rtl:r.rtl,width:"100%",height:25,theme:r.theme}),h.css("box-sizing","border-box"),r.editDialogFields.subject=h,r.editDialogFields.subjectLabel=n,r.editDialogFields.subjectContainer=o;var c=e("<div></div>");i.append(c);var u=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogLocationString+"</div>").appendTo(c),p=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(c),f=e("<input type='text'/>").appendTo(p);f.jqxInput({rtl:r.rtl,width:"100%",height:25,theme:r.theme}),f.css("box-sizing","border-box"),r.editDialogFields.location=f,r.editDialogFields.locationLabel=u,r.editDialogFields.locationContainer=c;var v=e("<div></div>");i.append(v);var x=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogFromString+"</div>").appendTo(v),w=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(v),b=e("<div></div>").appendTo(w),y=null;if(l)y=l.toDate();else{var _=new Date;_.setHours(9,0,0),y=_}b.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:y,formatString:r.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:r.theme}),r.editDialogFields.from=b,r.editDialogFields.fromLabel=x,r.editDialogFields.fromContainer=v;var j=e("<div></div>");i.append(j);var q=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogToString+"</div>").appendTo(j),T=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(j),C=e("<div></div>").appendTo(T),k=null;if(d)k=d.toDate();else{var _=new Date;_.setHours(10,0,0),k=_}C.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:r.rtl,localization:r._getDateTimeInputLocalization(),firstDayOfWeek:r.schedulerLocalization.firstDay,todayString:r.schedulerLocalization.todayString,clearString:r.schedulerLocalization.clearString,value:k,formatString:r.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:r.theme}),r.editDialogFields.to=C,r.editDialogFields.toLabel=q,r.editDialogFields.toContainer=j,r._changeFromUser=!0,r.addHandler(b,"change",function(t){if(r._changeFromUser){var i=(t.args,t.args.oldValue),s=C.val("date"),o=new e.jqx.date(s)-new e.jqx.date(i);if(o>0){var n=1e4*o,a=e.jqx.timeSpan(n),l=new e.jqx.date(t.args.newValue).add(a);C.val(l.toDate())}}}),r.addHandler(C,"change",function(e){if(r._changeFromUser){var t=(e.args,e.args.oldValue),i=C.val("date");b.val("date")>=i&&C.val(t)}});var S=e("<div></div>");i.append(S);var D=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(S),I=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(S),P=e("<div style='position:relative;'></div>").appendTo(I);P.jqxCheckBox({rtl:r.rtl,height:25,width:25,theme:r.theme}),r.editDialogFields.allDay=P,r.editDialogFields.allDayLabel=D,r.editDialogFields.allDayContainer=S,r.addHandler(S,"change",function(e){e.args.checked?(C.jqxDateTimeInput({showTimeButton:!1,formatString:r.editDialogDateFormatString}),b.jqxDateTimeInput({showTimeButton:!1,formatString:r.editDialogDateFormatString})):(C.jqxDateTimeInput({showTimeButton:!0,formatString:r.editDialogDateTimeFormatString}),b.jqxDateTimeInput({showTimeButton:!0,formatString:r.editDialogDateTimeFormatString}))}),e.jqx.scheduler.utilities.getStartOfDay(l).equals(l)&&e.jqx.scheduler.utilities.getEndOfDay(d).equals(d)&&r.editDialogFields.allDay.val(!0),(r._views[r._view].type.indexOf("month")>=0||l&&l.equals(d)||d&&d.equals(e.jqx.scheduler.utilities.getEndOfDay(d)))&&r.editDialogFields.allDay.val(!0);var A=e("<div></div>");i.append(A);var B=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(A),M=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(A),H=e("<div></div>").appendTo(M),z=new Array;z.push({displayName:r.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),z=z.concat(r.timeZones);for(var E=0;E<z.length;E++){var O=z[E],L=O.displayName.indexOf(")");if(L>=0)var N=O.displayName.substring(2+L);else var N=O.displayName;O.searchName=N}H.jqxDropDownList({rtl:r.rtl,placeHolder:r.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",height:25,theme:r.theme,searchMember:"searchName",source:z,displayMember:"displayName",valueMember:"id"}),r.editDialogFields.timeZone=H,r.editDialogFields.timeZoneLabel=B,r.editDialogFields.timeZoneContainer=A,r.initRepeatPanels(g,i,d.toDate()),r.editDialogFields&&r.editDialogFields.repeatContainer&&(r.editAppointment&&r.editAppointment.rootAppointment?(r.editDialogFields.repeatContainer.hide(),r.editDialogFields.repeatPanel.hide()):(r.editDialogFields.repeatContainer.show(),r.editDialogFields.repeatPanel.show()));var F=e("<div></div>");i.append(F);var R=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(F),W=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(F),V=e("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(W);V.jqxInput({rtl:r.rtl,height:40,width:"100%",theme:r.theme}),V.css("box-sizing","border-box"),r.editDialogFields.description=V,r.editDialogFields.descriptionLabel=R,r.editDialogFields.descriptionContainer=F;var G=e("<div></div>");i.append(G);var U=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogColorString+"</div>").appendTo(G),$=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(G),Y=e("<div></div>").appendTo($),K=function(e){if(-1==e)return"";var t=r.colors[e],i="",i="";return i+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+t+"; margin-left: 2%;'></div>"},X=function(e,t){if(0>t)return e.css("top","4px"),e.css("position","relative"),e[0].outerHTML;var i=r.colors[t],s="";return s+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+i+"; margin-left: 2%;'></div>"};Y.jqxDropDownList({rtl:r.rtl,selectedIndex:-1,placeHolder:r.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:X,renderer:K,source:r.colors,height:25,width:"100%",theme:r.theme}),r.editDialogFields.color=Y,r.editDialogFields.colorLabel=U,r.editDialogFields.colorContainer=G;var Z=e("<div></div>");i.append(Z);var J=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogStatusString+"</div>").appendTo(Z),Q=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(Z),ee=e("<div></div>").appendTo(Q);ee.jqxDropDownList({rtl:r.rtl,selectedIndex:2,autoDropDownHeight:!0,source:r.schedulerLocalization.editDialogStatuses,height:25,width:"100%",theme:r.theme}),r.editDialogFields.status=ee,r.editDialogFields.statusLabel=J,r.editDialogFields.statusContainer=Z;var te=e("<div></div>");i.append(te);for(var ie=e("<div class='jqx-scheduler-edit-dialog-label'>"+r.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(te),re=e("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(te),se=e("<div></div>").appendTo(re),oe=new Array,E=0;E<r._resources.length;E++)oe.push(r._resources[E]);var ne=!0;oe.length>10&&(ne=!1),se.jqxDropDownList({rtl:r.rtl,source:oe,selectedIndex:0,autoDropDownHeight:ne,height:25,width:"100%",theme:r.theme}),r.editDialogFields.resource=se,r.editDialogFields.resourceLabel=ie,r.editDialogFields.resourceContainer=te,0==oe.length&&te.hide(),!t&&s&&r.editDialogFields.resource.val(s.resourceId);var ae=e("<div></div>");i.append(ae);var le=e("<div style='width:100%;' class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ae),de=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogCancelString+"</button>").appendTo(le),he=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(le),ce=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(le),ue=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(le),pe=e("<button style='margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogSaveString+"</button>").appendTo(le),fe=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(le),me=e("<button style='display: none; margin-left: 5px; float:right;'>"+r.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(le),ge=25;r.isTouchDevice()&&(ge=null),he.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),ce.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),ue.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),pe.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),de.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),fe.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),me.jqxButton({rtl:r.rtl,theme:r.theme,height:ge}),fe.hide(),me.hide(),r.editDialogFields.saveOccurrenceButton=me,r.editDialogFields.saveSeriesButton=fe,r.editDialogFields.saveButton=pe,r.editDialogFields.cancelButton=de,r.editDialogFields.deleteButton=he,r.editDialogFields.deleteSeriesButton=ce,r.editDialogFields.deleteExceptionsButton=ue,r.editDialogFields.buttons=le,r.addHandler(he,"click",function(){g.jqxWindow("close"),r.overlay.hide(),r._deleteAppointment(r.editAppointment)}),r.addHandler(de,"click",function(){g.jqxWindow("close"),r.overlay.hide()}),r.addHandler(me,"click",function(){if(r.editAppointment.isException()){for(var e=r.editAppointment.rootAppointment?r.editAppointment.rootAppointment.exceptions:r.editAppointment.exceptions,t=0;t<e.length;t++)if(e[t].occurrenceFrom.equals(r.editAppointment.occurrenceFrom)){e[t]=r.editAppointment;break}}else null!=r.editAppointment.rootAppointment?(r.editAppointment.rootAppointment.exceptions.push(r.editAppointment),r.editAppointment.rootAppointment.recurrenceException.push(r.editAppointment.occurrenceFrom)):(r.editAppointment.exceptions.push(r.editAppointment),r.editAppointment.recurrenceException.push(r.editAppointment.occurrenceFrom));var i=r._setAppointmentPropertiesFromDialog(r.editAppointment,"occurrence");i&&(r.changedAppointments[r.editAppointment.id]={type:"Update",appointment:r.editAppointment.boundAppointment},r._raiseEvent("appointmentChange",{appointment:r.editAppointment.boundAppointment}),r._renderrows(),g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(fe,"click",function(){var e=r.editAppointment;e.rootAppointment&&(e=e.rootAppointment);var t=r._setAppointmentPropertiesFromDialog(e,"series");t&&(r.changedAppointments[e.id]={type:"Update",appointment:e.boundAppointment},r._raiseEvent("appointmentChange",{appointment:e.boundAppointment}),r._renderrows(),g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(pe,"click",function(){var t=!0;if(null==r.editAppointment){var i=new e.jqx.scheduler.appointment;t=r._setAppointmentPropertiesFromDialog(i,"none"),t&&r.addAppointment(i)}else r.editAppointment.rootAppointment?(me.trigger("click"),t=!1):r.editAppointment.isRecurrentAppointment()?(fe.trigger("click"),t=!1):(t=r._setAppointmentPropertiesFromDialog(r.editAppointment,"none"),t&&(r.changedAppointments[r.editAppointment.id]={type:"Update",appointment:r.editAppointment?r.editAppointment.boundAppointment:null},r._raiseEvent("appointmentChange",{appointment:r.editAppointment.boundAppointment}),r._renderrows()));t&&(g.jqxWindow("close"),r.overlay.hide())}),r.addHandler(g,"close",function(e){r.overlay.hide(),r.focus(),r.editDialogClose&&r.editDialogClose(g,r.editDialogFields,r.editAppointment?r.editAppointment.boundAppointment:null),r._raiseEvent("editDialogClose",{dialog:g,fields:r.editDialogFields,appointment:r.editAppointment?r.editAppointment.boundAppointment:null})}),r.editDialogCreate&&r.editDialogCreate(g,r.editDialogFields,r.editAppointment),r._raiseEvent("editDialogCreate",{dialog:g,fields:r.editDialogFields,appointment:r.editAppointment?r.editAppointment.boundAppointment:null}),g.jqxWindow({height:i[0].scrollHeight+40})}}),r._editDialog=g}r.dialogOpenings||(r.dialogOpenings=0),r.removeHandler(r._editDialog,"open"),r.addHandler(r._editDialog,"open",function(o){if(r.editDialogOpen&&r.editDialogFields){var n=r.editDialogOpen(g,r.editDialogFields,r.editAppointment?r.editAppointment.boundAppointment:null);if(1==n)return}r.rtl&&(r._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(r.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),r._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(r.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),r.editDialogFields.saveOccurrenceButton.css("float","left"),r.editDialogFields.saveSeriesButton.css("float","left"),r.editDialogFields.saveButton.css("float","left"),r.editDialogFields.cancelButton.css("float","left"),r.editDialogFields.deleteButton.css("float","left"),r.editDialogFields.deleteSeriesButton.css("float","left"),r.editDialogFields.deleteExceptionsButton.css("float","left"),r.editDialogFields.buttons.css("width","auto"),r.editDialogFields.allDay.css("float","right")),setTimeout(function(){var e=r.editAppointment?r.editAppointment.boundAppointment:null;r.editAppointment&&r.editAppointment.rootAppointment&&(e=r.editAppointment.rootAppointment.boundAppointment),r._raiseEvent("editDialogOpen",{dialog:r._editDialog,fields:r.editDialogFields,appointment:e})});var a=function(){setTimeout(function(){i?r.editDialogFields.deleteButton.focus():(r.editDialogFields.subject.focus(),r.editDialogFields.subject.select())},1)};return 0!=r.dialogOpenings||t?void(r.editDialogFields&&(r.editDialogFields.subject.val(""),r.editDialogFields.location.val(""),a(),r.editDialogFields.resetExceptions.val(!1),r.editDialogFields.description.val(""),t||r.editDialogFields.deleteButton.hide(),t?(r.dialogOpenings++,r.editDialogFields.deleteButton.show(),r.editDialogFields.subject.val(t.subject),r.editDialogFields.location.val(t.location),r.editDialogFields.description.val(t.description),r.editDialogFields.timeZone.val(t.timeZone),r.colors.indexOf(t.borderColor)>=0?r.editDialogFields.color.val(t.borderColor):r.editDialogFields.color.jqxDropDownList("clearSelection"),r.editDialogFields.allDay.val(t.allDay),r.editDialogFields.resource.val(t.resourceId),r.editDialogFields.status.val(t.status),t.timeZone&&(t.from=t.from.toTimeZone(t.timeZone),t.to=t.to.toTimeZone(t.timeZone)),l=t.from,d=t.to,e.jqx.scheduler.utilities.getStartOfDay(l).equals(l)&&e.jqx.scheduler.utilities.getEndOfDay(d).equals(d)&&r.editDialogFields.allDay.val(!0),r._setAppointmentPropertiesToDialog(t,l,d,s?s.resourceId:null)):(r.editDialogFields.saveButton.show(),r._setAppointmentPropertiesToDialog(null,l,d,s?s.resourceId:null)),l&&d&&(r._changeFromUser=!1,r.editDialogFields.from.val(l.toDate()),r.editDialogFields.to.val(d.toDate()),r._changeFromUser=!0),r.isTouchDevice()||(r._editDialog.jqxWindow({height:150}),r._editDialog.jqxWindow({height:e(r._editDialog.children())[1].scrollHeight+40})))):(r.dialogOpenings++,r.isTouchDevice()||(r._editDialog.jqxWindow({height:150}),r._editDialog.jqxWindow({height:e(r._editDialog.children())[1].scrollHeight+40})),void a())}),r.removeHandler(r._editDialog,"keydown"),r.addHandler(r._editDialog,"keydown",function(i){if(r.editDialogKeyDown){var s=r.editDialogKeyDown(g,r.editDialogFields,r.editAppointment,i);if(void 0!=s)return s}if(13==i.keyCode){if(e(document.activeElement).ischildof(r._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;t?t.isException()||t.rootAppointment?r.editDialogFields.saveOccurrenceButton.trigger("click"):t.isRecurrentAppointment()?r.editDialogFields.saveSeriesButton.trigger("click"):r.editDialogFields.saveButton.trigger("click"):r.editDialogFields.saveButton.trigger("click")}}else 27==i.keyCode&&r.editDialogFields.cancelButton.trigger("click")})},openMenu:function(t,i){var r=this;r.menu||r._initMenu();r._views[r._view].type;if(r.contextMenu&&r.menu){if(r.selectedAppointment?r.menu.jqxMenu("showItem","editAppointment"):r.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(r.selectedAppointment){var s=r.selectedAppointment.coord();t=s.left,i=s.top}else if(r.focusedCell)var s=e(r.focusedCell).coord();t=s.left,i=s.top}r.menu.jqxMenu("open",t,i),r._hasOpenedMenu=!0}},closeMenu:function(){var e=this;e.contextMenu&&e.menu&&setTimeout(function(){e.menu.jqxMenu("close")})},closeDialog:function(){var e=this;e._editDialog.jqxWindow("close")},openDialog:function(e,t){var i=this;i._views[i._view].type;if(i.selectedJQXAppointment){var r=i._initDialog(i.selectedJQXAppointment);r!==!1&&i._openDialog(e,t)}else null==i.getSelection()&&(i.focus(),i.focusedCell.setAttribute("data-selected","true"),i._lastSelectedCell=i.focusedCell,i._updateCellsSelection(i.focusedCell)),i._initDialog(),i._openDialog(e,t)},_openDialog:function(e,t){var i=this;i._views[i._view].type;if(i.editDialog){var r=i.host.coord();i.overlay.show(),i.overlay.css("z-index",9999999),i.overlay.width(i.host.width()),i.overlay.height(i.host.height()),i.overlay.offset(r);var s=i.isTouchDevice();if(s)i._editDialog.jqxWindow("move",r.left,r.top),i._editDialog.jqxWindow({draggable:!1,maxWidth:i.host.width(),maxHeight:i.host.height()}),i._editDialog.jqxWindow({width:i.host.width(),height:i.host.height()}),i._editDialog.jqxWindow("open"),i._editDialog.jqxWindow("move",r.left,r.top);else if(void 0!=e&&void 0!=t)i._editDialog.jqxWindow("move",e,t),i._editDialog.jqxWindow("open");else{var o=i._editDialog.height();400>o&&(o=400);var n=r.top+i.host.height()/2-o/2,a=r.left+i.host.width()/2-i._editDialog.width()/2;i._editDialog.jqxWindow("move",a,n),i._editDialog.jqxWindow("open")}setTimeout(function(){i.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(t,i){var r=this,s=function(t){var s=r._views[r._view].type,o=(r._views[r._view],r.editDialogFields.from.val("date")),n=r.editDialogFields.to.val("date");if(o>n)return r.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(o==n)return s.indexOf("month")>=0;if(t.resourceId=r.editDialogFields.resource.val(),"none"==r.editDialogFields.resourceContainer.css("display")&&(t.resourceId=""),t.description=r.editDialogFields.description.val(),t.allDay=r.editDialogFields.allDay.val(),t.status=r.editDialogFields.status.val(),t.location=r.editDialogFields.location.val(),t.timeZone=r.editDialogFields.timeZone.val(),""==t.timeZone&&""!=r.timeZone&&(t.timeZone=r.timeZone),t.from=new e.jqx.date(o,t.timeZone),t.to=new e.jqx.date(n,t.timeZone),r.timeZone?(t.from=t.from.toTimeZone(r.timeZone),t.to=t.to.toTimeZone(r.timeZone)):(t.from=t.from.toTimeZone(null),t.to=t.to.toTimeZone(null)),t.allDay&&(t.from=e.jqx.scheduler.utilities.getStartOfDay(t.from),t.to=e.jqx.scheduler.utilities.getEndOfDay(t.to)),r.editDialogFields.color.val()){var a=r.getAppointmentColors(r.editDialogFields.color.val());t.color=a.color,t.background=a.background,t.borderColor=a.border}t.subject=r.editDialogFields.subject.val();var l=r.editDialogFields.repeat.jqxDropDownList("selectedIndex"),d=new e.jqx.scheduler.recurrencePattern,h=r.editDialogFields.repeatEndPanel;if(d.timeZone=r.timeZone,d.from=t.from.clone(),"occurrence"==i&&t.rootAppointment&&(d.from=t.rootAppointment.from.clone()),r.editDialogFields.resetExceptions.val()&&(t.exceptions=new Array,t.recurrenceException=new Array),h.repeatEndNever.val())d.count=1e3,d.to=new e.jqx.date(9999,12,31);else if(h.repeatEndAfter.val())d.count=h.repeatEndAfterValue.val(),d.to=new e.jqx.date(9999,12,31);else if(h.repeatEndOn.val()){d.count=1e3;var n=new e.jqx.date(h.repeatEndOnValue.jqxDateTimeInput("getDate"),r.timeZone);d.to=n}switch(l){case 0:default:t.clearRecurrence();break;case 1:var c=r.editDialogFields.daily,u=c.repeatDayInterval.val();d.interval=u,d.freq="daily";break;case 2:var p=r.editDialogFields.weekly,u=p.repeatWeekInterval.val(),f=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}],m=p.repeatDays,g=new Array;d.weekDays={};for(var v=0;7>v;v++){var x=m[v].val();x&&(0==v?g.push(6):g.push(v-1),e.extend(d.weekDays,f[v]))}d.freq="weekly",d.byweekday=g,d.interval=u;break;case 3:var w=r.editDialogFields.monthly,u=w.repeatMonth.val();if(w.repeatMonthDayBool.val())d.day=w.repeatMonthDay.val(),d.bymonthday=new Array,d.bymonthday.push(d.day);else{var b=w.repeatDayOfWeek.jqxDropDownList("selectedIndex"),y=new Array;0==b?b=6:b--;var _=w.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),j="";switch(_){case 0:j=1;break;case 1:j=2;break;case 2:j=3;break;case 3:j=4;break;case 4:j=-1}y.push([b,j]),d.bynweekday=y}d.freq="monthly",d.interval=u;break;case 4:var q=r.editDialogFields.yearly,u=q.repeatYear.val();if(q.repeatYearBool.val())d.day=q.repeatYearDay.val(),d.month=q.repeatYearMonth.jqxDropDownList("selectedIndex"),d.bymonth=new Array,d.bymonth.push(1+d.month),d.byyearday=new Array,d.byyearday.push(d.day);else{d.month=q.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),d.bymonth=new Array,d.bymonth.push(1+d.month);var b=q.repeatDayOfWeek.jqxDropDownList("selectedIndex"),y=new Array;0==b?b=6:b--;var _=q.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),j="";switch(_){case 0:j=1;break;case 1:j=2;break;case 2:j=3;break;case 3:j=4;break;case 4:j=-1}y.push([b,j]),d.bynweekday=y}d.freq="yearly",d.interval=u}t.rootAppointment?t.rootAppointment.recurrencePattern=d:l>0&&(t.recurrencePattern=d);var T={},C={};for(var k in r.appointmentDataFields){var S=r.appointmentDataFields[k],D=t[k];T[k]=D,"from"!=k&&"to"!=k||(D=D.toDate()),C[S]=D}return T.originalData=C,T.jqxAppointment=t,t.boundAppointment=T,!0}(t);return s},_setAppointmentPropertiesToDialog:function(t,i,r,s){var o=this,n=function(){var e=o.editDialogFields.repeatEndPanel;e.repeatEndNever.jqxRadioButton({checked:!0}),e.repeatEndAfterValue.val(1),e.repeatEndOnValue.val(t);var t=r.toDate();if(o.editDialogFields.daily){var i=o.editDialogFields.daily;i.repeatDayInterval.val(1)}if(o.editDialogFields.weekly){for(var s=o.editDialogFields.weekly,n=0;n<s.repeatDays.length;n++)1==n?s.repeatDays[n].jqxCheckBox({checked:!0}):s.repeatDays[n].jqxCheckBox({checked:!1});s.repeatWeekInterval.val(1)}if(o.editDialogFields.monthly){var a=o.editDialogFields.monthly;a.repeatDayOfWeek.jqxDropDownList("selectIndex",1),a.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),a.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),a.repeatMonthDayBool.jqxRadioButton({checked:!0}),a.repeatMonthDay.val(1),a.repeatMonth.val(1)}if(o.editDialogFields.yearly){var l=o.editDialogFields.yearly;l.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),l.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),l.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),l.repeatDayOfWeek.jqxDropDownList("selectIndex",1),l.repeatYear.val(1),l.repeatYearMonth.jqxDropDownList("selectIndex",0),l.repeatYearDay.val(1),l.repeatYearBool.val(!0)}};if(n(),t&&t.isRecurrentAppointment()?t.rootAppointment?o.editDialogFields.resetExceptionsContainer.hide():o.editDialogFields.resetExceptionsContainer.show():t&&(o.editDialogFields.resetExceptionsContainer.hide(),o.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!t)return o.editDialogFields.timeZone.jqxDropDownList("clearSelection"),s?o.editDialogFields.resource.val(s):o.editDialogFields.resource.jqxDropDownList("selectIndex",0),o.editDialogFields.allDay.val(!1),(o._views[o._view].type.indexOf("month")>=0||i&&i.equals(r)||r&&r.equals(e.jqx.scheduler.utilities.getEndOfDay(r)))&&o.editDialogFields.allDay.val(!0),o.editDialogFields.color.jqxDropDownList("clearSelection"),o.editDialogFields.description.val(""),o.editDialogFields.subject.val(""),void o.editDialogFields.repeat.jqxDropDownList("selectIndex",0);var a=function(e){var t=e.recurrencePattern;if(e.rootAppointment)var t=e.rootAppointment.recurrencePattern;if(null!=t){var i=t.freq,r=0;"daily"==i&&(r=1),"weekly"==i&&(r=2),"monthly"==i&&(r=3),"yearly"==i&&(r=4);var s=o.editDialogFields.repeatEndPanel;switch(1e3!=t.count?(s.repeatEndAfter.jqxRadioButton({checked:!0}),s.repeatEndAfterValue.val(t.count)):9999!=t.to.year()?(s.repeatEndOn.jqxRadioButton({checked:!0}),s.repeatEndOnValue.val(t.to.toDate())):s.repeatEndNever.jqxRadioButton({checked:!0}),o.editDialogFields.repeat.jqxDropDownList("selectIndex",r),r){case 1:var n=t.interval,a=o.editDialogFields.daily;a.repeatDayInterval.val(n);break;case 2:var n=t.interval,l=o.editDialogFields.weekly;l.repeatWeekInterval.val(n);for(var d=t.byweekday,h=0;7>h;h++){var c=l.repeatDays[h];c.val(!1)}for(var h=0;h<d.length;h++){var c=d[h];6==c?l.repeatDays[0].val(!0):l.repeatDays[c+1].val(!0)}break;case 3:var u=o.editDialogFields.monthly;if(u.repeatMonth.val(t.interval),t.bymonthday&&t.bymonthday.length>0)u.repeatMonthDayBool.jqxRadioButton({checked:!0}),u.repeatMonthDay.val(t.day);else{u.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var p=t.bynweekday,f=p[0][0];f++,7==f&&(f=0),u.repeatDayOfWeek.jqxDropDownList("selectIndex",f);var m=p[0][1],g="";switch(m){case 1:g=0;break;case 2:g=1;break;case 3:g=2;break;case 4:g=3;break;case-1:g=4}u.repeatDayOfWeekType.jqxDropDownList("selectIndex",g)}break;case 4:var v=o.editDialogFields.yearly;if(t.byyearday&&t.byyearday.length>0&&(v.repeatYearDay.val(t.byyearday[0]),v.repeatYearBool.val(!0)),t.bymonth&&t.bymonth.length>0&&(v.repeatYearMonth.val(t.bymonth[0]),v.repeatYearBool.val(!0)),!t.byyearday||t.byyearday&&0==t.byyearday.length){v.repeatDayOfWeekMonth.val(t.bymonth[0]),v.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var p=t.bynweekday,f=p[0][0];f++,7==f&&(f=0),v.repeatDayOfWeek.jqxDropDownList("selectIndex",f);var m=p[0][1],g="";switch(m){case 1:g=0;break;case 2:g=1;break;case 3:g=2;break;case 4:g=3;break;case-1:g=4}v.repeatDayOfWeekType.jqxDropDownList("selectIndex",g)}}}};a(t)}}),e.jqx.scheduler.column=function(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxScheduler: Invalid property name - "+s+".")}},this._initfields(i),this},e.jqx.schedulerDataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.scheduler.dataView=function(t){return this.that=this,this.scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(i,r){var s=this;if(e.isArray(i))return void s.update(i);
var o=!!i._source,n=null;this._sortData=null,this._sortHierarchyData=null,o?(n=i,i=i._source):n=new e.jqx.dataAdapter(i,{autoBind:!1});var a=function(e){n.recordids=[],n.records=new Array,n.cachedrecords=new Array,n.originaldata=new Array,n._options.totalrecords=e.totalrecords,n._options.originaldata=e.originaldata,n._options.recordids=e.recordids,n._options.cachedrecords=new Array,n._options.pagenum=e.pagenum,n._options.pageable=e.pageable,void 0!=i.type&&(n._options.type=i.type),void 0!=i.formatdata&&(n._options.formatData=i.formatdata),void 0!=i.contenttype&&(n._options.contentType=i.contenttype),void 0!=i.async&&(n._options.async=i.async),void 0!=i.updaterow&&(n._options.updaterow=i.updaterow),void 0!=i.addrow&&(n._options.addrow=i.addrow),void 0!=i.deleterow&&(n._options.deleterow=i.deleterow),0==e.pagesize&&(e.pagesize=10),n._options.pagesize=e.pagesize},l=function(e){e.originaldata=n.originaldata,e.records=n.records,e.hierarchy=n.hierarchy,e.scheduler.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,n.hierarchy=new Array),n._source.totalrecords?e.totalrecords=n._source.totalrecords:n._source.totalRecords?e.totalrecords=n._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=n.cachedrecords};a(this),this.source=i,void 0!==r&&(uniqueId=r);var s=this;switch(i.datatype){case"local":case"array":default:if(null==i.localdata&&(i.localdata=[]),null!=i.localdata){n.unbindBindingUpdate(t+s.scheduler.element.id),(!s.scheduler.autoBind&&s.scheduler.isInitialized||s.scheduler.autoBind)&&n.dataBind();var d=function(){l(s),s.update(n.records)};d(),n.bindBindingUpdate(t+s.scheduler.element.id,d)}break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=i.localdata){n.unbindBindingUpdate(t+s.scheduler.element.id),(!s.scheduler.autoBind&&s.scheduler.isInitialized||s.scheduler.autoBind)&&n.dataBind();var d=function(e){l(s),s.update(n.records)};return d(),void n.bindBindingUpdate(t+s.scheduler.element.id,d)}var h={},c=n._options.data;n._options.data?e.extend(n._options.data,h):(i.data&&e.extend(h,i.data),n._options.data=h);var d=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=function(){l(s),s.update(n.records)};if(t)try{i()}catch(r){}else i()};n.unbindDownloadComplete(t+s.scheduler.element.id),n.bindDownloadComplete(t+s.scheduler.element.id,d),n._source.loaderror=function(e,t,i){d()},(!s.scheduler.autoBind&&s.scheduler.isInitialized||s.scheduler.autoBind)&&n.dataBind(),n._options.data=c}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this._compare=function(t,i,r){var t=t,i=i;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){if(this.scheduler.serverProcessing)return e;var t=new Array;if(this.filters.length){var i=new Array,r=function(e,t){for(var r=0;r<e.length;r++){var s=e[r];s._visible=!0;for(var o=void 0,n=0;n<this.filters.length;n++){var a=this.filters[n].filter,l=s[this.filters[n].datafield],d=a.evaluate(l);o=void 0==o?d:"or"==a.operator?o||d:o&&d}s._visible=!1,(o||s.aggregate)&&(s._visible=!0,t.push(s),i[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0){var s=new Array,o=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];s.push(r),r.records&&r.records.length>0&&o(r,r.records)}};o(null,e),r.call(this,s,t);for(var n=0;n<t.length;n++)for(var a=t[n];a.parent;){var l=a.parent;i[l.uid]||(l._visible=!0,i[l.uid]=l),a=l}t=e}else r.call(this,e,t);this._filteredData=t,this.rows=t}}else this.rows=e;return this.rows},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){var s=this.rows[this.rows.length-1][t];null==s&&(s=null);for(var o=1;100>=o;o++){var n=this.scheduler.appointmentsByKey[o+s];if(!n){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var n=this.scheduler.appointmentsByKey["jqx"+s+o];if(n)continue;return"jqx"+s+o}return s+o}}}if(void 0!=t&&t.toString().length>0){var a=e(i).attr(t);if(null!=a&&a.toString().length>0)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+a:a}if(this.rows&&this.rows.length>0){var n=this.scheduler.appointmentsByKey[r];if(n){var s=this.rows[this.rows.length-1][t];null==s&&(s="");for(var o=1;1e3>=o;o++){var n=this.scheduler.appointmentsByKey[o+s];if(!n){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var n=this.scheduler.appointmentsByKey["jqx"+s+o];if(n)continue;return"jqx"+s+o}return s+o}}}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var n=this.scheduler.appointmentsByKey["jqx"+r];if(!n)return"jqx"+r;for(var o=r+1;100>=o;o++){var n=this.scheduler.appointmentsByKey["jqx"+o];if(!n){var n=this.scheduler.appointmentsByKey["jqx"+o];if(n)continue;return"jqx"+o}}}return r},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxKnob","",{}),e.extend(e.jqx._jqxKnob.prototype,{defineInstance:function(){var t={type:"circle",allowValueChangeOnClick:!0,allowValueChangeOnDrag:!0,allowValueChangeOnMouseWheel:!0,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:!1,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:!1,offset:null,style:"",visible:!1},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:!1},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:!1,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:!0,value:0,width:400};return e.extend(!0,this,t),t},createInstance:function(){var t=this;t._hostInit(),t._ie8Plugin(),t._validateProperties(),t._initValues(),t._refresh(),e.jqx.utilities.resize(t.host,function(){t.widgetSize=Math.min(t.host.width(),t.host.height()),t._refresh()})},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxKnob"+this.element.id:e+".jqxKnob"+this.element.id},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})},createColorGradient:function(e,t,i){return this._getGradient(e,t,i)},destroy:function(){var t=this;t.removeHandler(e(document),"mousemove.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"blur.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"mouseup.jqxKnob"+t.host[0].id),t.host.empty(),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh()},propertyChangedHandler:function(e,t,i,r){if(!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)){if("disabled"===t&&e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),"value"===t)return void e._setValue(r,"propertyChange");e._validateProperties(),e._refresh()}},val:function(e){var t=this;return 0==arguments.length?t.value:void t._setValue(e,null)},_isPointerGrabbed:!1,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var t=this;t.addHandler(t.host,this._getEvent("mousedown"),function(i){if("pointer"!==t.pointerGrabAction||i.target.id===t._pointerID){if(t._isTouchDevice){var r=e.jqx.position(i);i.clientX=r.left,i.clientY=r.top}if("progressBar"===t.pointerGrabAction){var s={x:i.clientX,y:i.clientY},o=t.host[0].getBoundingClientRect(),n=t.widgetSize,a={x:o.left+n/2,y:o.top+n/2},l=t._calculateAngleFromCoordinates(s,a,t.rotation),d=t._calculateDistance(s,a);if(l<t.startAngle&&(l+=360),l>t.endAngle&&l-t.endAngle!==360+t.startAngle-l)return;var h=t._getScale(t.progressBar.offset,"w",n/2),c=t._getScale(t.progressBar.size,"w",n/2);if(h>d||d>h+c)return}return t._isPointerGrabbed=!0,t.allowValueChangeOnClick===!0&&t._mouseMovePointer(i),i.preventDefault(),i.stopPropagation(),!1}});var i=null;t.addHandler(e(document),this._getEvent("mousemove"),function(e){return t.allowValueChangeOnDrag&&(i&&clearTimeout(i),i=setTimeout(function(){t._mouseMovePointer(e)}),t._isPointerGrabbed)?!1:void 0}),t.addHandler(e(document),"blur.jqxKnob"+t.host[0].id,function(){t._isPointerGrabbed=!1,t._pointerGrabbedIndex=-1}),t.addHandler(e(document),this._getEvent("mouseup"),function(e){t._isPointerGrabbed&&(t._isPointerGrabbed=!1,t._pointerGrabbedIndex=-1,t._raiseEvent(0,{originalEvent:e,value:t.value}))}),t.addHandler(t.host,"wheel",function(e){if(t.allowValueChangeOnMouseWheel){var i=0;return e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail?i=-e.detail/3:e.originalEvent&&e.originalEvent.deltaY&&(i=e.originalEvent.deltaY),i>0?t._increment():t._decrement(),!1}})},_mouseMovePointer:function(t){var i=this;if(!i.disabled&&i._isPointerGrabbed){if(i._isTouchDevice){var r=e.jqx.position(t);t.clientX=r.left,t.clientY=r.top}var s={x:t.clientX,y:t.clientY},o=i.host[0].getBoundingClientRect(),n=i.widgetSize,a={x:o.left+n/2,y:o.top+n/2},l=i._calculateAngleFromCoordinates(s,a,i.rotation),d=i._calculateValueFromAngle(l,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if(i.value.length&&-1===i._pointerGrabbedIndex)for(var h=0;h<i.value.length;h++){if(d<=i.value[h]){i._pointerGrabbedIndex=h;break}if(h===i.value.length-1)i._pointerGrabbedIndex=h;else if(d<=i.value[h+1]){var c=i.value[h]+(i.value[h+1]-i.value[h])/2;i._pointerGrabbedIndex=c>=d?h:h+1;break}}if(i.pointer&&i.pointer.length>1){if(1==i._pointerGrabbedIndex){var u=i._calculateAngleFromValue(i.value[0],i.dragStartAngle,i.dragEndAngle,i.min,i.max),p=i._calculateAngleFromValue(i.max,i.dragStartAngle,i.dragEndAngle,i.min,i.max),l=i._calculateAngleFromValue(d,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if(u>=l)return;if(l>=p)return}if(0==i._pointerGrabbedIndex){var p=i._calculateAngleFromValue(i.value[1],i.dragStartAngle,i.dragEndAngle,i.min,i.max),u=i._calculateAngleFromValue(i.min,i.dragStartAngle,i.dragEndAngle,i.min,i.max),l=i._calculateAngleFromValue(d,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if(u>=l)return;if(l>=p)return}}if(i.changing){var f=i.value.slice(0);f[i._pointerGrabbedIndex]=d;var m=i.changing(i.value,f);if(m===!1)return}i._setValue(d,"mouse")}},_getScale:function(e,t,i){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,"object"==typeof i?i[t]()*e:i*e):parseInt(e,10)},_hostInit:function(){var t=this;this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=t.host;i.width(t.width),i.height(t.height),i.css("position","relative"),t.host.addClass(t.toThemeProperty("jqx-widget jqx-knob")),-1==t.dragStartAngle&&(t.dragStartAngle=t.startAngle),-1==t.dragEndAngle&&(t.dragEndAngle=t.endAngle),t.dragStartAngle<t.startAngle&&(t.dragStartAngle=t.startAngle),t.dragEndAngle>t.endAngle&&(t.dragEndAngle=t.endAngle),t.widgetSize=Math.min(t.host.width(),t.host.height())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"jqxKnob: Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},_initValues:function(){var e=this;e.marks&&(e.marks.style&&""!==e.marks.style&&("line"!==e.marks.style||e.marks.thickness||(e.marks.thickness=1),e.marks.size||(e.marks.size="5%"),e.marks.offset||(e.marks.offset="85%")),e.marks.majorInterval&&void 0===e.marks.majorSize&&(e.marks.majorSize="10%")),e._marksList=e._getMarksArray(e.marks),e.spinner&&(e._spinnerMarksList=e._getMarksArray(e.spinner.marks))},_calculateAngleFromValue:function(t,i,r,s,o){return e.jqx.browser.msie&&e.jqx.browser.version<9?"circle"!=this.type?s!=o?parseInt((t-s)/(o-s)):0:s!=o?parseInt((t-s)/(o-s)*(r-i)):0:"circle"!=this.type?s!=o?(t-s)/(o-s):0:s!=o?(t-s)/(o-s)*(r-i):0},_calculateAngleFromCoordinates:function(e,t,i){var r=e.x-t.x,s=e.y-t.y;return s>0?"clockwise"===i?90-180*Math.atan(r/s)/Math.PI:270+180*Math.atan(r/s)/Math.PI:0>s?"clockwise"===i?270-180*Math.atan(r/s)/Math.PI:90+180*Math.atan(r/s)/Math.PI:r>=0?0:180},_calculateValueFromAngle:function(e,t,i,r,s){t>e&&(e+=360);var o=r;return e>i?360+t-e>e-i&&(o=s):o=r+(e-t)*(s-r)/(i-t),o},_calculateDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_drawBackground:function(){var e,t,i,r=this,s=r.renderer;e=r.widgetSize,t=e/2;var o=r.style.strokeWidth?r.style.strokeWidth:0;if(t-=o/2,r.style){var i=r._getColor(r.style.fill),n=r._getColor(r.style.stroke),o=r.style.strokeWidth?r.style.strokeWidth:1;"circle"!=r.type?s.rect(0,0,this.host.width(),this.host.height(),{fill:i,stroke:n,"stroke-width":o}):s.circle(e/2,e/2,t,{fill:i,stroke:n,"stroke-width":o})}},_drawDial:function(){var e=this;if(e.dial){var t,i,r,s,o,n,a,l=e.renderer,d=e.widgetSize,h=0;t=i=d/2,s=e._getScale(e.dial.outerRadius,"w",d/2),r=e._getScale(e.dial.innerRadius,"w",d/2),null!=e.dial.startAngle&&null!=e.dial.endAngle?(o="clockwise"===e.rotation?360-e.dial.endAngle:e.dial.startAngle,n="clockwise"===e.rotation?360-e.dial.startAngle:e.dial.endAngle):(o="clockwise"===e.rotation?360-e.endAngle:e.startAngle,n="clockwise"===e.rotation?360-e.startAngle:e.endAngle),a=e._getColor(e.dial.style.fill);var c=e._getColor(e.dial.style.stroke)||"",u=e.dial.style.strokeWidth||0;l.pieslice(t,i,r,s,o,n,h,{fill:a,stroke:c,"stroke-width":u})}},_getMarksArray:function(e){if(void 0==e)return[];var t,i,r=this,s={},o=r.max,n=r.min,a=o-n,l=e.minorInterval,d=e.majorInterval,h=function(e){return parseFloat(e.toPrecision(12))};if(l){for(t=0;a>t;t+=l)i=h(n+t),s[i]={type:"minor"};s[o]={type:"minor"}}if(d){for(t=0;a>t;t+=d)i=h(n+t),s[i]={type:"major"};s[o]={type:"major"}}if(!l&&!d){var c=r.step;if(c){for(t=0;a>t;t+=c)i=h(n+t),s[i]={type:"minor"};s[o]={type:"minor"}}}return s},_drawMarks:function(){var t=this;if(t.marks){var i=t.renderer,r=t.widgetSize,s=t.marks&&null!=t.marks.colorRemaining?t.marks.colorRemaining:"transparent";s=t._getColor(s),t._dialMarks=[];var o,n,a=t.marks.type;a||(a="line");var l=t._getScale(t.marks.offset,"w",r/2),d=t._marksList;e.each(d,function(d,h){if(t.dragEndAngle-t.dragStartAngle!==360||d!=t.max)if(n=t.dragStartAngle+t._calculateAngleFromValue(d,t.dragStartAngle,t.dragEndAngle,t.min,t.max),"circle"===a){var c=t._getScale(t.marks.size,"w",r/2),u=t._getPointerPosition({x:r/2,y:r/2},l,n,t.rotation);t._dialMarks.push(i.circle(u.x,u.y,c,{fill:s}))}else if("line"===a){o="major"===h.type&&null!==t.marks.majorSize&&void 0!==t.marks.majorSize?t._getScale(t.marks.majorSize,"w",r/2):t._getScale(t.marks.size,"w",r/2);var p=t._getScale(t.marks.thickness,"w",r/2),f=t._getPointerPosition({x:r/2,y:r/2},l,n,t.rotation),m=t._getPointerPosition({x:r/2,y:r/2},l+o,n,t.rotation);e.jqx.browser.msie&&e.jqx.browser.version<9?t._dialMarks.push(i.line(parseInt(f.x),parseInt(f.y),parseInt(m.x),parseInt(m.y),{stroke:s,"stroke-width":p})):t._dialMarks.push(i.line(f.x,f.y,m.x,m.y,{stroke:s,"stroke-width":p}))}})}},_drawProgressBars:function(){var t=this;if(t.progressBar){t._progressBar=t._progressBar||[];for(var i=0;i<t._progressBar.length;i++)e(t._progressBar[i]).remove();if(t._progressBar=[],t._isArray(t.progressBar.style)){var r=t.value[0],s=t.value[1],o=t.progressBar.style[0],n=t.progressBar.style[1];if(t._progressBar.push(t._drawProgressBar(t.max,t.progressBar.background,"background")),t.progressBar.ranges)for(var i=0;i<t.progressBar.ranges.length;i++){var a=t.progressBar.ranges[i].startValue,l=t.progressBar.ranges[i].endValue;t._progressBar.push(t._drawProgressBarFromToValue(a,l,t.progressBar.ranges[i],"background"))}t._progressBar.push(t._drawProgressBar(r,o)),t._progressBar.push(t._drawProgressBarFromEndToStart(s,n))}else{if(t._progressBar.push(t._drawProgressBar(t.max,t.progressBar.background,"background")),t.progressBar.ranges)for(var i=0;i<t.progressBar.ranges.length;i++){var a=t.progressBar.ranges[i].startValue,l=t.progressBar.ranges[i].endValue;t._progressBar.push(t._drawProgressBarFromToValue(a,l,t.progressBar.ranges[i],"background"))}t._progressBar.push(t._drawProgressBar(t.value,t.progressBar.style))}}},_drawProgressBarFromEndToStart:function(e,t){var i,r,s,o,n,a,l,d,h=this,c=h.renderer,u=h.widgetSize,p=h._getScale(h.progressBar.offset,"w",u/2),f=0;i=h._getScale(h.progressBar.size,"w",u/2),s=o=u/2,n=p,a=p+i;var m=h._getColor(t.fill)||"transparent",g=h._getColor(t.stroke)||"transparent";r=h.dragStartAngle+h._calculateAngleFromValue(e,h.dragStartAngle,h.dragEndAngle,h.min,h.max),l=h.dragStartAngle;var v=t.strokeWidth?t.strokeWidth:1;return h.endAngle!=r?"clockwise"===h.rotation?c.pieslice(s,o,n,a,360-h.endAngle,360-r,f,{fill:m,stroke:g,"stroke-width":v}):c.pieslice(s,o,n,a,d,r,f,{fill:m,stroke:g,"stroke-width":v}):void 0},_drawProgressBarFromToValue:function(e,t,i,r){var s,o,n,a,l,d,h,c=this,u=c.renderer,p=c.widgetSize,f=c._getScale(c.progressBar.offset,"w",p/2),m=0;s=c._getScale(c.progressBar.size,"w",p/2),n=a=p/2,l=f,d=f+s;var g=c._getColor(i.fill)||"transparent",v=c._getColor(i.stroke)||"transparent";if(o=c.dragStartAngle+c._calculateAngleFromValue(t,c.dragStartAngle,c.dragEndAngle,c.min,c.max),h=c.dragStartAngle+c._calculateAngleFromValue(e,c.dragStartAngle,c.dragEndAngle,c.min,c.max),h!=o){var x=1;"background"==r&&(x=0);var w=i.strokeWidth?i.strokeWidth:x;if("circle"!=c.type){if("rect"==c.type){var b=o*(this.host.height()-2*f),y=this.host.height()-2*f;return u.rect(n-s/2,f+y-b,s,b,{fill:g,stroke:v,"stroke-width":w})}return u.rect(f,a-s/2,this.host.width()-2*f,s,{fill:g,stroke:v,"stroke-width":w})}return"clockwise"===c.rotation?u.pieslice(n,a,l,d,360-o,360-h,m,{fill:g,stroke:v,"stroke-width":w}):u.pieslice(n,a,l,d,h,o,m,{fill:g,stroke:v,"stroke-width":w})}},_drawProgressBar:function(e,t,i){var r,s,o,n,a,l,d,h=this,c=h.renderer,u=h.widgetSize,p=h._getScale(h.progressBar.offset,"w",u/2),f=0;r=h._getScale(h.progressBar.size,"w",u/2),o=n=u/2,a=p,l=p+r;var m=h._getColor(t.fill)||"transparent",g=h._getColor(t.stroke)||"transparent";if(s=h.dragStartAngle+h._calculateAngleFromValue(e,h.dragStartAngle,h.dragEndAngle,h.min,h.max),d=h.dragStartAngle,d!=s){var v=1;"background"==i&&(v=0);var x=t.strokeWidth?t.strokeWidth:v;if("circle"!=h.type){if("rect"==h.type){var w=s*(this.host.height()-2*p),b=this.host.height()-2*p;return c.rect(o-r/2,p+b-w,r,w,{fill:m,stroke:g,"stroke-width":x})}return c.rect(p,n-r/2,this.host.width()-2*p,r,{fill:m,stroke:g,"stroke-width":x})}return"clockwise"===h.rotation?c.pieslice(o,n,a,l,360-s,360-d,f,{opacity:t.opacity||1,fill:m,stroke:g,"stroke-width":x}):c.pieslice(o,n,a,l,d,s,f,{opacity:t.opacity||1,fill:m,stroke:g,"stroke-width":x})}},_drawLabels:function(){var t=this;t._labels=[];var i=t.renderer,r=t.widgetSize;if(void 0===t.labels.visible&&(t.labels.visible=!0),t.labels.visible===!0){var s,o=t._getScale(t.labels.offset,"w",r/2),n=t.labels.type?t.labels.type:"digits",a=t.labels.style,l=a&&a.fill?t._getColor(a.fill):"#333";if("digits"===n){var d=[];if(t.labels.customLabels)for(s=0;s<t.labels.customLabels.length;s++)d.push(t.labels.customLabels[s].value);else{var h=t.labels.step||t.step;for(s=t.min;s<t.max;s+=h)d.push(s);t.dragEndAngle-360<t.dragStartAngle&&d.push(t.max)}for(s=0;s<d.length;s++){var c=t.labels.customLabels?t.labels.customLabels[s].text:d[s].toString();t.labels.formatFunction&&(c=t.labels.formatFunction(c));var u=t.dragStartAngle,p=t.dragEndAngle,f=u+t._calculateAngleFromValue(d[s],u,p,t.min,t.max),m=t._getPointerPosition({x:r/2,y:r/2},o,f,t.rotation);if(e.jqx.browser.msie&&e.jqx.browser.version<9){var g=i.measureText(c,0,{"class":this.toThemeProperty("jqx-knob-label")}),v=t.labels.rotate?90-f:0;i.text(c,m.x-g.width/2,m.y-g.height/2,g.width,g.height,v,{"class":this.toThemeProperty("jqx-knob-label")},!1)}else{var g=i.measureText(c,0,{style:{fill:l},"class":this.toThemeProperty("jqx-knob-label")}),v=t.labels.rotate?90-f:0;i.text(c,m.x-g.width/2,m.y-g.height/2,g.width,g.height,v,{style:{fill:l},"class":this.toThemeProperty("jqx-knob-label")},!1)}}}}},_drawPointers:function(){var t=this;if(t._pointers=t._pointers||[],t._pointers.forEach(function(t,i,r){e(t).remove(),r.splice(i,1)}),t.pointer)if(t._isArray(t.pointer))for(var i=0;i<t.progressBar.style.length;i++)t.pointer[i].visible!==!1&&t._pointers.push(t._drawPointer(t.value[i],t.pointer[i]));else{if(t.pointer.visible===!1)return;t._pointers.push(t._drawPointer(t.value,t.pointer))}},_drawPointer:function(e,t){var i=this;t.id=t.id||i._getID();var r=i.renderer,s=i.widgetSize,o=t.type;o||(o="circle"),t.style||(t.style={fill:"#feaf4e",stroke:"#feaf4e"});var n,a,l,d=i._getColor(t.style.fill),h=t.style.stroke||"",c=i._getScale(t.offset,"w",s/2),u=i.dragStartAngle+i._calculateAngleFromValue(e,i.dragStartAngle,i.dragEndAngle,i.min,i.max);if("circle"===o){var p=i._getScale(t.size,"w",s/2),f=i._getPointerPosition({x:s/2,y:s/2},c,u,i.rotation);l=r.circle(f.x,f.y,p,{id:t.id,fill:d,stroke:h})}else if("line"===o){n=i._getScale(t.size,"w",s/2),a=t.thickness;var m=i._getPointerPosition({x:s/2,y:s/2},c,u,i.rotation),g=i._getPointerPosition({x:s/2,y:s/2},c+n,u,i.rotation);l=r.line(m.x,m.y,g.x,g.y,{id:t.id,stroke:d,"stroke-width":a})}else if("arc"===o){n=i._getScale(t.size,"w",s/2);var v,x,w,b,y,_,j=0,q=(i.dragEndAngle-i.dragStartAngle)/i._steps.length;v=x=s/2,w=c,b=c+n,y="clockwise"===i.rotation?360-(u+q/2):u-q/2,_="clockwise"===i.rotation?360-(u-q/2):u+q/2,l=r.pieslice(v,x,w,b,y,_,j,{id:t.id,fill:d,stroke:h})}else if("arrow"===o){n=i._getScale(t.size,"w",s/2),a=t.thickness;var T=i._getPointerPosition({x:s/2,y:s/2},n,u,i.rotation),C=i._getPointerPosition({x:s/2,y:s/2},c,u,i.rotation),k=i._getPointerPosition({x:C.x,y:C.y},a/2,u-90,i.rotation),S=i._getPointerPosition({x:C.x,y:C.y},a/2,u+90,i.rotation),D="M "+T.x+","+T.y+" L "+k.x+","+k.y+" L "+S.x+","+S.y+" "+T.x+","+T.y;l=this.renderer.path(D,{id:t.id,stroke:h,fill:d})}return l},_rotateSpinnerMarks:function(t){var i=this,r=i.spinner.marks;if(r){if(r.rotate===!1)return;var s=i.renderer,o=i.widgetSize,n=r&&null!=r.colorRemaining?r.colorRemaining:"transparent";n=i._getColor(n);var a,l,d=r.type;d||(d="line");for(var h=i._getScale(r.offset,"w",o/2),c=0;c<i._spinnerMarks.length;c++)e(i._spinnerMarks[c]).remove();i._spinnerMarks=[];var u=i._spinnerMarksList;e.each(u,function(e,c){if(i.endAngle-i.startAngle!==360||e!=i.max){if(l=t+i._calculateAngleFromValue(e,i.startAngle,i.endAngle,i.min,i.max),l<i.startAngle)return!0;if(l>i.endAngle&&l<i.startAngle+360)return!0;if("circle"===d){var u=i._getScale(r.size,"w",o/2),p=i._getPointerPosition({x:o/2,y:o/2},h,l,i.rotation);i._spinnerMarks.push(s.circle(p.x,p.y,u,{fill:n}))}else if("line"===d){a="major"===c.type&&null!==r.majorSize&&void 0!==r.majorSize?i._getScale(r.majorSize,"w",o/2):i._getScale(r.size,"w",o/2);var f=i._getScale(r.thickness,"w",o/2),m=i._getPointerPosition({x:o/2,y:o/2},h,l,i.rotation),g=i._getPointerPosition({x:o/2,y:o/2},h+a,l,i.rotation);i._spinnerMarks.push(s.line(m.x,m.y,g.x,g.y,{stroke:n,"stroke-width":f}))}}})}},_drawSpinnerMarks:function(t){var i=this;if(t){var r=i.renderer,s=i.widgetSize,o=t&&null!=t.colorRemaining?t.colorRemaining:"transparent";o=i._getColor(o),i._spinnerMarks=[];var n,a,l=t.type;l||(l="line");var d=i._getScale(t.offset,"w",s/2),h=i._spinnerMarksList;e.each(h,function(e,h){if(i.dragEndAngle-i.dragStartAngle!==360||e!=i.max)if(a=i.startAngle+i._calculateAngleFromValue(e,i.startAngle,i.endAngle,i.min,i.max),"circle"===l){var c=i._getScale(t.size,"w",s/2),u=i._getPointerPosition({x:s/2,y:s/2},d,a,i.rotation);i._spinnerMarks.push(r.circle(u.x,u.y,c,{fill:o}))}else if("line"===l){n="major"===h.type&&null!==t.majorSize&&void 0!==t.majorSize?i._getScale(t.majorSize,"w",s/2):i._getScale(t.size,"w",s/2);var p=i._getScale(t.thickness,"w",s/2),f=i._getPointerPosition({x:s/2,y:s/2},d,a,i.rotation),m=i._getPointerPosition({x:s/2,y:s/2},d+n,a,i.rotation);i._spinnerMarks.push(r.line(f.x,f.y,m.x,m.y,{stroke:o,"stroke-width":p}))}})}},_drawSpinner:function(){var e=this;if(e.spinner){var t=e.renderer,i=e.widgetSize;e.spinner.style||(e.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"});var r,s,o=e._getColor(e.spinner.style.fill),n=e.spinner.style.stroke||"";r=s=i/2;var a=e._getScale(e.spinner.outerRadius,"w",i/2),l=e._getScale(e.spinner.innerRadius,"w",i/2),d=o.strokeWidth?o.strokeWidth:2;if(t.pieslice(r,s,l,a,360-e.endAngle,360-e.startAngle,0,{"stroke-width":d,fill:o,stroke:n}),e.spinner.marks){return void e._drawSpinnerMarks(e.spinner.marks)}}},_getColor:function(e){return e&&"object"==typeof e?this._getGradient(e.color,e.gradientType,e.gradientStops):e},_getGradient:function(e,t,i){return t&&null!=i&&"object"==typeof i&&("linear"===t?e=this.renderer._toLinearGradient(e,!0,i):"linearHorizontal"===t?e=this.renderer._toLinearGradient(e,!1,i):"radial"===t&&(e=this.renderer._toRadialGradient(e,i))),e},_isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_events:["slide","change"],_raiseEvent:function(t,i){var r=this._events[t],s=e.Event(r);return s.args=i,this.host.trigger(s)},_movePointers:function(){for(var e,t=this,i=0;i<t._pointers.length;i++)1!==t._pointers.length?(e=t.dragStartAngle+t._calculateAngleFromValue(t.value[i],t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[i]=t._movePointer(t._pointers[i],t.pointer[i],e,t.value[i])):(e=t.dragStartAngle+t._calculateAngleFromValue(t.value,t.dragStartAngle,t.dragEndAngle,t.min,t.max),t._pointers[0]=t._movePointer(t._pointers[0],t.pointer,e,t.value))},_movePointer:function(t,i,r,s){var o,n=this,a=n.renderer,l=n.widgetSize,d=i.type;d||(d="circle");var h=n._getScale(i.offset,"w",l/2);if("circle"===d){var c=n._getPointerPosition({x:l/2,y:l/2},h,r,n.rotation);a.attr(t,{cx:c.x,cy:c.y}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+i.id).remove(),t=n._drawPointer(s,i))}else if("line"===d){o=n._getScale(i.size,"w",l/2);var u=n._getPointerPosition({x:l/2,y:l/2},h,r,n.rotation),p=n._getPointerPosition({x:l/2,y:l/2},h+o,r,n.rotation);a.attr(t,{x1:u.x,y1:u.y,x2:p.x,y2:p.y}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+i.id).remove(),t=n._drawPointer(s,i))}else if("arrow"===d){o=n._getScale(i.size,"w",l/2);var f=i.thickness,m=n._getPointerPosition({x:l/2,y:l/2},o,r,n.rotation),g=n._getPointerPosition({x:l/2,y:l/2},h,r,n.rotation),v=n._getPointerPosition({x:g.x,y:g.y},f/2,r-90,n.rotation),x=n._getPointerPosition({x:g.x,y:g.y},f/2,r+90,n.rotation),w="M "+m.x+","+m.y+" L "+v.x+","+v.y+" L "+x.x+","+x.y+" "+m.x+","+m.y;a.attr(t,{d:w}),e.jqx.browser.msie&&e.jqx.browser.version<9&&(e("#"+i.id).remove(),t=n._drawPointer(s,i))}else"arc"===d&&(e("#"+i.id).remove(),t=n._drawPointer(i));return n.progressBar&&t.parentNode.appendChild(t.parentNode.removeChild(t)),t},_getPointerPosition:function(t,i,r,s){return e.jqx.browser.msie&&e.jqx.browser.version<9?{x:parseInt(t.x+i*Math.sin(Math.PI/180*(r+90))),y:"clockwise"===s?parseInt(t.y+i*Math.sin(Math.PI/180*r)):parseInt(t.y-i*Math.sin(Math.PI/180*r))}:{x:t.x+i*Math.sin(Math.PI/180*(r+90)),y:"clockwise"===s?t.y+i*Math.sin(Math.PI/180*r):t.y-i*Math.sin(Math.PI/180*r)}},_getID:function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var t=this;t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.renderer||(t._isVML=!1,t.host.empty(),t._initRenderer(t.host)),t.removeHandler(e(document),"mousemove.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"blur.jqxKnob"+t.host[0].id),t.removeHandler(e(document),"mouseup.jqxKnob"+t.host[0].id),t.removeHandler(t.host,"wheel"),t.removeHandler(t.host,"mousedown"),t.host.empty(),t._initRenderer(t.host);var i=t.renderer;if(i){t._steps=[];for(var r=0;r<=(t.max-t.min)/t.step;r++)t._steps.push(t.min+t.step*r);t._initValues(),t._render()}},_render:function(){var e=this;e._drawBackground(),e._drawDial(),e._drawMarks(),e._drawLabels(),e._drawSpinner(),e._drawProgressBars(),e._updateMarksColor(),e._updateSpinnerMarksColor(),e._drawPointers(),e._attatchPointerEventHandlers()},_setValue:function(t,i){var r=this,s=r.value;if(isNaN(t)&&(t=r.min),t>r.max?t=r.max:t<r.min&&(t=r.min),r.snapToStep)for(var o=r._steps,n=0;n<o.length;n++)if(t<o[n]){t=0===n?o[n]:o[n]-t<t-o[n-1]?o[n]:o[n-1];break}if(t!=s){if(e.isArray(r.value)){if(-1!=r._pointerGrabbedIndex){if(1==r._pointerGrabbedIndex){r.value[0];r.value[r._pointerGrabbedIndex]=t}if(0==r._pointerGrabbedIndex){r.value[1];r.value[r._pointerGrabbedIndex]=t}r.value[r._pointerGrabbedIndex]=t}}else r.value=t;r._updateProgressBarColor(),r._updateMarksColor(),r._updateSpinnerMarksColor();var a=r.dragStartAngle+r._calculateAngleFromValue(t,r.dragStartAngle,r.dragEndAngle,r.min,r.max);r._rotateSpinnerMarks(a),r._movePointers(),r._raiseEvent(1,{value:r.value,type:i})}},_updateMarksColor:function(){var t=this;if(t.marks&&(t.marks.colorProgress||t.marks.colorRemaining)){var i=t.renderer,r=[];e.each(t._marksList,function(e){return t.endAngle-t.startAngle===360&&e==t.max?void r.push(e):void r.push(e)});for(var s=t._getColor(t.marks.colorProgress),o=t._getColor(t.marks.colorRemaining),n=t.value.length?t.value[0]:t.value,a=0;a<t._dialMarks.length;a++)r[a]>n?"circle"===t.marks.type?i.attr(t._dialMarks[a],{fill:o}):i.attr(t._dialMarks[a],{stroke:o}):"circle"===t.marks.type?i.attr(t._dialMarks[a],{fill:s}):i.attr(t._dialMarks[a],{stroke:s}),t.progressBar&&t.marks.drawAboveProgressBar&&t._dialMarks[a].parentNode.appendChild(t._dialMarks[a].parentNode.removeChild(t._dialMarks[a]))}},_updateSpinnerMarksColor:function(){var t=this;if(t.spinner&&t.spinner.marks&&t.spinner.marks&&(t.spinner.marks.colorProgress||t.spinner.marks.colorRemaining)){var i=t.renderer,r=[];e.each(t._spinnerMarksList,function(e){
t.endAngle-t.startAngle===360&&e==t.max||r.push(e)});for(var s=t._getColor(t.spinner.marks.colorProgress),o=t._getColor(t.spinner.marks.colorRemaining),n=t.value.length?t.value[0]:t.value,a=0;a<t._spinnerMarks.length;a++)r[a]>n?"circle"===t.spinner.marks.type?i.attr(t._spinnerMarks[a],{fill:o}):i.attr(t._spinnerMarks[a],{stroke:o}):"circle"===t.spinner.marks.type?i.attr(t._spinnerMarks[a],{fill:s}):i.attr(t._spinnerMarks[a],{stroke:s})}},_updateProgressBarColor:function(){var e=this;e.progressBar&&e._drawProgressBars()},_validateProperties:function(){var e=this,t=function(e,t){if(e&&"string"==typeof e){var i=e;return e={fill:i,stroke:i}}return e||(e={},e.fill=t,e.stroke=t),e&&e.fill&&!e.stroke&&(e.stroke=e.fill),e&&!e.fill&&e.stroke&&(e.fill=e.stroke),e&&!e.fill&&(e.fill=t),e&&!e.stroke&&(e.stroke=t),e};if(e.dial&&(e.dial.style=t(e.dial.style,"#dddddd")),e.style&&(e.style=t(e.style,"#dddddd")),e.progressBar&&(e.progressBar.style=t(e.progressBar.style,"transparent"),e.progressBar.background=t(e.progressBar.background,"transparent")),e.spinner&&(e.spinner.style=t(e.spinner.style,"transparent")),e.pointer&&(e.pointer.style=t(e.pointer.style,"transparent")),e.startAngle>=e.endAngle)throw new Error("jqxKnob: The end angle must be bigger than the start angle!");if(e.startAngle<0||e.startAngle>360)throw new Error("jqxKnob: Start angle must be between 0 and 360");if(e.endAngle>e.startAngle+360)throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360");if(e.dial&&e.dial.color&&"transparent"!==e.dial.color&&(!e.dial.outerRadius||!e.dial.innerRadius))throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified");if(e._isArray(e.pointer)||e._isArray(e.value)){if(!e._isArray(e.pointer))throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.");if(!e._isArray(e.value))throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.");if(e.pointer.length!==e.value.length)throw new Error("jqxKnob: The pointer and value array sizes must match.");if(e.progressBar&&(!e._isArray(e.progressBar.style)||e.progressBar.style.length!==e.pointer.length))throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}return!0}})}(jqxBaseFramework),function(e){e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,r){return!!e.data(t,r[3])}}),e.jqx.jqxWidget("jqxSortable","",{}),e.extend(e.jqx._jqxSortable.prototype,{defineInstance:function(){var t={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};return e.extend(!0,this,t),t},createInstance:function(){this._render()},_render:function(){var t=this;this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.containerCache={};var i=e(i||t.defaultElement||this)[0];t.document=e(i.style?i.ownerDocument:i.document||i),t.window=e(t.document[0].defaultView||t.document[0].parentWindow),t.host.addClass(t.toThemeProperty("jqx-widget jqx-sortable")),t.refresh(),t.floating=t.itemsArray.length?"x"===t.axis||t._isFloating(t.itemsArray[0].item):!1,t.offset=t.host.offset(),t._handleMouse(),t._cancelSelect(),t.ready=!0},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]+".jqxSortable"+this.element.id:e+".jqxSortable"+this.element.id},_handleMouse:function(){var t=this;t.addHandler(this.host,this._getEvent("mousedown"),function(e){return t._mouseDown(e)}),t.addHandler(t.host,this._getEvent("click"),function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),t.started=!1},widget:function(){return this.host},_mouseDestroy:function(){var t=this;t.host.off("."+this.widgetName),t._mouseMoveDelegate&&(t.removeHandler(e(document),this._getEvent("mousemove")),t.removeHandler(e(document),this._getEvent("mouseup")))},_mouseDown:function(t){var i=this;if(!i.mouseHandled){if(i._mouseMoved=!1,i._isTouchDevice){var r=e.jqx.position(t);t.pageX=r.left,t.pageY=r.top}i._mouseStarted&&i._mouseUp(t),i._mouseDownEvent=t,this._isTouchDevice&&(t.which=1);var s=1===t.which,o="string"==typeof this.cancel&&t.target.nodeName?e(t.target).closest(this.cancel).length:!1;if(this._isTouchDevice&&(s=!0),!s||o||!this._mouseCapture(t))return!0;if(i.mouseDelayMet=!i.delay,i.mouseDelayMet||(i._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},i.delay)),i._mouseDistanceMet(t)&&i._mouseDelayMet(t)&&(i._mouseStarted=i._mouseStart(t)!==!1,!i._mouseStarted))return t.preventDefault(),!0;!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),i._mouseMoveDelegate=function(e){return i._mouseMove(e)},i._mouseUpDelegate=function(e){return i._mouseUp(e)},i.addHandler(e(document),this._getEvent("mousemove"),i._mouseMoveDelegate),i.addHandler(e(document),this._getEvent("mouseup"),i._mouseUpDelegate);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=function(e){i._mouseUp(e)},a=null;window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n))}}catch(l){}return t.preventDefault(),mouseHandled=!0,!0}},_mouseMove:function(t){var i=this;if(this._isTouchDevice){t.which=1;var r=e.jqx.position(t);t.pageX=r.left,t.pageY=r.top}if(i._mouseMoved)if(e.jqx.browser.msie&&e.jqx.browser.version>11){if(!t.which)return i._mouseUp(t)}else{if(e.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!t.button)return i._mouseUp(t);if(!t.which)return i._mouseUp(t)}return(t.which||t.button)&&(i._mouseMoved=!0),i._mouseStarted?(i._mouseDrag(t),t.preventDefault()):(i._mouseDistanceMet(t)&&i._mouseDelayMet(t)&&(i._mouseStarted=i._mouseStart(i._mouseDownEvent,t)!==!1,i._mouseStarted?i._mouseDrag(t):i._mouseUp(t)),!i._mouseStarted)},_mouseUp:function(t){var i=this;try{i.removeHandler(e(document),this._getEvent("mousemove")),i.removeHandler(e(document),this._getEvent("mouseup")),i._mouseStarted&&(i._mouseStarted=!1,t.target===i._mouseDownEvent.target&&e.data(t.target,i.widgetName+".preventClickEvent",!0),i._mouseStop(t)),mouseHandled=!1}catch(r){}return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(t){var i=this.css("position"),r="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var e=this.itemsArray.length-1;e>=0;e--)this.itemsArray[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,s=!1,o=this;return o.reverting?!1:o.disabled||"static"===o.type?!1:(o._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(r=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),r&&(!o.handle||i||(e(o.handle,r).find("*").addBack().each(function(){this===t.target&&(s=!0)}),s))?(o.currentItem=r,o._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,r){var s,o,n=this;if(n.currentContainer=this,n._currentContainer=this,n.refreshPositions(),n.helper=n._utility(t),n._cacheHelperProportions(),n._storeMargins(),n.scrollParent=n.helper.scrollParent(),n.offset=n.currentItem.offset(),n.offset={top:n.offset.top-n.margins.top,left:n.offset.left-n.margins.left},e.extend(n.offset,{click:{left:t.pageX-n.offset.left,top:t.pageY-n.offset.top},parent:n._getParentOffset(),relative:n._getRelativeOffset()}),n.helper.css("position","absolute"),n.cssPosition=n.helper.css("position"),n.originalPosition=n._generatePosition(t),n.originalPageX=t.pageX,n.originalPageY=t.pageY,n.cursorAt&&n._adjustOffsetFromHelper(n.cursorAt),n.domPosition={prev:n.currentItem.prev()[0],parent:n.currentItem.parent()[0]},n.helper[0]!==n.currentItem[0]&&n.currentItem.hide(),n._createPlaceholder(),n.containment&&n._setContainment(),n.cursor&&"auto"!==n.cursor&&(o=n.document.find("body"),n.storedCursor=o.css("cursor"),o.css("cursor",n.cursor),n.storedStylesheet=e("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(o)),n.opacity&&(n.helper.css("opacity")&&(n._storedOpacity=n.helper.css("opacity")),n.helper.css("opacity",n.opacity)),n.zIndex&&(n.helper.css("zIndex")&&(n._storedZIndex=n.helper.css("zIndex")),n.helper.css("zIndex",n.zIndex)),n.scrollParent[0]!==n.document[0]&&"HTML"!==n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset()),n._raiseEvent("9",n._uiHash()),n._preserveHelperProportions||n._cacheHelperProportions(),!r)for(s=n.owners.length-1;s>=0;s--)n.owners[s]._raiseEvent("0",n._uiHash(this));return e.jqx.ddmanager&&(e.jqx.ddmanager.current=this),e.jqx.ddmanager&&!n.dropBehaviour&&e.jqx.ddmanager.prepareOffsets(this,t),n.dragging=!0,n.helper.addClass("jqx-sortable-helper"),n._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,s,o,n=this,a=!1,l=this;for(l.position=l._generatePosition(t),l.positionAbs=l._convertPositionTo("absolute"),l.lastPositionAbs||(l.lastPositionAbs=l.positionAbs),l.scroll&&(l.scrollParent[0]!==l.document[0]&&"HTML"!==l.scrollParent[0].tagName?(l.overflowOffset.top+l.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-l.overflowOffset.top<n.scrollSensitivity&&(l.scrollParent[0].scrollTop=a=l.scrollParent[0].scrollTop-n.scrollSpeed),l.overflowOffset.left+l.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-l.overflowOffset.left<n.scrollSensitivity&&(l.scrollParent[0].scrollLeft=a=l.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-l.document.scrollTop()<n.scrollSensitivity?a=l.document.scrollTop(l.document.scrollTop()-n.scrollSpeed):l.window.height()-(t.pageY-l.document.scrollTop())<n.scrollSensitivity&&(a=l.document.scrollTop(l.document.scrollTop()+n.scrollSpeed)),t.pageX-l.document.scrollLeft()<n.scrollSensitivity?a=l.document.scrollLeft(l.document.scrollLeft()-n.scrollSpeed):l.window.width()-(t.pageX-l.document.scrollLeft())<n.scrollSensitivity&&(a=l.document.scrollLeft(l.document.scrollLeft()+n.scrollSpeed))),a!==!1&&e.jqx.ddmanager&&!n.dropBehaviour&&e.jqx.ddmanager.prepareOffsets(this,t)),l.positionAbs=l._convertPositionTo("absolute"),l.axis&&"y"===l.axis||(l.helper[0].style.left=l.position.left+"px"),l.axis&&"x"===l.axis||(l.helper[0].style.top=l.position.top+"px"),i=l.itemsArray.length-1;i>=0;i--)if(r=l.itemsArray[i],s=r.item[0],o=l._intersectsWithPointer(r),o&&r.instance===l.currentContainer&&s!==l.currentItem[0]&&l.placeholder[1===o?"next":"prev"]()[0]!==s&&!e.contains(l.placeholder[0],s)&&("semi-dynamic"===l.type?!e.contains(l.host[0],s):!0)){if(l.direction=1===o?"down":"up","pointer"!==l.tolerance&&!l._intersectsWithSides(r))break;l._rearrange(t,r),l._raiseEvent("2",l._uiHash());break}return l._contactOwners(t),e.jqx.ddmanager&&e.jqx.ddmanager.drag(this,t),l._raiseEvent("8",l._uiHash()),l.lastPositionAbs=l.positionAbs,!1},_mouseStop:function(t,i){var r=this;if(t){if(e.jqx.ddmanager&&!this.dropBehaviour&&e.jqx.ddmanager.drop(this,t),r.revert){var r=this,s=r.placeholder.offset(),o=r.axis,n={};o&&"x"!==o||(n.left=s.left-r.offset.parent.left-r.margins.left+(r.offsetParent[0]===r.document[0].body?0:r.offsetParent[0].scrollLeft)),o&&"y"!==o||(n.top=s.top-r.offset.parent.top-r.margins.top+(r.offsetParent[0]===r.document[0].body?0:r.offsetParent[0].scrollTop)),r.reverting=!0,e(this.helper).animate(n,parseInt(this.revert,10)||500,function(){r._clear(t)})}else r._clear(t,i);return!1}},cancel:function(){var t=this;if(t.dragging){t._mouseUp({target:null}),"original"===t.helper?t.currentItem.css(t._storedCSS).removeClass("jqx-sortable-helper"):t.currentItem.show();for(var i=t.owners.length-1;i>=0;i--)t.owners[i]._raiseEvent("3",t._uiHash(this)),t.owners[i].containerCache.over&&(t.owners[i]._raiseEvent("4",t._uiHash(this)),t.owners[i].containerCache.over=0)}return t.placeholder&&(t.placeholder[0].parentNode&&t.placeholder[0].parentNode.removeChild(t.placeholder[0]),"original"!==t.helper&&t.helper&&t.helper[0].parentNode&&t.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),t.domPosition.prev?e(t.domPosition.prev).after(t.currentItem):e(t.domPosition.parent).prepend(t.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&r.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},i.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,r=this.positionAbs.top,s=r+this.helperProportions.height,o=e.left,n=o+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,h=this.offset.click.left,c="x"===this.axis||r+d>a&&l>r+d,u="y"===this.axis||t+h>o&&n>t+h,p=c&&u;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&a<r+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var r,s,o,n,a=[],l=[],d=this._connectWith();if(d&&t)for(r=d.length-1;r>=0;r--)for(o=e(d[r],this.document[0]),s=o.length-1;s>=0;s--)n=e.data(o[s],this.widgetFullName).instance,n&&n!==this&&!n.disabled&&l.push([e.isFunction(n.items)?n.items.call(n.host):e(n.items,n.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),n]);for(l.push([e.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):e(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),r=l.length-1;r>=0;r--)l[r][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=e.grep(this.itemsArray,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.itemsArray=[],this.owners=[this];var i,r,s,o,n,a,l,d,h=this.itemsArray,c=[[e.isFunction(this.items)?this.items.call(this.host[0],t,{item:this.currentItem}):e(this.items,this.host),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(s=e(u[i],this.document[0]),r=s.length-1;r>=0;r--)o=e.data(s[r],this.widgetName),o&&o!==this&&!o.instance.disabled&&(c.push([e.isFunction(o.instance.items)?o.items.call(o.instance.host[0],t,{item:this.currentItem}):e(o.instance.items,o.instance.host),o.instance]),this.owners.push(o.instance));for(i=c.length-1;i>=0;i--)for(n=c[i][1],a=c[i][0],r=0,d=a.length;d>r;r++)l=e(a[r]),l.data(this.widgetName+"-item",n),h.push({item:l,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,r,s,o;for(i=this.itemsArray.length-1;i>=0;i--)r=this.itemsArray[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(s=this.toleranceElement?e(this.toleranceElement,r.item):r.item,t||(r.width=s.outerWidth(),r.height=s.outerHeight()),o=s.offset(),r.left=o.left,r.top=o.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(i=this.owners.length-1;i>=0;i--)o=this.owners[i].host.offset(),this.owners[i].containerCache.left=o.left,this.owners[i].containerCache.top=o.top,this.owners[i].containerCache.width=this.owners[i].host.outerWidth(),this.owners[i].containerCache.height=this.owners[i].host.outerHeight();return this},_cancelSelect:function(){that=this,that.host.addClass("jqx-disableselect")},_createPlaceholder:function(t){t=t||this;var i,r=t;r.placeholderShow&&r.placeholderShow.constructor!==String||(i=r.placeholderShow,r.placeholderShow={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+r+">",t.document[0]).addClass(i||t.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===r?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(s)}):"img"===r&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){i&&!r.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholderShow.element.call(t.host,t.currentItem)),t.currentItem.after(t.placeholder),t.placeholderShow.update(t,t.placeholder)},_contactOwners:function(t){var i,r,s,o,n,a,l,d,h,c,u=null,p=null;for(i=this.owners.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.owners[i].host[0]))if(this._intersectsWith(this.owners[i].containerCache)){if(u&&e.contains(this.owners[i].host[0],u.host[0]))continue;u=this.owners[i],p=i}else this.owners[i].containerCache.over&&(this.owners[i]._raiseEvent("4",this._uiHash(this)),this.owners[i].containerCache.over=0);if(u)if(1===this.owners.length)this.owners[p].containerCache.over||(this.owners[p]._raiseEvent("5",this._uiHash(this)),this.owners[p].containerCache.over=1);else{s=1e4,o=null,h=u.floating||this._isFloating(this.currentItem),n=h?"left":"top",a=h?"width":"height",c=h?"clientX":"clientY";var f=this.itemsArray;for(r=f.length-1;r>=0;r--)e.contains(this.owners[p].host[0],f[r].item[0])&&f[r].item[0]!==this.currentItem[0]&&(l=f[r].item.offset()[n],d=!1,t[c]-l>f[r][a]/2&&(d=!0),Math.abs(t[c]-l)<s&&(s=Math.abs(t[c]-l),o=f[r],this.direction=d?"up":"down"));if(!o&&!this.dropOnEmpty)return;if(this.currentContainer===this.owners[p])return void(this.currentContainer.containerCache.over||(this.owners[p]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1));if(this.owners[p].host.children().length+1>this.owners[p].maxItems)return this.currentContainer=this._currentContainer,o=this._rearrange(t,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.owners[p].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[p]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[p],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[p]._raiseEvent("5",this._uiHash(this)),this.owners[p].containerCache.over=1}},_utility:function(t){var i=this,r=e.isFunction(i.helper)?e(i.helper.apply(this.host[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!i.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!i.forceHelperSize||r.height(this.currentItem.height()),r.scrollParent=function(t){var i=this.css("position"),r="absolute"===i,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var i,r,s=this,o=t.pageX,n=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((n-this.originalPageY)/s.grid[1])*s.grid[1],n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,r=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!r)})},_delay:function(e,t){function i(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(i,t||0)},_clear:function(e,t){function i(e,t,i){return function(r){var s=this._events.indexOf(e);i._raiseEvent(s,t._uiHash(t))}}this.reverting=!1;var r,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)"auto"!==this._storedCSS[r]&&"static"!==this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._raiseEvent("11",this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._raiseEvent("7",this._uiHash())}),s.push(function(e){return function(t){e._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.owners.length-1;r>=0;r--)t||s.push(i("deactivate",this,this.owners[r])),this.owners[r].containerCache.over&&(s.push(i("out",this,this.owners[r])),this.owners[r].containerCache.over=0);return this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),t||this._raiseEvent("10",this._uiHash()),this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){that=this,that.disabled=!0},enable:function(){that=this,that.disabled=!1},instance:function(){return that=this,that},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.host:null}},_raiseEvent:function(t,i){that=this;var r=e.Event(that._events[t]);return r.args=i,that.host.trigger(r)},propertyChangedHandler:function(e,t,i,r){if(that=this,r!==i)switch(t){case"disabled":that.disabled=r}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxKanban","",{}),e.extend(e.jqx._jqxKanban.prototype,{defineInstance:function(){var t={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:e.jqx.browser.msie&&8==e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],
_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};e.extend(!0,this,t)},createInstance:function(){var t=this;e("#"+t.element.id).empty(),t._createKanban()},_createKanban:function(){var e=this;e._ie8Plugin(),e._kanbanId=e.element.id;var t=function(){e._getParent(),e._createKanbanField(),e._createKanbanLayout(),e._addCSS();var t=function(){e._setKanbanConnections(),e._transformToSortable(),e._addEventHandlers(),e._rtlCheck(),e._refreshEventHandlers(),e._recalculateContainersHeight(),e._handlerExpandCollapse(),e._raiseEvent("0"),e._ready()};e._populateKanban(t)};e._serializeSource(t)},propertyChangedHandler:function(e,t,i,r){e._createKanban()},_getParent:function(){var e=this;e._parentsTag=e.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var t=this,i=t.columns.length;if(null==t.width&&null==t.height)"body"==t._parentsTag?(t.width=e(window).innerWidth(),t.height=e(window).innerHeight(),(t._ie7||t._ie8)&&t.host.height(t.height),t.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(t.width=t.host.parent().width(),t.height=t.host.parent().height(),t.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=t.width&&null==t.height){if(t.width<=t.headerWidth*i)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");t.host.width(t.width)}else if(null!=t.heigth&&null==t.width){if(t.height<=t.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");t.host.heigth(t.heigth)}else{if(t.width<=t.headerWidth*i)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(t.height<=t.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");t.host.width(t.width),t.host.height(t.height)}t.host.addClass(this.toThemeProperty("jqx-widget"))},_createKanbanLayout:function(){var t=this,i=t.columns.length;t._expandedColumns=i;for(var r=t._calculateColumnDimensions(i),s=t._calculateContainerDimensions(i),o=0;i>o;o++){var n=e("<div id='"+t._kanbanId+"-column-"+o+"' class='jqx-kanban-column' data-column-data-field='"+t.columns[o].dataField+"' style='width:"+r[0]+"; height:"+r[1]+";'></div>");void 0===t.columns[o].maxItems&&(t.columns[o].maxItems=9999),t._columns.push(n),t.host.append(n);var a="jqx-kanban-column-vertical-container",l=t.columns[o].collapseDirection;l||(l="left"),"right"==l&&(a="jqx-kanban-column-vertical-container-inverse");var d=t.columns[o].iconClassName?t.toThemeProperty(t.columns[o].iconClassName):"",h=d?"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+d+"'></div></div>":"",c=d?"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+d+"'></div></div>":"",u=e("<div id='"+t._kanbanId+"-column-header-collapsed-"+o+"' data-kanban-column-header-collapsed='"+o+"' class='"+t.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+a+"'><span class='"+t.toThemeProperty("jqx-kanban-column-header-title")+"'>"+t.columns[o].text+"</span><span class='"+t.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+h+"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+t.toThemeProperty("jqx-window-collapse-button "+("right"==l?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");n.append(u);var p=e("<div id='"+t._kanbanId+"-column-header-"+o+"' data-kanban-column-header='"+o+"' class='"+t.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+t.toThemeProperty("jqx-kanban-column-header-title")+"'>"+t.columns[o].text+"</span><span class='"+t.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+c+"<div class='"+t.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+t.toThemeProperty("jqx-window-collapse-button "+("right"==l?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");t.rtl&&(p.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),p.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),p.outerHeight(t.headerHeight),p.css("line-height",t.headerHeight+"px"),n.append(p);var f=e("<div id='"+t._kanbanId+"-column-container-"+o+"' data-kanban-column-container='"+t.columns[o].dataField+"' class='jqx-kanban-column-container' style='height:"+s[1]+"; overflow-y: auto;'></div>");if(n.append(f),n.data("kanban-column-collapsed",!1),t.columns[o].headerElement=p,t.columns[o].collapsedHeaderElement=u,t.columnRenderer&&t.columnRenderer(p,u,t.columns[o]),"left"==l){var m=p.find(".jqx-kanban-column-header-title").width();m+=p.find(".jqx-kanban-column-header-status").width(),m-=10,n.find(".jqx-kanban-column-header-title").css("left",-m+"px"),n.find(".jqx-kanban-column-header-status").css("left",-m+"px")}t.columns[o].collapsible===!1&&n.find(".jqx-kanban-column-header-button").hide()}1==i&&t.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(t){var i=this,r=[],s=100/t,o=100,n=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),i._ie7?(s=this.host.width()/t-(this._columnBorders[1]+this._columnBorders[3]),o=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]),n=o-this.headerHeight,s+="px",o+="px",n+="px"):(n=this.host.height()-e("#"+i._kanbanId+" div.jqx-kanban-column-header").outerHeight(),s+="%",o+="%",n+="px"),r.push(s),r.push(o),r.push(n),r},_calculateContainerDimensions:function(e){var t=this,i=[],r=100,s=100;return t._ie7?(r=this.host.width()/e-20,s=this.host.height()-this.headerHeight,r+="px",s+="px"):(s=this.host.height()-this.headerHeight,r+="%",s+="px"),i.push(r),i.push(s),i},_recalculateContainersHeight:function(){var t=this,i=document.getElementById(t._kanbanId+"-column-header-0"),r=parseInt(getComputedStyle(i).getPropertyValue("margin-top")),s=parseInt(getComputedStyle(i).getPropertyValue("margin-Bottom")),o=document.getElementById(t._kanbanId+"-column-container-0"),n=parseInt(getComputedStyle(o).getPropertyValue("margin-top")),a=parseInt(getComputedStyle(o).getPropertyValue("margin-Bottom")),l=document.getElementById(t._kanbanId+"-column-header-0").offsetHeight+r+s,d=n+a,h=this.host.height()-l-d;e("#"+t._kanbanId+" div.jqx-kanban-column-container").outerHeight(h)},_addCSS:function(){var t=this;if(e(t.host).addClass(t.toThemeProperty("jqx-kanban")),e("#"+t._kanbanId+" div.jqx-kanban-column").addClass(t.toThemeProperty("jqx-widget-content")),e("#"+t._kanbanId+" div.jqx-kanban-column-header").addClass(t.toThemeProperty("jqx-widget-header")),e("#"+t._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(t.toThemeProperty("jqx-widget-header")),e("#"+t._kanbanId+" div.jqx-kanban-column-container").addClass(t.toThemeProperty("jqx-widget-content")),t._ie8||t._ie7?e("#"+t._kanbanId+"-column-0").addClass(t.toThemeProperty("jqx-kanban-column-first")):(t._columnBorders[0]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),t._columnBorders[1]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),t._columnBorders[2]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),t._columnBorders[3]=e("#"+t._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==t.verticalTextOrientation){var i=e("#"+t._kanbanId).find(".jqx-kanban-column-vertical-container");i.removeClass("jqx-kanban-column-vertical-container"),i.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){var t=this;1==t.rtl&&(e(t.host).addClass(t.toThemeProperty("jqx-kanban-rtl")),e("#"+t._kanbanId+" div.jqx-kanban-column-container").addClass(t.toThemeProperty("jqx-kanban-rtl")),e("#"+t._kanbanId+" div.jqx-kanban-item-keyword").addClass(t.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(e){var t=this;t._source=[],t._sourceKeys=[];var i=function(i){if(i){for(var r=0;r<i.length;r++){var s={};s.id=void 0!=i[r].id?i[r].id:t.element.id+"_"+r,s.status=i[r].status||t.templateContent.status,s.text=i[r].text||t.templateContent.text,s.content=i[r].content||t.templateContent.content,s.tags=i[r].tags||t.templateContent.tags,s.color=i[r].color||t.templateContent.color,s.resourceId=i[r].resourceId||t.templateContent.resourceId,s.className=i[r].className||t.templateContent.className,t._source.push(s),t._sourceKeys[s.id]=s}e()}},r=t.source&&t.source.dataBind;if(r){var s=t.element.id;if(t.source.dataBind(),0==t.source.records.length){var o=function(){i(t.source.records)};t.source.unbindDownloadComplete(s),t.source.bindDownloadComplete(s,o)}else i(t.source.records);return t.source.unbindBindingUpdate(s),void t.source.bindBindingUpdate(s,function(){i(t.source.records)})}i(t.source)},_populateKanban:function(t){var i=this,r=0;null!==i._source&&(r=i._source.length||0),i._resources=new Array;var s=function(s){if(i._resources=s,null!==s&&void 0!==s){i._resourcesLength=s.length;for(var o=0;o<i._resourcesLength;o++)1==s[o].common&&(i._commonItem=s[o])}for(var o=0;r>o;o++){var n=e(i.template);n.data("kanban-item-id",i._source[o].id);for(var a=i._commonItem,l=0;l<i._resourcesLength;l++)s[l].id==i._source[o].resourceId&&(a=s[l]);var d="<img class='jqx-kanban-item-avatar-image' alt='"+a.name+"' title='"+a.name+"' src='"+a.image+"' />";n.addClass(i.toThemeProperty("jqx-rc-all")),n.find(".jqx-kanban-item-avatar").append(d),""!=i.theme&&n.addClass(i.toThemeProperty("jqx-kanban-item"));var h=i.host.find("[data-kanban-column-container='"+i._source[o].status+"']");n.find(".jqx-kanban-item-color-status").css({"background-color":i._source[o].color}),i.rtl&&(n.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),n.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),n.find(".jqx-kanban-item-text").append(i._source[o].text),n.find(".jqx-kanban-item-content").append(i._source[o].content);var c="",u=[];null!==i._source[o].tags&&void 0!==i._source[o].tags&&(u=i._source[o].tags.replace(/\,\s/g,",").split(",")),u.forEach(function(e){c=c+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),c+=i._clearing,n.find(".jqx-kanban-item-footer").append(c),n.append(i._clearing),n.attr("id",i._kanbanId+"_"+i._source[o].id),null!==i._source[o].className&&void 0!==i._source[o].className&&n.addClass(i.toThemeProperty(i._source[o].className)),i.itemRenderer&&i.itemRenderer(n,i._source[o],a),h.append(n),i._items[i._source[o].id]=n}t()},o=i.resources&&i.resources.dataBind;if(o){var n=i.element.id;if(i.resources.dataBind(),0==i.resources.records.length){var a=function(){s(i.resources.records)};i.resources.unbindDownloadComplete(n),i.resources.bindDownloadComplete(n,a)}else s(i.resources.records);return i.resources.unbindBindingUpdate(n),void i.resources.bindBindingUpdate(n,function(){s(i.resources.records)})}i._resources=i.resources,s(i.resources),e("#"+i._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){var e=this;null!=e.ready&&"function"==typeof e.ready&&e.ready()},collapseColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._collapseColumn(t),!0;return!1},expandColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this._expand(t),!0;return!1},_collapseColumn:function(t){var i=this,r=t||0;e("#"+i._kanbanId+"-column-header-collapsed-"+r).addClass(i.toThemeProperty("jqx-kanban-column-header-collapsed-show")),e("#"+i._kanbanId+"-column-header-"+r).addClass(i.toThemeProperty("jqx-kanban-column-hide")),e("#"+i._kanbanId+"-column-container-"+r).addClass(i.toThemeProperty("jqx-kanban-column-hide")),(i._ie8||i._ie7)&&(e("#"+i._kanbanId+" .jqx-kanban-column-vertical-container").addClass(i.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),e("#"+i._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(i.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),i._columns[r].data("kanban-column-collapsed",!0),i.columns[r].collapsed=!0,i._calculateExpandedColumnsWidth(),i._raiseEvent("7",{column:i.columns[r]})},_expandColumn:function(t){var i=this,r=t||0;e("#"+i._kanbanId+"-column-header-collapsed-"+r).removeClass(i.toThemeProperty("jqx-kanban-column-header-collapsed-show")),e("#"+i._kanbanId+"-column-header-"+r).removeClass(i.toThemeProperty("jqx-kanban-column-hide")),e("#"+i._kanbanId+"-column-container-"+r).removeClass(i.toThemeProperty("jqx-kanban-column-hide")),i.columns[r].collapsed=!1,i._columns[r].data("kanban-column-collapsed",!1),i._calculateExpandedColumnsWidth(),i._raiseEvent("8",{column:i.columns[r]})},_calculateExpandedColumnsWidth:function(){var e=this,t=e._columns.length;e._collapsedColumns=0,e._expandedColumns=0;for(var i=0,r=e.headerWidth,s=0;t>s;s++)1==e._columns[s].data("kanban-column-collapsed")?e._collapsedColumns++:e._expandedColumns++;i=(e.host.width()-e.headerWidth*e._collapsedColumns)/e._expandedColumns;var o=i-(this._columnBorders[1]+this._columnBorders[3]);if(e._ie7&&(i=o,r=e.headerWidth-2),e.width&&e.width.toString().indexOf("%")>=0)for(var n=(e.host.width()+2)/100,a=1/n,l=r*a,s=0;t>s;s++)1==e._columns[s].data("kanban-column-collapsed")?e._columns[s][0].style.width=l+"%":e._columns[s][0].style.width=i*a+"%";else for(var s=0;t>s;s++)1==e._columns[s].data("kanban-column-collapsed")?e._columns[s].outerWidth(r):e._columns[s].outerWidth(i)},_handlerExpandCollapse:function(){var t=this;t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-column-header"),"click",function(i){var r=e(this).parent().index(),s=t.columns[r],o={attribute:"title",column:s,cancelToggle:!1};if(e(i.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)var o={attribute:"button",column:s,cancelToggle:!1};if(t._raiseEvent("10",o),!o.cancelToggle&&t._expandedColumns>1){if(s.collapsible===!1)return;t._collapseColumn(r)}}),t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(i){var r=e(this).parent().index(),r=e(this).parent().index(),s=t.columns[r],o={attribute:"title",cancelToggle:!1,column:s};if(e(i.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)var o={attribute:"button",cancelToggle:!1,column:s};t._raiseEvent("10",o),o.cancelToggle||t._expandColumn(r)})},_setKanbanConnections:function(){var e=this;if(e._kanbanColumns="#"+e._kanbanId+" div.jqx-kanban-column-container",e._connectWith=e._kanbanColumns,null!=e.connectWith){var t=e.connectWith.replace(/\,\s/g,",").split(",");t.forEach(function(t){e._connectWith=e._connectWith+", "+t+" div.jqx-kanban-column-container"})}},_transformToSortable:function(){for(var t=this,i=0;i<e(t._kanbanColumns).length;i++)e(e(t._kanbanColumns)[i]).jqxSortable({connectWith:t._connectWith,maxItems:t.columns[i].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:t.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});e.jqx.utilities.resize(t.host,null,!0),e.jqx.utilities.resize(t.host,function(){for(var i=0;i<e(t._kanbanColumns).length;i++)e(e(t._kanbanColumns)[i]).jqxSortable({containment:"window"})}),null!==t.handle&&(e(t._kanbanColumns).jqxSortable({handle:"."+t.handle}),e("#"+t._kanbanId+" ."+t.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(e){},_calculateRestrictions:function(){},_redrawColumnHeader:function(e,t){},addItem:function(t){var i=this,r=t.id,s=null!=i._source?i._source.length:0;void 0==r&&(r=s);var o=i._kanbanId+"_"+r;i._source=null!=i._source?i._source:[];var n=null;i._css_color_names.indexOf(t.color)>-1?n=t.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t.color)?n=t.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(t.color)&&(n="#"+t.color);var a={id:r,status:t.status||i.templateContent.status,text:t.text||i.templateContent.text,content:t.content||i.templateContent.content,tags:t.tags||i.templateContent.tags,color:n||i.templateContent.color,resourceId:t.resourceId||i.templateContent.resourceId,className:t.className||i.templateContent.className},l=this.getColumn(a.status);if(l.maxItems||(l.maxItems=9999),!(l.maxItems<this.getColumnItems(l.dataField).length+1)){for(var d=i._commonItem,h=0;h<i._resources.length;h++)i._resources[h].id==a.resourceId&&(d=i._resources[h]);var c=i.host.find("[data-kanban-column-container='"+a.status+"']"),t=e(i.template);""!=i.theme&&t.addClass(i.toThemeProperty("jqx-kanban-item")),t.find(".jqx-kanban-item-color-status").css({"background-color":a.color});var u="<img class='jqx-kanban-item-avatar-image' alt='"+d.name+"' title='"+d.name+"' src='"+d.image+"' />";t.find(".jqx-kanban-item-avatar").append(u),t.find(".jqx-kanban-item-text").append(a.text),t.find(".jqx-kanban-item-content").append(a.content);var p=a.tags.replace(/\,\s/g,",").split(","),f="";p.forEach(function(e){f=f+"<div class='"+i.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),f+="<div style='clear:both'></div>",t.find(".jqx-kanban-item-footer").append(f),c.append(t),e("#"+i._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),e("#"+i._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),t.attr("id",o),i._source[s]=a,i._sourceKeys[r]=a,t.data("kanban-item-id",s),null!==a.className&&void 0!==a.className&&t.addClass(this.toThemeProperty(a.className)),i.itemRenderer&&i.itemRenderer(t,a,d);var l=this.getColumn(a.status);l&&i.columnRenderer&&(i.columnRenderer(l.headerElement,l.collapsedHeaderElement,l),i._updateColumnTitle(l)),i._raiseEvent("2",{itemId:o}),i._refreshEventHandlers()}},_updateColumnTitle:function(e){if("left"==e.collapseDirection){var t=e.headerElement.find(".jqx-kanban-column-header-title").width();t+=e.headerElement.find(".jqx-kanban-column-header-status").width(),t-=10,e.headerElement.find(".jqx-kanban-column-header-title").css("left",-t+"px"),e.headerElement.find(".jqx-kanban-column-header-status").css("left",-t+"px")}},_selectItem:function(t){var i=this,r=t.data.self;r._selectedItemId=e(i).attr("id"),e("#"+r._kanbanId+" .jqx-kanban-item").removeClass(r.toThemeProperty("jqx-kanban-item-selected")),e(i).addClass(r.toThemeProperty("jqx-kanban-item-selected"));var s=e(this).data().kanbanItemId;r._selectedId=s,r._raiseEvent("1",{item:r._sourceKeys[s]}),r._refreshEventHandlers()},selectItem:function(t){var i=this,r=e("#"+i._kanbanId+"_"+t);0!=r.length&&(e("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),e(r).addClass(i.toThemeProperty("jqx-kanban-item-selected")),i._selectedId=t)},_selectColumn:function(t){for(var i,r,s=this,o=t.data.self,n=e(s).attr("data-column-data-field"),a=o.columns.length,l=0;a>l;l++)o.columns[l].dataField==n&&(r=l),o.columns[l].dataField==o._selectedColumn&&(i=l);e("#"+o._kanbanId+" .jqx-kanban-column").removeClass(o.toThemeProperty("jqx-kanban-column-selected")),e(s).addClass(o.toThemeProperty("jqx-kanban-column-selected")),null!=o._selectedColumn&&o._selectedColumn!=n&&o._raiseEvent("6",{column:o._selectedColumn,dataField:i}),o._selectedColumn=n,o._raiseEvent("5",{column:o._selectedColumn,dataField:r})},getSelectedColumn:function(){var e=this;return e._selectedColumn},_removeSourceIndexById:function(t){var i=this,r=-1;e.each(i._source,function(e,i){return this&&this.id==t?(r=e,!1):void 0}),-1!=r&&i._source.splice(r,1),i._sourceKeys[t]=null,delete i._sourceKeys[t]},removeItem:function(t){var i=this,r="#"+i._kanbanId+"_"+t,s=t.toString().replace(i._kanbanId+"_","");e(r).remove();var o=this.getColumn(i._sourceKeys[t].status);i._items[s]=null,i._removeSourceIndexById(t),i._sourceKeys[t]=null,o&&i.columnRenderer&&(i.columnRenderer(o.headerElement,o.collapsedHeaderElement,o),i._updateColumnTitle(o)),i._selectedItemId=null},updateItem:function(t,i){var r=this,s=e("#"+r._kanbanId+"_"+t);if(0!=s.length){var o=s.data("kanban-item-id"),n=r._sourceKeys[o],a=n.className||"",l=null;r._css_color_names.indexOf(i.color)>-1?l=i.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i.color)?l=i.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(i.color)?l="#"+i.color:i.color&&(l=i.color);var d={id:n.id,status:n.status,text:i.text||n.text,content:i.content||n.content,tags:i.tags||n.tags,color:l||n.color,resourceId:i.resourceId||n.resourceId,className:i.className||n.className};r._source[o]=d,r._sourceKeys[o]=d;for(var h=r._commonItem,c=0;c<r._resources.length;c++)r._resources[c].id==d.resourceId&&(h=r._resources[c]);var u="<img class='jqx-kanban-item-avatar-image' alt='"+h.name+"' title='"+h.name+"' src='"+h.image+"' />";s.find(".jqx-kanban-item-avatar").html(u),s.find(".jqx-kanban-item-color-status").css({"background-color":d.color}),s.find(".jqx-kanban-item-text").html(d.text),s.find(".jqx-kanban-item-content").html(d.content);var p=d.tags.replace(/\,\s/g,",").split(","),f="";p.forEach(function(e){f=f+"<div class='"+r.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),f+="<div style='clear:both'></div>",s.find(".jqx-kanban-item-footer").html(f),null!==d.className&&void 0!==d.className&&(s.removeClass(this.toThemeProperty(a)),s.addClass(this.toThemeProperty(d.className))),r.itemRenderer&&r.itemRenderer(s,d,h);var m=this.getColumn(d.status);m&&r.columnRenderer&&(r.columnRenderer(m.headerElement,m.collapsedHeaderElement,m),r._updateColumnTitle(m))}},getSelectedItem:function(){var e=this,t=e._sourceKeys[e._selectedId];return t},getColumn:function(e){for(var t=0;t<this.columns.length;t++)if(this.columns[t].dataField==e)return this.columns[t];return null},getColumnItems:function(e){for(var t=this,i=[],r=t._source.length,s=0;r>s;s++)null!=t._source[s]&&t._source[s].status==e&&i.push(t._source[s]);return i},getItems:function(){var e=this;return null!==e._source?e._source.filter(function(e){return null!=e}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e.apply(this,[this[t],t,this])}),window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),
i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})},_addEventHandlers:function(){var t=this;t.addHandler(e(window),"resize.kanban"+t.element.id,function(e){t._recalculateContainersHeight(),t._calculateExpandedColumnsWidth()}),t.addHandler(e(t._kanbanColumns),"start",function(i){t._selectedItemId=i.args.item.context.id,t._draggedItemId=t._selectedItemId,t._draggedItemDataId=e("#"+t._draggedItemId).data().kanbanItemId,t._draggedItemValues=t._sourceKeys[t._draggedItemDataId],t._selectedItemValues=t._draggedItemValues;var r=e("#"+t._draggedItemId).height();e(".jqx-kanban-item-placeholder").height(r)}),t.addHandler(e(t._kanbanColumns),"stop",function(i){for(var r=e("#"+t._draggedItemId).parent().attr("data-kanban-column-container"),s=r,o=null,n=0;n<t.columns.length;n++)if(t.columns[n].dataField==s){o=t.columns[n];break}if(t._sourceKeys[t._draggedItemDataId]){for(var a=null,l=e("#"+t._kanbanId).jqxKanban("columns"),d=t._sourceKeys[t._draggedItemDataId].status,n=0;n<l.length;n++)if(l[n].dataField==d){a=l[n];break}if(t._kanbanId!==t._dropKanbanId){t._raiseEvent("3",{oldParentId:t._kanbanId,newParentId:t._dropKanbanId,itemId:t._selectedId,newColumn:o,oldColumn:a,itemData:t._draggedItemValues});t._source.length;t._draggedItemValues.status=r,e("#"+t._dropKanbanId).trigger("_itemReceived",[t._selectedItemId,t._kanbanId,t._dropKanbanId,t._draggedItemValues,t._selectedId,o,a]),t._sourceKeys[t._draggedItemDataId]=null}else t._raiseEvent("3",{newColumn:o,oldColumn:a,oldParentId:t._kanbanId,newParentId:t._dropKanbanId,itemId:t._selectedId,itemData:t._draggedItemValues}),t._raiseEvent("4",{newColumn:o,oldColumn:a,oldParentId:t._kanbanId,newParentId:t._dropKanbanId,itemId:t._selectedId,itemData:t._draggedItemValues}),t._sourceKeys[t._draggedItemDataId].status=r;if(t.columnRenderer)for(var n=0;n<t.columns.length;n++)t.columns[n].dataField==s&&(t.columnRenderer(t.columns[n].headerElement,t.columns[n].collapsedHeaderElement,t.columns[n]),t._updateColumnTitle(t.columns[n])),t.columns[n].dataField==d&&(t.columnRenderer(t.columns[n].headerElement,t.columns[n].collapsedHeaderElement,t.columns[n]),t._updateColumnTitle(t.columns[n]))}t._draggedItemDataId=null,t._draggedItemId=null,t._draggedItemValues=null}),t.addHandler(e(t._kanbanColumns),"sort",function(i){t._dropKanbanId=e(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),t.addHandler(e(t.host),"_itemReceived",function(i,r,s,o,n){t._raiseEvent("4",{itemId:r,oldParentId:s,newParentId:o,itemData:n});var a=e("#"+r),l=e(t.template);""!=t.theme&&l.addClass(t.toThemeProperty("jqx-kanban-item")),l.data("kanban-item-id",n.id);for(var d=t._commonItem,h=0;h<t._resources.length;h++)t._resources[h].id==n.resourceId&&(d=t._resources[h]);var c="<img class='jqx-kanban-item-avatar-image' alt='"+d.name+"' title='"+d.name+"' src='"+d.image+"' />";l.find(".jqx-kanban-item-avatar").append(c),l.find(".jqx-kanban-item-text").append(n.text),l.find(".jqx-kanban-item-color-status").css({"background-color":n.color}),l.find(".jqx-kanban-item-content").append(n.content);var u=n.tags.replace(/\,\s/g,",").split(","),p="";u.forEach(function(e){p=p+"<div class='"+t.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+e+"</div>"}),p+="<div style='clear:both'></div>",l.find(".jqx-kanban-item-footer").append(p),l.attr("id",t._kanbanId+"_"+n.id),a.replaceWith(l),e("#"+o+" div.jqx-kanban-item").addClass(t.toThemeProperty("jqx-widget-content")),null!==n.className&&void 0!==n.className&&l.addClass(t.toThemeProperty(n.className)),e("#"+o+" div.jqx-kanban-item").removeClass(t.toThemeProperty("jqx-kanban-item-selected")),e("#"+r).addClass(t.toThemeProperty("jqx-kanban-item-selected")),e("#"+o).jqxKanban("_refreshEventHandlers"),t._source.push(n);var f=e("#"+o).jqxKanban("getInstance"),m=e("#"+s).jqxKanban("getInstance");if(f._sourceKeys[n.id]=n,m._removeSourceIndexById(n.id),f.columnRenderer)for(var g=0;g<f.columns.length;g++)f.columnRenderer(f.columns[g].headerElement,f.columns[g].collapsedHeaderElement,f.columns[g]);if(m.columnRenderer)for(var g=0;g<m.columns.length;g++)m.columnRenderer(m.columns[g].headerElement,m.columns[g].collapsedHeaderElement,m.columns[g])}),t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-item"),"click",t._selectItem,{self:this}),t.addHandler(e("#"+t._kanbanId+" .jqx-kanban-column"),"click",t._selectColumn,{self:this}),t.addHandler(e(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click",function(){for(var i="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),r=e(this).attr("class").split(" "),s=r.length,o=null,n=e(this).parents(".jqx-kanban-item").data().kanbanItemId,a={attribute:null,item:t._sourceKeys[n],itemId:n},l=0;s>l;l++)i.indexOf(r[l])>-1&&(o=r[l]);switch(o){case"jqx-kanban-item-color-status":a.attribute="colorStatus";break;case"jqx-kanban-item-avatar":a.attribute="avatar";break;case"jqx-kanban-item-text":a.attribute="text";break;case"jqx-kanban-item-content":a.attribute="content";break;case"jqx-kanban-item-keyword":a.attribute="keyword";break;case"jqx-kanban-item-template-content":a.attribute="template"}t._raiseEvent("9",a)})},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0),t._removeEventHandlers(),t.host.remove()},_removeEventHandlers:function(){var t=this;t.removeHandler(e(window),"resize.kanban"+t.element.id),t.removeHandler(e(t._kanbanColumns),"start"),t.removeHandler(e(t._kanbanColumns),"stop"),t.removeHandler(e(t._kanbanColumns),"sort"),t.removeHandler(e(t.host),"_itemReceived"),t.removeHandler(e("#"+t._kanbanId+" .jqx-kanban-item"),"click"),t.removeHandler(e("#"+t._kanbanId+" .jqx-kanban-column"),"click"),t.removeHandler(e(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){var e=this;e._removeEventHandlers(),e._addEventHandlers()},_raiseEvent:function(t,i){that=this;var r=e.Event(that._events[t]);return r.args=i,that.host.trigger(r)},_getEvent:function(e){return that=this,that._isTouchDevice?that._touchEvents[e]:e}})}(jqxBaseFramework),function($){$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var e={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(e){return e},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(e){return e},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};$.extend(!0,this,e)},createInstance:function(){var e=this;e._createBarGauge()},_createBarGauge:function(){var e=this;e._getLiquidDimensions(),e._addIEPolyfills(),e._barGaugeTooltip.css({display:"none"}),$(e.host).empty(),e._attachCustomColors(),e.geometry.startAngle=e.startAngle,e.geometry.endAngle=e.endAngle,e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._validateAnimationDuration(),e._transformValuesToAngles(),e._getColorScheme(),0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge(),e._raiseEvent("4"),e._createTooltip(),e._addCSS(),e._ie&&(e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._drawBarGaugeTitle()),e._addEventHandlers()},_initRenderer:function(e){if(!$.jqx.createRenderer)throw"jqxBarGauge: Please include a reference to jqxdraw.js";return $.jqx.createRenderer(this,e)},_validateValues:function(){var e,t,i=this;0===i._userValues.length&&(i._userValues=i.values.slice()),0===i._oldValues.length&&(i._oldValues=i.values.slice()),i._valuesLength=i.values.length;for(var r=0;r<i._valuesLength;r++)i.values[r]=parseFloat(i.values[r]),i.values[r]<i.startValue||isNaN(i.values[r])?i.values[r]=i.startValue:i.values[r]>i.max&&(i.values[r]=i.max),i._drawnValues[r]=!1,i._drawnSlices[r]=!1;i.baseValue<=i.startValue||null===i.baseValue?i.baseValue=i.min:i.baseValue>i.max&&(i.baseValue=i.max),i.relativeInnerRadius>=1?i.relativeInnerRadius=.99:i.relativeInnerRadius<0&&(i.relativeInnerRadius=0),i._calculateBarGaugeRadius(),e=i._valuesLength||1,t=i._barGaugeRadius*(1-i.relativeInnerRadius)/e-.01,i.barSpacing>t&&(i.barSpacing=t),i._backgroundColor=i._validateColor(i.backgroundColor,i._backgroundColor)},_attachCustomColors:function(){var e=this,t=e._colorSchemes.length,i=!1;if(null!==e.customColorScheme&&null!==e.customColorScheme.colors&&null!==e.customColorScheme.name){for(var r=0;t>r;r++)e.customColorScheme.name===e._colorSchemes[r].name&&(e._colorSchemes[r].colors=e.customColorScheme.colors.slice(),i=!0);i||e._colorSchemes.push(e.customColorScheme)}},_getLiquidDimensions:function(){var e=this;jQuery.isEmptyObject(e._dimensions)&&(e._dimensions.width=e.width,e._dimensions.height=e.height),"string"==typeof e._dimensions.width&&-1!==e._dimensions.width.indexOf("%")&&(e.width=parseInt(e._dimensions.width,10)/100*$("#"+e.element.id).parent().width()),"string"==typeof e._dimensions.height&&-1!==e._dimensions.height.indexOf("%")&&(e.height=parseInt(e._dimensions.height,10)/100*$("#"+e.element.id).parent().height())},_getLongestValue:function(){for(var e=this,t=e.values.length,i="",r=0,s=0;t>s;s++)e.values[s].toString().length>r&&(i=e.values[s],r=i.toString().length);return i=e._calculatePrecision(e._label.precision,i),void 0!==e._label.formatFunction&&null!==e._label.formatFunction&&"function"==typeof e._label.formatFunction&&(i=e._label.formatFunction(i)),i=i.toUpperCase()},_validateGeometry:function(){var e=this,t=parseFloat(e.geometry.startAngle),i=parseFloat(e.geometry.endAngle);Math.abs(t)>=360&&(t%=360),0>t&&(t=360+t),Math.abs(i)>=360&&(i%=360),0>i&&(i=360+i),e.geometry.startAngle=t,e.geometry.endAngle=i},_validateColor:function(e,t){var i,r=this;return i=void 0===e||null===e?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?e:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)?"#"+e:"undefined"!=typeof r._colorNames[e.toLowerCase()]?r._colorNames[e.toLowerCase()]:"transparent"},_validateTooltip:function(){var e=this;void 0===e.tooltip||null===e.tooltip||"object"!=typeof e.tooltip?e._tooltip=e._tooltipTemplate:(e._tooltip.visible=e.tooltip.visible===!1?!1:e.tooltip.visible||e._tooltipTemplate.visible,e._tooltip.classname=e.tooltip.classname||e._tooltipTemplate.classname,"function"==typeof e.tooltip.formatFunction?e._tooltip.formatFunction=e.tooltip.formatFunction:e._tooltip.formatFunction=e._tooltipTemplate.formatFunction,null===e.tooltip.precision||void 0===e.tooltip.precision?e._tooltip.precision=e._tooltipTemplate.precision:parseInt(e.tooltip.precision,10)<=0?e._tooltip.precision=0:e._tooltip.precision=parseInt(e.tooltip.precision,10))},_validateTitle:function(){var e=this;if(e._title=e._titleTemplate,e._measuredTextId=e.element.id+"measuredText","string"==typeof e.title?e._title.text=e.title:"number"==typeof e.title?e._title.text=String(e.title):"object"==typeof e.title&&void 0!==e.title&&null!==e.title&&(e._title.text=e.title.text||e._titleTemplate.text,e._title.horizontalAlignment=e.title.horizontalAlignment||e._titleTemplate.horizontalAlignment,e._title.verticalAlignment=e.title.verticalAlignment||e._titleTemplate.verticalAlignment),void 0===e.title||null===e.title||void 0===e.title.font||null===e.title.font?e._title.font=e._titleTemplate.font:(e._title.font.family=e.title.font.family||e._titleTemplate.font.family,e._title.font.opacity=e.title.font.opacity||e._titleTemplate.font.opacity,e._title.font.size=e.title.font.size||e._titleTemplate.font.size,e._title.font.weight=e.title.font.weight||e._titleTemplate.font.weight,(e._ie7||e._ie8)&&e._title.font.weight>100&&(e._title.font.weight="bold"),e._title.font.color=e._validateColor(e.title.font.color,e._titleTemplate.font.color)),void 0===e.title||null===e.title||void 0===e.title.margin||null===e.title.margin)e._title.margin=e._titleTemplate.margin;else if("object"!=typeof e.title.margin){var t=parseInt(e.title.margin,10);e._title.margin.top=t,e._title.margin.right=t,e._title.margin.bottom=t,e._title.margin.left=t}else e._title.margin.top=0===e.title.margin.top?0:e.title.margin.top||e._titleTemplate.margin.top,e._title.margin.right=0===e.title.margin.right?0:e.title.margin.right||e._titleTemplate.margin.right,e._title.margin.bottom=0===e.title.margin.bottom?0:e.title.margin.bottom||e._titleTemplate.margin.bottom,e._title.margin.left=0===e.title.margin.left?0:e.title.margin.left||e._titleTemplate.margin.left;void 0===e.title||null===e.title||void 0===e.title.subtitle||null===e.title.subtitle?(e._title.subtitle.text=e._titleTemplate.subtitle.text,e._title.subtitle.font=e._titleTemplate.subtitle.font):"object"!=typeof e.title.subtitle?(e._title.subtitle.text=String(e.title.subtitle),e._title.subtitle.font=e._titleTemplate.subtitle.font):"undefined"==typeof e.title.subtitle.font||null===e.title.subtitle.font?(e._title.subtitle.text=String(e.title.subtitle.text),e._title.subtitle.font=e._titleTemplate.subtitle.font):(e._title.subtitle.text=String(e.title.subtitle.text),e._title.subtitle.font.color=e.title.subtitle.font.color||e._titleTemplate.subtitle.font.color,e._title.subtitle.font.family=e.title.subtitle.font.family||e._titleTemplate.subtitle.font.family,e._title.subtitle.font.opacity=e.title.subtitle.font.opacity||e._titleTemplate.subtitle.font.opacity,e._title.subtitle.font.size=e.title.subtitle.font.size||e._titleTemplate.subtitle.font.size,e._title.subtitle.font.weight=e.title.subtitle.font.weight||e._titleTemplate.subtitle.font.weight,(e._ie7||e._ie8)&&e._title.subtitle.font.weight>100&&(e._title.subtitle.font.weight="bold"));var i;""===e._title.text?i=0:""===e._title.subtitle.text||void 0===e._title.subtitle.text||null===e._title.subtitle.text?(e._titleLines=null!==e._title.text.match(/<br>/g)?e._title.text.match(/<br>/g).length+1:1,i=e._title.font.size*e._titleLines+e._title.margin.top+e._title.margin.bottom):(e._titleLines=null!==e._title.text.match(/<br>/g)?e._title.text.match(/<br>/g).length+1:1,e._subTitleLines=null!==e._title.subtitle.text.match(/<br>/g)?e._title.text.match(/<br>/g).length+1:1,i=e._title.font.size*e._titleLines+e._title.subtitle.font.size*e._subTitleLines+e._title.margin.top+e._title.margin.bottom),void 0===e.title||null===e.title||null===e.title.placeholderSize||void 0===e.title.placeholderSize?e._title.placeholderSize=i||.05*e.height:e._title.placeholderSize=e.title.placeholderSize},_validateLabel:function(){var e=this;null===e.labels||void 0===e.labels||"object"!=typeof e.labels?e._label=e._labelTemplate:(e._label.connectorColor=e._validateColor(e.labels.connectorColor,e._labelTemplate.connectorColor),e._label.connectorWidth=e.labels.connectorWidth||e._labelTemplate.connectorWidth,e._label.formatFunction=e.labels.formatFunction||e._labelTemplate.formatFunction,void 0===e.labels.precision||null===e.labels.precision||"number"!=typeof e.labels.precision?e._label.precision=e._labelTemplate.precision:e._label.precision=e.labels.precision,e._label.precision>15?e._label.precision=15:e._label.precision<0&&(e._label.precision=0),void 0===e.labels.visible||null===e.labels.visible?e._label.visible=e._labelTemplate.visible:e.labels.visible===!1?e._label.visible=!1:e._label.visible=!0,"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:e._label.indent=e.labels.indent,null===e.labels.font||void 0===e.labels.font||"object"!=typeof e.labels.font?e._label.font=e._labelTemplate.font:(e._label.font={},e._label.font.color=e._validateColor(e.labels.font.color,e._labelTemplate.font.color),e._label.font.family=e.labels.font.family||e._labelTemplate.font.family,e._label.font.size=e.labels.font.size||e._labelTemplate.font.size,e._label.font.weight=e.labels.font.weight||e._labelTemplate.font.weight,(e._ie7||e._ie8)&&e._label.font.weight>100&&(e._label.font.weight="bold")))},_validateAnimationDuration:function(){var e=this,t=parseInt(e.animationDuration,10),i=t>0?t:0;e._oldIEbrowser?e.animationDuration=0:e.animationDuration=i},_transformValuesToAngles:function(){var e,t,i,r,s=this;s._placeholderSize=s._title.placeholderSize||s._placeholderSize,s.geometry.endAngle<s.geometry.startAngle?(s._geometry.startAngle=parseFloat(s.geometry.endAngle)%360,s._geometry.endAngle=parseFloat(s.geometry.startAngle)%360):(s._geometry.startAngle=parseFloat(s.geometry.endAngle)%360-360,s._geometry.endAngle=parseFloat(s.geometry.startAngle)%360),e=s._geometry.endAngle-s._geometry.startAngle,e>360&&(s._geometry.startAngle=s._geometry.startAngle+(e-360)),void 0!==s.baseValue&&null!==s.baseValue&&s.baseValue>=s.min&&s.baseValue<=s.max&&(s._geometry.baseAngle=(s.baseValue-s.min)*(s._geometry.endAngle-s._geometry.startAngle)/(s.max-s.min)+s._geometry.startAngle,s._geometry.fix=s.geometry.startAngle+s.geometry.endAngle-180),t=s._getLongestValue(),i=s._measureText(t,s._label.font.size,s._label.font.family,s._label.font.weight),r=s._barGaugeRadius-1.2*s._label.indent-1.2*i.height,r+i.width+1.2*s._label.indent>s.width/2&&(r=s._barGaugeRadius-1.2*s._label.indent-i.width),s._label.visible===!1&&(r=s._barGaugeRadius),r=.98*r,0>r&&(r=0),s._barGaugeFigureRadius=r,s._barWidth=r*(1-s.relativeInnerRadius)/s._valuesLength-s.barSpacing,s._barStartAt=r*s.relativeInnerRadius,s._labelPositioningRadius=s._barStartAt+s._valuesLength*(s._barWidth+s.barSpacing)-s.barSpacing+s._label.indent;for(var o=0;o<s._valuesLength;o++)s._valuesToDegrees[o]=(s.values[o]-s.min)/(s.max-s.min)*(s._geometry.endAngle-s._geometry.startAngle)+s._geometry.startAngle;$(s.host).width(s.width),$(s.host).height(s.height),s._initialized||(s._initRenderer(s.host),s._initialized=!0)},_measureRadius:function(){var e=this,t=e._getLongestValue(),i=e._measureText(t,e._label.font.size,e._label.font.family,e._label.font.weight),r=e._barGaugeRadius-1.2*e._label.indent-1.2*i.height;r+i.width+1.2*e._label.indent>e.width/2&&(r=e._barGaugeRadius-1.2*e._label.indent-i.width),e._label.visible===!1&&(r=e._barGaugeRadius),r=.98*r,0>r&&(r=0),e._barWidth=r*(1-e.relativeInnerRadius)/e._valuesLength-e.barSpacing,e._barStartAt=r*e.relativeInnerRadius,e._labelPositioningRadius=e._barStartAt+e._valuesLength*(e._barWidth+e.barSpacing)-e.barSpacing+e._label.indent},_drawEmptyBarGauge:function(){var e,t,i=this,r=i._barStartAt,s=r+i._barWidth;e=""===i._title.text?i._barGaugeRadius:i._barGaugeFigureRadius,r=i.relativeInnerRadius*e,s=e,i._barGaugeBackgroundSlices[0]=i.renderer.pieslice(i._centerX,i._centerY,r,s,i._geometry.startAngle,i._geometry.endAngle,0,{fill:i._backgroundColor,stroke:i._backgroundColor,"stroke-width":i._barGaugeSlicesStrokeWidth}),t=i.element.id+"BackgroundSlice0",i.renderer.attr(i._barGaugeBackgroundSlices[0],{id:t}),i.renderer.attr(i._barGaugeBackgroundSlices[0],{"class":"jqx-bar-gauge-background-slice"}),i._rendered(),i._oldValuesLength=0,i._oldValues.length=0},_drawBarGaugeLayout:function(){var e,t=this,i=t._barStartAt,r=i+t._barWidth;if(t._barGaugeSlicesStrokeWidth=0,t._centerX=t.width/2,""===t._title.text?t._centerY=t.height/2:"top"===t._title.verticalAlignment?t._centerY=(t.height+t._title.placeholderSize)/2:t._centerY=(t.height-t._title.placeholderSize)/2,t._valuesLength>0)for(var s=0;s<t._valuesLength;s++)t._barGaugeBackgroundSlices[s]=t.renderer.pieslice(t._centerX,t._centerY,i,r,t._geometry.startAngle,t._geometry.endAngle,0,{fill:t._backgroundColor,stroke:t._backgroundColor,"stroke-width":t._barGaugeSlicesStrokeWidth}),e=t.element.id+"BackgroundSlice"+s,t.renderer.attr(t._barGaugeBackgroundSlices[s],{id:e}),t.renderer.attr(t._barGaugeBackgroundSlices[s],{"class":"jqx-bar-gauge-background-slice"}),i=r+t.barSpacing,r=i+t._barWidth;else t._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){var e,t,i,r=this,s=180-r._geometry.baseAngle+r._geometry.fix;r._renderedValues=0,t=r._barStartAt,i=t+r._barWidth;for(var o=[],n=0;n<r._valuesLength;n++){o[n]=r.baseValue;var a=r._colors[n];if(r.formatFunction&&(a=r.formatFunction(r.values[n],n,a)),r._ie7||r._ie8){var l=r._valuesToDegrees[n];s=180-l+r._geometry.fix,r._valuesToDegrees[n]>r._geometry.baseAngle?r._barGaugeSlices[n]=r.renderer.pieslice(r._centerX,r._centerY,t,i,180-r._geometry.baseAngle+r._geometry.fix,s,0,{fill:a,stroke:a,"stroke-width":r._barGaugeSlicesStrokeWidth}):r._barGaugeSlices[n]=r.renderer.pieslice(r._centerX,r._centerY,t,i,s,180-r._geometry.baseAngle+r._geometry.fix,0,{fill:a,stroke:a,"stroke-width":r._barGaugeSlicesStrokeWidth}),e=r.element.id+"Slice"+n,r.renderer.attr(r._barGaugeSlices[n],{id:e}),r.renderer.attr(r._barGaugeSlices[n],{"class":"jqx-bar-gauge-slice"}),r._drawnSlices[n]=!0,r._label.visible===!0&&(r._drawLabelsLine(t,s,n),r._drawLabelsText(s,n)),r._rendered()}else{if(r.useGradient){var d=[[0,1.4],[100,1]];a=r.renderer._toLinearGradient(a,!0,d)}r._barGaugeSlices[n]=r.renderer.pieslice(r._centerX,r._centerY,t,i,s+.01,s,0,{fill:a,stroke:a,"stroke-width":r._barGaugeSlicesStrokeWidth}),e=r.element.id+"Slice"+n,r.renderer.attr(r._barGaugeSlices[n],{id:e}),r.renderer.attr(r._barGaugeSlices[n],{"class":"jqx-bar-gauge-slice"}),r._drawnSlices[n]=!0}r.renderer.attr(r._barGaugeSlices[n],{id:r.element.id+"Slice"+n}),r.renderer.attr(r._barGaugeSlices[n],{"class":"jqx-bar-gauge-slice"}),t=i+r.barSpacing,i=t+r._barWidth}r._oldValues=o,r._temporaryValues=o.slice(0),r._oldValuesToDegrees.length=0;for(var n=0;n<r.values.length;n++)r._oldValuesToDegrees[n]=r._geometry.baseAngle,r._temporaryValuesToDegrees[n]=r._geometry.baseAngle;r._rendering=!0,r._redrawWithNewValuesArray(r.values,r._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){function calculateNewPieSlicePath(){newPieSlicePath=-1===amount?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle),0===angleDiff&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){var e,t,i,r,s,o=this;e=o._barStartAt,t=e+o._barWidth;for(var n=0;n<o._valuesLength;n++){r=o._valuesToDegrees[n]||o._geometry.baseAngle,o._oldValues[n]=o.values[n]||o.baseValue,i=180-r+o._geometry.fix;var a=o._colors[n];if(o.useGradient){var l=[[0,1.4],[100,1]];a=o.renderer._toLinearGradient(a,!0,l)}o._valuesToDegrees[n]<o._geometry.baseAngle?o._barGaugeSlices[n]=o.renderer.pieslice(o._centerX,o._centerY,e,t,180-o._geometry.baseAngle+o._geometry.fix,i,0,{fill:a,stroke:a,"stroke-width":o._barGaugeSlicesStrokeWidth}):o._barGaugeSlices[n]=o.renderer.pieslice(o._centerX,o._centerY,e,t,i,180-o._geometry.baseAngle+o._geometry.fix,0,{fill:a,stroke:a,"stroke-width":o._barGaugeSlicesStrokeWidth}),s=o.element.id+"Slice"+n,o.renderer.attr(o._barGaugeSlices[n],{id:s}),o.renderer.attr(o._barGaugeSlices[n],{"class":"jqx-bar-gauge-slice"}),o._drawnSlices[n]=!0,e=t+o.barSpacing,t=e+o._barWidth}o._removeLabels(),o._addLabels()},_addLabels:function(e,t,i){var r,s,o,n=this,a=n._barStartAt,l=a+n._barWidth;for(e||(e=n._valuesToDegrees),o=0;o<n._valuesLength;o++)s=o,void 0==i||o===i?(r=180-e[s]+n._geometry.fix,n._label.visible===!0&&n.disabled===!1&&(n._drawLabelsLine(a,r,s),t&&void 0!==t[s]?n._drawLabelsText(r,s,t[s]):n._drawLabelsText(r,s)),
a=l+n.barSpacing,l=a+n._barWidth):(a=l+n.barSpacing,l=a+n._barWidth)},_removeLabels:function(e){for(var t=this,i=0;i<t._barGaugeLabelText.length;i++)void 0!=e&&i!=e||($(t._barGaugeLabelLines[i]).remove(),$(t._barGaugeLabelText[i]).remove(),t._barGaugeLabelLines[i]=null,t._barGaugeLabelText[i]=null)},_removeBarGaugeSlices:function(){var e=this;e._removeBarGaugeBackgroundSlices(),e._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var e=this,t=Math.max(e._valuesLength,e._oldValuesLength),i=0;t>i;i++)e._oldIEbrowser&&$(e._barGaugeBackgroundSlices[i]).remove(),e._barGaugeBackgroundSlices[i]=null,e._drawnSlices[i]=!1;$("#"+e.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var e=this,t=Math.max(e._valuesLength,e._oldValuesLength),i=0;t>i;i++)e._drawnSlices[i]===!0&&(e._oldIEbrowser&&$(e._barGaugeSlices[i]).remove(),e._barGaugeSlices[i]=null,e._drawnSlices[i]=!1);$("#"+e.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){var e=this;e._oldIEbrowser&&e._barGaugeTitle&&$(e._barGaugeTitle).remove(),$("#"+e.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){var e=this;e._oldIEbrowser&&e._barGaugeSubTitle&&$(e._barGaugeSubTitle).remove(),$("#"+e.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var e,t,i,r,s=this;180-s._geometry.baseAngle+s._geometry.fix;e=s._barStartAt,t=e+s._barWidth,s._rendering=!0,s._renderedValues=0,s._renderingValues=0;var o=!1;if(!s.disabled)for(e=s._barStartAt,t=e+s._barWidth,r=0;r<s._valuesLength;r++)s.values[r]>=s.baseValue?s.values[r]>s._oldValues[r]?(i="(oldAngle < newAngle)",s._renderElement(e,t,1,i,r,!0),o=!0):s.values[r]<s._oldValues[r]&&(i="(oldAngle > newAngle)",s._renderElement(e,t,-1,i,r,!1),o=!0):s.values[r]>s._oldValues[r]?(i="(oldAngle < newAngle)",s._renderElement(e,t,1,i,r,!0),o=!0):s.values[r]<s._oldValues[r]&&(i="(oldAngle > newAngle)",s._renderElement(e,t,-1,i,r,!1),o=!0),e=t+s.barSpacing,t=e+s._barWidth;o||s._rendered()},clearIntervals:function(){for(var e=this,t=e._intervalArray.length,i=0;t>i;i++)clearInterval(e._intervalArray[i]);e._intervalArray.length=0},_renderElement:function(e,t,i,r,s,o){function n(){var r=h,s=180-l._geometry.baseAngle+l._geometry.fix;1===i?o&&(d=l._geometry.baseAngle<f?$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,r,s,0):$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,s,r,0)):o||(d=l._geometry.baseAngle<f?$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,r,s,0):$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,s,r,0))}function a(i,r){d=r>=i?$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,i-1e-4,r,0):$.jqx.commonRenderer.pieSlicePath(l._centerX,l._centerY,e,t,r,i,0)}var l=this;l._renderingValues++;var d,h,c=l._oldValues[s],u=l.values[s],p=l._valuesToDegrees[s],f=l._oldValuesToDegrees[s],m=l._barGaugeSlices[s],g=l._calculateAnimationInterval(s,!0),v=Math.abs(p-f),x=Math.abs(i/g.smoothCoef/v),w=x*Math.abs(u-c),b=g.interval/g.smoothCoef;isNaN(l._temporaryValues[s])&&(l._temporaryValues[s]=c),isNaN(l._temporaryValuesToDegrees[s])&&(l._temporaryValuesToDegrees[s]=(180-f+l._geometry.fix)%360),isNaN(l._temporaryOldAngle[s])&&(l._temporaryOldAngle[s]=f);var y=function(){var e=(l.values[s],l._valuesToDegrees[s]);h=180-f+l._geometry.fix,n();var t=!1;o&&e>f&&(t=!0),!o&&f>e&&(t=!0);var r=function(){l._removeLabels(s);for(var e=[],t=0;t<l._valuesToDegrees.length;t++)void 0!=l._temporaryOldAngle[t]?e[t]=l._temporaryOldAngle[t]:e[t]=l._valuesToDegrees[t];l._addLabels(e,l._temporaryValues,s)};if(t&&l.disabled===!1&&0!=l.animationDuration){if(r(),l.renderer.attr(m,{d:d}),l.formatFunction){var c=l._colors[s];c=l.formatFunction(l.values[s],s,c),l.renderer.attr(m,{fill:c,stroke:c})}return f+=i/g.smoothCoef,l._temporaryOldAngle[s]=f,l._temporaryValuesToDegrees[s]=(180-f+l._geometry.fix)%360,l._temporaryValues[s]=l._temporaryValues[s]+i*w,!1}if(f=e,h=180-e+l._geometry.fix,l._temporaryOldAngle[s]=e,l._temporaryValuesToDegrees[s]=e%360,l._temporaryValues[s]=l.values[s],r(),a(h,180-l._geometry.baseAngle+l._geometry.fix),l.renderer.attr(m,{d:d}),l.formatFunction){var c=l._colors[s];c=l.formatFunction(l.values[s],s,c),l.renderer.attr(m,{fill:c,stroke:c})}return clearInterval(l._intervalArray[s]),l._renderedValues++,l._renderedValues===l._renderingValues&&l._rendered(),!0};if(0==l.animationDuration)y();else{var _=function(){clearInterval(l._intervalArray[s]);var e=y();if(l._rendering&&!e){var t=l._oldValues[s],r=l.values[s],o=l._valuesToDegrees[s],n=l._oldValuesToDegrees[s],a=(l._barGaugeSlices[s],l._calculateAnimationInterval(s,!0)),d=Math.abs(o-n),h=Math.abs(i/a.smoothCoef/d),c=(h*Math.abs(r-t),a.interval/a.smoothCoef);l._intervalArray[s]=setInterval(_,c)}};l._intervalArray[s]||(l._intervalArray[s]=setInterval(_,b))}},_calculateAnimationInterval:function(e,t){var i=this,r={},s=i.animationDuration,o=s/1e3,n=0;return t?i._oldValues[e]-i.values[e]!==0&&(n=1e3/Math.abs((i._oldValues[e]-i.values[e])/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle))):i.baseValue-i.values[e]!==0&&(n=1e3/Math.abs((i.baseValue-i.values[e])/(i.max-i.min)*(i._geometry.endAngle-i._geometry.startAngle))),r.smoothCoef=o||1,r.interval=n*o,r},_calculateLabelOffset:function(e,t,i){var r,s,o={};return s=e>=270?-(270-e)/180:90>=e?(90+e)/180:(270-e)/180,r=180>=e?e/180:(360-e)/180,o.y=s*t,o.x=r*i,o},_drawCoordinatePlane:function(){var e,t,i=this;"top"===i._title.verticalAlignment?(e=i._title.placeholderSize,t=i.height):(e=0,t=i.height-i._title.placeholderSize),null!==i._coordinatePlane&&$("#"+i.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),i._coordinatePlane={},i._coordinatePlane.x=i.renderer.line(0,i._centerY,i.width,i._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),i._coordinatePlane.y=i.renderer.line(i._centerX,e,i._centerX,t,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),i.renderer.attr(i._coordinatePlane.x,{"class":"jqx-bar-gauge-coordinate-plane"}),i.renderer.attr(i._coordinatePlane.y,{"class":"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){var e,t,i=this,r=i._colorSchemes.length,s=i.values.length||1,o=Math.floor(s/i._colorSchemes[0].colors.length),n=0;for(t=0;r>t;t++)i.colorScheme===i._colorSchemes[t].name&&(n=t);if(i._colors=i._colorSchemes[n].colors,o>0)for(t=0;o>t;t++)e=(n+t+1)%r,i._colors=i._colors.concat(i._colorSchemes[e].colors)},_drawLabelsLine:function(e,t,i){var r,s,o,n,a,l,d,h,c=this;0>t?t=360+t:t>360&&(t%=360),a=(360-t)*Math.PI/180,l=e+c._barWidth+(c._valuesLength-i-1)*(c._barWidth+c.barSpacing)+c._label.indent,r=c._centerX+e*Math.cos(a),s=c._centerY+e*Math.sin(a),o=c._centerX+l*Math.cos(a),n=c._centerY+l*Math.sin(a),d=c._label.connectorColor||c._colors[i],c.formatFunction&&(d=c.formatFunction(c.values[i],i,d)),(c._ie7||c._ie8)&&(r=parseInt(r,10),s=parseInt(s,10),o=parseInt(o,10),n=parseInt(n,10)),c._label.visible===!0&&c.disabled===!1&&(c._barGaugeLabelLines[i]=c.renderer.line(r,s,o,n,{fill:d,stroke:d,"stroke-width":c._label.connectorWidth})),h=c.element.id+"LabelLine"+i,c.renderer.attr(c._barGaugeLabelLines[i],{id:h}),c.renderer.attr(c._barGaugeLabelLines[i],{"class":"jqx-bar-gauge-label-line"})},_drawLabelsText:function(e,t,i){var r,s,o,n,a,l,d=this,h=d._label.font.color||d._colors[t];d.formatFunction&&(h=d.formatFunction(d.values[t],t,h));var c=d._calculatePrecision(d._label.precision,d.values[t]);void 0!==i&&(c=new Number(i).toFixed(d._label.precision),c=d._calculatePrecision(d._label.precision,c)),void 0!==d._label.formatFunction&&null!==d._label.formatFunction&&"function"==typeof d._label.formatFunction&&(c=d._label.formatFunction(c,t)),d._cachedMeasurements||(d._cachedMeasurements=[]),d._cachedMeasurements[c.length]?r=d._cachedMeasurements[c.length]:(r=d._measureText(c,d._label.font.size,d._label.font.family,d._label.font.weight),d._cachedMeasurements[c.length]=r),0>e?e=360+e:e>360&&(e%=360),s=(360-e)*Math.PI/180,o=d._centerX+(d._labelPositioningRadius+.3*r.height)*Math.cos(s),n=d._centerY+(d._labelPositioningRadius+.3*r.height)*Math.sin(s),a=d._calculateLabelOffset(e,r.height,r.width),d._label.visible===!0&&d.disabled===!1&&(d._barGaugeLabelText[t]=d.renderer.text(c,o-a.x,n-a.y,void 0,void 0,0,{"class":"jqx-bargauge-label",fill:h,"font-size":d._label.font.size+"px","font-family":d._label.font.family,"font-weight":d._label.font.weight},!1,"left","top","lefttop")),l=d.element.id+"Label"+t,d.renderer.attr(d._barGaugeLabelText[t],{id:l}),d.renderer.attr(d._barGaugeLabelText[t],{"class":"jqx-bar-gauge-label-text"}),(d._ie7||d._ie8)&&$("#"+l+" .jqx-bargauge-label").css({color:h,"white-space":"nowrap","font-size":d._label.font.size+"px","font-family":d._label.font.family,"font-weight":d._label.font.weight})},_calculatePrecision:function(e,t){var i;return i=e+Math.abs(t).toString().split(".")[0].length,i=i>15?15:i,t=parseFloat(t).toPrecision(i)},_createTooltip:function(){var e=this,t=e.element.id+"tooltip";e._barGaugeTooltip.attr("id",t),$(e._barGaugeTooltip).addClass(e.toThemeProperty("jqx-bar-gauge-tooltip")),e._tooltip.classname.length>0&&$(e._barGaugeTooltip).addClass(e.toThemeProperty(e._tooltip.classname)),$(document.body).append(e._barGaugeTooltip),e._tooltip.visible===!0&&e.disabled===!1&&e._valuesLength>0&&e._addTooltipHandlers()},_refreshTooltipHandlers:function(){var e=this;e._tooltip.visible===!0&&e.disabled===!1&&(e._removeTooltipHandlers(),e._addTooltipHandlers())},_addTooltipHandlers:function(){var e,t,i=this;i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){i._tooltip.visible===!0&&i._valuesLength>0&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t),i._raiseEvent("2",{layer:e}))}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){i._barGaugeTooltip.css({display:"none"}),i._raiseEvent("3",{layer:e})}),i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){i._barGaugeTooltip.css({display:"none"})}),$("#"+i.element.id+" .jqx-bar-gauge-slice").length>0&&i.addHandler($("#"+i.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){i._tooltip.visible===!0&&i._valuesLength>0&&(e=i.renderer.getAttr(this,"id").substr(i.element.id.length+5),t=i._calculatePrecision(i._tooltip.precision,i.values[e]),i._barGaugeTooltip.css({display:"block",color:i._colors[e],"border-color":i._colors[e]}),void 0!==i._tooltip.formatFunction&&null!==i._tooltip.formatFunction&&"function"==typeof i._tooltip.formatFunction&&(t=i._tooltip.formatFunction(t,parseInt(e))),i._barGaugeTooltip.html(t))}),i.addHandler($(i.host),"mousemove",function(e){i._barGaugeTooltip.css({top:e.pageY-10+"px",left:e.pageX+15+"px"})})},_removeTooltipHandlers:function(){var e=this;e._barGaugeSlices.length>0&&(e.removeHandler($(e._barGaugeSlices),"mouseenter"),e.removeHandler($(e._barGaugeSlices),"mouseleave"),e.removeHandler($(e._barGaugeSlices),"mouseup"),e.removeHandler($(e._barGaugeSlices),"mousemove"),e.removeHandler($("#"+e.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),e.removeHandler($(e.host),"mousemove")},_drawBarGaugeTitle:function(){var e=this;e._alignmentIE=e._alignmentIE||e._title.horizontalAlignment;var t,i,r,s,o,n,a,l,d,h=0,c=0;if((e._ie7||e._ie8)&&(e._title.horizontalAlignment="left"),e._titleLines>1){for(t=e._title.text.split("<br>"),d=0;d<e._titleLines;d++)for(r=e._measureText(t[d]+"_",e._title.font.size,e._title.font.family,e._title.font.weight),n=t[d];r.width>e.width;)n=n.slice(0,-1),t[d]=n+"...",r=e._measureText(t[d]+"_",e._title.font.size,e._title.font.family,e._title.font.weight);e._title.text=t.join("<br>")}else for(r=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight),n=e._title.text;r.width>e.width;)n=n.slice(0,-1),e._title.text=n+"...",r=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight);if("bottom"===e._title.verticalAlignment&&(c=e.height-e._title.placeholderSize),null!==e.title&&void 0!==e.title&&""!==e._title.text){if(e._barGaugeTitle=e.renderer.text(e._title.text,e._title.margin.left,c+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.font.color,"fill-opacity":e._title.font.opacity,"font-size":e._title.font.size,"font-family":e._title.font.family,"font-weight":e._title.font.weight},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),l=e.element.id+"Title",e.renderer.attr(e._barGaugeTitle,{id:l}),e.renderer.attr(e._barGaugeTitle,{"class":"jqx-bar-gauge-title"}),e._ie7||e._ie8){$("#"+l+" textbox").css({width:e.width+"px !important","padding-left":"10px",position:"relative"});var u=0;r.width<e.width&&("center"===e._alignmentIE?u=(e.width-r.width)/2:"right"===e._alignmentIE&&(u=e.width-r.width)),$("#"+l+" span").css({color:e._title.font.color,"margin-left":u+"px","white-space":"nowrap","text-align":"center","font-size":e._title.font.size+"px","font-family":e._title.font.family,"font-weight":e._title.font.weight}),h++}if(""!==e._title.subtitle.text&&void 0!==e._title.subtitle.text){if(e._subTitleLines>1){for(i=e._title.subtitle.text.split("<br>"),d=0;d<e._subTitleLines;d++)for(s=e._measureText(i[d]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),o=i[d];s.width>e.width;)o=o.slice(0,-1),i[d]=o+"...",s=e._measureText(i[d]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);e._title.subtitle.text=i.join("<br>")}else for(s=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),o=e._title.subtitle.text;s.width>e.width;)o=o.slice(0,-1),e._title.subtitle.text=o+"...",s=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);if(e._barGaugeSubTitle=e.renderer.text(e._title.subtitle.text,e._title.margin.left,c+e._title.font.size*e._titleLines+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.subtitle.font.color,"fill-opacity":e._title.subtitle.font.opacity,"font-size":e._title.subtitle.font.size,"font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight,"margin-top":e._title.margin.top},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),a=e.element.id+"SubTitle",e.renderer.attr(e._barGaugeSubTitle,{id:a}),e.renderer.attr(e._barGaugeSubTitle,{"class":"jqx-bar-gauge-subtitle"}),e._ie7||e._ie8){var p=0;s.width<e.width&&("center"===e._alignmentIE?p=(e.width-s.width)/2:"right"===e._alignmentIE&&(p=e.width-s.width)),$("#"+a+" textbox").css({width:e.width+"px !important",left:p+"px !important",position:"relative"}),$("#"+a+" span").css({width:"100%",color:e._title.subtitle.font.color,"margin-left":p+"px","white-space":"nowrap","text-align":"center","font-size":e._title.subtitle.font.size+"px","font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight})}}}},_measureText:function(e,t,i,r){var s=this,o={};return $("#"+s._measuredTextId).length||(s._measuredText.attr("id",s._measuredTextId),$(s.host).append(s._measuredText),s._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":t+"px","font-family":i,"font-weight":r})),s._measuredText[0].style.fontSize!=t+"px"&&(s._measuredText[0].style.fontSize=t+"px"),s._measuredText[0].style.fontFamily!=i+"px"&&(s._measuredText[0].style.fontFamily=i),s._measuredText[0].style.fontWeight!=r&&(s._measuredText[0].style.fontWeight=r+"px"),s._measuredText.text(e),o.width=s._measuredText[0].offsetWidth,o.height=s._measuredText[0].offsetHeight,o},_calculateBarGaugeRadius:function(){var e=this;e.width>e.height-e._title.placeholderSize?e._barGaugeRadius=(e.height-e._title.placeholderSize)/2:e._barGaugeRadius=e.width/2},_addCSS:function(){var e=this;$(e.host).addClass(e.toThemeProperty("jqx-widget")),$(e.host).addClass(e.toThemeProperty("jqx-bar-gauge")),$(e.host).addClass(e.toThemeProperty("jqx-widget-content")),e.disabled&&$(e.host).addClass(e.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){var e=this;e._rendering===!0&&(null!==e.rendered&&"function"==typeof e.rendered&&e.rendered(),e._rendering=!1,e.clearIntervals(),e._temporaryOldAngle.length=0,e._temporaryValuesToDegrees.length=0,e._temporaryValues.length=0,e._raiseEvent("0"),e._raiseEvent("5"))},_render:function(){var e=this;e._removeAllGraphicElements(),e.values.length>0?0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._drawStaticBarGauge())},render:function(){var e=this;e.clearIntervals(),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._getColorScheme(),e._rendering!==!0?e._render():(e._staticRefresh(),e._render())},refresh:function(e){var t=this;e!==!0&&t.render()},_removeAllGraphicElements:function(){var e=this;e._removeLabels(),e._removeBarGaugeSlices(),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){var e=this;e._rendering=!0,e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled?e._rendered():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._measureRadius(),e._drawStaticBarGaugeElementsWithBase(),e._rendered())},_drawDynamicBarGauge:function(){var e=this;e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled?e._rendered():e._drawBarGaugeElementsWithBase()},val:function(e){var t=this;return null!==e&&void 0!==e&&"object"==typeof e&&Object.keys(e).length>0?(t._raiseEvent("4","api"),e.length!=t.values.length?(t.values=e,t.render()):t._redrawWithNewValuesArray(e,t.values)):null!==e&&void 0!==e&&"object"==typeof e&&0===e.length&&(t._raiseEvent("4"),t._removeLabels(),t._removeBarGaugeSlices(),t._transformValuesToAngles(),t._drawEmptyBarGauge(),t._removeLabels(),t.values.length=0,t._refreshTooltipHandlers()),t.values},_redrawWithNewValuesArray:function(e,t){var i,r,s=this;if(s._rendering===!1)s._userValues=e.slice(),t?s._oldValues=t.slice():s._oldValues=s.values.slice(),s._oldValuesToDegrees=s._valuesToDegrees.slice(),s._oldValuesLength=s._valuesLength,Object.keys(e).length>1?s.values=e.slice():null===e[0]||void 0===e[0]?s.values=[]:(s.values=[],s.values[0]=parseFloat(e)),s._lastChange=new Date;else if(s._rendering===!0){for(s._userValues=e.slice(),s._oldValues.length=0,s._oldValuesToDegrees.length=0,r=0;r<s.values.length;r++)s._oldValues[r]=void 0!=s._temporaryValues[r]?s._temporaryValues[r]:s.values[r],s._oldValuesToDegrees[r]=void 0!=s._temporaryValuesToDegrees[r]?s._temporaryValuesToDegrees[r]:s._valuesToDegrees[r];s._oldValuesLength=s.values.length,e.length>1?s.values=e.slice():null===e[0]||void 0===e[0]?s.values=[]:(s.values=[],s.values[0]=parseFloat(e))}else if(null===e||void 0===e)s.values=[];else{if("string"!=typeof e&&"number"!=typeof e)return s.values;s.values=[],s.values[0]=parseFloat(e)}if(s._valuesLength=s.values.length,s._getColorScheme(),s._valuesLength>s._oldValuesLength)for(var o=s._oldValuesLength;o<s._valuesLength;o++)s._oldValuesToDegrees[o]=s._geometry.baseAngle,s._oldValues[o]=s.baseValue;for(r=0;r<s._valuesLength;r++)s.values[r]<s.min?s.values[r]=s.min:s.values[r]>s.max&&(s.values[r]=s.max),i=(s.values[r]-s.min)/(s.max-s.min)*(s._geometry.endAngle-s._geometry.startAngle)+s._geometry.startAngle,s._valuesToDegrees[r]=i%360;s._renderElements(),s._refreshTooltipHandlers(),s._raiseEvent("1")},_staticRefresh:function(){var e=this,t=e.animationDuration;"string"==typeof e.width&&-1!==e.width.indexOf("%")&&(e._dimensions.width=e.width),"string"==typeof e.height&&-1!==e.height.indexOf("%")&&(e._dimensions.height=e.height),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),$("#"+e.element.id+" .chartContainer").width(e.width),$("#"+e.element.id+" .chartContainer").height(e.height),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._measureRadius(),e.animationDuration=0,e._render(),e.animationDuration=t},propertyChangedHandler:function(e,t,i,r){var s,o,n=e;if(n._cachedMeasurements=[],void 0!==e.isInitialized&&null!==e.isInitialized&&e.isInitialized!==!1&&(n.ie7||!e.batchUpdate||!e.batchUpdate.width||!e.batchUpdate.height||2!==Object.keys(e.batchUpdate).length)&&(r!==i||"colorScheme"===t))switch(s=n.animationDuration,n._titleTemplate=n._title,n._labelTemplate=n._label,n._tooltipTemplate=n._tooltip,t){case"width":case"height":n._staticRefresh();break;case"values":n.values=i,n.val(r);break;case"animationDuration":break;case"disabled":n.disabled?$(n.host).addClass(n.toThemeProperty("jqx-fill-state-disabled")):$(n.host).removeClass(n.toThemeProperty("jqx-fill-state-disabled")),n._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":n.geometry.startAngle=n.startAngle,n.geometry.endAngle=n.endAngle,n.values=n._userValues.slice(),n._validateValues(),n._transformValuesToAngles(),n._render();break;case"tooltip":n._validateTooltip();break;case"rendered":break;case"backgroundColor":if(n._backgroundColor=n._validateColor(n.backgroundColor,n._backgroundColor),n._ie7||n._ie8)for(o=0;o<n._valuesLength;o++)n.renderer.attr(n._barGaugeBackgroundSlices[o],{fillcolor:n._backgroundColor,strokecolor:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});else $("#"+n.element.id+" .jqx-bar-gauge-background-slice").attr({fill:n._backgroundColor,stroke:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});break;case"customColorScheme":n._attachCustomColors();break;case"colorScheme":var a,l;for(n._getColorScheme(),o=0;o<n._valuesLength;o++){a=n._label.connectorColor||n._colors[o],l=n._label.font.color||n._colors[o];var d=n._colors[o];if(n.useGradient){var h=[[0,1.4],[100,1]];d=n.renderer._toLinearGradient(d,!0,h)}if(n.renderer.attr(n._barGaugeSlices[o],{fill:d}),n.renderer.attr(n._barGaugeLabelLines[o],{fill:a,stroke:a}),n.renderer.attr(n._barGaugeLabelText[o],{fill:l}),n._ie7||n._ie8){n.renderer.attr(n._barGaugeSlices[o],{fillcolor:n._colors[o],strokecolor:n._colors[o],"stroke-width":n._barGaugeSlicesStrokeWidth}),n.renderer.attr(n._barGaugeLabelLines[o],{fillcolor:a,strokecolor:a});var c=n.element.id+"Label"+o;$("#"+c+" .jqx-bargauge-label").css({color:l})}}break;default:n._staticRefresh()}},_compareArrays:function(e,t){var i=e.length,r=t.length;if(i!==r)return!1;for(var s=0;i>s;s++)if(e[s]!==t[s])return!1;return!0},_addIEPolyfills:function(){Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=i.length;return function(s){if("object"!=typeof s&&("function"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var o,n,a=[];for(o in s)e.call(s,o)&&a.push(o);if(t)for(n=0;r>n;n++)e.call(s,i[n])&&a.push(i[n]);return a}}())},destroy:function(){var e=this;$("#"+e._measuredTextId).remove(),e.renderer.clear(),e.renderer=null,e._removeEventHandlers(),e._removeTooltipHandlers(),e.host.children().remove(),e.host.removeData(),e.host.removeClass(),e.host.remove(),e.host=null,e.element=null,delete e.element,delete e.host},_addEventHandlers:function(){var e=this;e.addHandler($(e.host),"drawStart",function(){}),e.addHandler($(e.host),"drawEnd",function(){e._refreshTooltipHandlers()}),e.addHandler($(window),"resize.jqxBarGauge"+e.host[0].id,function(){var t=!1;e._dimensions.width&&e._dimensions.width.toString().indexOf("%")>=0&&(t=!0),e._dimensions.height&&e._dimensions.height.toString().indexOf("%")>=0&&(t=!0),t&&e._staticRefresh()})},_removeEventHandlers:function(){var e=this;e.removeHandler($(e.host),"drawStart"),e.removeHandler($(e.host),"drawEnd"),e.removeHandler($(window),"resize.jqxBarGauge"+e.host[0].id)},_refreshEventHandlers:function(){var e=this;e._removeEventHandlers(),e._addEventHandlers()},_raiseEvent:function(e,t){var i=this,r=$.Event(i._events[e]);return r.args=t,i.host.trigger(r)},_getEvent:function(e){var t=this;return t._isTouchDevice?t._touchEvents[e]:e}})}(jqxBaseFramework);